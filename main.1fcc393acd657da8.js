(self.webpackChunkvexel=self.webpackChunkvexel||[]).push([[8792],{1076:(un,nt,B)=>{"use strict";B.d(nt,{$L:()=>ei,$g:()=>En,A4:()=>Fe,Am:()=>Nn,As:()=>Vn,Bd:()=>Se,Cv:()=>tn,FA:()=>it,Fy:()=>Tn,HN:()=>ws,Hk:()=>_e,I9:()=>Dn,Im:()=>ie,K3:()=>Ye,KA:()=>Xe,Ku:()=>Un,Ll:()=>He,OE:()=>gn,T9:()=>jt,Uj:()=>et,XA:()=>wt,ZQ:()=>qt,bD:()=>Ve,c1:()=>Qt,cY:()=>ge,dI:()=>Pn,eX:()=>Be,g:()=>Ke,gR:()=>xe,gz:()=>ur,hp:()=>jn,jZ:()=>Mt,kH:()=>Qe,kj:()=>ni,lT:()=>$n,lV:()=>Xn,mS:()=>Rt,nr:()=>ri,oD:()=>Wn,od:()=>Kn,p7:()=>Le,qc:()=>bt,sr:()=>Rn,tD:()=>Ki,u:()=>Ne,vA:()=>l,yw:()=>Ft,zW:()=>mt,zw:()=>st});const i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},l=function(Ge,ze){if(!Ge)throw _e(ze)},_e=function(Ge){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Ge)},le=function(Ge){const ze=[];let ut=0;for(let zt=0;zt<Ge.length;zt++){let Nt=Ge.charCodeAt(zt);Nt<128?ze[ut++]=Nt:Nt<2048?(ze[ut++]=Nt>>6|192,ze[ut++]=63&Nt|128):55296==(64512&Nt)&&zt+1<Ge.length&&56320==(64512&Ge.charCodeAt(zt+1))?(Nt=65536+((1023&Nt)<<10)+(1023&Ge.charCodeAt(++zt)),ze[ut++]=Nt>>18|240,ze[ut++]=Nt>>12&63|128,ze[ut++]=Nt>>6&63|128,ze[ut++]=63&Nt|128):(ze[ut++]=Nt>>12|224,ze[ut++]=Nt>>6&63|128,ze[ut++]=63&Nt|128)}return ze},Ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ge,ze){if(!Array.isArray(Ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ut=ze?this.byteToCharMapWebSafe_:this.byteToCharMap_,zt=[];for(let Nt=0;Nt<Ge.length;Nt+=3){const kn=Ge[Nt],rt=Nt+1<Ge.length,Oi=rt?Ge[Nt+1]:0,gr=Nt+2<Ge.length,Ai=gr?Ge[Nt+2]:0;let Ur=(15&Oi)<<2|Ai>>6,Us=63&Ai;gr||(Us=64,rt||(Ur=64)),zt.push(ut[kn>>2],ut[(3&kn)<<4|Oi>>4],ut[Ur],ut[Us])}return zt.join("")},encodeString(Ge,ze){return this.HAS_NATIVE_SUPPORT&&!ze?btoa(Ge):this.encodeByteArray(le(Ge),ze)},decodeString(Ge,ze){return this.HAS_NATIVE_SUPPORT&&!ze?atob(Ge):function(Ge){const ze=[];let ut=0,zt=0;for(;ut<Ge.length;){const Nt=Ge[ut++];if(Nt<128)ze[zt++]=String.fromCharCode(Nt);else if(Nt>191&&Nt<224){const kn=Ge[ut++];ze[zt++]=String.fromCharCode((31&Nt)<<6|63&kn)}else if(Nt>239&&Nt<365){const gr=((7&Nt)<<18|(63&Ge[ut++])<<12|(63&Ge[ut++])<<6|63&Ge[ut++])-65536;ze[zt++]=String.fromCharCode(55296+(gr>>10)),ze[zt++]=String.fromCharCode(56320+(1023&gr))}else{const kn=Ge[ut++],rt=Ge[ut++];ze[zt++]=String.fromCharCode((15&Nt)<<12|(63&kn)<<6|63&rt)}}return ze.join("")}(this.decodeStringToByteArray(Ge,ze))},decodeStringToByteArray(Ge,ze){this.init_();const ut=ze?this.charToByteMapWebSafe_:this.charToByteMap_,zt=[];for(let Nt=0;Nt<Ge.length;){const kn=ut[Ge.charAt(Nt++)],Oi=Nt<Ge.length?ut[Ge.charAt(Nt)]:0;++Nt;const Ai=Nt<Ge.length?ut[Ge.charAt(Nt)]:64;++Nt;const qi=Nt<Ge.length?ut[Ge.charAt(Nt)]:64;if(++Nt,null==kn||null==Oi||null==Ai||null==qi)throw new Oe;zt.push(kn<<2|Oi>>4),64!==Ai&&(zt.push(Oi<<4&240|Ai>>2),64!==qi&&zt.push(Ai<<6&192|qi))}return zt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ge=0;Ge<this.ENCODED_VALS.length;Ge++)this.byteToCharMap_[Ge]=this.ENCODED_VALS.charAt(Ge),this.charToByteMap_[this.byteToCharMap_[Ge]]=Ge,this.byteToCharMapWebSafe_[Ge]=this.ENCODED_VALS_WEBSAFE.charAt(Ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ge]]=Ge,Ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ge)]=Ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ge)]=Ge)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xe=function(Ge){const ze=le(Ge);return Ye.encodeByteArray(ze,!0)},et=function(Ge){return Xe(Ge).replace(/\./g,"")},Ne=function(Ge){try{return Ye.decodeString(Ge,!0)}catch(ze){console.error("base64Decode failed: ",ze)}return null};function Fe(Ge){return st(void 0,Ge)}function st(Ge,ze){if(!(ze instanceof Object))return ze;switch(ze.constructor){case Date:return new Date(ze.getTime());case Object:void 0===Ge&&(Ge={});break;case Array:Ge=[];break;default:return ze}for(const ut in ze)!ze.hasOwnProperty(ut)||!It(ut)||(Ge[ut]=st(Ge[ut],ze[ut]));return Ge}function It(Ge){return"__proto__"!==Ge}function Rt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const je=()=>{try{return Rt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ge=process.env.__FIREBASE_DEFAULTS__;return Ge?JSON.parse(Ge):void 0})()||(()=>{if(typeof document>"u")return;let Ge;try{Ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ze=Ge&&Ne(Ge[1]);return ze&&JSON.parse(ze)})()}catch(Ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ge}`)}},jt=()=>{var Ge;return null===(Ge=je())||void 0===Ge?void 0:Ge.config},wt=Ge=>{var ze;return null===(ze=je())||void 0===ze?void 0:ze[`_${Ge}`]};class ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ze,ut)=>{this.resolve=ze,this.reject=ut})}wrapCallback(ze){return(ut,zt)=>{ut?this.reject(ut):this.resolve(zt),"function"==typeof ze&&(this.promise.catch(()=>{}),1===ze.length?ze(ut):ze(ut,zt))}}}function Tn(Ge,ze){if(Ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const zt=ze||"demo-project",Nt=Ge.iat||0,kn=Ge.sub||Ge.user_id;if(!kn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const rt=Object.assign({iss:`https://securetoken.google.com/${zt}`,aud:zt,iat:Nt,exp:Nt+3600,auth_time:Nt,sub:kn,user_id:kn,firebase:{sign_in_provider:"custom",identities:{}}},Ge);return[et(JSON.stringify({alg:"none",type:"JWT"})),et(JSON.stringify(rt)),""].join(".")}function qt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function He(){var Ge;const ze=null===(Ge=je())||void 0===Ge?void 0:Ge.forceEnvironment;if("node"===ze)return!0;if("browser"===ze)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Se(){return typeof window<"u"||Le()}function Le(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Qt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Rn(){const Ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ge&&void 0!==Ge.id}function Xn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $n(){const Ge=qt();return Ge.indexOf("MSIE ")>=0||Ge.indexOf("Trident/")>=0}function En(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function ri(){return!He()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mt(){try{return"object"==typeof indexedDB}catch{return!1}}function Be(){return new Promise((Ge,ze)=>{try{let ut=!0;const zt="validate-browser-context-for-indexeddb-analytics-module",Nt=self.indexedDB.open(zt);Nt.onsuccess=()=>{Nt.result.close(),ut||self.indexedDB.deleteDatabase(zt),Ge(!0)},Nt.onupgradeneeded=()=>{ut=!1},Nt.onerror=()=>{var kn;ze((null===(kn=Nt.error)||void 0===kn?void 0:kn.message)||"")}}catch(ut){ze(ut)}})}class Ke extends Error{constructor(ze,ut,zt){super(ut),this.code=ze,this.customData=zt,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,it.prototype.create)}}class it{constructor(ze,ut,zt){this.service=ze,this.serviceName=ut,this.errors=zt}create(ze,...ut){const zt=ut[0]||{},Nt=`${this.service}/${ze}`,kn=this.errors[ze],rt=kn?function ot(Ge,ze){return Ge.replace(On,(ut,zt)=>{const Nt=ze[zt];return null!=Nt?String(Nt):`<${zt}?>`})}(kn,zt):"Error";return new Ke(Nt,`${this.serviceName}: ${rt} (${Nt}).`,zt)}}const On=/\{\$([^}]+)}/g;function ei(Ge){return JSON.parse(Ge)}function Vn(Ge){return JSON.stringify(Ge)}const en=function(Ge){let ze={},ut={},zt={},Nt="";try{const kn=Ge.split(".");ze=ei(Ne(kn[0])||""),ut=ei(Ne(kn[1])||""),Nt=kn[2],zt=ut.d||{},delete ut.d}catch{}return{header:ze,claims:ut,data:zt,signature:Nt}},tn=function(Ge){const ut=en(Ge).claims;return!!ut&&"object"==typeof ut&&ut.hasOwnProperty("iat")},bt=function(Ge){const ze=en(Ge).claims;return"object"==typeof ze&&!0===ze.admin};function xe(Ge,ze){return Object.prototype.hasOwnProperty.call(Ge,ze)}function Ft(Ge,ze){if(Object.prototype.hasOwnProperty.call(Ge,ze))return Ge[ze]}function ie(Ge){for(const ze in Ge)if(Object.prototype.hasOwnProperty.call(Ge,ze))return!1;return!0}function Qe(Ge,ze,ut){const zt={};for(const Nt in Ge)Object.prototype.hasOwnProperty.call(Ge,Nt)&&(zt[Nt]=ze.call(ut,Ge[Nt],Nt,Ge));return zt}function Ve(Ge,ze){if(Ge===ze)return!0;const ut=Object.keys(Ge),zt=Object.keys(ze);for(const Nt of ut){if(!zt.includes(Nt))return!1;const kn=Ge[Nt],rt=ze[Nt];if(pt(kn)&&pt(rt)){if(!Ve(kn,rt))return!1}else if(kn!==rt)return!1}for(const Nt of zt)if(!ut.includes(Nt))return!1;return!0}function pt(Ge){return null!==Ge&&"object"==typeof Ge}function Nn(Ge){const ze=[];for(const[ut,zt]of Object.entries(Ge))Array.isArray(zt)?zt.forEach(Nt=>{ze.push(encodeURIComponent(ut)+"="+encodeURIComponent(Nt))}):ze.push(encodeURIComponent(ut)+"="+encodeURIComponent(zt));return ze.length?"&"+ze.join("&"):""}function Dn(Ge){const ze={};return Ge.replace(/^\?/,"").split("&").forEach(zt=>{if(zt){const[Nt,kn]=zt.split("=");ze[decodeURIComponent(Nt)]=decodeURIComponent(kn)}}),ze}function jn(Ge){const ze=Ge.indexOf("?");if(!ze)return"";const ut=Ge.indexOf("#",ze);return Ge.substring(ze,ut>0?ut:void 0)}class ur{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ze=1;ze<this.blockSize;++ze)this.pad_[ze]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ze,ut){ut||(ut=0);const zt=this.W_;if("string"==typeof ze)for(let qi=0;qi<16;qi++)zt[qi]=ze.charCodeAt(ut)<<24|ze.charCodeAt(ut+1)<<16|ze.charCodeAt(ut+2)<<8|ze.charCodeAt(ut+3),ut+=4;else for(let qi=0;qi<16;qi++)zt[qi]=ze[ut]<<24|ze[ut+1]<<16|ze[ut+2]<<8|ze[ut+3],ut+=4;for(let qi=16;qi<80;qi++){const Ur=zt[qi-3]^zt[qi-8]^zt[qi-14]^zt[qi-16];zt[qi]=4294967295&(Ur<<1|Ur>>>31)}let Ai,li,Nt=this.chain_[0],kn=this.chain_[1],rt=this.chain_[2],Oi=this.chain_[3],gr=this.chain_[4];for(let qi=0;qi<80;qi++){qi<40?qi<20?(Ai=Oi^kn&(rt^Oi),li=1518500249):(Ai=kn^rt^Oi,li=1859775393):qi<60?(Ai=kn&rt|Oi&(kn|rt),li=2400959708):(Ai=kn^rt^Oi,li=3395469782);const Ur=(Nt<<5|Nt>>>27)+Ai+gr+li+zt[qi]&4294967295;gr=Oi,Oi=rt,rt=4294967295&(kn<<30|kn>>>2),kn=Nt,Nt=Ur}this.chain_[0]=this.chain_[0]+Nt&4294967295,this.chain_[1]=this.chain_[1]+kn&4294967295,this.chain_[2]=this.chain_[2]+rt&4294967295,this.chain_[3]=this.chain_[3]+Oi&4294967295,this.chain_[4]=this.chain_[4]+gr&4294967295}update(ze,ut){if(null==ze)return;void 0===ut&&(ut=ze.length);const zt=ut-this.blockSize;let Nt=0;const kn=this.buf_;let rt=this.inbuf_;for(;Nt<ut;){if(0===rt)for(;Nt<=zt;)this.compress_(ze,Nt),Nt+=this.blockSize;if("string"==typeof ze){for(;Nt<ut;)if(kn[rt]=ze.charCodeAt(Nt),++rt,++Nt,rt===this.blockSize){this.compress_(kn),rt=0;break}}else for(;Nt<ut;)if(kn[rt]=ze[Nt],++rt,++Nt,rt===this.blockSize){this.compress_(kn),rt=0;break}}this.inbuf_=rt,this.total_+=ut}digest(){const ze=[];let ut=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Nt=this.blockSize-1;Nt>=56;Nt--)this.buf_[Nt]=255&ut,ut/=256;this.compress_(this.buf_);let zt=0;for(let Nt=0;Nt<5;Nt++)for(let kn=24;kn>=0;kn-=8)ze[zt]=this.chain_[Nt]>>kn&255,++zt;return ze}}function Ki(Ge,ze){const ut=new Fi(Ge,ze);return ut.subscribe.bind(ut)}class Fi{constructor(ze,ut){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ut,this.task.then(()=>{ze(this)}).catch(zt=>{this.error(zt)})}next(ze){this.forEachObserver(ut=>{ut.next(ze)})}error(ze){this.forEachObserver(ut=>{ut.error(ze)}),this.close(ze)}complete(){this.forEachObserver(ze=>{ze.complete()}),this.close()}subscribe(ze,ut,zt){let Nt;if(void 0===ze&&void 0===ut&&void 0===zt)throw new Error("Missing Observer.");Nt=function nr(Ge,ze){if("object"!=typeof Ge||null===Ge)return!1;for(const ut of ze)if(ut in Ge&&"function"==typeof Ge[ut])return!0;return!1}(ze,["next","error","complete"])?ze:{next:ze,error:ut,complete:zt},void 0===Nt.next&&(Nt.next=os),void 0===Nt.error&&(Nt.error=os),void 0===Nt.complete&&(Nt.complete=os);const kn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Nt.error(this.finalError):Nt.complete()}catch{}}),this.observers.push(Nt),kn}unsubscribeOne(ze){void 0===this.observers||void 0===this.observers[ze]||(delete this.observers[ze],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ze){if(!this.finalized)for(let ut=0;ut<this.observers.length;ut++)this.sendOne(ut,ze)}sendOne(ze,ut){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ze])try{ut(this.observers[ze])}catch(zt){typeof console<"u"&&console.error&&console.error(zt)}})}close(ze){this.finalized||(this.finalized=!0,void 0!==ze&&(this.finalError=ze),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function os(){}const Kn=function(Ge,ze,ut,zt){let Nt;if(zt<ze?Nt="at least "+ze:zt>ut&&(Nt=0===ut?"none":"no more than "+ut),Nt)throw new Error(Ge+" failed: Was called with "+zt+(1===zt?" argument.":" arguments.")+" Expects "+Nt+".")};function Pn(Ge,ze){return`${Ge} failed: ${ze} argument `}function Wn(Ge,ze,ut,zt){if((!zt||ut)&&"function"!=typeof ut)throw new Error(Pn(Ge,ze)+"must be a valid function.")}function ws(Ge,ze,ut,zt){if((!zt||ut)&&("object"!=typeof ut||null===ut))throw new Error(Pn(Ge,ze)+"must be a valid context object.")}const ni=function(Ge){const ze=[];let ut=0;for(let zt=0;zt<Ge.length;zt++){let Nt=Ge.charCodeAt(zt);if(Nt>=55296&&Nt<=56319){const kn=Nt-55296;zt++,l(zt<Ge.length,"Surrogate pair missing trail surrogate."),Nt=65536+(kn<<10)+(Ge.charCodeAt(zt)-56320)}Nt<128?ze[ut++]=Nt:Nt<2048?(ze[ut++]=Nt>>6|192,ze[ut++]=63&Nt|128):Nt<65536?(ze[ut++]=Nt>>12|224,ze[ut++]=Nt>>6&63|128,ze[ut++]=63&Nt|128):(ze[ut++]=Nt>>18|240,ze[ut++]=Nt>>12&63|128,ze[ut++]=Nt>>6&63|128,ze[ut++]=63&Nt|128)}return ze},gn=function(Ge){let ze=0;for(let ut=0;ut<Ge.length;ut++){const zt=Ge.charCodeAt(ut);zt<128?ze++:zt<2048?ze+=2:zt>=55296&&zt<=56319?(ze+=4,ut++):ze+=3}return ze};function Un(Ge){return Ge&&Ge._delegate?Ge._delegate:Ge}},5312:(un,nt,B)=>{"use strict";B.d(nt,{c:()=>i});const i={production:!0,firebase:{apiKey:"***************************************",authDomain:"************************",projectId:"***********************************",storageBucket:"************************",messagingSenderId:"*********************",appId:"*******************************************",measurementId:"*********************"}}},9431:(un,nt,B)=>{"use strict";var i=B(345),l=B(4438),_e=B(7787),le=B(9969);function Ye(W){return new l.wOt(3e3,!1)}function it(W){switch(W.length){case 0:return new le.sf;case 1:return W[0];default:return new le.ui(W)}}function ot(W,S,y=new Map,F=new Map){const U=[],he=[];let Me=-1,Je=null;if(S.forEach(Vt=>{const on=Vt.get("offset"),Hn=on==Me,ci=Hn&&Je||new Map;Vt.forEach((Vi,cr)=>{let _i=cr,br=Vi;if("offset"!==cr)switch(_i=W.normalizePropertyName(_i,U),br){case le.FX:br=y.get(cr);break;case le.kp:br=F.get(cr);break;default:br=W.normalizeStyleValue(cr,_i,br,U)}ci.set(_i,br)}),Hn||he.push(ci),Je=ci,Me=on}),U.length)throw function Qt(W){return new l.wOt(3502,!1)}();return he}function On(W,S,y,F){switch(S){case"start":W.onStart(()=>F(y&&ei(y,"start",W)));break;case"done":W.onDone(()=>F(y&&ei(y,"done",W)));break;case"destroy":W.onDestroy(()=>F(y&&ei(y,"destroy",W)))}}function ei(W,S,y){const he=Vn(W.element,W.triggerName,W.fromState,W.toState,S||W.phaseName,y.totalTime??W.totalTime,!!y.disabled),Me=W._data;return null!=Me&&(he._data=Me),he}function Vn(W,S,y,F,U="",he=0,Me){return{element:W,triggerName:S,fromState:y,toState:F,phaseName:U,totalTime:he,disabled:!!Me}}function en(W,S,y){let F=W.get(S);return F||W.set(S,F=y),F}function cn(W){const S=W.indexOf(":");return[W.substring(1,S),W.slice(S+1)]}const hi=typeof document>"u"?null:document.documentElement;function tn(W){const S=W.parentNode||W.host||null;return S===hi?null:S}let xe=null,Ft=!1;function pt(W,S){for(;S;){if(S===W)return!0;S=tn(S)}return!1}function bn(W,S,y){if(y)return Array.from(W.querySelectorAll(S));const F=W.querySelector(S);return F?[F]:[]}let Dn=(()=>{class W{validateStyleProperty(y){return function ie(W){xe||(xe=function Ve(){return typeof document<"u"?document.body:null}()||{},Ft=!!xe.style&&"WebkitAppearance"in xe.style);let S=!0;return xe.style&&!function bt(W){return"ebkit"==W.substring(1,6)}(W)&&(S=W in xe.style,!S&&Ft&&(S="Webkit"+W.charAt(0).toUpperCase()+W.slice(1)in xe.style)),S}(y)}matchesElement(y,F){return!1}containsElement(y,F){return pt(y,F)}getParentElement(y){return tn(y)}query(y,F,U){return bn(y,F,U)}computeStyle(y,F,U){return U||""}animate(y,F,U,he,Me,Je=[],Vt){return new le.sf(U,he)}static{this.\u0275fac=function(F){return new(F||W)}}static{this.\u0275prov=l.jDH({token:W,factory:W.\u0275fac})}}return W})();class jn{static{this.NOOP=new Dn}}class ur{}const Fi=1e3,os="ng-enter",Kn="ng-leave",Pn="ng-trigger",er=".ng-trigger",Wn="ng-animating",ws=".ng-animating";function ni(W){if("number"==typeof W)return W;const S=W.match(/^(-?[\.\d]+)(m?s)/);return!S||S.length<2?0:gn(parseFloat(S[1]),S[2])}function gn(W,S){return"s"===S?W*Fi:W}function Fr(W,S,y){return W.hasOwnProperty("duration")?W:function Es(W,S,y){let U,he=0,Me="";if("string"==typeof W){const Je=W.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Je)return S.push(Ye()),{duration:0,delay:0,easing:""};U=gn(parseFloat(Je[1]),Je[2]);const Vt=Je[3];null!=Vt&&(he=gn(parseFloat(Vt),Je[4]));const on=Je[5];on&&(Me=on)}else U=W;if(!y){let Je=!1,Vt=S.length;U<0&&(S.push(function Oe(){return new l.wOt(3100,!1)}()),Je=!0),he<0&&(S.push(function Xe(){return new l.wOt(3101,!1)}()),Je=!0),Je&&S.splice(Vt,0,Ye())}return{duration:U,delay:he,easing:Me}}(W,S,y)}function Tt(W,S,y){S.forEach((F,U)=>{const he=zt(U);y&&!y.has(U)&&y.set(U,W.style[he]),W.style[he]=F})}function $e(W,S){S.forEach((y,F)=>{const U=zt(F);W.style[U]=""})}function ht(W){return Array.isArray(W)?1==W.length?W[0]:(0,le.K2)(W):W}const Un=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ge(W){let S=[];if("string"==typeof W){let y;for(;y=Un.exec(W);)S.push(y[1]);Un.lastIndex=0}return S}function ze(W,S,y){const F=`${W}`,U=F.replace(Un,(he,Me)=>{let Je=S[Me];return null==Je&&(y.push(function Ne(W){return new l.wOt(3003,!1)}()),Je=""),Je.toString()});return U==F?W:U}const ut=/-+([a-z0-9])/g;function zt(W){return W.replace(ut,(...S)=>S[1].toUpperCase())}function Oi(W,S,y){switch(S.type){case le.If.Trigger:return W.visitTrigger(S,y);case le.If.State:return W.visitState(S,y);case le.If.Transition:return W.visitTransition(S,y);case le.If.Sequence:return W.visitSequence(S,y);case le.If.Group:return W.visitGroup(S,y);case le.If.Animate:return W.visitAnimate(S,y);case le.If.Keyframes:return W.visitKeyframes(S,y);case le.If.Style:return W.visitStyle(S,y);case le.If.Reference:return W.visitReference(S,y);case le.If.AnimateChild:return W.visitAnimateChild(S,y);case le.If.AnimateRef:return W.visitAnimateRef(S,y);case le.If.Query:return W.visitQuery(S,y);case le.If.Stagger:return W.visitStagger(S,y);default:throw function Fe(W){return new l.wOt(3004,!1)}()}}function gr(W,S){return window.getComputedStyle(W)[S]}const Ai=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class li extends ur{normalizePropertyName(S,y){return zt(S)}normalizeStyleValue(S,y,F,U){let he="";const Me=F.toString().trim();if(Ai.has(y)&&0!==F&&"0"!==F)if("number"==typeof F)he="px";else{const Je=F.match(/^[+-]?[\d\.]+([a-z]*)$/);Je&&0==Je[1].length&&U.push(function st(W,S){return new l.wOt(3005,!1)}())}return Me+he}}const No="*";const Gt=new Set(["true","1"]),St=new Set(["false","0"]);function Zt(W,S){const y=Gt.has(W)||St.has(W),F=Gt.has(S)||St.has(S);return(U,he)=>{let Me=W==No||W==U,Je=S==No||S==he;return!Me&&y&&"boolean"==typeof U&&(Me=U?Gt.has(W):St.has(W)),!Je&&F&&"boolean"==typeof he&&(Je=he?Gt.has(S):St.has(S)),Me&&Je}}const Mi=new RegExp("s*:selfs*,?","g");function gi(W,S,y,F){return new oi(W).build(S,y,F)}class oi{constructor(S){this._driver=S}build(S,y,F){const U=new Er(y);return this._resetContextStyleTimingState(U),Oi(this,ht(S),U)}_resetContextStyleTimingState(S){S.currentQuerySelector="",S.collectedStyles=new Map,S.collectedStyles.set("",new Map),S.currentTime=0}visitTrigger(S,y){let F=y.queryCount=0,U=y.depCount=0;const he=[],Me=[];return"@"==S.name.charAt(0)&&y.errors.push(function It(){return new l.wOt(3006,!1)}()),S.definitions.forEach(Je=>{if(this._resetContextStyleTimingState(y),Je.type==le.If.State){const Vt=Je,on=Vt.name;on.toString().split(/\s*,\s*/).forEach(Hn=>{Vt.name=Hn,he.push(this.visitState(Vt,y))}),Vt.name=on}else if(Je.type==le.If.Transition){const Vt=this.visitTransition(Je,y);F+=Vt.queryCount,U+=Vt.depCount,Me.push(Vt)}else y.errors.push(function Rt(){return new l.wOt(3007,!1)}())}),{type:le.If.Trigger,name:S.name,states:he,transitions:Me,queryCount:F,depCount:U,options:null}}visitState(S,y){const F=this.visitStyle(S.styles,y),U=S.options&&S.options.params||null;if(F.containsDynamicStyles){const he=new Set,Me=U||{};F.styles.forEach(Je=>{Je instanceof Map&&Je.forEach(Vt=>{Ge(Vt).forEach(on=>{Me.hasOwnProperty(on)||he.add(on)})})}),he.size&&y.errors.push(function Bt(W,S){return new l.wOt(3008,!1)}(0,he.values()))}return{type:le.If.State,name:S.name,style:F,options:U?{params:U}:null}}visitTransition(S,y){y.queryCount=0,y.depCount=0;const F=Oi(this,ht(S.animation),y),U=function Zo(W,S){const y=[];return"string"==typeof W?W.split(/\s*,\s*/).forEach(F=>function es(W,S,y){if(":"==W[0]){const Vt=function io(W,S){switch(W){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(y,F)=>parseFloat(F)>parseFloat(y);case":decrement":return(y,F)=>parseFloat(F)<parseFloat(y);default:return S.push(function Mt(W){return new l.wOt(3016,!1)}()),"* => *"}}(W,y);if("function"==typeof Vt)return void S.push(Vt);W=Vt}const F=W.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==F||F.length<4)return y.push(function qt(W){return new l.wOt(3015,!1)}()),S;const U=F[1],he=F[2],Me=F[3];S.push(Zt(U,Me)),"<"==he[0]&&(U!=No||Me!=No)&&S.push(Zt(Me,U))}(F,y,S)):y.push(W),y}(S.expr,y.errors);return{type:le.If.Transition,matchers:U,animation:F,queryCount:y.queryCount,depCount:y.depCount,options:Ks(S.options)}}visitSequence(S,y){return{type:le.If.Sequence,steps:S.steps.map(F=>Oi(this,F,y)),options:Ks(S.options)}}visitGroup(S,y){const F=y.currentTime;let U=0;const he=S.steps.map(Me=>{y.currentTime=F;const Je=Oi(this,Me,y);return U=Math.max(U,y.currentTime),Je});return y.currentTime=U,{type:le.If.Group,steps:he,options:Ks(S.options)}}visitAnimate(S,y){const F=function Cs(W,S){if(W.hasOwnProperty("duration"))return W;if("number"==typeof W)return Io(Fr(W,S).duration,0,"");const y=W;if(y.split(/\s+/).some(he=>"{"==he.charAt(0)&&"{"==he.charAt(1))){const he=Io(0,0,"");return he.dynamic=!0,he.strValue=y,he}const U=Fr(y,S);return Io(U.duration,U.delay,U.easing)}(S.timings,y.errors);y.currentAnimateTimings=F;let U,he=S.styles?S.styles:(0,le.iF)({});if(he.type==le.If.Keyframes)U=this.visitKeyframes(he,y);else{let Me=S.styles,Je=!1;if(!Me){Je=!0;const on={};F.easing&&(on.easing=F.easing),Me=(0,le.iF)(on)}y.currentTime+=F.duration+F.delay;const Vt=this.visitStyle(Me,y);Vt.isEmptyStep=Je,U=Vt}return y.currentAnimateTimings=null,{type:le.If.Animate,timings:F,style:U,options:null}}visitStyle(S,y){const F=this._makeStyleAst(S,y);return this._validateStyleAst(F,y),F}_makeStyleAst(S,y){const F=[],U=Array.isArray(S.styles)?S.styles:[S.styles];for(let Je of U)"string"==typeof Je?Je===le.kp?F.push(Je):y.errors.push(new l.wOt(3002,!1)):F.push(new Map(Object.entries(Je)));let he=!1,Me=null;return F.forEach(Je=>{if(Je instanceof Map&&(Je.has("easing")&&(Me=Je.get("easing"),Je.delete("easing")),!he))for(let Vt of Je.values())if(Vt.toString().indexOf("{{")>=0){he=!0;break}}),{type:le.If.Style,styles:F,easing:Me,offset:S.offset,containsDynamicStyles:he,options:null}}_validateStyleAst(S,y){const F=y.currentAnimateTimings;let U=y.currentTime,he=y.currentTime;F&&he>0&&(he-=F.duration+F.delay),S.styles.forEach(Me=>{"string"!=typeof Me&&Me.forEach((Je,Vt)=>{const on=y.collectedStyles.get(y.currentQuerySelector),Hn=on.get(Vt);let ci=!0;Hn&&(he!=U&&he>=Hn.startTime&&U<=Hn.endTime&&(y.errors.push(function je(W,S,y,F,U){return new l.wOt(3010,!1)}()),ci=!1),he=Hn.startTime),ci&&on.set(Vt,{startTime:he,endTime:U}),y.options&&function yn(W,S,y){const F=S.params||{},U=Ge(W);U.length&&U.forEach(he=>{F.hasOwnProperty(he)||y.push(function et(W){return new l.wOt(3001,!1)}())})}(Je,y.options,y.errors)})})}visitKeyframes(S,y){const F={type:le.If.Keyframes,styles:[],options:null};if(!y.currentAnimateTimings)return y.errors.push(function Cn(){return new l.wOt(3011,!1)}()),F;let he=0;const Me=[];let Je=!1,Vt=!1,on=0;const Hn=S.steps.map(Lo=>{const Bo=this._makeStyleAst(Lo,y);let no=null!=Bo.offset?Bo.offset:function ts(W){if("string"==typeof W)return null;let S=null;if(Array.isArray(W))W.forEach(y=>{if(y instanceof Map&&y.has("offset")){const F=y;S=parseFloat(F.get("offset")),F.delete("offset")}});else if(W instanceof Map&&W.has("offset")){const y=W;S=parseFloat(y.get("offset")),y.delete("offset")}return S}(Bo.styles),Ns=0;return null!=no&&(he++,Ns=Bo.offset=no),Vt=Vt||Ns<0||Ns>1,Je=Je||Ns<on,on=Ns,Me.push(Ns),Bo});Vt&&y.errors.push(function Mn(){return new l.wOt(3012,!1)}()),Je&&y.errors.push(function jt(){return new l.wOt(3200,!1)}());const ci=S.steps.length;let Vi=0;he>0&&he<ci?y.errors.push(function wt(){return new l.wOt(3202,!1)}()):0==he&&(Vi=1/(ci-1));const cr=ci-1,_i=y.currentTime,br=y.currentAnimateTimings,Ss=br.duration;return Hn.forEach((Lo,Bo)=>{const no=Vi>0?Bo==cr?1:Vi*Bo:Me[Bo],Ns=no*Ss;y.currentTime=_i+br.delay+Ns,br.duration=Ns,this._validateStyleAst(Lo,y),Lo.offset=no,F.styles.push(Lo)}),F}visitReference(S,y){return{type:le.If.Reference,animation:Oi(this,ht(S.animation),y),options:Ks(S.options)}}visitAnimateChild(S,y){return y.depCount++,{type:le.If.AnimateChild,options:Ks(S.options)}}visitAnimateRef(S,y){return{type:le.If.AnimateRef,animation:this.visitReference(S.animation,y),options:Ks(S.options)}}visitQuery(S,y){const F=y.currentQuerySelector,U=S.options||{};y.queryCount++,y.currentQuery=S;const[he,Me]=function wi(W){const S=!!W.split(/\s*,\s*/).find(y=>":self"==y);return S&&(W=W.replace(Mi,"")),W=W.replace(/@\*/g,er).replace(/@\w+/g,y=>er+"-"+y.slice(1)).replace(/:animating/g,ws),[W,S]}(S.selector);y.currentQuerySelector=F.length?F+" "+he:he,en(y.collectedStyles,y.currentQuerySelector,new Map);const Je=Oi(this,ht(S.animation),y);return y.currentQuery=null,y.currentQuerySelector=F,{type:le.If.Query,selector:he,limit:U.limit||0,optional:!!U.optional,includeSelf:Me,animation:Je,originalSelector:S.selector,options:Ks(S.options)}}visitStagger(S,y){y.currentQuery||y.errors.push(function ge(){return new l.wOt(3013,!1)}());const F="full"===S.timings?{duration:0,delay:0,easing:"full"}:Fr(S.timings,y.errors,!0);return{type:le.If.Stagger,animation:Oi(this,ht(S.animation),y),timings:F,options:null}}}class Er{constructor(S){this.errors=S,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ks(W){return W?(W={...W}).params&&(W.params=function as(W){return W?{...W}:null}(W.params)):W={},W}function Io(W,S,y){return{duration:W,delay:S,easing:y}}function Ls(W,S,y,F,U,he,Me=null,Je=!1){return{type:1,element:W,keyframes:S,preStyleProps:y,postStyleProps:F,duration:U,delay:he,totalTime:U+he,easing:Me,subTimeline:Je}}class aa{constructor(){this._map=new Map}get(S){return this._map.get(S)||[]}append(S,y){let F=this._map.get(S);F||this._map.set(S,F=[]),F.push(...y)}has(S){return this._map.has(S)}clear(){this._map.clear()}}const ca=new RegExp(":enter","g"),qa=new RegExp(":leave","g");function El(W,S,y,F,U,he=new Map,Me=new Map,Je,Vt,on=[]){return(new vo).buildKeyframes(W,S,y,F,U,he,Me,Je,Vt,on)}class vo{buildKeyframes(S,y,F,U,he,Me,Je,Vt,on,Hn=[]){on=on||new aa;const ci=new Oo(S,y,on,U,he,Hn,[]);ci.options=Vt;const Vi=Vt.delay?ni(Vt.delay):0;ci.currentTimeline.delayNextStep(Vi),ci.currentTimeline.setStyles([Me],null,ci.errors,Vt),Oi(this,F,ci);const cr=ci.timelines.filter(_i=>_i.containsAnimation());if(cr.length&&Je.size){let _i;for(let br=cr.length-1;br>=0;br--){const Ss=cr[br];if(Ss.element===y){_i=Ss;break}}_i&&!_i.allowOnlyTimelineStyles()&&_i.setStyles([Je],null,ci.errors,Vt)}return cr.length?cr.map(_i=>_i.buildKeyframes()):[Ls(y,[],[],[],0,Vi,"",!1)]}visitTrigger(S,y){}visitState(S,y){}visitTransition(S,y){}visitAnimateChild(S,y){const F=y.subInstructions.get(y.element);if(F){const U=y.createSubContext(S.options),he=y.currentTimeline.currentTime,Me=this._visitSubInstructions(F,U,U.options);he!=Me&&y.transformIntoNewTimeline(Me)}y.previousNode=S}visitAnimateRef(S,y){const F=y.createSubContext(S.options);F.transformIntoNewTimeline(),this._applyAnimationRefDelays([S.options,S.animation.options],y,F),this.visitReference(S.animation,F),y.transformIntoNewTimeline(F.currentTimeline.currentTime),y.previousNode=S}_applyAnimationRefDelays(S,y,F){for(const U of S){const he=U?.delay;if(he){const Me="number"==typeof he?he:ni(ze(he,U?.params??{},y.errors));F.delayNextStep(Me)}}}_visitSubInstructions(S,y,F){let he=y.currentTimeline.currentTime;const Me=null!=F.duration?ni(F.duration):null,Je=null!=F.delay?ni(F.delay):null;return 0!==Me&&S.forEach(Vt=>{const on=y.appendInstructionToTimeline(Vt,Me,Je);he=Math.max(he,on.duration+on.delay)}),he}visitReference(S,y){y.updateOptions(S.options,!0),Oi(this,S.animation,y),y.previousNode=S}visitSequence(S,y){const F=y.subContextCount;let U=y;const he=S.options;if(he&&(he.params||he.delay)&&(U=y.createSubContext(he),U.transformIntoNewTimeline(),null!=he.delay)){U.previousNode.type==le.If.Style&&(U.currentTimeline.snapshotCurrentStyles(),U.previousNode=Ys);const Me=ni(he.delay);U.delayNextStep(Me)}S.steps.length&&(S.steps.forEach(Me=>Oi(this,Me,U)),U.currentTimeline.applyStylesToKeyframe(),U.subContextCount>F&&U.transformIntoNewTimeline()),y.previousNode=S}visitGroup(S,y){const F=[];let U=y.currentTimeline.currentTime;const he=S.options&&S.options.delay?ni(S.options.delay):0;S.steps.forEach(Me=>{const Je=y.createSubContext(S.options);he&&Je.delayNextStep(he),Oi(this,Me,Je),U=Math.max(U,Je.currentTimeline.currentTime),F.push(Je.currentTimeline)}),F.forEach(Me=>y.currentTimeline.mergeTimelineCollectedStyles(Me)),y.transformIntoNewTimeline(U),y.previousNode=S}_visitTiming(S,y){if(S.dynamic){const F=S.strValue;return Fr(y.params?ze(F,y.params,y.errors):F,y.errors)}return{duration:S.duration,delay:S.delay,easing:S.easing}}visitAnimate(S,y){const F=y.currentAnimateTimings=this._visitTiming(S.timings,y),U=y.currentTimeline;F.delay&&(y.incrementTime(F.delay),U.snapshotCurrentStyles());const he=S.style;he.type==le.If.Keyframes?this.visitKeyframes(he,y):(y.incrementTime(F.duration),this.visitStyle(he,y),U.applyStylesToKeyframe()),y.currentAnimateTimings=null,y.previousNode=S}visitStyle(S,y){const F=y.currentTimeline,U=y.currentAnimateTimings;!U&&F.hasCurrentStyleProperties()&&F.forwardFrame();const he=U&&U.easing||S.easing;S.isEmptyStep?F.applyEmptyStep(he):F.setStyles(S.styles,he,y.errors,y.options),y.previousNode=S}visitKeyframes(S,y){const F=y.currentAnimateTimings,U=y.currentTimeline.duration,he=F.duration,Je=y.createSubContext().currentTimeline;Je.easing=F.easing,S.styles.forEach(Vt=>{Je.forwardTime((Vt.offset||0)*he),Je.setStyles(Vt.styles,Vt.easing,y.errors,y.options),Je.applyStylesToKeyframe()}),y.currentTimeline.mergeTimelineCollectedStyles(Je),y.transformIntoNewTimeline(U+he),y.previousNode=S}visitQuery(S,y){const F=y.currentTimeline.currentTime,U=S.options||{},he=U.delay?ni(U.delay):0;he&&(y.previousNode.type===le.If.Style||0==F&&y.currentTimeline.hasCurrentStyleProperties())&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=Ys);let Me=F;const Je=y.invokeQuery(S.selector,S.originalSelector,S.limit,S.includeSelf,!!U.optional,y.errors);y.currentQueryTotal=Je.length;let Vt=null;Je.forEach((on,Hn)=>{y.currentQueryIndex=Hn;const ci=y.createSubContext(S.options,on);he&&ci.delayNextStep(he),on===y.element&&(Vt=ci.currentTimeline),Oi(this,S.animation,ci),ci.currentTimeline.applyStylesToKeyframe(),Me=Math.max(Me,ci.currentTimeline.currentTime)}),y.currentQueryIndex=0,y.currentQueryTotal=0,y.transformIntoNewTimeline(Me),Vt&&(y.currentTimeline.mergeTimelineCollectedStyles(Vt),y.currentTimeline.snapshotCurrentStyles()),y.previousNode=S}visitStagger(S,y){const F=y.parentContext,U=y.currentTimeline,he=S.timings,Me=Math.abs(he.duration),Je=Me*(y.currentQueryTotal-1);let Vt=Me*y.currentQueryIndex;switch(he.duration<0?"reverse":he.easing){case"reverse":Vt=Je-Vt;break;case"full":Vt=F.currentStaggerTime}const Hn=y.currentTimeline;Vt&&Hn.delayNextStep(Vt);const ci=Hn.currentTime;Oi(this,S.animation,y),y.previousNode=S,F.currentStaggerTime=U.currentTime-ci+(U.startTime-F.currentTimeline.startTime)}}const Ys={};class Oo{constructor(S,y,F,U,he,Me,Je,Vt){this._driver=S,this.element=y,this.subInstructions=F,this._enterClassName=U,this._leaveClassName=he,this.errors=Me,this.timelines=Je,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ys,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Vt||new Si(this._driver,y,0),Je.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(S,y){if(!S)return;const F=S;let U=this.options;null!=F.duration&&(U.duration=ni(F.duration)),null!=F.delay&&(U.delay=ni(F.delay));const he=F.params;if(he){let Me=U.params;Me||(Me=this.options.params={}),Object.keys(he).forEach(Je=>{(!y||!Me.hasOwnProperty(Je))&&(Me[Je]=ze(he[Je],Me,this.errors))})}}_copyOptions(){const S={};if(this.options){const y=this.options.params;if(y){const F=S.params={};Object.keys(y).forEach(U=>{F[U]=y[U]})}}return S}createSubContext(S=null,y,F){const U=y||this.element,he=new Oo(this._driver,U,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(U,F||0));return he.previousNode=this.previousNode,he.currentAnimateTimings=this.currentAnimateTimings,he.options=this._copyOptions(),he.updateOptions(S),he.currentQueryIndex=this.currentQueryIndex,he.currentQueryTotal=this.currentQueryTotal,he.parentContext=this,this.subContextCount++,he}transformIntoNewTimeline(S){return this.previousNode=Ys,this.currentTimeline=this.currentTimeline.fork(this.element,S),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(S,y,F){const U={duration:y??S.duration,delay:this.currentTimeline.currentTime+(F??0)+S.delay,easing:""},he=new _r(this._driver,S.element,S.keyframes,S.preStyleProps,S.postStyleProps,U,S.stretchStartingKeyframe);return this.timelines.push(he),U}incrementTime(S){this.currentTimeline.forwardTime(this.currentTimeline.duration+S)}delayNextStep(S){S>0&&this.currentTimeline.delayNextStep(S)}invokeQuery(S,y,F,U,he,Me){let Je=[];if(U&&Je.push(this.element),S.length>0){S=(S=S.replace(ca,"."+this._enterClassName)).replace(qa,"."+this._leaveClassName);let on=this._driver.query(this.element,S,1!=F);0!==F&&(on=F<0?on.slice(on.length+F,on.length):on.slice(0,F)),Je.push(...on)}return!he&&0==Je.length&&Me.push(function Tn(W){return new l.wOt(3014,!1)}()),Je}}class Si{constructor(S,y,F,U){this._driver=S,this.element=y,this.startTime=F,this._elementTimelineStylesLookup=U,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(y),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(y,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(S){const y=1===this._keyframes.size&&this._pendingStyles.size;this.duration||y?(this.forwardTime(this.currentTime+S),y&&this.snapshotCurrentStyles()):this.startTime+=S}fork(S,y){return this.applyStylesToKeyframe(),new Si(this._driver,S,y||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(S){this.applyStylesToKeyframe(),this.duration=S,this._loadKeyframe()}_updateStyle(S,y){this._localTimelineStyles.set(S,y),this._globalTimelineStyles.set(S,y),this._styleSummary.set(S,{time:this.currentTime,value:y})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(S){S&&this._previousKeyframe.set("easing",S);for(let[y,F]of this._globalTimelineStyles)this._backFill.set(y,F||le.kp),this._currentKeyframe.set(y,le.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(S,y,F,U){y&&this._previousKeyframe.set("easing",y);const he=U&&U.params||{},Me=function ir(W,S){const y=new Map;let F;return W.forEach(U=>{if("*"===U){F??=S.keys();for(let he of F)y.set(he,le.kp)}else for(let[he,Me]of U)y.set(he,Me)}),y}(S,this._globalTimelineStyles);for(let[Je,Vt]of Me){const on=ze(Vt,he,F);this._pendingStyles.set(Je,on),this._localTimelineStyles.has(Je)||this._backFill.set(Je,this._globalTimelineStyles.get(Je)??le.kp),this._updateStyle(Je,on)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((S,y)=>{this._currentKeyframe.set(y,S)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((S,y)=>{this._currentKeyframe.has(y)||this._currentKeyframe.set(y,S)}))}snapshotCurrentStyles(){for(let[S,y]of this._localTimelineStyles)this._pendingStyles.set(S,y),this._updateStyle(S,y)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const S=[];for(let y in this._currentKeyframe)S.push(y);return S}mergeTimelineCollectedStyles(S){S._styleSummary.forEach((y,F)=>{const U=this._styleSummary.get(F);(!U||y.time>U.time)&&this._updateStyle(F,y.value)})}buildKeyframes(){this.applyStylesToKeyframe();const S=new Set,y=new Set,F=1===this._keyframes.size&&0===this.duration;let U=[];this._keyframes.forEach((Je,Vt)=>{const on=new Map([...this._backFill,...Je]);on.forEach((Hn,ci)=>{Hn===le.FX?S.add(ci):Hn===le.kp&&y.add(ci)}),F||on.set("offset",Vt/this.duration),U.push(on)});const he=[...S.values()],Me=[...y.values()];if(F){const Je=U[0],Vt=new Map(Je);Je.set("offset",0),Vt.set("offset",1),U=[Je,Vt]}return Ls(this.element,U,he,Me,this.duration,this.startTime,this.easing,!1)}}class _r extends Si{constructor(S,y,F,U,he,Me,Je=!1){super(S,y,Me.delay),this.keyframes=F,this.preStyleProps=U,this.postStyleProps=he,this._stretchStartingKeyframe=Je,this.timings={duration:Me.duration,delay:Me.delay,easing:Me.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let S=this.keyframes,{delay:y,duration:F,easing:U}=this.timings;if(this._stretchStartingKeyframe&&y){const he=[],Me=F+y,Je=y/Me,Vt=new Map(S[0]);Vt.set("offset",0),he.push(Vt);const on=new Map(S[0]);on.set("offset",Pa(Je)),he.push(on);const Hn=S.length-1;for(let ci=1;ci<=Hn;ci++){let Vi=new Map(S[ci]);const cr=Vi.get("offset");Vi.set("offset",Pa((y+cr*F)/Me)),he.push(Vi)}F=Me,y=0,U="",S=he}return Ls(this.element,S,this.preStyleProps,this.postStyleProps,F,y,U,!0)}}function Pa(W,S=3){const y=Math.pow(10,S-1);return Math.round(W*y)/y}function vr(W,S,y,F,U,he,Me,Je,Vt,on,Hn,ci,Vi){return{type:0,element:W,triggerName:S,isRemovalTransition:U,fromState:y,fromStyles:he,toState:F,toStyles:Me,timelines:Je,queriedElements:Vt,preStyleProps:on,postStyleProps:Hn,totalTime:ci,errors:Vi}}const ar={};class Hr{constructor(S,y,F){this._triggerName=S,this.ast=y,this._stateStyles=F}match(S,y,F,U){return function Qi(W,S,y,F,U){return W.some(he=>he(S,y,F,U))}(this.ast.matchers,S,y,F,U)}buildStyles(S,y,F){let U=this._stateStyles.get("*");return void 0!==S&&(U=this._stateStyles.get(S?.toString())||U),U?U.buildStyles(y,F):new Map}build(S,y,F,U,he,Me,Je,Vt,on,Hn){const ci=[],Vi=this.ast.options&&this.ast.options.params||ar,_i=this.buildStyles(F,Je&&Je.params||ar,ci),br=Vt&&Vt.params||ar,Ss=this.buildStyles(U,br,ci),Lo=new Set,Bo=new Map,no=new Map,Ns="void"===U,Vl={params:yo(br,Vi),delay:this.ast.options?.delay},jo=Hn?[]:El(S,y,this.ast.animation,he,Me,_i,Ss,Vl,on,ci);let Uo=0;return jo.forEach(Mo=>{Uo=Math.max(Mo.duration+Mo.delay,Uo)}),ci.length?vr(y,this._triggerName,F,U,Ns,_i,Ss,[],[],Bo,no,Uo,ci):(jo.forEach(Mo=>{const vl=Mo.element,ba=en(Bo,vl,new Set);Mo.preStyleProps.forEach(yl=>ba.add(yl));const Mc=en(no,vl,new Set);Mo.postStyleProps.forEach(yl=>Mc.add(yl)),vl!==y&&Lo.add(vl)}),vr(y,this._triggerName,F,U,Ns,_i,Ss,jo,[...Lo.values()],Bo,no,Uo))}}function yo(W,S){const y={...S};return Object.entries(W).forEach(([F,U])=>{null!=U&&(y[F]=U)}),y}class So{constructor(S,y,F){this.styles=S,this.defaultParams=y,this.normalizer=F}buildStyles(S,y){const F=new Map,U=yo(S,this.defaultParams);return this.styles.styles.forEach(he=>{"string"!=typeof he&&he.forEach((Me,Je)=>{Me&&(Me=ze(Me,U,y));const Vt=this.normalizer.normalizePropertyName(Je,y);Me=this.normalizer.normalizeStyleValue(Je,Vt,Me,y),F.set(Je,Me)})}),F}}class Mr{constructor(S,y,F){this.name=S,this.ast=y,this._normalizer=F,this.transitionFactories=[],this.states=new Map,y.states.forEach(U=>{this.states.set(U.name,new So(U.style,U.options&&U.options.params||{},F))}),rr(this.states,"true","1"),rr(this.states,"false","0"),y.transitions.forEach(U=>{this.transitionFactories.push(new Hr(S,U,this.states))}),this.fallbackTransition=function Ti(W,S,y){return new Hr(W,{type:le.If.Transition,animation:{type:le.If.Sequence,steps:[],options:null},matchers:[(Me,Je)=>!0],options:null,queryCount:0,depCount:0},S)}(S,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(S,y,F,U){return this.transitionFactories.find(Me=>Me.match(S,y,F,U))||null}matchStyles(S,y,F){return this.fallbackTransition.buildStyles(S,y,F)}}function rr(W,S,y){W.has(S)?W.has(y)||W.set(y,W.get(S)):W.has(y)&&W.set(S,W.get(y))}const xo=new aa;class Xs{constructor(S,y,F){this.bodyNode=S,this._driver=y,this._normalizer=F,this._animations=new Map,this._playersById=new Map,this.players=[]}register(S,y){const F=[],he=gi(this._driver,y,F,[]);if(F.length)throw function Rn(W){return new l.wOt(3503,!1)}();this._animations.set(S,he)}_buildPlayer(S,y,F){const U=S.element,he=ot(this._normalizer,S.keyframes,y,F);return this._driver.animate(U,he,S.duration,S.delay,S.easing,[],!0)}create(S,y,F={}){const U=[],he=this._animations.get(S);let Me;const Je=new Map;if(he?(Me=El(this._driver,y,he,os,Kn,new Map,new Map,F,xo,U),Me.forEach(Hn=>{const ci=en(Je,Hn.element,new Map);Hn.postStyleProps.forEach(Vi=>ci.set(Vi,null))})):(U.push(function Xn(){return new l.wOt(3300,!1)}()),Me=[]),U.length)throw function ai(W){return new l.wOt(3504,!1)}();Je.forEach((Hn,ci)=>{Hn.forEach((Vi,cr)=>{Hn.set(cr,this._driver.computeStyle(ci,cr,le.kp))})});const on=it(Me.map(Hn=>{const ci=Je.get(Hn.element);return this._buildPlayer(Hn,new Map,ci)}));return this._playersById.set(S,on),on.onDestroy(()=>this.destroy(S)),this.players.push(on),on}destroy(S){const y=this._getPlayer(S);y.destroy(),this._playersById.delete(S);const F=this.players.indexOf(y);F>=0&&this.players.splice(F,1)}_getPlayer(S){const y=this._playersById.get(S);if(!y)throw function $n(W){return new l.wOt(3301,!1)}();return y}listen(S,y,F,U){const he=Vn(y,"","","");return On(this._getPlayer(S),F,he,U),()=>{}}command(S,y,F,U){if("register"==F)return void this.register(S,U[0]);if("create"==F)return void this.create(S,y,U[0]||{});const he=this._getPlayer(S);switch(F){case"play":he.play();break;case"pause":he.pause();break;case"reset":he.reset();break;case"restart":he.restart();break;case"finish":he.finish();break;case"init":he.init();break;case"setPosition":he.setPosition(parseFloat(U[0]));break;case"destroy":this.destroy(S)}}}const Tr="ng-animate-queued",ua="ng-animate-disabled",Vr=[],Yr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ia={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ar="__ng_removed";class qs{get params(){return this.options.params}constructor(S,y=""){this.namespaceId=y;const F=S&&S.hasOwnProperty("value");if(this.value=function so(W){return W??null}(F?S.value:S),F){const{value:he,...Me}=S;this.options=Me}else this.options={};this.options.params||(this.options.params={})}absorbOptions(S){const y=S.params;if(y){const F=this.options.params;Object.keys(y).forEach(U=>{null==F[U]&&(F[U]=y[U])})}}}const Li="void",Hs=new qs(Li);class ro{constructor(S,y,F){this.id=S,this.hostElement=y,this._engine=F,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+S,Dr(y,this._hostClassName)}listen(S,y,F,U){if(!this._triggers.has(y))throw function Zn(W,S){return new l.wOt(3302,!1)}();if(null==F||0==F.length)throw function En(W){return new l.wOt(3303,!1)}();if(!function hs(W){return"start"==W||"done"==W}(F))throw function ri(W,S){return new l.wOt(3400,!1)}();const he=en(this._elementListeners,S,[]),Me={name:y,phase:F,callback:U};he.push(Me);const Je=en(this._engine.statesByElement,S,new Map);return Je.has(y)||(Dr(S,Pn),Dr(S,Pn+"-"+y),Je.set(y,Hs)),()=>{this._engine.afterFlush(()=>{const Vt=he.indexOf(Me);Vt>=0&&he.splice(Vt,1),this._triggers.has(y)||Je.delete(y)})}}register(S,y){return!this._triggers.has(S)&&(this._triggers.set(S,y),!0)}_getTrigger(S){const y=this._triggers.get(S);if(!y)throw function mt(W){return new l.wOt(3401,!1)}();return y}trigger(S,y,F,U=!0){const he=this._getTrigger(y),Me=new Gi(this.id,y,S);let Je=this._engine.statesByElement.get(S);Je||(Dr(S,Pn),Dr(S,Pn+"-"+y),this._engine.statesByElement.set(S,Je=new Map));let Vt=Je.get(y);const on=new qs(F,this.id);if(!(F&&F.hasOwnProperty("value"))&&Vt&&on.absorbOptions(Vt.options),Je.set(y,on),Vt||(Vt=Hs),on.value!==Li&&Vt.value===on.value){if(!function Qa(W,S){const y=Object.keys(W),F=Object.keys(S);if(y.length!=F.length)return!1;for(let U=0;U<y.length;U++){const he=y[U];if(!S.hasOwnProperty(he)||W[he]!==S[he])return!1}return!0}(Vt.params,on.params)){const br=[],Ss=he.matchStyles(Vt.value,Vt.params,br),Lo=he.matchStyles(on.value,on.params,br);br.length?this._engine.reportError(br):this._engine.afterFlush(()=>{$e(S,Ss),Tt(S,Lo)})}return}const Vi=en(this._engine.playersByElement,S,[]);Vi.forEach(br=>{br.namespaceId==this.id&&br.triggerName==y&&br.queued&&br.destroy()});let cr=he.matchTransition(Vt.value,on.value,S,on.params),_i=!1;if(!cr){if(!U)return;cr=he.fallbackTransition,_i=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:S,triggerName:y,transition:cr,fromState:Vt,toState:on,player:Me,isFallbackTransition:_i}),_i||(Dr(S,Tr),Me.onStart(()=>{Po(S,Tr)})),Me.onDone(()=>{let br=this.players.indexOf(Me);br>=0&&this.players.splice(br,1);const Ss=this._engine.playersByElement.get(S);if(Ss){let Lo=Ss.indexOf(Me);Lo>=0&&Ss.splice(Lo,1)}}),this.players.push(Me),Vi.push(Me),Me}deregister(S){this._triggers.delete(S),this._engine.statesByElement.forEach(y=>y.delete(S)),this._elementListeners.forEach((y,F)=>{this._elementListeners.set(F,y.filter(U=>U.name!=S))})}clearElementCache(S){this._engine.statesByElement.delete(S),this._elementListeners.delete(S);const y=this._engine.playersByElement.get(S);y&&(y.forEach(F=>F.destroy()),this._engine.playersByElement.delete(S))}_signalRemovalForInnerTriggers(S,y){const F=this._engine.driver.query(S,er,!0);F.forEach(U=>{if(U[Ar])return;const he=this._engine.fetchNamespacesByElement(U);he.size?he.forEach(Me=>Me.triggerLeaveAnimation(U,y,!1,!0)):this.clearElementCache(U)}),this._engine.afterFlushAnimationsDone(()=>F.forEach(U=>this.clearElementCache(U)))}triggerLeaveAnimation(S,y,F,U){const he=this._engine.statesByElement.get(S),Me=new Map;if(he){const Je=[];if(he.forEach((Vt,on)=>{if(Me.set(on,Vt.value),this._triggers.has(on)){const Hn=this.trigger(S,on,Li,U);Hn&&Je.push(Hn)}}),Je.length)return this._engine.markElementAsRemoved(this.id,S,!0,y,Me),F&&it(Je).onDone(()=>this._engine.processLeaveNode(S)),!0}return!1}prepareLeaveAnimationListeners(S){const y=this._elementListeners.get(S),F=this._engine.statesByElement.get(S);if(y&&F){const U=new Set;y.forEach(he=>{const Me=he.name;if(U.has(Me))return;U.add(Me);const Vt=this._triggers.get(Me).fallbackTransition,on=F.get(Me)||Hs,Hn=new qs(Li),ci=new Gi(this.id,Me,S);this._engine.totalQueuedPlayers++,this._queue.push({element:S,triggerName:Me,transition:Vt,fromState:on,toState:Hn,player:ci,isFallbackTransition:!0})})}}removeNode(S,y){const F=this._engine;if(S.childElementCount&&this._signalRemovalForInnerTriggers(S,y),this.triggerLeaveAnimation(S,y,!0))return;let U=!1;if(F.totalAnimations){const he=F.players.length?F.playersByQueriedElement.get(S):[];if(he&&he.length)U=!0;else{let Me=S;for(;Me=Me.parentNode;)if(F.statesByElement.get(Me)){U=!0;break}}}if(this.prepareLeaveAnimationListeners(S),U)F.markElementAsRemoved(this.id,S,!1,y);else{const he=S[Ar];(!he||he===Yr)&&(F.afterFlush(()=>this.clearElementCache(S)),F.destroyInnerAnimations(S),F._onRemovalComplete(S,y))}}insertNode(S,y){Dr(S,this._hostClassName)}drainQueuedTransitions(S){const y=[];return this._queue.forEach(F=>{const U=F.player;if(U.destroyed)return;const he=F.element,Me=this._elementListeners.get(he);Me&&Me.forEach(Je=>{if(Je.name==F.triggerName){const Vt=Vn(he,F.triggerName,F.fromState.value,F.toState.value);Vt._data=S,On(F.player,Je.phase,Vt,Je.callback)}}),U.markedForDestroy?this._engine.afterFlush(()=>{U.destroy()}):y.push(F)}),this._queue=[],y.sort((F,U)=>{const he=F.transition.ast.depCount,Me=U.transition.ast.depCount;return 0==he||0==Me?he-Me:this._engine.driver.containsElement(F.element,U.element)?1:-1})}destroy(S){this.players.forEach(y=>y.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,S)}}class eo{_onRemovalComplete(S,y){this.onRemovalComplete(S,y)}constructor(S,y,F,U){this.bodyNode=S,this.driver=y,this._normalizer=F,this.scheduler=U,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(he,Me)=>{}}get queuedPlayers(){const S=[];return this._namespaceList.forEach(y=>{y.players.forEach(F=>{F.queued&&S.push(F)})}),S}createNamespace(S,y){const F=new ro(S,y,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,y)?this._balanceNamespaceList(F,y):(this.newHostElements.set(y,F),this.collectEnterElement(y)),this._namespaceLookup[S]=F}_balanceNamespaceList(S,y){const F=this._namespaceList,U=this.namespacesByHostElement;if(F.length-1>=0){let Me=!1,Je=this.driver.getParentElement(y);for(;Je;){const Vt=U.get(Je);if(Vt){const on=F.indexOf(Vt);F.splice(on+1,0,S),Me=!0;break}Je=this.driver.getParentElement(Je)}Me||F.unshift(S)}else F.push(S);return U.set(y,S),S}register(S,y){let F=this._namespaceLookup[S];return F||(F=this.createNamespace(S,y)),F}registerTrigger(S,y,F){let U=this._namespaceLookup[S];U&&U.register(y,F)&&this.totalAnimations++}destroy(S,y){S&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const F=this._fetchNamespace(S);this.namespacesByHostElement.delete(F.hostElement);const U=this._namespaceList.indexOf(F);U>=0&&this._namespaceList.splice(U,1),F.destroy(y),delete this._namespaceLookup[S]}))}_fetchNamespace(S){return this._namespaceLookup[S]}fetchNamespacesByElement(S){const y=new Set,F=this.statesByElement.get(S);if(F)for(let U of F.values())if(U.namespaceId){const he=this._fetchNamespace(U.namespaceId);he&&y.add(he)}return y}trigger(S,y,F,U){if(ds(y)){const he=this._fetchNamespace(S);if(he)return he.trigger(y,F,U),!0}return!1}insertNode(S,y,F,U){if(!ds(y))return;const he=y[Ar];if(he&&he.setForRemoval){he.setForRemoval=!1,he.setForMove=!0;const Me=this.collectedLeaveElements.indexOf(y);Me>=0&&this.collectedLeaveElements.splice(Me,1)}if(S){const Me=this._fetchNamespace(S);Me&&Me.insertNode(y,F)}U&&this.collectEnterElement(y)}collectEnterElement(S){this.collectedEnterElements.push(S)}markElementAsDisabled(S,y){y?this.disabledNodes.has(S)||(this.disabledNodes.add(S),Dr(S,ua)):this.disabledNodes.has(S)&&(this.disabledNodes.delete(S),Po(S,ua))}removeNode(S,y,F){if(ds(y)){this.scheduler?.notify();const U=S?this._fetchNamespace(S):null;U?U.removeNode(y,F):this.markElementAsRemoved(S,y,!1,F);const he=this.namespacesByHostElement.get(y);he&&he.id!==S&&he.removeNode(y,F)}else this._onRemovalComplete(y,F)}markElementAsRemoved(S,y,F,U,he){this.collectedLeaveElements.push(y),y[Ar]={namespaceId:S,setForRemoval:U,hasAnimation:F,removedBeforeQueried:!1,previousTriggersValues:he}}listen(S,y,F,U,he){return ds(y)?this._fetchNamespace(S).listen(y,F,U,he):()=>{}}_buildInstruction(S,y,F,U,he){return S.transition.build(this.driver,S.element,S.fromState.value,S.toState.value,F,U,S.fromState.options,S.toState.options,y,he)}destroyInnerAnimations(S){let y=this.driver.query(S,er,!0);y.forEach(F=>this.destroyActiveAnimationsForElement(F)),0!=this.playersByQueriedElement.size&&(y=this.driver.query(S,ws,!0),y.forEach(F=>this.finishActiveQueriedAnimationOnElement(F)))}destroyActiveAnimationsForElement(S){const y=this.playersByElement.get(S);y&&y.forEach(F=>{F.queued?F.markedForDestroy=!0:F.destroy()})}finishActiveQueriedAnimationOnElement(S){const y=this.playersByQueriedElement.get(S);y&&y.forEach(F=>F.finish())}whenRenderingDone(){return new Promise(S=>{if(this.players.length)return it(this.players).onDone(()=>S());S()})}processLeaveNode(S){const y=S[Ar];if(y&&y.setForRemoval){if(S[Ar]=Yr,y.namespaceId){this.destroyInnerAnimations(S);const F=this._fetchNamespace(y.namespaceId);F&&F.clearElementCache(S)}this._onRemovalComplete(S,y.setForRemoval)}S.classList?.contains(ua)&&this.markElementAsDisabled(S,!1),this.driver.query(S,".ng-animate-disabled",!0).forEach(F=>{this.markElementAsDisabled(F,!1)})}flush(S=-1){let y=[];if(this.newHostElements.size&&(this.newHostElements.forEach((F,U)=>this._balanceNamespaceList(F,U)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let F=0;F<this.collectedEnterElements.length;F++)Dr(this.collectedEnterElements[F],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const F=[];try{y=this._flushAnimations(F,S)}finally{for(let U=0;U<F.length;U++)F[U]()}}else for(let F=0;F<this.collectedLeaveElements.length;F++)this.processLeaveNode(this.collectedLeaveElements[F]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(F=>F()),this._flushFns=[],this._whenQuietFns.length){const F=this._whenQuietFns;this._whenQuietFns=[],y.length?it(y).onDone(()=>{F.forEach(U=>U())}):F.forEach(U=>U())}}reportError(S){throw function Be(W){return new l.wOt(3402,!1)}()}_flushAnimations(S,y){const F=new aa,U=[],he=new Map,Me=[],Je=new Map,Vt=new Map,on=new Map,Hn=new Set;this.disabledNodes.forEach(Ii=>{Hn.add(Ii);const Zi=this.driver.query(Ii,".ng-animate-queued",!0);for(let Ri=0;Ri<Zi.length;Ri++)Hn.add(Zi[Ri])});const ci=this.bodyNode,Vi=Array.from(this.statesByElement.keys()),cr=Cl(Vi,this.collectedEnterElements),_i=new Map;let br=0;cr.forEach((Ii,Zi)=>{const Ri=os+br++;_i.set(Zi,Ri),Ii.forEach(pr=>Dr(pr,Ri))});const Ss=[],Lo=new Set,Bo=new Set;for(let Ii=0;Ii<this.collectedLeaveElements.length;Ii++){const Zi=this.collectedLeaveElements[Ii],Ri=Zi[Ar];Ri&&Ri.setForRemoval&&(Ss.push(Zi),Lo.add(Zi),Ri.hasAnimation?this.driver.query(Zi,".ng-star-inserted",!0).forEach(pr=>Lo.add(pr)):Bo.add(Zi))}const no=new Map,Ns=Cl(Vi,Array.from(Lo));Ns.forEach((Ii,Zi)=>{const Ri=Kn+br++;no.set(Zi,Ri),Ii.forEach(pr=>Dr(pr,Ri))}),S.push(()=>{cr.forEach((Ii,Zi)=>{const Ri=_i.get(Zi);Ii.forEach(pr=>Po(pr,Ri))}),Ns.forEach((Ii,Zi)=>{const Ri=no.get(Zi);Ii.forEach(pr=>Po(pr,Ri))}),Ss.forEach(Ii=>{this.processLeaveNode(Ii)})});const Vl=[],jo=[];for(let Ii=this._namespaceList.length-1;Ii>=0;Ii--)this._namespaceList[Ii].drainQueuedTransitions(y).forEach(Ri=>{const pr=Ri.player,xs=Ri.element;if(Vl.push(pr),this.collectedEnterElements.length){const gs=xs[Ar];if(gs&&gs.setForMove){if(gs.previousTriggersValues&&gs.previousTriggersValues.has(Ri.triggerName)){const kc=gs.previousTriggersValues.get(Ri.triggerName),wa=this.statesByElement.get(Ri.element);if(wa&&wa.has(Ri.triggerName)){const Bl=wa.get(Ri.triggerName);Bl.value=kc,wa.set(Ri.triggerName,Bl)}}return void pr.destroy()}}const ol=!ci||!this.driver.containsElement(ci,xs),Ps=no.get(xs),ko=_i.get(xs),zs=this._buildInstruction(Ri,F,ko,Ps,ol);if(zs.errors&&zs.errors.length)return void jo.push(zs);if(ol)return pr.onStart(()=>$e(xs,zs.fromStyles)),pr.onDestroy(()=>Tt(xs,zs.toStyles)),void U.push(pr);if(Ri.isFallbackTransition)return pr.onStart(()=>$e(xs,zs.fromStyles)),pr.onDestroy(()=>Tt(xs,zs.toStyles)),void U.push(pr);const lu=[];zs.timelines.forEach(gs=>{gs.stretchStartingKeyframe=!0,this.disabledNodes.has(gs.element)||lu.push(gs)}),zs.timelines=lu,F.append(xs,zs.timelines),Me.push({instruction:zs,player:pr,element:xs}),zs.queriedElements.forEach(gs=>en(Je,gs,[]).push(pr)),zs.preStyleProps.forEach((gs,kc)=>{if(gs.size){let wa=Vt.get(kc);wa||Vt.set(kc,wa=new Set),gs.forEach((Bl,Iu)=>wa.add(Iu))}}),zs.postStyleProps.forEach((gs,kc)=>{let wa=on.get(kc);wa||on.set(kc,wa=new Set),gs.forEach((Bl,Iu)=>wa.add(Iu))})});if(jo.length){const Ii=[];jo.forEach(Zi=>{Ii.push(function Ie(W,S){return new l.wOt(3505,!1)}())}),Vl.forEach(Zi=>Zi.destroy()),this.reportError(Ii)}const Uo=new Map,Mo=new Map;Me.forEach(Ii=>{const Zi=Ii.element;F.has(Zi)&&(Mo.set(Zi,Zi),this._beforeAnimationBuild(Ii.player.namespaceId,Ii.instruction,Uo))}),U.forEach(Ii=>{const Zi=Ii.element;this._getPreviousPlayers(Zi,!1,Ii.namespaceId,Ii.triggerName,null).forEach(pr=>{en(Uo,Zi,[]).push(pr),pr.destroy()})});const vl=Ss.filter(Ii=>bo(Ii,Vt,on)),ba=new Map;Br(ba,this.driver,Bo,on,le.kp).forEach(Ii=>{bo(Ii,Vt,on)&&vl.push(Ii)});const yl=new Map;cr.forEach((Ii,Zi)=>{Br(yl,this.driver,new Set(Ii),Vt,le.FX)}),vl.forEach(Ii=>{const Zi=ba.get(Ii),Ri=yl.get(Ii);ba.set(Ii,new Map([...Zi?.entries()??[],...Ri?.entries()??[]]))});const Oa=[],Ll=[],lc={};Me.forEach(Ii=>{const{element:Zi,player:Ri,instruction:pr}=Ii;if(F.has(Zi)){if(Hn.has(Zi))return Ri.onDestroy(()=>Tt(Zi,pr.toStyles)),Ri.disabled=!0,Ri.overrideTotalTime(pr.totalTime),void U.push(Ri);let xs=lc;if(Mo.size>1){let Ps=Zi;const ko=[];for(;Ps=Ps.parentNode;){const zs=Mo.get(Ps);if(zs){xs=zs;break}ko.push(Ps)}ko.forEach(zs=>Mo.set(zs,xs))}const ol=this._buildAnimation(Ri.namespaceId,pr,Uo,he,yl,ba);if(Ri.setRealPlayer(ol),xs===lc)Oa.push(Ri);else{const Ps=this.playersByElement.get(xs);Ps&&Ps.length&&(Ri.parentPlayer=it(Ps)),U.push(Ri)}}else $e(Zi,pr.fromStyles),Ri.onDestroy(()=>Tt(Zi,pr.toStyles)),Ll.push(Ri),Hn.has(Zi)&&U.push(Ri)}),Ll.forEach(Ii=>{const Zi=he.get(Ii.element);if(Zi&&Zi.length){const Ri=it(Zi);Ii.setRealPlayer(Ri)}}),U.forEach(Ii=>{Ii.parentPlayer?Ii.syncPlayerEvents(Ii.parentPlayer):Ii.destroy()});for(let Ii=0;Ii<Ss.length;Ii++){const Zi=Ss[Ii],Ri=Zi[Ar];if(Po(Zi,Kn),Ri&&Ri.hasAnimation)continue;let pr=[];if(Je.size){let ol=Je.get(Zi);ol&&ol.length&&pr.push(...ol);let Ps=this.driver.query(Zi,ws,!0);for(let ko=0;ko<Ps.length;ko++){let zs=Je.get(Ps[ko]);zs&&zs.length&&pr.push(...zs)}}const xs=pr.filter(ol=>!ol.destroyed);xs.length?Os(this,Zi,xs):this.processLeaveNode(Zi)}return Ss.length=0,Oa.forEach(Ii=>{this.players.push(Ii),Ii.onDone(()=>{Ii.destroy();const Zi=this.players.indexOf(Ii);this.players.splice(Zi,1)}),Ii.play()}),Oa}afterFlush(S){this._flushFns.push(S)}afterFlushAnimationsDone(S){this._whenQuietFns.push(S)}_getPreviousPlayers(S,y,F,U,he){let Me=[];if(y){const Je=this.playersByQueriedElement.get(S);Je&&(Me=Je)}else{const Je=this.playersByElement.get(S);if(Je){const Vt=!he||he==Li;Je.forEach(on=>{on.queued||!Vt&&on.triggerName!=U||Me.push(on)})}}return(F||U)&&(Me=Me.filter(Je=>!(F&&F!=Je.namespaceId||U&&U!=Je.triggerName))),Me}_beforeAnimationBuild(S,y,F){const he=y.element,Me=y.isRemovalTransition?void 0:S,Je=y.isRemovalTransition?void 0:y.triggerName;for(const Vt of y.timelines){const on=Vt.element,Hn=on!==he,ci=en(F,on,[]);this._getPreviousPlayers(on,Hn,Me,Je,y.toState).forEach(cr=>{const _i=cr.getRealPlayer();_i.beforeDestroy&&_i.beforeDestroy(),cr.destroy(),ci.push(cr)})}$e(he,y.fromStyles)}_buildAnimation(S,y,F,U,he,Me){const Je=y.triggerName,Vt=y.element,on=[],Hn=new Set,ci=new Set,Vi=y.timelines.map(_i=>{const br=_i.element;Hn.add(br);const Ss=br[Ar];if(Ss&&Ss.removedBeforeQueried)return new le.sf(_i.duration,_i.delay);const Lo=br!==Vt,Bo=function oo(W){const S=[];return ha(W,S),S}((F.get(br)||Vr).map(Uo=>Uo.getRealPlayer())).filter(Uo=>!!Uo.element&&Uo.element===br),no=he.get(br),Ns=Me.get(br),Vl=ot(this._normalizer,_i.keyframes,no,Ns),jo=this._buildPlayer(_i,Vl,Bo);if(_i.subTimeline&&U&&ci.add(br),Lo){const Uo=new Gi(S,Je,br);Uo.setRealPlayer(jo),on.push(Uo)}return jo});on.forEach(_i=>{en(this.playersByQueriedElement,_i.element,[]).push(_i),_i.onDone(()=>function Gs(W,S,y){let F=W.get(S);if(F){if(F.length){const U=F.indexOf(y);F.splice(U,1)}0==F.length&&W.delete(S)}return F}(this.playersByQueriedElement,_i.element,_i))}),Hn.forEach(_i=>Dr(_i,Wn));const cr=it(Vi);return cr.onDestroy(()=>{Hn.forEach(_i=>Po(_i,Wn)),Tt(Vt,y.toStyles)}),ci.forEach(_i=>{en(U,_i,[]).push(cr)}),cr}_buildPlayer(S,y,F){return y.length>0?this.driver.animate(S.element,y,S.duration,S.delay,S.easing,F):new le.sf(S.duration,S.delay)}}class Gi{constructor(S,y,F){this.namespaceId=S,this.triggerName=y,this.element=F,this._player=new le.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(S){this._containsRealPlayer||(this._player=S,this._queuedCallbacks.forEach((y,F)=>{y.forEach(U=>On(S,F,void 0,U))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(S.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(S){this.totalTime=S}syncPlayerEvents(S){const y=this._player;y.triggerCallback&&S.onStart(()=>y.triggerCallback("start")),S.onDone(()=>this.finish()),S.onDestroy(()=>this.destroy())}_queueEvent(S,y){en(this._queuedCallbacks,S,[]).push(y)}onDone(S){this.queued&&this._queueEvent("done",S),this._player.onDone(S)}onStart(S){this.queued&&this._queueEvent("start",S),this._player.onStart(S)}onDestroy(S){this.queued&&this._queueEvent("destroy",S),this._player.onDestroy(S)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(S){this.queued||this._player.setPosition(S)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(S){const y=this._player;y.triggerCallback&&y.triggerCallback(S)}}function ds(W){return W&&1===W.nodeType}function da(W,S){const y=W.style.display;return W.style.display=S??"none",y}function Br(W,S,y,F,U){const he=[];y.forEach(Vt=>he.push(da(Vt)));const Me=[];F.forEach((Vt,on)=>{const Hn=new Map;Vt.forEach(ci=>{const Vi=S.computeStyle(on,ci,U);Hn.set(ci,Vi),(!Vi||0==Vi.length)&&(on[Ar]=Ia,Me.push(on))}),W.set(on,Hn)});let Je=0;return y.forEach(Vt=>da(Vt,he[Je++])),Me}function Cl(W,S){const y=new Map;if(W.forEach(Je=>y.set(Je,[])),0==S.length)return y;const U=new Set(S),he=new Map;function Me(Je){if(!Je)return 1;let Vt=he.get(Je);if(Vt)return Vt;const on=Je.parentNode;return Vt=y.has(on)?on:U.has(on)?1:Me(on),he.set(Je,Vt),Vt}return S.forEach(Je=>{const Vt=Me(Je);1!==Vt&&y.get(Vt).push(Je)}),y}function Dr(W,S){W.classList?.add(S)}function Po(W,S){W.classList?.remove(S)}function Os(W,S,y){it(y).onDone(()=>W.processLeaveNode(S))}function ha(W,S){for(let y=0;y<W.length;y++){const F=W[y];F instanceof le.ui?ha(F.players,S):S.push(F)}}function bo(W,S,y){const F=y.get(W);if(!F)return!1;let U=S.get(W);return U?F.forEach(he=>U.add(he)):S.set(W,F),y.delete(W),!0}class Ao{constructor(S,y,F,U){this._driver=y,this._normalizer=F,this._triggerCache={},this.onRemovalComplete=(he,Me)=>{},this._transitionEngine=new eo(S.body,y,F,U),this._timelineEngine=new Xs(S.body,y,F),this._transitionEngine.onRemovalComplete=(he,Me)=>this.onRemovalComplete(he,Me)}registerTrigger(S,y,F,U,he){const Me=S+"-"+U;let Je=this._triggerCache[Me];if(!Je){const Vt=[],Hn=gi(this._driver,he,Vt,[]);if(Vt.length)throw function Le(W,S){return new l.wOt(3404,!1)}();Je=function ki(W,S,y){return new Mr(W,S,y)}(U,Hn,this._normalizer),this._triggerCache[Me]=Je}this._transitionEngine.registerTrigger(y,U,Je)}register(S,y){this._transitionEngine.register(S,y)}destroy(S,y){this._transitionEngine.destroy(S,y)}onInsert(S,y,F,U){this._transitionEngine.insertNode(S,y,F,U)}onRemove(S,y,F){this._transitionEngine.removeNode(S,y,F)}disableAnimations(S,y){this._transitionEngine.markElementAsDisabled(S,y)}process(S,y,F,U){if("@"==F.charAt(0)){const[he,Me]=cn(F);this._timelineEngine.command(he,y,Me,U)}else this._transitionEngine.trigger(S,y,F,U)}listen(S,y,F,U,he){if("@"==F.charAt(0)){const[Me,Je]=cn(F);return this._timelineEngine.listen(Me,y,Je,he)}return this._transitionEngine.listen(S,y,F,U,he)}flush(S=-1){this._transitionEngine.flush(S)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(S){this._transitionEngine.afterFlushAnimationsDone(S)}}class Qs{static{this.initialStylesByElement=new WeakMap}constructor(S,y,F){this._element=S,this._startStyles=y,this._endStyles=F,this._state=0;let U=Qs.initialStylesByElement.get(S);U||Qs.initialStylesByElement.set(S,U=new Map),this._initialStyles=U}start(){this._state<1&&(this._startStyles&&Tt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Tt(this._element,this._initialStyles),this._endStyles&&(Tt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Qs.initialStylesByElement.delete(this._element),this._startStyles&&($e(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($e(this._element,this._endStyles),this._endStyles=null),Tt(this._element,this._initialStyles),this._state=3)}}function Va(W){let S=null;return W.forEach((y,F)=>{(function _s(W){return"display"===W||"position"===W})(F)&&(S=S||new Map,S.set(F,y))}),S}class Tl{constructor(S,y,F,U){this.element=S,this.keyframes=y,this.options=F,this._specialStyles=U,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=F.duration,this._delay=F.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(S=>S()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const S=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,S,this.options),this._finalKeyframe=S.length?S[S.length-1]:new Map;const y=()=>this._onFinish();this.domPlayer.addEventListener("finish",y),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",y)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(S){const y=[];return S.forEach(F=>{y.push(Object.fromEntries(F))}),y}_triggerWebAnimation(S,y,F){return S.animate(this._convertKeyframesToObject(y),F)}onStart(S){this._originalOnStartFns.push(S),this._onStartFns.push(S)}onDone(S){this._originalOnDoneFns.push(S),this._onDoneFns.push(S)}onDestroy(S){this._onDestroyFns.push(S)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(S=>S()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(S=>S()),this._onDestroyFns=[])}setPosition(S){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=S*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const S=new Map;this.hasStarted()&&this._finalKeyframe.forEach((F,U)=>{"offset"!==U&&S.set(U,this._finished?F:gr(this.element,U))}),this.currentSnapshot=S}triggerCallback(S){const y="start"===S?this._onStartFns:this._onDoneFns;y.forEach(F=>F()),y.length=0}}class wo{validateStyleProperty(S){return!0}validateAnimatableStyleProperty(S){return!0}matchesElement(S,y){return!1}containsElement(S,y){return pt(S,y)}getParentElement(S){return tn(S)}query(S,y,F){return bn(S,y,F)}computeStyle(S,y,F){return gr(S,y)}animate(S,y,F,U,he,Me=[]){const Vt={duration:F,delay:U,fill:0==U?"both":"forwards"};he&&(Vt.easing=he);const on=new Map,Hn=Me.filter(cr=>cr instanceof Tl);(function kn(W,S){return 0===W||0===S})(F,U)&&Hn.forEach(cr=>{cr.currentSnapshot.forEach((_i,br)=>on.set(br,_i))});let ci=function Rr(W){return W.length?W[0]instanceof Map?W:W.map(S=>new Map(Object.entries(S))):[]}(y).map(cr=>new Map(cr));ci=function rt(W,S,y){if(y.size&&S.length){let F=S[0],U=[];if(y.forEach((he,Me)=>{F.has(Me)||U.push(Me),F.set(Me,he)}),U.length)for(let he=1;he<S.length;he++){let Me=S[he];U.forEach(Je=>Me.set(Je,gr(W,Je)))}}return S}(S,ci,on);const Vi=function ms(W,S){let y=null,F=null;return Array.isArray(S)&&S.length?(y=Va(S[0]),S.length>1&&(F=Va(S[S.length-1]))):S instanceof Map&&(y=Va(S)),y||F?new Qs(W,y,F):null}(S,ci);return new Tl(S,ci,Vt,Vi)}}const bi="@.disabled";class Js{constructor(S,y,F,U){this.namespaceId=S,this.delegate=y,this.engine=F,this._onDestroy=U,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(S){this.delegate.destroyNode?.(S)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(S,y){return this.delegate.createElement(S,y)}createComment(S){return this.delegate.createComment(S)}createText(S){return this.delegate.createText(S)}appendChild(S,y){this.delegate.appendChild(S,y),this.engine.onInsert(this.namespaceId,y,S,!1)}insertBefore(S,y,F,U=!0){this.delegate.insertBefore(S,y,F),this.engine.onInsert(this.namespaceId,y,S,U)}removeChild(S,y,F){this.engine.onRemove(this.namespaceId,y,this.delegate)}selectRootElement(S,y){return this.delegate.selectRootElement(S,y)}parentNode(S){return this.delegate.parentNode(S)}nextSibling(S){return this.delegate.nextSibling(S)}setAttribute(S,y,F,U){this.delegate.setAttribute(S,y,F,U)}removeAttribute(S,y,F){this.delegate.removeAttribute(S,y,F)}addClass(S,y){this.delegate.addClass(S,y)}removeClass(S,y){this.delegate.removeClass(S,y)}setStyle(S,y,F,U){this.delegate.setStyle(S,y,F,U)}removeStyle(S,y,F){this.delegate.removeStyle(S,y,F)}setProperty(S,y,F){"@"==y.charAt(0)&&y==bi?this.disableAnimations(S,!!F):this.delegate.setProperty(S,y,F)}setValue(S,y){this.delegate.setValue(S,y)}listen(S,y,F){return this.delegate.listen(S,y,F)}disableAnimations(S,y){this.engine.disableAnimations(S,y)}}class Ro extends Js{constructor(S,y,F,U,he){super(y,F,U,he),this.factory=S,this.namespaceId=y}setProperty(S,y,F){"@"==y.charAt(0)?"."==y.charAt(1)&&y==bi?this.disableAnimations(S,F=void 0===F||!!F):this.engine.process(this.namespaceId,S,y.slice(1),F):this.delegate.setProperty(S,y,F)}listen(S,y,F){if("@"==y.charAt(0)){const U=function Ws(W){switch(W){case"body":return document.body;case"document":return document;case"window":return window;default:return W}}(S);let he=y.slice(1),Me="";return"@"!=he.charAt(0)&&([he,Me]=function $s(W){const S=W.indexOf(".");return[W.substring(0,S),W.slice(S+1)]}(he)),this.engine.listen(this.namespaceId,U,he,Me,Je=>{this.factory.scheduleListenerCallback(Je._data||-1,F,Je)})}return this.delegate.listen(S,y,F)}}class Bi{constructor(S,y,F){this.delegate=S,this.engine=y,this._zone=F,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,y.onRemovalComplete=(U,he)=>{const Me=he?.parentNode(U);Me&&he.removeChild(Me,U)}}createRenderer(S,y){const U=this.delegate.createRenderer(S,y);if(!S||!y?.data?.animation){const on=this._rendererCache;let Hn=on.get(U);return Hn||(Hn=new Js("",U,this.engine,()=>on.delete(U)),on.set(U,Hn)),Hn}const he=y.id,Me=y.id+"-"+this._currentId;this._currentId++,this.engine.register(Me,S);const Je=on=>{Array.isArray(on)?on.forEach(Je):this.engine.registerTrigger(he,Me,S,on.name,on)};return y.data.animation.forEach(Je),new Ro(this,Me,U,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(S,y,F){if(S>=0&&S<this._microtaskId)return void this._zone.run(()=>y(F));const U=this._animationCallbacksBuffer;0==U.length&&queueMicrotask(()=>{this._zone.run(()=>{U.forEach(he=>{const[Me,Je]=he;Me(Je)}),this._animationCallbacksBuffer=[]})}),U.push([y,F])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var qr=B(177);const ce=[{provide:ur,useFactory:function wr(){return new li}},{provide:Ao,useClass:(()=>{class W extends Ao{constructor(y,F,U){super(y,F,U,(0,l.WQX)(l.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(F){return new(F||W)(l.KVO(qr.qQ),l.KVO(jn),l.KVO(ur))}}static{this.\u0275prov=l.jDH({token:W,factory:W.\u0275fac})}}return W})()},{provide:l._9s,useFactory:function Nr(W,S,y){return new Bi(W,S,y)},deps:[i.B7,Ao,l.SKi]}],pe=[{provide:jn,useFactory:()=>new wo},{provide:l.bc$,useValue:"BrowserAnimations"},...ce];var ea=B(5964),fa=B(1413),As=B(4412),Sa=B(3726),La=B(152),Ja=B(6977);let Dl=(()=>{class W{constructor(y){this.router=y,this.unsubscriber=new fa.B,this.screenWidth=new As.t(window.innerWidth),this.search=!1,this.language=!1,this.megaMenu=!1,this.levelMenu=!1,this.megaMenuColapse=window.innerWidth<1199,this.collapseSidebar=window.innerWidth<991,this.horizontal=!(window.innerWidth<991),this.fullScreen=!1,this.MENUITEMS=[{headTitle:"MAIN"},{title:"Dashboard",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">\n      <path d="M0 0h24v24H0V0z" fill="none"></path>\n      <path d="M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z"></path>\n  </svg>',type:"link",active:!1,nochild:!0,path:"/dashboard"},{headTitle:"PAGES"},{title:"Pages",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="side-menu__icon">\n      <path d="M0 0h24v24H0V0z" fill="none"></path>\n      <path d="M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16zm0-11.47L17.74 9 12 13.47 6.26 9 12 4.53z">\n      </path>\n  </svg>',type:"sub",active:!1,children:[{title:"Profile",type:"link",active:!1,path:"/pages/profile"},{title:"Notification List",type:"link",active:!1,path:"/pages/notification-list"},{title:"Mail Inbox",type:"link",active:!1,path:"/pages/mail-inbox"},{title:"Gallery",type:"link",active:!1,path:"/pages/gallery"},{title:"Extension",type:"sub",active:!1,selected:!1,children:[{path:"/pages/extension/about-company",title:"About Company",type:"link"},{path:"/pages/extension/faqs",title:"FAQS",type:"link"},{path:"/pages/extension/terms",title:"Terms",type:"link"},{path:"/pages/extension/invoice",title:"Invoice",type:"link"},{path:"/pages/extension/pricing-tables",title:"Pricing Tables",type:"link"},{path:"/pages/extension/settings",title:"Settings",type:"link"},{path:"/pages/extension/blog",title:"Blog",type:"link"},{path:"/pages/extension/blog-details",title:"Blog Details",type:"link"},{path:"/pages/extension/blog-post",title:"Blog Post",type:"link"},{path:"/pages/extension/empty-page",title:"Empty Page",type:"link"}]},{title:"File Manager",type:"sub",Menusub:!0,active:!1,children:[{path:"/pages/file-manager/filemanager",title:"File Manager",type:"link"},{path:"/pages/file-manager/filemanager-list",title:"File Manager List",type:"link"}]},{title:"Ecommerce",type:"sub",Menusub:!0,active:!1,children:[{path:"/pages/ecommerce/shop",title:"Shop",type:"link"},{path:"/pages/ecommerce/product-details",title:"Product Details",type:"link"},{path:"/pages/ecommerce/shopping-cart",title:"Shopping Cart",type:"link"},{path:"/pages/ecommerce/add-product",title:"Add Product",type:"link"},{path:"/pages/ecommerce/wishlist",title:"Wishlist",type:"link"},{path:"/pages/ecommerce/checkout",title:"CheckOut",type:"link"}]}]},{title:"Authentication",icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" class="side-menu__icon" fill="#000000">\n      <path d="M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z">\n      </path>\n  </svg>',type:"sub",Menusub:!0,active:!1,children:[{title:"LogIn",Menusub:!0,active:!1,path:"/authentication/login",type:"link"},{title:"Register",Menusub:!0,active:!1,path:"/authentication/register",type:"link"},{title:"Forgot Password",Menusub:!0,active:!1,path:"/authentication/forgot-password",type:"link"},{title:"Lock Screen",Menusub:!0,active:!1,path:"/authentication/lock-screen",type:"link"},{title:"Under Maintenance",Menusub:!0,active:!1,path:"/authentication/under-maintainance",type:"link"},{title:"Error Pages",type:"sub",Menusub:!0,active:!1,children:[{path:"/error-pages/error400",title:"400",type:"link"},{path:"/error-pages/error401",title:"401",type:"link"},{path:"/error-pages/error403",title:"403",type:"link"},{path:"/error-pages/error404",title:"404",type:"link"},{path:"/error-pages/error500",title:"500",type:"link"},{path:"/error-pages/error503",title:"503",type:"link"}]}]},{title:"Widgets",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon" viewBox="0 -960 960 960" fill="#000000">\n      <path d="M679-466 466-679l213-213 213 213-213 213Zm-559-72v-301h301v301H120Zm418 418v-301h301v301H538Zm-418 0v-301h301v301H120Zm60-478h181v-181H180v181Zm502 51 129-129-129-129-129 129 129 129Zm-84 367h181v-181H598v181Zm-418 0h181v-181H180v181Zm181-418Zm192-78ZM361-361Zm237 0Z"></path>\n  </svg>',active:!1,badgeClass:"badge badge-sm bg-secondary badge-hide",badgeValue:"new",path:"/widgets",type:"link",nochild:!0},{headTitle:"GENERAL"},{title:"UI Kit",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">\n      <g>\n          <rect fill="none" height="24" width="24"></rect>\n      </g>\n      <g>\n          <g>\n              <path d="M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10 C22,6.48,17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8c0-4.41,3.59-8,8-8s8,3.59,8,8C20,16.41,16.41,20,12,20z" fill-rule="evenodd"></path>\n              <path d="M13.49,11.38c0.43-1.22,0.17-2.64-0.81-3.62c-1.11-1.11-2.79-1.3-4.1-0.59 l2.35,2.35l-1.41,1.41L7.17,8.58c-0.71,1.32-0.52,2.99,0.59,4.1c0.98,0.98,2.4,1.24,3.62,0.81l3.41,3.41c0.2,0.2,0.51,0.2,0.71,0 l1.4-1.4c0.2-0.2,0.2-0.51,0-0.71L13.49,11.38z" fill-rule="evenodd"></path>\n          </g>\n      </g>\n  </svg>',type:"sub",Menusub:!0,active:!1,children:[{path:"/uikit/alerts",title:"Alerts",type:"link"},{path:"/uikit/buttons",title:"Buttons",type:"link"},{path:"/uikit/colors",title:"Colors",type:"link"},{path:"/uikit/avatars",title:"Avatars",type:"link"},{path:"/uikit/dropdowns",title:"Dropdowns",type:"link"},{path:"/uikit/listgroup",title:"Listgroup",type:"link"},{path:"/uikit/tags",title:"Tags",type:"link"},{path:"/uikit/pagination",title:"pagination",type:"link"},{path:"/uikit/navigation",title:"Navigation",type:"link"},{path:"/uikit/typography",title:"Typography",type:"link"},{path:"/uikit/breadcrumbs",title:"Breadcrumb",type:"link"},{path:"/uikit/badges-pills",title:"Badges/Pills",type:"link"},{path:"/uikit/offcanvas",title:"Offcanvas",type:"link"},{path:"/uikit/toast",title:"Toast",type:"link"},{path:"/uikit/media-object",title:"Media Object",type:"link"},{path:"/uikit/scrollspy",title:"Scrollspy",type:"link"},{path:"/uikit/accordions",title:"Accordions",type:"link"},{path:"/uikit/tabs",title:"Tabs",type:"link"},{path:"/uikit/modal",title:"Modal",type:"link"},{path:"/uikit/tooltip-popover",title:"Tooltip & popovers",type:"link"},{path:"/uikit/progress",title:"progress",type:"link"},{path:"/uikit/carousels",title:"Carousels",type:"link"}]},{title:"Icons",icon:'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000" class="side-menu__icon">\n      <g>\n          <rect fill="none" height="24" width="24"></rect>\n      </g>\n      <g>\n          <g></g>\n          <g>\n              <circle cx="15.5" cy="9.5" r="1.5"></circle>\n              <circle cx="8.5" cy="9.5" r="1.5"></circle>\n              <path d="M12,18c2.28,0,4.22-1.66,5-4H7C7.78,16.34,9.72,18,12,18z"></path>\n              <path d="M11.99,2C6.47,2,2,6.48,2,12c0,5.52,4.47,10,9.99,10C17.52,22,22,17.52,22,12C22,6.48,17.52,2,11.99,2z M12,20 c-4.42,0-8-3.58-8-8c0-4.42,3.58-8,8-8s8,3.58,8,8C20,16.42,16.42,20,12,20z"></path>\n          </g>\n      </g>\n  </svg>',type:"sub",Menusub:!0,active:!1,children:[{path:"/icons/font-awesome-icons",title:"Font Awesome Icons",type:"link"},{path:"/icons/material-design-icons",title:"Material Design Icons",type:"link"},{path:"/icons/simple-line-icons",title:"Simple Line Icons",type:"link"},{path:"/icons/feather-icons",title:"Feather Icons",type:"link"},{path:"/icons/ionic-icons",title:"Ionic Icons",type:"link"},{path:"/icons/flag-icons",title:"Flag Icons",type:"link"},{path:"/icons/pe7-icons",title:"Pe7 Icons",type:"link"},{path:"/icons/typicon-icons",title:"Typicon Icons",type:"link"},{path:"/icons/weather-icons",title:"Weather Icons",type:"link"},{path:"/icons/bootstrap-icons",title:"Bootstrap Icons",type:"link"}]},{title:"Admin Ui",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon" viewBox="0 0 24 24">\n      <path d="M0 0h24v24H0V0z" fill="none"></path>\n      <path d="M16.66 4.52l2.83 2.83-2.83 2.83-2.83-2.83 2.83-2.83M9 5v4H5V5h4m10 10v4h-4v-4h4M9 15v4H5v-4h4m7.66-13.31L11 7.34 16.66 13l5.66-5.66-5.66-5.65zM11 3H3v8h8V3zm10 10h-8v8h8v-8zm-10 0H3v8h8v-8z">\n      </path>\n  </svg>',type:"sub",Menusub:!0,active:!1,children:[{path:"/adminui/card-design",title:"Card Design",type:"link"},{path:"/adminui/full-calendar",title:"Full Calender",type:"link"},{path:"/adminui/chat",title:"Chat",type:"link"},{path:"/adminui/notifications",title:"Notifications",type:"link"},{path:"/adminui/sweetalerts",title:"Sweet alerts",type:"link"},{path:"/adminui/range-slider",title:"Range slider",type:"link"},{path:"/adminui/content-scrollbar",title:"Content Scrollbar",type:"link"},{path:"/adminui/loaders",title:"Loaders",type:"link"},{path:"/adminui/rating",title:"Rating",type:"link"},{path:"/adminui/timeline",title:"Timeline",type:"link"},{path:"/adminui/treeview",title:"Treeview",type:"link"},{path:"/adminui/ribbons",title:"Ribbons",type:"link"},{path:"/adminui/swiperjs",title:"SwiperJs",type:"link"},{path:"/adminui/userlist",title:"User List",type:"link"},{path:"/adminui/search",title:"Search",type:"link"}]},{title:"LandingPage",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon" enable-background="new 0 0 24 24" viewBox="0 0 24 24" fill="#000000">\n      <g>\n          <rect fill="none" height="24" width="24"></rect>\n      </g>\n      <g>\n          <g>\n              <path d="M6,15c-0.83,0-1.58,0.34-2.12,0.88C2.7,17.06,2,22,2,22s4.94-0.7,6.12-1.88C8.66,19.58,9,18.83,9,18C9,16.34,7.66,15,6,15 z M6.71,18.71c-0.28,0.28-2.17,0.76-2.17,0.76s0.47-1.88,0.76-2.17C5.47,17.11,5.72,17,6,17c0.55,0,1,0.45,1,1 C7,18.28,6.89,18.53,6.71,18.71z M17.42,13.65L17.42,13.65c6.36-6.36,4.24-11.31,4.24-11.31s-4.95-2.12-11.31,4.24l-2.49-0.5 C7.21,5.95,6.53,6.16,6.05,6.63L2,10.69l5,2.14L11.17,17l2.14,5l4.05-4.05c0.47-0.47,0.68-1.15,0.55-1.81L17.42,13.65z M7.41,10.83L5.5,10.01l1.97-1.97l1.44,0.29C8.34,9.16,7.83,10.03,7.41,10.83z M13.99,18.5l-0.82-1.91 c0.8-0.42,1.67-0.93,2.49-1.5l0.29,1.44L13.99,18.5z M16,12.24c-1.32,1.32-3.38,2.4-4.04,2.73l-2.93-2.93 c0.32-0.65,1.4-2.71,2.73-4.04c4.68-4.68,8.23-3.99,8.23-3.99S20.68,7.56,16,12.24z M15,11c1.1,0,2-0.9,2-2s-0.9-2-2-2s-2,0.9-2,2 S13.9,11,15,11z"></path>\n          </g>\n      </g>\n  </svg>',type:"link",active:!1,path:"/landingpage"},{title:"NestedMenu",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">\n      <path d="M0 0h24v24H0V0z" fill="none"></path>\n      <path d="M11 7h6v2h-6zm0 4h6v2h-6zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7zM20.1 3H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM19 19H5V5h14v14z">\n      </path>\n  </svg>',type:"sub",Menusub:!1,active:!1,children:[{title:"Nested-1",type:"empty",active:!1},{title:"Nested-2",icon:"database",type:"sub",active:!1,children:[{title:"Nested-2-1",type:"empty",active:!1},{title:"Nested-2-2",type:"empty",active:!1}]}]},{headTitle:"FORMS & TABLES"},{title:"Forms",type:"sub",icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000" class="side-menu__icon">\n      <path d="M0 0h24v24H0V0z" fill="none"></path>\n      <path d="M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z">\n      </path>\n  </svg>',Menusub:!0,active:!1,children:[{path:"/form-module/form-elements",title:"Form Elements",type:"link"},{path:"/form-module/form-layouts",title:"Form Layouts",type:"link"},{path:"/form-module/form-advanced",title:"Form Advanced",type:"link"},{path:"/form-module/form-editor",title:"Form Editor",type:"link"},{path:"/form-module/form-validation",title:"Form Validation",type:"link"},{path:"/form-module/form-input-spinners",title:"Form Input Spinners",type:"link"},{path:"/form-module/select2",title:"Select-2",type:"link"}]},{title:"Tables",type:"sub",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon" enable-background="new 0 0 24 24" viewBox="0 0 24 24" fill="#000000">\n          <g>\n              <rect fill="none" height="24" width="24"></rect>\n          </g>\n          <g>\n              <g>\n                  <g>\n                      <path d="M3,3v8h8V3H3z M9,9H5V5h4V9z M3,13v8h8v-8H3z M9,19H5v-4h4V19z M13,3v8h8V3H13z M19,9h-4V5h4V9z M13,13v8h8v-8H13z M19,19h-4v-4h4V19z"></path>\n                  </g>\n              </g>\n          </g>\n      </svg>',Menusub:!0,active:!1,children:[{path:"/tables/default-tables",title:"Default Tables",type:"link"},{path:"/tables/data-tables",title:"Data Tables",type:"link"},{path:"/tables/gridjs-tables",title:"Grid Tables",type:"link"}]},{headTitle:"MAPS & CHARTS"},{title:"Maps",icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000" class="side-menu__icon">\n      <path d="M0 0h24v24H0z" fill="none"></path>\n      <path d="M12 12c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm6-1.8C18 6.57 15.35 4 12 4s-6 2.57-6 6.2c0 2.34 1.95 5.44 6 9.14 4.05-3.7 6-6.8 6-9.14zM12 2c4.2 0 8 3.22 8 8.2 0 3.32-2.67 7.25-8 11.8-5.33-4.55-8-8.48-8-11.8C4 5.22 7.8 2 12 2z">\n      </path>\n  </svg>',type:"sub",Menusub:!0,active:!1,children:[{path:"/maps/leaflet",title:"Leaflet Maps",type:"link"}]},{title:"Charts",icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000" class="side-menu__icon">\n      <path d="M0 0h24v24H0V0z" fill="none"></path>\n      <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4 6h2v4h-2z">\n      </path>\n  </svg>',type:"sub",Menusub:!0,active:!1,children:[{path:"/charts/apexcharts",title:"Apexcharts",type:"link"},{path:"/charts/chartjs",title:"chartJs",type:"link"},{path:"/charts/echarts",title:"Echarts",type:"link"}]}],this.items=new As.t(this.MENUITEMS),this.setScreenWidth(window.innerWidth),(0,Sa.R)(window,"resize").pipe((0,La.B)(1e3),(0,Ja.Q)(this.unsubscriber)).subscribe(F=>{this.setScreenWidth(F.target.innerWidth),F.target.innerWidth<991&&(this.collapseSidebar=!0,this.megaMenu=!1,this.levelMenu=!1),F.target.innerWidth<1199&&(this.megaMenuColapse=!0)}),window.innerWidth<991&&this.router.events.subscribe(F=>{this.collapseSidebar=!0,this.megaMenu=!1,this.levelMenu=!1})}ngOnDestroy(){this.unsubscriber.complete()}setScreenWidth(y){this.screenWidth.next(y)}static{this.\u0275fac=function(F){return new(F||W)(l.KVO(_e.Ix))}}static{this.\u0275prov=l.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})();function Il(){if(document.querySelector(".slide-left")){const W=document.querySelector(".main-menu"),S=document.querySelector(".main-sidebar"),y=document.querySelector(".slide-left"),F=document.querySelector(".slide-right"),U=document.querySelector("html"),he=Math.ceil(Number(window.getComputedStyle(W).marginLeft.split("px")[0])),Me=Math.ceil(Number(window.getComputedStyle(W).marginRight.split("px")[0])),Je=W.scrollWidth-S.offsetWidth;W.scrollWidth>S.offsetWidth?(F.classList.remove("hidden"),y.classList.add("hidden")):(F.classList.add("hidden"),y.classList.add("hidden"),W.style.marginLeft="0px",W.style.marginRight="0px"),"rtl"!==U.getAttribute("dir")?(W.scrollWidth>S.offsetWidth&&Math.abs(Je)<Math.abs(he)&&(W.style.marginLeft=-Je+"px",y.classList.remove("hidden"),F.classList.add("hidden")),0==he?(y.classList.add("hidden"),F.classList.remove("hidden")):y.classList.remove("hidden")):(W.scrollWidth>S.offsetWidth&&Math.abs(Je)<Math.abs(Me)&&(W.style.marginRight=-Je+"px",y.classList.remove("hidden"),F.classList.add("hidden")),0==Me?y.classList.add("hidden"):y.classList.remove("hidden")),(0!=he||0!=Me)&&y.classList.remove("hidden")}}var ul=B(9844);const ta=["iconContainer"],Ba=W=>({"sticky-pin":W}),na=()=>({display:"block"}),Fo=(W,S,y,F)=>({slide__category:W,"slide has-sub":S,open:y,active:F}),ao=W=>[W],Za=W=>({active:W}),pa=(W,S)=>({active:W,"double-menu-active":S}),ga=W=>({display:W}),lo=W=>({active:W}),Eo=(W,S,y)=>({open:W,"has-sub":S,active:y}),Ji=()=>({exact:!0}),ls=W=>({"is-expanded":W});function Ir(W,S){if(1&W&&(l.j41(0,"span",17),l.EFF(1),l.k0s()),2&W){const y=l.XpG().$implicit;l.R7$(),l.JRh(y.headTitle)}}function co(W,S){if(1&W&&l.nrm(0,"span",23),2&W){const y=l.XpG(2).$implicit,F=l.XpG();l.Y8G("innerHTML",F.getSanitizedSVG(y.icon),l.npT)}}function Bs(W,S){if(1&W){const y=l.RV6();l.j41(0,"a",22),l.bIt("click",function(){l.eBV(y);const U=l.XpG().$implicit,he=l.XpG();return l.Njj(he.setNavActive(U))}),l.DNE(1,co,1,1,"span",23),l.j41(2,"span",24),l.EFF(3),l.k0s()()}if(2&W){const y=l.XpG().$implicit;l.Y8G("routerLink",y.type?l.eq3(3,ao,y.path):null),l.R7$(),l.vxM(1,y.icon?1:-1),l.R7$(2),l.JRh(y.title)}}function ja(W,S){if(1&W&&l.nrm(0,"i"),2&W){const y=l.XpG(2).$implicit;l.ZvI("side-menu__icon demoicon ri-",y.icon,"")}}function Ua(W,S){if(1&W){const y=l.RV6();l.j41(0,"a",25),l.bIt("click",function(){l.eBV(y);const U=l.XpG().$implicit,he=l.XpG();return l.Njj(he.setNavActive(U))}),l.DNE(1,ja,1,3,"i",26),l.j41(2,"span",24),l.EFF(3),l.k0s()()}if(2&W){const y=l.XpG().$implicit;l.R7$(),l.vxM(1,y.icon?1:-1),l.R7$(2),l.JRh(y.title)}}function Rs(W,S){if(1&W&&l.nrm(0,"span",23),2&W){const y=l.XpG(2).$implicit,F=l.XpG();l.Y8G("innerHTML",F.getSanitizedSVG(y.icon),l.npT)}}function _c(W,S){if(1&W&&(l.j41(0,"span"),l.EFF(1),l.k0s()),2&W){const y=l.XpG(2).$implicit;l.ZvI("badge ",y.badgeClass," side-badge"),l.R7$(),l.SpI(" ",y.badgeValue," ")}}function el(W,S){if(1&W){const y=l.RV6();l.j41(0,"a",27),l.bIt("click",function(){l.eBV(y);const U=l.XpG().$implicit,he=l.XpG();return l.Njj(he.toggleNavActive(U))}),l.DNE(1,Rs,1,1,"span",23),l.j41(2,"span",24),l.EFF(3),l.k0s(),l.DNE(4,_c,2,4,"span",26),l.nrm(5,"i",28),l.k0s()}if(2&W){const y=l.XpG().$implicit;l.Y8G("routerLink",y.type?null:l.eq3(5,ao,y.path))("ngClass",l.eq3(7,Za,y.selected)),l.R7$(),l.vxM(1,y.icon?1:-1),l.R7$(2),l.JRh(y.title),l.R7$(),l.vxM(4,y.badgeClass&&y.badgeValue?4:-1)}}function to(W,S){if(1&W){const y=l.RV6();l.j41(0,"a",34),l.bIt("click",function(){l.eBV(y);const U=l.XpG().$implicit,he=l.XpG(3);return l.Njj(he.setNavActive(U))}),l.EFF(1),l.k0s()}if(2&W){const y=l.XpG().$implicit;l.Y8G("routerLink",y.type?l.eq3(3,ao,y.path):null)("routerLinkActiveOptions",l.lJ4(5,Ji)),l.R7$(),l.SpI(" ",y.title," ")}}function Vo(W,S){if(1&W){const y=l.RV6();l.j41(0,"a",25),l.bIt("click",function(){l.eBV(y);const U=l.XpG().$implicit,he=l.XpG(3);return l.Njj(he.setNavActive(U))}),l.EFF(1),l.k0s()}if(2&W){const y=l.XpG().$implicit;l.R7$(),l.SpI(" ",y.title," ")}}function Aa(W,S){if(1&W){const y=l.RV6();l.j41(0,"a",35),l.bIt("click",function(){l.eBV(y);const U=l.XpG().$implicit,he=l.XpG(3);return l.Njj(he.toggleNavActive(U))}),l.j41(1,"span",36),l.EFF(2),l.k0s(),l.nrm(3,"i",28),l.k0s()}if(2&W){const y=l.XpG().$implicit;l.Y8G("ngClass",l.eq3(3,lo,y.active))("routerLink",y.type?null:l.eq3(5,ao,y.path)),l.R7$(2),l.JRh(y.title)}}function ma(W,S){if(1&W&&(l.j41(0,"a",31),l.EFF(1),l.k0s()),2&W){const y=l.XpG().$implicit;l.Y8G("routerLink",y.type?l.eq3(3,ao,y.path):null)("routerLinkActiveOptions",l.lJ4(5,Ji)),l.R7$(),l.SpI(" ",y.title," ")}}function uo(W,S){if(1&W&&(l.j41(0,"a",19),l.EFF(1),l.k0s()),2&W){const y=l.XpG().$implicit;l.R7$(),l.SpI(" ",y.title," ")}}function Ha(W,S){if(1&W&&(l.j41(0,"li",37),l.DNE(1,ma,2,6,"a",31)(2,uo,2,1,"a",19),l.k0s()),2&W){const y=S.$implicit;l.Y8G("ngClass",l.eq3(3,ls,y.active)),l.R7$(),l.vxM(1,"link"===y.type?1:-1),l.R7$(),l.vxM(2,"empty"===y.type?2:-1)}}function ho(W,S){if(1&W&&(l.j41(0,"ul",33),l.Z7z(1,Ha,3,5,"li",37,l.fX1),l.k0s()),2&W){const y=l.XpG().$implicit;l.Y8G("ngStyle",l.eq3(1,ga,y.active?"block":"none")),l.R7$(),l.Dyx(y.children)}}function ic(W,S){if(1&W&&(l.j41(0,"li",14),l.DNE(1,to,2,6,"a",31)(2,Vo,2,1,"a",19)(3,Aa,4,7,"a",32)(4,ho,3,3,"ul",33),l.k0s()),2&W){const y=S.$implicit;l.Y8G("ngClass",l.eq3(6,lo,y.selected))("ngClass",l.sMw(8,Eo,y.active,"sub"===y.type,y.selected)),l.R7$(),l.vxM(1,"link"===y.type?1:-1),l.R7$(),l.vxM(2,"empty"===y.type?2:-1),l.R7$(),l.vxM(3,"sub"===y.type?3:-1),l.R7$(),l.vxM(4,y.children?4:-1)}}function Ra(W,S){if(1&W&&(l.j41(0,"ul",21)(1,"li",29)(2,"a",30),l.EFF(3),l.k0s()(),l.Z7z(4,ic,5,12,"li",14,l.fX1),l.k0s()),2&W){const y=l.XpG().$implicit;l.Y8G("ngClass",l.l_i(3,pa,y.active,y.active))("ngStyle",l.eq3(6,ga,y.active?"block":"none")),l.R7$(3),l.JRh(y.title),l.R7$(),l.Dyx(y.children)}}function vc(W,S){if(1&W&&(l.j41(0,"li",14,0),l.DNE(2,Ir,2,1,"span",17)(3,Bs,4,5,"a",18)(4,Ua,4,2,"a",19)(5,el,6,9,"a",20)(6,Ra,6,8,"ul",21),l.k0s()),2&W){const y=S.$implicit;l.Y8G("ngClass",l.ziG(6,Fo,y.headTitle,y.title,y.active,y.selected)),l.R7$(2),l.vxM(2,y.headTitle?2:-1),l.R7$(),l.vxM(3,"link"===y.type?3:-1),l.R7$(),l.vxM(4,"empty"===y.type?4:-1),l.R7$(),l.vxM(5,"sub"===y.type?5:-1),l.R7$(),l.vxM(6,y.children?6:-1)}}let ia=(()=>{class W{onWindowScroll(){const y=this.elementRef.nativeElement.querySelector(".nav-scroll");this.scrolled=window.scrollY>10;const F=document.querySelectorAll(".side-menu__item"),U=window.scrollY||this.elementRef.nativeElement.ownerDocument.documentElement.scrollTop||document.body.scrollTop;F.forEach((he,Me)=>{const Je=F[Me],Vt=Je.getAttribute("value"),on=document.querySelector("#"+Vt);if(null!==on){const Hn=U+73;on.offsetTop<=Hn&&on.offsetTop+on.offsetHeight>Hn?(y&&this.renderer.removeClass(y,"active"),Je.classList.add("active")):Je.classList.remove("active")}})}constructor(y,F,U,he,Me){this.navServices=y,this.sanitizer=F,this.router=U,this.renderer=he,this.elementRef=Me,this.scrolled=!1,this.doubleMenuActive=!1,this.options={autoHide:!1,scrollbarMinSize:100},this.eventTriggered=!1,this.WindowPreSize=[window.innerWidth],this.screenWidth=window.innerWidth,document.querySelector("html")?.setAttribute("data-vertical-style","overlay"),document.querySelector("html")?.setAttribute("data-nav-layout","vertical")}ngOnInit(){document.querySelector(".main-content").onclick=()=>{("icon-click"==localStorage.getItem("vexelMenu")||"menu-click"==localStorage.getItem("vexelMenu")||"icon-hover"==localStorage.getItem("vexelMenu")||"horizontal"==localStorage.getItem("vexellayout"))&&document.querySelectorAll(".main-menu .slide-menu.child1").forEach(U=>{U.style.display="none"})},this.menuResizeFn(),this.menuitemsSubscribe$=this.navServices.items.subscribe(U=>{this.menuItems=U}),this.ParentActive(),this.router.events.subscribe(U=>{U instanceof _e.wF&&this.ParentActive()});const F=(0,Sa.R)(window,"resize");F&&(this.windowSubscribe$=F.subscribe(()=>{Il()})),function Qr(){const W=document.querySelector(".slide-left"),S=document.querySelector(".slide-right");Il(),W&&(0,Sa.R)(W,"click").subscribe(()=>{const y=document.querySelector(".main-menu"),F=document.querySelector("html"),U=document.querySelector(".main-sidebar"),he=Math.ceil(Number(window.getComputedStyle(y).marginLeft.split("px")[0])),Me=Math.ceil(Number(window.getComputedStyle(y).marginRight.split("px")[0])),Je=U.offsetWidth;y.scrollWidth>U.offsetWidth?"rtl"!==F.getAttribute("dir")?he<0&&!(Math.abs(he)<Je)?(y.style.marginRight=0,y.style.marginLeft=Number(y.style.marginLeft.split("px")[0])+Math.abs(Je)+"px",S.classList.remove("hidden")):(y.style.marginLeft="0px",W.classList.add("hidden"),S.classList.remove("hidden")):Me<0&&!(Math.abs(Me)<Je)?(y.style.marginLeft=0,y.style.marginRight=Number(y.style.marginRight.split("px")[0])+Math.abs(Je)+"px",S.classList.remove("hidden")):(y.style.marginRight="0px",W.classList.add("hidden"),S.classList.remove("hidden")):(y.style.marginLeft="0px",y.style.marginRight="0px");const Vt=document.querySelector(".main-menu > .slide.open"),on=document.querySelector(".main-menu > .slide.open >ul");Vt&&Vt.classList.remove("active"),on&&(on.style.display="none")}),S&&(0,Sa.R)(S,"click").subscribe(()=>{const y=document.querySelector(".main-menu"),F=document.querySelector("html"),U=document.querySelector(".main-sidebar"),he=Math.ceil(Number(window.getComputedStyle(y).marginLeft.split("px")[0])),Me=Math.ceil(Number(window.getComputedStyle(y).marginRight.split("px")[0])),Je=y.scrollWidth-U.offsetWidth;let Vt=U.offsetWidth;y.scrollWidth>U.offsetWidth&&("rtl"!==F.getAttribute("dir")?Math.abs(Je)>Math.abs(he)&&(y.style.marginRight=0,Math.abs(Je)>Math.abs(he)+Vt||(Vt=Math.abs(Je)-Math.abs(he),S.classList.add("hidden")),y.style.marginLeft=Number(y.style.marginLeft.split("px")[0])-Math.abs(Vt)+"px",W.classList.remove("hidden")):Math.abs(Je)>Math.abs(Me)&&(y.style.marginLeft=0,Math.abs(Je)>Math.abs(Me)+Vt||(Vt=Math.abs(Je)-Math.abs(Me),S.classList.add("hidden")),y.style.marginRight=Number(y.style.marginRight.split("px")[0])-Math.abs(Vt)+"px",W.classList.remove("hidden")));const on=document.querySelector(".main-menu > .slide.open"),Hn=document.querySelector(".main-menu > .slide.open >ul");on&&on.classList.remove("active"),Hn&&(Hn.style.display="none")})}()}getSanitizedSVG(y){return this.sanitizer.bypassSecurityTrustHtml(y)}setNavActive(y){this.menuItems?.filter(F=>{F!==y&&(F.active=!1,this.navServices.collapseSidebar=!1),F.children&&F.children.includes(y)&&(F.active=!0,F.selected=!0),F.children&&F.children?.filter(U=>{U.children&&U.children.includes(y)&&(F.active=!0,U.active=!0,F.selected=!0,U.selected=!0),U.children&&U.children?.forEach(he=>{he.children&&he.children.includes(y)&&(F.active=!0,U.active=!0,he.active=!0,F.selected=!0,U.selected=!0,he.selected=!0)})})}),y.nochild&&localStorage.getItem("vexelverticalstyles")&&document.documentElement.setAttribute("data-toggled","double-menu-close")}toggleNavActive(y){if("icontext"==localStorage.getItem("vexelverticalstyles")?document.querySelector("html")?.setAttribute("data-icon-text","open"):document.querySelector("html")?.removeAttribute("data-icon-text"),"doublemenu"==localStorage.getItem("vexelverticalstyles")){if(y.active)return;document.querySelector("html")?.setAttribute("data-toggled","double-menu-open")}"doublemenu"==localStorage.getItem("vexelverticalstyles")&&y.active||(y.active||this.menuItems?.forEach(F=>{this.menuItems.includes(y)&&(F.active=!1),F?.children?.forEach(U=>{F.children.includes(y),U.active=!1,U?.children?.forEach(he=>{U.children.includes(y)&&(he.active=!1)})})}),y.active=!y.active)}menuOpen(){const y=document.querySelector(".main-content");"icontext"===localStorage.Ynexverticalstyles&&"open"!==localStorage.iconText&&(this.updateTheme({...this.getCurrentTheme(),iconText:"open"}),y?.addEventListener("click",F=>{this.updateTheme({...this.getCurrentTheme(),iconText:""})})),"doublemenu"===localStorage.Ynexverticalstyles&&"double-menu-open"!==this.getCurrentTheme().dataToggled&&this.updateTheme({...this.getCurrentTheme(),dataToggled:"double-menu-open"})}ParentActive(){this.menuItems.map(y=>{y.children&&(y.active=!1,y.selected=!1,y.children.map(F=>{F.path==this.router.url&&(y.active=!0,y.selected=!0),F.children&&(F.active=!1,F.children.map(U=>{U.path==this.router.url&&(y.active=!0,y.selected=!0,F.active=!0)}))}))})}updateTheme(y){console.log("Update Theme:",y)}getCurrentTheme(){return{}}ngOnDestroy(){this.menuitemsSubscribe$.unsubscribe(),this.windowSubscribe$.unsubscribe(),document.querySelector("html")?.setAttribute("data-vertical-style","overlay"),document.querySelector("html")?.setAttribute("data-nav-layout","vertical");const y=(0,Sa.R)(window,"resize");y&&(this.windowSubscribe$=y.subscribe(()=>{Il()}))}onResize(y){this.menuResizeFn(),this.screenWidth=window.innerWidth,!this.eventTriggered&&this.screenWidth<=992?(document.documentElement?.setAttribute("data-toggled","close"),this.eventTriggered=!0):this.screenWidth>992&&(this.eventTriggered=!1)}menuResizeFn(){if(this.WindowPreSize.push(window.innerWidth),this.WindowPreSize.length>2&&this.WindowPreSize.shift(),this.WindowPreSize.length>1){const y=document.documentElement;this.WindowPreSize[this.WindowPreSize.length-1]<992&&this.WindowPreSize[this.WindowPreSize.length-2]>=992&&y.setAttribute("data-toggled","close"),this.WindowPreSize[this.WindowPreSize.length-1]>=992&&this.WindowPreSize[this.WindowPreSize.length-2]<992&&(y.removeAttribute("data-toggled"),document.querySelector("#responsive-overlay")?.classList.remove("active"))}}static{this.\u0275fac=function(F){return new(F||W)(l.rXU(Dl),l.rXU(i.up),l.rXU(_e.Ix),l.rXU(l.sFG),l.rXU(l.aKT))}}static{this.\u0275cmp=l.VBU({type:W,selectors:[["app-sidebar"]],viewQuery:function(F,U){if(1&F&&l.GBs(ta,7),2&F){let he;l.mGM(he=l.lsd())&&(U.iconContainer=he.first)}},hostBindings:function(F,U){1&F&&l.bIt("scroll",function(){return U.onWindowScroll()},!1,l.tSv)("resize",function(Me){return U.onResize(Me)},!1,l.tSv)},decls:18,vars:5,consts:[["activeMenuItems",""],["id","sidebar",1,"app-sidebar","sticky",3,"ngClass"],[1,"main-sidebar-header"],["routerLink","/dashboard",1,"header-logo"],["src","./assets/images/brand/desktop-logo.png","alt","logo",1,"desktop-logo"],["src","./assets/images/brand/toggle-logo.png","alt","logo",1,"toggle-logo"],["src","./assets/images/brand/desktop-dark.png","alt","logo",1,"desktop-dark"],["src","./assets/images/brand/toggle-dark.png","alt","logo",1,"toggle-dark"],["id","sidebar-scroll",1,"main-sidebar"],[1,"main-menu-container","nav","nav-pills","flex-column","sub-open"],["id","slide-left",1,"slide-left"],["xmlns","http://www.w3.org/2000/svg","fill","#7b8191","width","24","height","24","viewBox","0 0 24 24"],["d","M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z"],[1,"main-menu",3,"ngStyle"],[1,"slide",3,"ngClass"],["id","slide-right",1,"slide-right"],["d","M10.707 17.707 16.414 12l-5.707-5.707-1.414 1.414L13.586 12l-4.293 4.293z"],[1,"category-name"],["routerLinkActive","active",1,"side-menu__item",3,"routerLink"],["href","javascript:;",1,"side-menu__item"],[1,"side-menu__item",3,"routerLink","ngClass"],[1,"slide-menu","child1",3,"ngClass","ngStyle"],["routerLinkActive","active",1,"side-menu__item",3,"click","routerLink"],[1,"iconclick",3,"innerHTML"],[1,"side-menu__label"],["href","javascript:;",1,"side-menu__item",3,"click"],[3,"class"],[1,"side-menu__item",3,"click","routerLink","ngClass"],[1,"fe","fe-chevron-right","side-menu__angle"],[1,"slide","side-menu__label1"],["href","javascript:void(0)"],["routerLinkActive","active",1,"side-menu__item",3,"routerLink","routerLinkActiveOptions"],["routerLinkActive","active",1,"side-menu__item",3,"ngClass","routerLink"],[1,"slide-menu","child2",3,"ngStyle"],["routerLinkActive","active",1,"side-menu__item",3,"click","routerLink","routerLinkActiveOptions"],["routerLinkActive","active",1,"side-menu__item",3,"click","ngClass","routerLink"],[1,""],["activeMenuItems","",1,"slide",3,"ngClass"]],template:function(F,U){1&F&&(l.j41(0,"aside",1)(1,"div",2)(2,"a",3),l.nrm(3,"img",4)(4,"img",5)(5,"img",6)(6,"img",7),l.k0s()(),l.j41(7,"ngx-simplebar",8)(8,"nav",9)(9,"div",10),l.qSk(),l.j41(10,"svg",11),l.nrm(11,"path",12),l.k0s()(),l.joV(),l.j41(12,"ul",13),l.Z7z(13,vc,7,11,"li",14,l.fX1),l.k0s(),l.j41(15,"div",15),l.qSk(),l.j41(16,"svg",11),l.nrm(17,"path",16),l.k0s()()()()()),2&F&&(l.Y8G("ngClass",l.eq3(2,Ba,U.scrolled)),l.R7$(12),l.Y8G("ngStyle",l.lJ4(4,na)),l.R7$(),l.Dyx(U.menuItems))},dependencies:[qr.YU,qr.B3,_e.Wk,_e.wQ,ul.H]})}}return W})();var Ds=B(7771),ra=B(9417);let tl=(()=>{class W{constructor(y,F){this.document=y,this.elementRef=F,this.fullScreen=!1}ngOnInit(){this.elem=this.elementRef.nativeElement.ownerDocument.documentElement}onClick(){this.fullScreen=!this.fullScreen,this.fullScreen?this.elem.requestFullscreen?this.elem.requestFullscreen():this.elem.mozRequestFullScreen?this.elem.mozRequestFullScreen():this.elem.webkitRequestFullscreen?this.elem.webkitRequestFullscreen():this.elem.msRequestFullscreen&&this.elem.msRequestFullscreen():this.document.exitFullscreen?this.document.mozCancelFullScreen?this.document.mozCancelFullScreen():this.document.webkitExitFullscreen?this.document.webkitExitFullscreen():this.document.msExitFullscreen&&this.document.msExitFullscreen():this.document.exitFullscreen()}static{this.\u0275fac=function(F){return new(F||W)(l.rXU(qr.qQ),l.rXU(l.aKT))}}static{this.\u0275dir=l.FsC({type:W,selectors:[["","appFullscreen",""]],hostBindings:function(F,U){1&F&&l.bIt("click",function(){return U.onClick()})}})}}return W})();const fo=()=>({standalone:!0}),Ui=W=>({"d-none":W});function dl(W,S){if(1&W){const y=l.RV6();l.j41(0,"li",230),l.bIt("click",function(){l.eBV(y);const U=l.XpG(2);return l.Njj(U.clearSearch())}),l.j41(1,"a",231)(2,"span"),l.nrm(3,"i",232),l.EFF(4),l.k0s()()()}if(2&W){const y=S.$implicit;l.Y8G("routerLink",null==y?null:y.path),l.R7$(),l.Y8G("routerLink",null==y?null:y.path),l.R7$(3),l.JRh(null==y?null:y.title)}}function Is(W,S){if(1&W){const y=l.RV6();l.j41(0,"div",33)(1,"p",28),l.EFF(2,"Apps and pages"),l.k0s(),l.j41(3,"ul",222),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.clearSearch())}),l.Z7z(4,dl,5,3,"li",223,l.Vm6),l.nI1(6,"slice"),l.j41(7,"li",224)(8,"a",171)(9,"span"),l.nrm(10,"i",225),l.EFF(11,"Calendar"),l.k0s()()(),l.j41(12,"li",224)(13,"a",226)(14,"span"),l.nrm(15,"i",227),l.EFF(16,"Mail"),l.k0s()()(),l.j41(17,"li",224)(18,"a",228)(19,"span"),l.nrm(20,"i",229),l.EFF(21,"Buttons"),l.k0s()()()()()}if(2&W){const y=l.XpG();l.R7$(4),l.Dyx(l.brH(6,0,y.menuItems,0,5))}}function Sr(W,S){if(1&W&&(l.j41(0,"ul",29)(1,"li",224)(2,"a")(3,"span"),l.nrm(4,"i",232),l.EFF(5),l.k0s()()()()),2&W){const y=l.XpG(2);l.R7$(5),l.SpI('No Search Result Found with "',y.text,'"')}}function V(W,S){1&W&&l.DNE(0,Sr,6,1,"ng-template")}function J(W,S){1&W&&(l.j41(0,"div",101)(1,"div",186)(2,"a",233),l.EFF(3,"Proceed to checkout"),l.k0s()()())}function R(W,S){1&W&&(l.j41(0,"div",234)(1,"div",186)(2,"a",235),l.EFF(3,"View All"),l.k0s()()())}function $(W,S){if(1&W){const y=l.RV6();l.j41(0,"li",230),l.bIt("click",function(){l.eBV(y);const U=l.XpG(3);return l.Njj(U.clearSearch())}),l.j41(1,"a",231)(2,"span"),l.nrm(3,"i",232),l.EFF(4),l.k0s()()()}if(2&W){const y=S.$implicit;l.Y8G("routerLink",null==y?null:y.path),l.R7$(),l.Y8G("routerLink",null==y?null:y.path),l.R7$(3),l.JRh(null==y?null:y.title)}}function ne(W,S){if(1&W){const y=l.RV6();l.j41(0,"div",33)(1,"p",28),l.EFF(2,"Apps and pages"),l.k0s(),l.j41(3,"ul",222),l.bIt("click",function(){l.eBV(y);const U=l.XpG(2);return l.Njj(U.clearSearch())})("click",function(){l.eBV(y);const U=l.XpG().$implicit;return l.Njj(U.close("cross click"))}),l.Z7z(4,$,5,3,"li",223,l.Vm6),l.nI1(6,"slice"),l.j41(7,"li",224)(8,"a",171)(9,"span"),l.nrm(10,"i",225),l.EFF(11,"Calendar"),l.k0s()()(),l.j41(12,"li",224)(13,"a",226)(14,"span"),l.nrm(15,"i",227),l.EFF(16,"Mail"),l.k0s()()(),l.j41(17,"li",224)(18,"a",228)(19,"span"),l.nrm(20,"i",229),l.EFF(21,"Buttons"),l.k0s()()()()()}if(2&W){const y=l.XpG(2);l.R7$(4),l.Dyx(l.brH(6,0,y.menuItems,0,5))}}function ve(W,S){if(1&W){const y=l.RV6();l.j41(0,"div",236)(1,"span",237)(2,"input",238),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.SearchHeader())}),l.mxI("ngModelChange",function(U){l.eBV(y);const he=l.XpG();return l.DH7(he.text,U)||(he.text=U),l.Njj(U)}),l.bIt("keyup",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.Search(U.text))}),l.k0s(),l.j41(3,"a",239),l.nrm(4,"i",240),l.k0s()(),l.j41(5,"div",33)(6,"div",27)(7,"p",28),l.EFF(8,"Recent Searches"),l.k0s(),l.j41(9,"div",29)(10,"a",30),l.nrm(11,"i",32),l.EFF(12," People"),l.nrm(13,"span"),l.k0s(),l.j41(14,"a",30),l.nrm(15,"i",32),l.EFF(16,"Pages"),l.nrm(17,"span"),l.k0s(),l.j41(18,"a",30),l.nrm(19,"i",32),l.EFF(20,"Articles"),l.nrm(21,"span"),l.k0s()()(),l.DNE(22,ne,22,4,"div",33),l.j41(23,"div",33)(24,"p",28),l.EFF(25,"Links"),l.k0s(),l.j41(26,"ul",29)(27,"li",241)(28,"a",35)(29,"u"),l.EFF(30,"http://spruko/html/spruko.com"),l.k0s()()(),l.j41(31,"li",241)(32,"a",35)(33,"u"),l.EFF(34,"http://spruko/demo/spruko.com"),l.k0s()()()()()()(),l.j41(35,"div",242)(36,"div",37)(37,"a",38),l.EFF(38,"View all results"),l.k0s()()()}if(2&W){const y=l.XpG();l.R7$(2),l.R50("ngModel",y.text),l.Y8G("ngModelOptions",l.lJ4(3,fo)),l.R7$(20),l.vxM(22,22)}}let We=(()=>{class W{constructor(y,F,U,he,Me){this.navServices=y,this.modalService=F,this.cdr=U,this.elementRef=he,this.renderer=Me,this.cartItemCount=5,this.notificationCount=4,this.isCollapsed=!0,this.themeType="dark",this.isCartEmpty=!1,this.isNotifyEmpty=!1,this.SearchResultEmpty=!1,this.isInputFocused=!1,this.isFullscreen=!1}SwicherOpen(){document.querySelector(".offcanvas-end")?.classList.add("show"),document.querySelector("body").classList.add("overflow:hidden"),document.querySelector("body").classList.add("padding-right:4px"),document.querySelector(".offcanvas-end"),document.querySelector(".switcher-backdrop")?.classList.contains("d-none")&&(document.querySelector(".switcher-backdrop")?.classList.add("d-block"),document.querySelector(".switcher-backdrop")?.classList.remove("d-none"))}openSearch(y){this.modalService.open(y)}toggleSidebar(){let y=this.elementRef.nativeElement.ownerDocument.documentElement;"true"==localStorage.getItem("data-toggled")?document.querySelector("html")?.getAttribute("data-toggled"):"overlay"==y?.getAttribute("data-vertical-style")?null!=document.querySelector("html")?.getAttribute("data-toggled")?document.querySelector("html")?.removeAttribute("data-toggled"):document.querySelector("html")?.setAttribute("data-toggled","icon-overlay-close"):"closed"==localStorage.getItem("vexelverticalstyles")?y?.setAttribute("data-toggled","close-menu-close"==y?.getAttribute("data-toggled")?"":"close-menu-close"):"icontext"==localStorage.getItem("vexelverticalstyles")?y?.setAttribute("data-toggled","icon-text-close"==y?.getAttribute("data-toggled")?"":"icon-text-close"):"detached"==localStorage.getItem("vexelverticalstyles")?y?.setAttribute("data-toggled","detached-close"==y?.getAttribute("data-toggled")?"":"detached-close"):"doublemenu"==localStorage.getItem("vexelverticalstyles")?(y?.setAttribute("data-toggled","double-menu-close"==y?.getAttribute("data-toggled")&&document.querySelector(".slide.open")?.classList.contains("has-sub")?"double-menu-open":"double-menu-close"),y?.setAttribute("data-toggled","double-menu-close"==y?.getAttribute("data-toggled")?"double-menu-open":"double-menu-close")):"menu-click"==localStorage.getItem("vexelMenu")?y?.setAttribute("data-toggled","menu-click-closed"==y?.getAttribute("data-toggled")?"":"menu-click-closed"):"menu-hover"==localStorage.getItem("vexelMenu")?y?.setAttribute("data-toggled","menu-hover-closed"==y?.getAttribute("data-toggled")?"":"menu-hover-closed"):"icon-click"==localStorage.getItem("vexelMenu")?y?.setAttribute("data-toggled","icon-click-closed"==y?.getAttribute("data-toggled")?"":"icon-click-closed"):"icon-hover"==localStorage.getItem("vexelMenu")&&y?.setAttribute("data-toggled","icon-hover-closed"==y?.getAttribute("data-toggled")?"":"icon-hover-closed"),window.innerWidth<=992&&(y?.setAttribute("data-toggled","open"==y?.getAttribute("data-toggled")?"close":"open"),"open"==y?.getAttribute("data-toggled")&&document.querySelector("#responsive-overlay")?.classList.add("active"))}themeChange(y,F,U){this.elementRef.nativeElement.ownerDocument.documentElement?.setAttribute("data-theme-mode",y),this.elementRef.nativeElement.ownerDocument.documentElement?.setAttribute("style",""),localStorage.removeItem("vexel-background-mode-body"),localStorage.removeItem("vexel-background-mode-dark"),localStorage.removeItem("vexel-background-mode-light"),localStorage.removeItem("vexel-background-mode-formcontrol"),localStorage.removeItem("vexel-background-mode-inputBorder"),localStorage.setItem("vexeldarktheme",y),this.elementRef.nativeElement.ownerDocument.documentElement?.setAttribute("data-header-styles",F),localStorage.setItem("vexelHeader",F),this.elementRef.nativeElement.ownerDocument.documentElement?.setAttribute("data-menu-styles",U),localStorage.setItem("vexel-menu-mode",U);const he=this.elementRef.nativeElement.ownerDocument.documentElement;"dark"==y?(document.querySelector("#switcher-dark-theme").checked=!0,this.renderer.setAttribute(he,"data-menu-style","dark")):(document.querySelector("#switcher-light-theme").checked=!0,this.renderer.setAttribute(he,"data-menu-style","light"),localStorage.removeItem("bodyBgRGB"),localStorage.removeItem("bodyBgRGB2"),localStorage.removeItem("bodylightRGB"),localStorage.removeItem("vexellight-background-formcontrol"),localStorage.removeItem("vexelHeader"),localStorage.removeItem("vexeldarktheme"))}removeRow(y){const F=document.getElementById(y);F&&F.remove(),this.cartItemCount--,this.isCartEmpty=0===this.cartItemCount}removeNotify(y){const F=document.getElementById(y);F&&F.remove(),this.notificationCount--,this.isNotifyEmpty=0===this.notificationCount}handleCardClick(y){y.stopPropagation()}ngOnInit(){this.navServices.items.subscribe(y=>{this.items=y})}Search(y){if(!y)return this.menuItems=[];const F=[];return y=y.toLowerCase().trim(),this.items.filter(U=>!(!U?.title||("link"===U.type&&U.title.toLowerCase().includes(y)&&U.title.toLowerCase().startsWith(y)&&F.push(U),!U.children))&&(U.children.filter(he=>!(!he?.title||("link"===he.type&&he.title.toLowerCase().includes(y)&&he.title.toLowerCase().startsWith(y)&&F.push(he),!he.children)||(he.children.filter(Me=>{Me.title?.toLowerCase().includes(y)&&Me.title.toLowerCase().startsWith(y)&&F.push(Me)}),0))),this.menuItems=F)),this.SearchResultEmpty=!F.length,!0}SearchModal(y){this.modalService.open(y)}clearSearch(){const y=document.querySelector(".header-search");return y&&y.classList.remove("searchdrop"),this.text="",this.menuItems=[],this.SearchResultEmpty=!1,this.menuItems}onInputFocus(){this.isInputFocused=!0}onInputBlur(){this.isInputFocused=!1}toggleFullscreen(){this.isFullscreen=!this.isFullscreen}SearchHeader(){document.querySelector(".header-search")?.classList.toggle("searchdrop")}static{this.\u0275fac=function(F){return new(F||W)(l.rXU(Dl),l.rXU(Ds.Bq),l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.sFG))}}static{this.\u0275cmp=l.VBU({type:W,selectors:[["app-header"]],decls:493,vars:24,consts:[["collapse","ngbCollapse"],["searchModal",""],[1,"app-header","header","sticky"],[1,"main-header-container","container-fluid"],[1,"header-content-left","align-items-center"],[1,"header-element"],[1,"horizontal-logo"],["routerLink","/dashboard",1,"header-logo"],["src","./assets/images/brand/desktop-logo.png","alt","logo",1,"desktop-logo"],["src","./assets/images/brand/toggle-logo.png","alt","logo",1,"toggle-logo"],["src","./assets/images/brand/desktop-dark.png","alt","logo",1,"desktop-dark"],["src","./assets/images/brand/toggle-dark.png","alt","logo",1,"toggle-dark"],["href","javascript:void(0);","data-bs-toggle","sidebar",1,"sidemenu-toggle","header-link",3,"click"],[1,"open-toggle"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"header-link-icon"],["d","M24 0v24H0V0h24z","fill","none","opacity",".87"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6 1.41-1.41zM6 6h2v12H6V6z"],[1,"close-toggle"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","#000000",1,"header-link-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"],[1,"main-header-center","d-none","d-lg-block","header-link"],["type","text","id","typehead","placeholder","Search for results...","autocomplete","off",1,"form-control",3,"click","ngModelChange","keyup","ngModel","ngModelOptions"],[1,"btn","pe-1",3,"click"],["aria-hidden","true",1,"fe","fe-search"],["id","headersearch",1,"header-search"],[1,"p-3"],[1,""],[1,"fw-semibold","text-muted","mb-2","fs-13"],[1,"ps-2"],["href","javascript:void(0);",1,"search-tags","me-2"],[1,"fe","fe-search","me-3"],[1,"fe","fe-search","me-2"],[1,"mt-3"],[1,"p-1","align-items-center","text-muted","mb-1","search-app"],["href","javascript:void(0);",1,"text-primary"],[1,"py-3","border-top","px-0"],[1,"text-center"],["href","javascript:void(0);",1,"text-primary","text-decoration-underline","fs-15"],[1,"header-content-right"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent-4","aria-controls","navbarSupportedContent-4","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","navresponsive-toggler","d-lg-none","ms-auto",3,"click"],[1,"navbar-toggler-icon","fe","fe-more-vertical"],[1,"navbar","navbar-collapse","responsive-navbar","p-0"],["id","navbarSupportedContent-4",1,"collapse","navbar-collapse",3,"ngbCollapseChange","ngbCollapse"],[1,"d-flex","align-items-center"],["ngbDropdown","",1,"header-element","country-dropdown","dropdown-center"],["href","javascript:void(0);","ngbDropdownToggle","","data-bs-toggle","dropdown","aria-expanded","false",1,"header-link","dropdown-toggle"],["src","./assets/images/flags-img/us_flag.jpg","alt","img",1,"rounded-circle","header-link-icon"],["ngbDropdownMenu","","data-popper-placement","none",1,"main-header-dropdown","dropdown-menu","dropdown-menu-end"],[1,"mb-0"],["ngbDropdownItem","",1,"dropdown-item","mb-1"],[1,"pe-2"],["src","./assets/images/flags-img/india_flag.jpg","alt","img",1,"rounded-circle","country-img"],[1,"flex-grow-1"],[1,"mb-0","fs-15"],["src","./assets/images/flags-img/malaysia.jpg","alt","img",1,"rounded-circle","country-img"],["src","./assets/images/flags-img/italy_flag.jpg","alt","img",1,"rounded-circle","country-img"],["src","./assets/images/flags-img/argentina.jpg","alt","img",1,"rounded-circle","country-img"],["ngbDropdownItem","",1,"dropdown-item","active","mb-1"],["src","./assets/images/flags-img/us_flag.jpg","alt","img",1,"rounded-circle","country-img"],["src","./assets/images/flags-img/turkey.jpg","alt","img",1,"rounded-circle","country-img"],[1,"header-element","header-theme-mode"],["href","javascript:void(0);",1,"header-link","layout-setting"],["data-hs-theme-click-value","dark",1,"light-layout",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 -960 960 960","width","24",1,"header-link-icon"],["d","M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z"],["data-hs-theme-click-value","light",1,"dark-layout",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","height","24","viewBox","0 -960 960 960","width","24",1,"header-link-icon"],["d","M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z"],[1,"header-element","header-search"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#searchModal",1,"header-link","d-lg-none","d-block",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px",1,"header-link-icon"],["d","M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"],["ngbDropdown","",1,"header-element","dropdown-center","cart-dropdown",3,"autoClose"],["href","javascript:void(0);","ngbDropdownToggle","","data-bs-toggle","dropdown",1,"header-link","dropdown-toggle"],["d","M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"],["id","cart-icon-badge",1,"badge","bg-primary","rounded-pill","header-icon-badge"],[1,"p-3","border-bottom"],[1,"d-flex","align-items-center","justify-content-between"],[1,"mb-0","fs-15","fw-semibold"],["id","cart-data",1,"badge","bg-secondary-transparent"],["id","header-cart-items-scroll",1,"mb-0","overflow-auto"],["ngbDropdownItem","","id","row",1,"dropdown-item",3,"click"],[1,"d-flex","align-items-start","cart-dropdown-item"],["src","./assets/images/products/1.jpg","alt","img",1,"avatar","avatar-md","br-5","me-3"],[1,"d-flex","align-items-start","justify-content-between","mb-0"],[1,"mb-0","fs-14","fw-semibold"],["routerLink","/pages/ecommerce/shopping-cart",1,"text-dark"],[1,"fs-15","mb-1"],["href","javascript:void(0);",1,"header-cart-remove","float-end","dropdown-item-close",3,"click"],[1,"ti","ti-trash"],[1,"min-w-fit-content","d-flex","align-items-start","justify-content-between"],[1,"header-product-item"],["ngbDropdownItem","","id","row1",1,"dropdown-item",3,"click"],["src","./assets/images/products/2.jpg","alt","img",1,"avatar","avatar-md","br-5","me-3"],[1,"mb-0","fs-14","text-dark","fw-semibold"],["ngbDropdownItem","","id","row2",1,"dropdown-item",3,"click"],["ngbDropdownItem","","id","row3",1,"dropdown-item",3,"click"],["src","./assets/images/products/3.jpg","alt","img",1,"avatar","avatar-md","br-5","me-3"],["ngbDropdownItem","","id","row4",1,"dropdown-item",3,"click"],["src","./assets/images/products/5.jpg","alt","img",1,"avatar","avatar-md","br-5","me-3"],[1,"p-3","empty-header-item","border-top"],[1,"p-5","empty-item"],[1,"avatar","avatar-xl","rounded-2","bg-warning-transparent"],[1,"ri-shopping-cart-2-line","fs-2"],[1,"fw-bold","mb-1","mt-3"],["routerLink","/pages/ecommerce/shop","data-abc","true",1,"btn","btn-primary","btn-wave","btn-sm","m-1"],[1,"bi","bi-arrow-right","ms-1"],["ngbDropdown","",1,"header-element","dropdown-center","notifications-dropdown",3,"autoClose"],["d","M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"],["id","notification-icon-badge",1,"badge","bg-secondary","rounded-pill","header-icon-badge","pulse","pulse-secondary"],["href","javascript:void(0);","id","notifiation-data",1,"badge","bg-secondary-transparent"],[1,"dropdown-divider","my-0"],[1,"list-unstyled","mb-0",3,"click"],["ngbDropdownItem","","id","not1",1,"dropdown-item","mb-1"],[1,"d-flex","align-items-start"],[1,"avatar","avatar-md","bg-primary","rounded-circle"],[1,"ti","ti-gift","fs-18"],[1,"d-flex","align-items-start","justify-content-between"],["routerLink","/pages/notification-list",1,"mb-0","fs-13","font-weight-semibold","text-dark"],[1,"p-1","text-warning"],[1,"fs-12","me-2"],[1,"bi","bi-folder2-open","me-1","fs-14"],[1,"fs-13"],[1,"bi","bi-download"],["href","javascript:void(0);",1,"min-w-fit-content","text-muted","text-opacity-75","ms-1","dropdown-item-close1",3,"click"],[1,"ti","ti-x","fs-16"],["ngbDropdownItem","","id","not2",1,"dropdown-item","mb-1"],[1,"avatar","avatar-md","bg-secondary","rounded-circle"],[1,"ti","ti-discount-2","fs-18"],[1,"p-1"],[1,"fs-11","text-muted","me-3"],[1,"bi","bi-calendar","me-1"],["routerLink","/pages/profile",1,"d-flex","align-items-center","mt-1"],[1,"avatar","avatar-sm","brround"],["src","./assets/images/users/1.jpg","alt","img",1,"brround"],[1,"ms-2","fs-13","text-gray-600"],["ngbDropdownItem","","id","not3",1,"dropdown-item","mb-1"],[1,"avatar","avatar-md","bg-pink","rounded-circle"],[1,"ti","ti-user-check","fs-18"],[1,"fs-12"],[1,"text-muted","fs-12"],[1,"mt-2"],["type","button",1,"btn","btn-primary-light","btn-sm","me-1","fs-11"],["type","button",1,"btn","btn-danger-light","btn-sm","fs-11"],["ngbDropdownItem","","id","not4",1,"dropdown-item","mb-1"],[1,"avatar","avatar-md","bg-warning","rounded-circle"],[1,"ti","ti-circle-check","fs-18"],[1,"text-primary"],[1,"d-flex","align-items-center","justify-conent-between","fs-12"],[1,"text-muted"],[1,"align-self-end","min-w-fit-content","text-muted","mg-s-5"],["class","p-3 empty-header-item1",4,"ngIf"],[1,"p-5","empty-item1"],[1,"avatar","avatar-xl","rounded-2","bg-secondary-transparent"],[1,"ri-notification-off-line","fs-2"],[1,"fw-semibold","mt-3"],["ngbDropdown","",1,"header-element","dropdown-center","header-shortcuts-dropdown"],["href","javascript:void(0);","ngbDropdownToggle","","data-bs-toggle","dropdown","id","notificationDropdown","aria-expanded","false",1,"header-link","dropdown-toggle"],["d","M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"],["ngbDropdownMenu","","aria-labelledby","notificationDropdown",1,"main-header-dropdown","header-shortcuts-dropdown","dropdown-menu","pb-0","dropdown-menu-end"],[1,"mb-0","fs-17","fw-semibold"],["id","header-shortcut-scroll",1,"main-header-shortcuts","py-1","px-4"],[1,"row"],[1,"col-4","p-1","mt-0"],["routerLink","/adminui/chat"],[1,"text-center","p-3","related-app","border","rounded-2"],[1,"mdi","mdi-message-outline","text-primary","fs-24"],[1,"d-block","fs-12","text-dark"],["routerLink","/pages/file-manager/filemanager"],[1,"mdi","mdi-file-multiple-outline","text-info","fs-24"],["routerLink","/adminui/full-calendar"],[1,"mdi","mdi-calendar-range-outline","text-warning","fs-24"],["routerLink","/pages/extension/settings"],[1,"mdi","mdi-cog-outline","text-info","fs-24"],["routerLink","/pages/extension/faqs"],[1,"mdi","mdi-help-circle-outline","text-success","fs-24"],["routerLink","/pages/profile"],[1,"mdi","mdi-account-outline","text-primary","fs-24"],["routerLink","/pages/extension/about-company"],[1,"mdi","mdi-phone","text-primary","fs-24"],["routerLink","/adminui/rating"],[1,"mdi","mdi-comment-quote-outline","text-secondary","fs-24"],["routerLink","/authentication/login"],[1,"mdi","mdi-logout","text-warning","fs-24"],[1,"p-3","border-top"],[1,"d-grid"],["href","javascript:void(0);",1,"btn","btn-primary"],["appFullscreen","",1,"header-element","header-fullscreen"],["href","javascript:void(0);",1,"header-link",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"header-link-icon","full-screen-open",3,"ngClass"],["d","M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","none",1,"header-link-icon","full-screen-close","d-none",3,"ngClass"],["d","M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"],["ngbDropdown","",1,"header-element","main-profile-user"],["href","javascript:void(0);","ngbDropdownToggle","","id","mainHeaderProfile","data-bs-toggle","dropdown","aria-expanded","false",1,"header-link","dropdown-toggle","d-flex","align-items-center"],[1,"me-2"],["src","./assets/images/users/21.jpg","alt","img","width","30","height","30",1,"rounded-circle"],[1,"d-xl-block","d-none","lh-1"],[1,"fs-13","font-weight-semibold","mb-0"],[1,"op-8","fs-10"],["ngbDropdownMenu","","aria-labelledby","mainHeaderProfile",1,"dropdown-menu","pt-0","overflow-hidden","dropdown-menu-end","mt-1"],["ngbDropdownItem","","routerLink","/pages/profile",1,"dropdown-item"],[1,"ti","ti-user-circle","fs-18","me-2","op-7"],["ngbDropdownItem","","routerLink","/dashboard",1,"dropdown-item"],[1,"ti","ti-inbox","fs-18","me-2","op-7"],["ngbDropdownItem","","routerLink","/pages/extension/blog",1,"dropdown-item","border-block-end"],[1,"ti","ti-clipboard-check","fs-18","me-2","op-7"],["ngbDropdownItem","","routerLink","/pages/extension/settings",1,"dropdown-item"],[1,"ti","ti-adjustments-horizontal","fs-18","me-2","op-7"],["ngbDropdownItem","","routerLink","/pages/extension/faqs",1,"dropdown-item","border-block-end"],[1,"ti","ti-help","fs-18","me-2","op-7"],["ngbDropdownItem","","routerLink","/authentication/register",1,"dropdown-item"],[1,"ti","ti-user-plus","fs-18","me-2","op-7"],["ngbDropdownItem","","routerLink","/authentication/login",1,"dropdown-item"],[1,"ti","ti-power","fs-18","me-2","op-7"],[1,"d-flex","justify-content-center","p-2"],["href","javascript:void(0);",1,"fs-12","px-2","border-end"],["href","javascript:void(0);",1,"fs-12","px-2"],["href","javascript:void(0);","data-bs-toggle","offcanvas","data-bs-target","#switcher-canvas",1,"header-link","switcher-icon",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none",1,"header-link-icon","fa-spin"],["d","M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"],[1,"ps-2",3,"click"],[1,"p-1","d-flex","align-items-center","text-muted","mb-2","search-app",3,"routerLink"],[1,"p-1","d-flex","align-items-center","text-muted","mb-2","search-app"],[1,"bi","bi-calendar","me-2","fs-14","bg-primary-transparent","avatar","rounded-circle"],["routerLink","/pages/mail-inbox"],[1,"bi","bi-envelope","me-2","fs-14","bg-primary-transparent","avatar","rounded-circle"],["routerLink","/uikit/buttons"],[1,"bi","bi-dice-1","me-2","fs-14","bg-primary-transparent","avatar","rounded-circle"],[1,"p-1","d-flex","align-items-center","text-muted","mb-2","search-app",3,"click","routerLink"],[3,"routerLink"],[1,"fa","fa-angle-double-right","me-2"],["routerLink","/pages/ecommerce/checkout",1,"btn","btn-primary"],[1,"p-3","empty-header-item1"],["routerLink","/pages/notification-list",1,"btn","btn-primary"],[1,"modal-body"],[1,"input-group"],["type","search","placeholder","Search...","aria-label","Username",1,"form-control","px-2",3,"click","ngModelChange","keyup","ngModel","ngModelOptions"],["href","javascript:void(0);","id","Search-Grid",1,"input-group-text","bg-primary","text-white"],[1,"fe","fe-search","header-link-icon","tx-fixed-white","fs-18"],[1,"p-1","align-items-center","mb-1","search-app"],[1,"modal-footer","d-block"]],template:function(F,U){if(1&F){const he=l.RV6();l.j41(0,"header",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"a",7),l.nrm(6,"img",8)(7,"img",9)(8,"img",10)(9,"img",11),l.k0s()()(),l.j41(10,"div",5)(11,"a",12),l.bIt("click",function(){return l.eBV(he),l.Njj(U.toggleSidebar())}),l.j41(12,"span",13),l.qSk(),l.j41(13,"svg",14),l.nrm(14,"path",15)(15,"path",16),l.k0s()(),l.joV(),l.j41(16,"span",17),l.qSk(),l.j41(17,"svg",18),l.nrm(18,"path",19)(19,"path",20),l.k0s()()()(),l.joV(),l.j41(20,"div",21)(21,"input",22),l.bIt("click",function(){return l.eBV(he),l.Njj(U.SearchHeader())}),l.mxI("ngModelChange",function(Je){return l.eBV(he),l.DH7(U.text,Je)||(U.text=Je),l.Njj(Je)}),l.bIt("keyup",function(){return l.eBV(he),l.Njj(U.Search(U.text))}),l.k0s(),l.j41(22,"button",23),l.bIt("click",function(){return l.eBV(he),l.Njj(U.SearchHeader())}),l.nrm(23,"i",24),l.k0s(),l.j41(24,"div",25)(25,"div",26)(26,"div",27)(27,"p",28),l.EFF(28,"Recent Searches"),l.k0s(),l.j41(29,"div",29)(30,"a",30),l.nrm(31,"i",31),l.EFF(32,"People"),l.nrm(33,"span"),l.k0s(),l.j41(34,"a",30),l.nrm(35,"i",31),l.EFF(36,"Pages"),l.nrm(37,"span"),l.k0s(),l.j41(38,"a",30),l.nrm(39,"i",32),l.EFF(40,"Articles"),l.nrm(41,"span"),l.k0s()()(),l.DNE(42,Is,22,4,"div",33)(43,V,1,0),l.j41(44,"div",33)(45,"p",28),l.EFF(46,"Links"),l.k0s(),l.j41(47,"ul",29)(48,"li",34)(49,"a",35)(50,"u"),l.EFF(51,"http://spruko/html/spruko.com"),l.k0s()()(),l.j41(52,"li",34)(53,"a",35)(54,"u"),l.EFF(55,"http://spruko/demo/spruko.com"),l.k0s()()()()()(),l.j41(56,"div",36)(57,"div",37)(58,"a",38),l.EFF(59,"View all"),l.k0s()()()()()(),l.j41(60,"div",39)(61,"button",40),l.bIt("click",function(){l.eBV(he);const Je=l.sdS(65);return l.Njj(Je.toggle())}),l.nrm(62,"span",41),l.k0s(),l.j41(63,"div",42)(64,"div",43,0),l.mxI("ngbCollapseChange",function(Je){return l.eBV(he),l.DH7(U.isCollapsed,Je)||(U.isCollapsed=Je),l.Njj(Je)}),l.j41(66,"div",44)(67,"div",45)(68,"a",46),l.nrm(69,"img",47),l.k0s(),l.j41(70,"div",48)(71,"ul",49)(72,"li",50)(73,"div",44)(74,"div",51),l.nrm(75,"img",52),l.k0s(),l.j41(76,"div",53)(77,"p",54),l.EFF(78,"India"),l.k0s()()()(),l.j41(79,"li",50)(80,"div",44)(81,"div",51),l.nrm(82,"img",55),l.k0s(),l.j41(83,"div",53)(84,"p",54),l.EFF(85,"Malaysia"),l.k0s()()()(),l.j41(86,"li",50)(87,"div",44)(88,"div",51),l.nrm(89,"img",56),l.k0s(),l.j41(90,"div",53)(91,"p",54),l.EFF(92,"Italy"),l.k0s()()()(),l.j41(93,"li",50)(94,"div",44)(95,"div",51),l.nrm(96,"img",57),l.k0s(),l.j41(97,"div",53)(98,"p",54),l.EFF(99,"Argentina"),l.k0s()()()(),l.j41(100,"li",58)(101,"div",44)(102,"div",51),l.nrm(103,"img",59),l.k0s(),l.j41(104,"div",53)(105,"p",54),l.EFF(106,"USA"),l.k0s()()()(),l.j41(107,"li",50)(108,"div",44)(109,"div",51),l.nrm(110,"img",60),l.k0s(),l.j41(111,"div",53)(112,"p",54),l.EFF(113,"Turkey"),l.k0s()()()()()()(),l.j41(114,"div",61)(115,"a",62)(116,"span",63),l.bIt("click",function(){return l.eBV(he),l.Njj(U.themeChange("dark","dark","dark"))}),l.qSk(),l.j41(117,"svg",64),l.nrm(118,"path",65),l.k0s()(),l.joV(),l.j41(119,"span",66),l.bIt("click",function(){return l.eBV(he),l.Njj(U.themeChange("light","light","dark"))}),l.qSk(),l.j41(120,"svg",67),l.nrm(121,"path",68),l.k0s()()()(),l.joV(),l.j41(122,"div",69)(123,"a",70),l.bIt("click",function(){l.eBV(he);const Je=l.sdS(492);return l.Njj(U.SearchModal(Je))}),l.qSk(),l.j41(124,"svg",71),l.nrm(125,"path",19)(126,"path",72),l.k0s()()(),l.joV(),l.j41(127,"div",73)(128,"a",74),l.qSk(),l.j41(129,"svg",14),l.nrm(130,"path",19)(131,"path",75),l.k0s(),l.joV(),l.j41(132,"span",76),l.EFF(133),l.k0s()(),l.j41(134,"div",48)(135,"div",77)(136,"div",78)(137,"p",79),l.EFF(138,"Cart Items"),l.k0s(),l.j41(139,"span",80),l.EFF(140),l.k0s()()(),l.j41(141,"ul",81)(142,"li",82),l.bIt("click",function(Je){return l.eBV(he),l.Njj(U.handleCardClick(Je))}),l.j41(143,"div",83),l.nrm(144,"img",84),l.j41(145,"div",53)(146,"div",85)(147,"div",86)(148,"a",87),l.EFF(149,"SomeThing Phone"),l.k0s()(),l.j41(150,"div")(151,"span",88),l.EFF(152,"$1,299.00"),l.k0s(),l.j41(153,"a",89),l.bIt("click",function(){return l.eBV(he),l.Njj(U.removeRow("row"))}),l.nrm(154,"i",90),l.k0s()()(),l.j41(155,"div",91)(156,"ul",92)(157,"li"),l.EFF(158,"Quantity: 1"),l.k0s(),l.j41(159,"li"),l.EFF(160,"Size: XL"),l.k0s()()()()()(),l.j41(161,"li",93),l.bIt("click",function(Je){return l.eBV(he),l.Njj(U.handleCardClick(Je))}),l.j41(162,"div",83),l.nrm(163,"img",94),l.j41(164,"div",53)(165,"div",85)(166,"div",95)(167,"a",87),l.EFF(168,"Stop Watch"),l.k0s()(),l.j41(169,"div")(170,"span",88),l.EFF(171,"$179.29"),l.k0s(),l.j41(172,"a",89),l.bIt("click",function(){return l.eBV(he),l.Njj(U.removeRow("row1"))}),l.nrm(173,"i",90),l.k0s()()(),l.j41(174,"div",91)(175,"ul",92)(176,"li"),l.EFF(177,"Quantity: 2"),l.k0s(),l.j41(178,"li"),l.EFF(179,"Size: L"),l.k0s()()()()()(),l.j41(180,"li",96),l.bIt("click",function(Je){return l.eBV(he),l.Njj(U.handleCardClick(Je))}),l.j41(181,"div",83),l.nrm(182,"img",84),l.j41(183,"div",53)(184,"div",85)(185,"div",95)(186,"a",87),l.EFF(187,"Photo Frame"),l.k0s()(),l.j41(188,"div")(189,"span",88),l.EFF(190,"$29.00"),l.k0s(),l.j41(191,"a",89),l.bIt("click",function(){return l.eBV(he),l.Njj(U.removeRow("row2"))}),l.nrm(192,"i",90),l.k0s()()(),l.j41(193,"div",91)(194,"ul",92)(195,"li"),l.EFF(196,"Quantity: 5"),l.k0s(),l.j41(197,"li"),l.EFF(198,"Size: M"),l.k0s()()()()()(),l.j41(199,"li",97),l.bIt("click",function(Je){return l.eBV(he),l.Njj(U.handleCardClick(Je))}),l.j41(200,"div",83),l.nrm(201,"img",98),l.j41(202,"div",53)(203,"div",85)(204,"div",95)(205,"a",87),l.EFF(206,"Kikon Camera"),l.k0s()(),l.j41(207,"div")(208,"span",88),l.EFF(209,"$4,999.00"),l.k0s(),l.j41(210,"a",89),l.bIt("click",function(){return l.eBV(he),l.Njj(U.removeRow("row3"))}),l.nrm(211,"i",90),l.k0s()()(),l.j41(212,"div",91)(213,"ul",92)(214,"li"),l.EFF(215,"Quantity: 2"),l.k0s(),l.j41(216,"li"),l.EFF(217,"Size: XXL"),l.k0s()()()()()(),l.j41(218,"li",99),l.bIt("click",function(Je){return l.eBV(he),l.Njj(U.handleCardClick(Je))}),l.j41(219,"div",83),l.nrm(220,"img",100),l.j41(221,"div",53)(222,"div",85)(223,"div",95)(224,"a",87),l.EFF(225,"Canvas Shoes"),l.k0s()(),l.j41(226,"div")(227,"span",88),l.EFF(228,"$129.00"),l.k0s(),l.j41(229,"a",89),l.bIt("click",function(){return l.eBV(he),l.Njj(U.removeRow("row4"))}),l.nrm(230,"i",90),l.k0s()()(),l.j41(231,"div",91)(232,"ul",92)(233,"li"),l.EFF(234,"Quantity: 4"),l.k0s(),l.j41(235,"li"),l.EFF(236,"Size: XS"),l.k0s()()()()()()(),l.DNE(237,J,4,0,"div",101),l.j41(238,"div",102)(239,"div",37)(240,"span",103),l.nrm(241,"i",104),l.k0s(),l.j41(242,"h6",105),l.EFF(243,"Your Cart is Empty"),l.k0s(),l.j41(244,"a",106),l.EFF(245,"Back to Shop "),l.nrm(246,"i",107),l.k0s()()()()(),l.j41(247,"div",108)(248,"a",46),l.qSk(),l.j41(249,"svg",14),l.nrm(250,"path",19)(251,"path",109),l.k0s(),l.joV(),l.j41(252,"span",110),l.EFF(253),l.k0s()(),l.j41(254,"div",48)(255,"div",26)(256,"div",78)(257,"p",79),l.EFF(258,"Notifications"),l.k0s(),l.j41(259,"a",111),l.EFF(260),l.k0s()()(),l.nrm(261,"div",112),l.j41(262,"ul",113),l.bIt("click",function(Je){return l.eBV(he),l.Njj(U.handleCardClick(Je))}),l.j41(263,"li",114)(264,"div",115)(265,"div",51)(266,"span",116),l.nrm(267,"i",117),l.k0s()(),l.j41(268,"div",53)(269,"div",118)(270,"div")(271,"a",119),l.EFF(272,"Nile Robetz send to a HTML file for Upload"),l.k0s(),l.j41(273,"div",120)(274,"span",121),l.nrm(275,"i",122),l.EFF(276,"HTML File"),l.k0s(),l.j41(277,"span",123),l.nrm(278,"i",124),l.k0s()()(),l.j41(279,"a",125),l.bIt("click",function(){return l.eBV(he),l.Njj(U.removeNotify("not1"))}),l.nrm(280,"i",126),l.k0s()()()()(),l.j41(281,"li",127)(282,"div",115)(283,"div",51)(284,"span",128),l.nrm(285,"i",129),l.k0s()(),l.j41(286,"div",53)(287,"div",118)(288,"div")(289,"a",119),l.EFF(290,"Conference meeting about client project"),l.k0s(),l.j41(291,"div",130)(292,"span",131),l.nrm(293,"i",132),l.EFF(294,"Monday - 11:00 AM - 45 minutes"),l.k0s()(),l.j41(295,"a",133)(296,"span",134),l.nrm(297,"img",135),l.k0s(),l.j41(298,"span",136),l.EFF(299,"Nile Rebort"),l.k0s()()(),l.j41(300,"a",125),l.bIt("click",function(){return l.eBV(he),l.Njj(U.removeNotify("not2"))}),l.nrm(301,"i",126),l.k0s()()()()(),l.j41(302,"li",137)(303,"div",115)(304,"div",51)(305,"span",138),l.nrm(306,"i",139),l.k0s()(),l.j41(307,"div",53)(308,"div",118)(309,"a",119),l.EFF(310,"Taylor invite to a design channel"),l.k0s(),l.j41(311,"a",125),l.bIt("click",function(){return l.eBV(he),l.Njj(U.removeNotify("not3"))}),l.nrm(312,"i",126),l.k0s()(),l.j41(313,"div",140)(314,"small",141),l.EFF(315,"Hi, can i change my commission amount?"),l.k0s(),l.j41(316,"div",142)(317,"button",143),l.EFF(318,"Accept"),l.k0s(),l.j41(319,"button",144),l.EFF(320,"Reject"),l.k0s()()()()()(),l.j41(321,"li",145)(322,"div",115)(323,"div",51)(324,"span",146),l.nrm(325,"i",147),l.k0s()(),l.j41(326,"div",53)(327,"div",118)(328,"a",119),l.EFF(329,"Order Placed "),l.j41(330,"span",148),l.EFF(331,"ID: #1116773"),l.k0s()(),l.j41(332,"a",125),l.bIt("click",function(){return l.eBV(he),l.Njj(U.removeNotify("not4"))}),l.nrm(333,"i",126),l.k0s()(),l.j41(334,"div",149)(335,"span",150),l.EFF(336,"Order Placed Successfully"),l.k0s(),l.j41(337,"span",151),l.EFF(338,"12:46"),l.k0s()()()()()(),l.DNE(339,R,4,0,"div",152),l.j41(340,"div",153)(341,"div",37)(342,"span",154),l.nrm(343,"i",155),l.k0s(),l.j41(344,"h6",156),l.EFF(345,"No New Notifications"),l.k0s()()()()(),l.j41(346,"div",157)(347,"a",158),l.qSk(),l.j41(348,"svg",14),l.nrm(349,"path",19)(350,"path",159),l.k0s()(),l.joV(),l.j41(351,"div",160)(352,"div",26)(353,"div",78)(354,"p",161),l.EFF(355,"Related Apps"),l.k0s()()(),l.nrm(356,"div",112),l.j41(357,"div",162)(358,"div",163)(359,"div",164)(360,"a",165)(361,"div",166)(362,"span"),l.nrm(363,"i",167),l.k0s(),l.j41(364,"span",168),l.EFF(365,"Chat"),l.k0s()()()(),l.j41(366,"div",164)(367,"a",169)(368,"div",166)(369,"span"),l.nrm(370,"i",170),l.k0s(),l.j41(371,"span",168),l.EFF(372,"Files"),l.k0s()()()(),l.j41(373,"div",164)(374,"a",171)(375,"div",166)(376,"span"),l.nrm(377,"i",172),l.k0s(),l.j41(378,"span",168),l.EFF(379,"Calendar"),l.k0s()()()(),l.j41(380,"div",164)(381,"a",173)(382,"div",166)(383,"span"),l.nrm(384,"i",174),l.k0s(),l.j41(385,"span",168),l.EFF(386,"Settings"),l.k0s()()()(),l.j41(387,"div",164)(388,"a",175)(389,"div",166)(390,"span"),l.nrm(391,"i",176),l.k0s(),l.j41(392,"span",168),l.EFF(393,"Help"),l.k0s()()()(),l.j41(394,"div",164)(395,"a",177)(396,"div",166)(397,"span"),l.nrm(398,"i",178),l.k0s(),l.j41(399,"span",168),l.EFF(400,"Profile"),l.k0s()()()(),l.j41(401,"div",164)(402,"a",179)(403,"div",166)(404,"span"),l.nrm(405,"i",180),l.k0s(),l.j41(406,"span",168),l.EFF(407,"Contact"),l.k0s()()()(),l.j41(408,"div",164)(409,"a",181)(410,"div",166)(411,"span"),l.nrm(412,"i",182),l.k0s(),l.j41(413,"span",168),l.EFF(414,"Feeback"),l.k0s()()()(),l.j41(415,"div",164)(416,"a",183)(417,"div",166)(418,"span"),l.nrm(419,"i",184),l.k0s(),l.j41(420,"span",168),l.EFF(421,"Logout"),l.k0s()()()()()(),l.j41(422,"div",185)(423,"div",186)(424,"a",187),l.EFF(425,"View All"),l.k0s()()()()(),l.j41(426,"div",188)(427,"a",189),l.bIt("click",function(){return l.eBV(he),l.Njj(U.toggleFullscreen())}),l.qSk(),l.j41(428,"svg",190),l.nrm(429,"path",19)(430,"path",191),l.k0s(),l.j41(431,"svg",192),l.nrm(432,"path",19)(433,"path",193),l.k0s()()(),l.joV(),l.j41(434,"div",194)(435,"a",195)(436,"span",196),l.nrm(437,"img",197),l.k0s(),l.j41(438,"div",198)(439,"h6",199),l.EFF(440,"Json Taylor"),l.k0s(),l.j41(441,"span",200),l.EFF(442,"Web Designer"),l.k0s()()(),l.j41(443,"ul",201)(444,"li")(445,"a",202),l.nrm(446,"i",203),l.EFF(447,"Profile"),l.k0s()(),l.j41(448,"li")(449,"a",204),l.nrm(450,"i",205),l.EFF(451,"Dashboard"),l.k0s()(),l.j41(452,"li")(453,"a",206),l.nrm(454,"i",207),l.EFF(455,"Posts & Activities"),l.k0s()(),l.j41(456,"li")(457,"a",208),l.nrm(458,"i",209),l.EFF(459,"Settings & Privacy"),l.k0s()(),l.j41(460,"li")(461,"a",210),l.nrm(462,"i",211),l.EFF(463,"Help Center"),l.k0s()(),l.j41(464,"li"),l.nrm(465,"hr",112),l.k0s(),l.j41(466,"li")(467,"a",212),l.nrm(468,"i",213),l.EFF(469,"Add Another Account"),l.k0s()(),l.j41(470,"li")(471,"a",214),l.nrm(472,"i",215),l.EFF(473,"Sign Out"),l.k0s()(),l.j41(474,"li"),l.nrm(475,"hr",112),l.k0s(),l.j41(476,"li",216)(477,"span")(478,"a",217),l.EFF(479,"Privacy Policy"),l.k0s()(),l.j41(480,"span")(481,"a",217),l.EFF(482,"Terms"),l.k0s()(),l.j41(483,"span")(484,"a",218),l.EFF(485,"Cookies"),l.k0s()()()()()()()(),l.j41(486,"div",5)(487,"a",219),l.bIt("click",function(){return l.eBV(he),l.Njj(U.SwicherOpen())}),l.qSk(),l.j41(488,"svg",220),l.nrm(489,"path",19)(490,"path",221),l.k0s()()()()()(),l.DNE(491,ve,39,4,"ng-template",null,1,l.C5r)}2&F&&(l.R7$(21),l.R50("ngModel",U.text),l.Y8G("ngModelOptions",l.lJ4(19,fo)),l.R7$(21),l.vxM(42,42),l.R7$(19),l.BMQ("aria-expanded",!U.isCollapsed),l.R7$(3),l.R50("ngbCollapse",U.isCollapsed),l.R7$(63),l.Y8G("autoClose","outside"),l.R7$(6),l.JRh(U.cartItemCount),l.R7$(7),l.SpI("",U.cartItemCount," Items"),l.R7$(97),l.vxM(237,U.isCartEmpty?-1:237),l.R7$(),l.AVh("d-none",!U.isCartEmpty),l.R7$(9),l.Y8G("autoClose","outside"),l.R7$(6),l.JRh(U.notificationCount),l.R7$(7),l.SpI("",U.notificationCount," Items"),l.R7$(79),l.Y8G("ngIf",!U.isNotifyEmpty),l.R7$(),l.AVh("d-none",!U.isNotifyEmpty),l.R7$(88),l.Y8G("ngClass",l.eq3(20,Ui,U.isFullscreen)),l.R7$(3),l.Y8G("ngClass",l.eq3(22,Ui,!U.isFullscreen)))},dependencies:[qr.YU,qr.bT,_e.Wk,Ds.$G,Ds.tg,Ds.do,Ds.U0,Ds._H,ra.me,ra.BC,ra.vS,tl,qr.P9]})}}return W})();function dt(W){const S=document.querySelector(":root");Object.keys(W).forEach(F=>{S.style.setProperty(F,W[F])})}const an=W=>/^#([A-Fa-f0-9]{3,4}){1,2}$/.test(W),Dt=(W,S)=>W.match(new RegExp(`.{${S}}`,"g")),ln=W=>parseInt(W.repeat(2/W.length),16);function di(W){if(!an(W))return null;const S=Math.floor((W.length-1)/3),y=Dt(W.slice(1),S),[F,U,he,Me]=y.map(ln);return`${F}, ${U} ,${he}`}function x(W){if(!an(W))return null;const S=Math.floor((W.length-1)/3),y=Dt(W.slice(1),S),[F,U,he]=y.map(ln);return`${F+14}, ${U+14}, ${he+14}`}function Ct(W,S){W.forEach(y=>{dt({"--primary-rgb":di(S)})})}function Sn(){let W=document.querySelector("html");if("dark"==localStorage.getItem("data-header-styles")&&(W?.setAttribute("data-theme-mode","dark")||W?.setAttribute("data-theme-mode","light"))&&(document.getElementById("switcher-light").checked=!0),"rtl"==localStorage.getItem("vexel-dir")&&W?.setAttribute("dir","rtl"),localStorage.getItem("vexeldarktheme")){const S=localStorage.getItem("vexeldarktheme");W?.setAttribute("data-theme-mode",S)}if(localStorage.getItem("vexel-theme-mode")){const S=localStorage.getItem("vexel-theme-mode");W?.setAttribute("data-theme-mode",S)}if(localStorage.getItem("vexel-nav-mode")){const S=localStorage.getItem("vexel-nav-mode");W?.setAttribute("data-nav-layout",S),"horizontal"==S&&(W?.setAttribute("data-nav-style","menu-click"),W?.removeAttribute("data-vertical-style"))}if(localStorage.getItem("vexel-page-mode")){const S=localStorage.getItem("vexel-page-mode");W?.setAttribute("data-page-style",S)}if(localStorage.getItem("vexel-width-mode")){const S=localStorage.getItem("vexel-width-mode");W?.setAttribute("data-width",S)}if(localStorage.getItem("vexel-menu-position")){const S=localStorage.getItem("vexel-menu-position");W?.setAttribute("data-menu-position",S)}if(localStorage.getItem("vexel-menu-mode")){const S=localStorage.getItem("vexel-menu-mode");W?.setAttribute("data-menu-styles",S)}if(localStorage.getItem("vexel-header-position")){const S=localStorage.getItem("vexel-header-position");W?.setAttribute("data-header-position",S)}if(localStorage.getItem("vexelHeader")){const S=localStorage.getItem("vexelHeader");W?.setAttribute("data-header-styles",S)}if(localStorage.getItem("vexel-background-mode-body")){const S=localStorage.getItem("vexel-background-mode-body"),y=localStorage.getItem("vexel-background-mode-dark"),F=localStorage.getItem("vexel-background-mode-light"),U=localStorage.getItem("vexel-background-mode-formcontrol"),he=localStorage.getItem("vexel-background-mode-inputBorder"),Me=localStorage.getItem("vexeldarktheme");W?.style.setProperty("--body-bg-rgb",S),W?.style.setProperty("--body-bg-rgb2",y),W?.style.setProperty("--light-rgb",F),W?.style.setProperty("--form-control-bg",U),W?.style.setProperty("--input-border",he),W?.setAttribute("data-theme-mode",Me)}if(localStorage.getItem("bodyBgRGB")){const S=localStorage.getItem("bodyBgRGB"),y=localStorage.getItem("bodyBgRGB2"),F=localStorage.getItem("bodylightRGB"),U=localStorage.getItem("vexellight-background-formcontrol");W?.style.setProperty("--body-bg-rgb",S),W?.style.setProperty("--body-bg-rgb2",y),W?.style.setProperty("--light-rgb",F),W?.style.setProperty("--form-control-bg",U),W?.classList.add("dark")}if(localStorage.getItem("bodylightRGB")){const S=localStorage.getItem("bodyBgRGB"),y=localStorage.getItem("bodyBgRGB2"),F=localStorage.getItem("bodylightRGB"),U=localStorage.getItem("vexellight-background-formcontrol");W?.style.setProperty("--body-bg-rgb",S),W?.style.setProperty("--body-bg-rgb2",y),W?.style.setProperty("--light-rgb",F),W?.style.setProperty("--form-control-bg",U),W?.classList.add("dark")}if(localStorage.getItem("bodyBgRGB2")){const S=localStorage.getItem("bodyBgRGB"),y=localStorage.getItem("bodyBgRGB2"),F=localStorage.getItem("bodylightRGB"),U=localStorage.getItem("vexellight-background-formcontrol");W?.style.setProperty("--body-bg-rgb",S),W?.style.setProperty("--body-bg-rgb2",y),W?.style.setProperty("--light-rgb",F),W?.style.setProperty("--form-control-bg",U),W?.classList.add("dark")}if(localStorage.getItem("vexelMenu")){const S=localStorage.getItem("vexelMenu");W?.setAttribute("data-nav-style",S);const y=localStorage.getItem("vexelMenu-toggled");W?.setAttribute("data-toggled",y)}if(localStorage.getItem("vexelverticalstyles")){const S=localStorage.getItem("vexelverticalstyles");document.querySelector("html")?.setAttribute("data-vertical-style",S);const y=localStorage.getItem("vexelverticalstyles");if(document.querySelector("html")?.setAttribute("data-toggled",y),localStorage.getItem("data-vertical-style")==S)W?.setAttribute("data-toggled",y);else{const F=localStorage.getItem("vexelverticalstyles-toggled");document.querySelector("html")?.setAttribute("data-toggled",document.querySelector(".slide.open")?.classList.contains("has-sub")?F:"double-menu-close")}}if(localStorage.getItem("vexel-image")){const S=localStorage.getItem("vexel-image");W?.setAttribute("data-bg-img",S)}if(localStorage.getItem("vexel-primary-mode")){const S=localStorage.getItem("vexel-primary-mode");W?.style.setProperty("--primary-rgb",S)}if(localStorage.getItem("vexellight-primary-color")){const S=localStorage.getItem("vexellight-primary-color");W?.style.setProperty("--primary-rgb",S)}if(localStorage.getItem("vexellight-primary-color1")){const S=localStorage.getItem("vexellight-primary-color1");W?.style.setProperty("--primary",S)}}var Di=B(1562);function Ni(W,S){if(1&W){const y=l.RV6();l.j41(0,"div",16)(1,"div",17)(2,"p",18),l.EFF(3,"Theme Color Mode:"),l.k0s(),l.j41(4,"div",19)(5,"div",20)(6,"div",21)(7,"label",22),l.EFF(8,"Light"),l.k0s(),l.j41(9,"input",23),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.themeChange("light","light"))}),l.k0s()()(),l.j41(10,"div",20)(11,"div",21)(12,"label",24),l.EFF(13,"Dark"),l.k0s(),l.j41(14,"input",25),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.themeChange("dark","dark"))}),l.k0s()()(),l.j41(15,"div",20)(16,"div",21)(17,"label",26),l.EFF(18,"Glassmorphism Light"),l.k0s(),l.j41(19,"input",27),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.themeChange("glassmorphism-light","glassmorphism-light"))}),l.k0s()()()()(),l.j41(20,"div",17)(21,"p",18),l.EFF(22,"Directions:"),l.k0s(),l.j41(23,"div",19)(24,"div",20)(25,"div",21)(26,"label",28),l.EFF(27," LTR "),l.k0s(),l.j41(28,"input",29),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.DirectionsChange("ltr"))}),l.k0s()()(),l.j41(29,"div",20)(30,"div",21)(31,"label",30),l.EFF(32," RTL "),l.k0s(),l.j41(33,"input",31),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.DirectionsChange("rtl"))}),l.k0s()()()()(),l.j41(34,"div",17)(35,"p",18),l.EFF(36,"Navigation Styles:"),l.k0s(),l.j41(37,"div",19)(38,"div",32)(39,"div",21)(40,"label",33),l.EFF(41," Vertical "),l.k0s(),l.j41(42,"input",34),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.NavigationChange("vertical"))}),l.k0s()()(),l.j41(43,"div",32)(44,"div",21)(45,"label",35),l.EFF(46," Horizontal "),l.k0s(),l.j41(47,"input",36),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.NavigationChange("horizontal"))}),l.k0s()()()()(),l.j41(48,"div",37)(49,"p",18),l.EFF(50,"Vertical & Horizontal Menu Styles:"),l.k0s(),l.j41(51,"div",38)(52,"div",20)(53,"div",21)(54,"label",39),l.EFF(55," Menu Click "),l.k0s(),l.j41(56,"input",40),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.Menus("menu-click-closed","menu-click"))}),l.k0s()()(),l.j41(57,"div",20)(58,"div",21)(59,"label",41),l.EFF(60," Menu Hover "),l.k0s(),l.j41(61,"input",42),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.Menus("menu-hover-closed","menu-hover"))}),l.k0s()()(),l.j41(62,"div",20)(63,"div",21)(64,"label",43),l.EFF(65," Icon Click "),l.k0s(),l.j41(66,"input",44),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.Menus("icon-click-closed","icon-click"))}),l.k0s()()(),l.j41(67,"div",20)(68,"div",21)(69,"label",45),l.EFF(70," Icon Hover "),l.k0s(),l.j41(71,"input",46),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.Menus("icon-hover-closed","icon-hover"))}),l.k0s()()()()(),l.j41(72,"div",47)(73,"p",18),l.EFF(74,"Sidemenu Layout Styles:"),l.k0s(),l.j41(75,"div",38)(76,"div",48)(77,"div",21)(78,"label",49),l.EFF(79," Default Menu "),l.k0s(),l.j41(80,"input",50),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.SideMenus("overlay",""))}),l.k0s()()(),l.j41(81,"div",48)(82,"div",21)(83,"label",51),l.EFF(84," Closed Menu "),l.k0s(),l.j41(85,"input",52),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.SideMenus("close-menu-close","closed"))}),l.k0s()()(),l.j41(86,"div",48)(87,"div",21)(88,"label",53),l.EFF(89," Icon Text "),l.k0s(),l.j41(90,"input",54),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.SideMenus("icon-text-close","icontext"))}),l.k0s()()(),l.j41(91,"div",48)(92,"div",21)(93,"label",55),l.EFF(94," Icon Overlay "),l.k0s(),l.j41(95,"input",56),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.SideMenus("icon-overlay-close","overlay"))}),l.k0s()()(),l.j41(96,"div",48)(97,"div",21)(98,"label",57),l.EFF(99," Detached "),l.k0s(),l.j41(100,"input",58),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.SideMenus("detached-close","detached"))}),l.k0s()()(),l.j41(101,"div",48)(102,"div",21)(103,"label",59),l.EFF(104," Double Menu "),l.k0s(),l.j41(105,"input",60),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.SideMenus("double-menu-open","doublemenu"))}),l.k0s()()()()(),l.j41(106,"div",17)(107,"p",18),l.EFF(108,"Page Styles:"),l.k0s(),l.j41(109,"div",19)(110,"div",20)(111,"div",21)(112,"label",61),l.EFF(113," Regular "),l.k0s(),l.j41(114,"input",62),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.PageChange("regular"))}),l.k0s()()(),l.j41(115,"div",20)(116,"div",21)(117,"label",63),l.EFF(118," Classic "),l.k0s(),l.j41(119,"input",64),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.PageChange("classic"))}),l.k0s()()()()(),l.j41(120,"div",17)(121,"p",18),l.EFF(122,"Layout Width Styles:"),l.k0s(),l.j41(123,"div",19)(124,"div",32)(125,"div",21)(126,"label",65),l.EFF(127," Full Width "),l.k0s(),l.j41(128,"input",66),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.WidthChange("full-width"))}),l.k0s()()(),l.j41(129,"div",32)(130,"div",21)(131,"label",67),l.EFF(132," Boxed "),l.k0s(),l.j41(133,"input",68),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.WidthChange("boxed"))}),l.k0s()()()()(),l.j41(134,"div",17)(135,"p",18),l.EFF(136,"Menu Positions:"),l.k0s(),l.j41(137,"div",19)(138,"div",32)(139,"div",21)(140,"label",69),l.EFF(141," Fixed "),l.k0s(),l.j41(142,"input",70),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.MenuChange("fixed"))}),l.k0s()()(),l.j41(143,"div",32)(144,"div",21)(145,"label",71),l.EFF(146," Scrollable "),l.k0s(),l.j41(147,"input",72),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.MenuChange("scrollable"))}),l.k0s()()()()(),l.j41(148,"div",17)(149,"p",18),l.EFF(150,"Header Positions:"),l.k0s(),l.j41(151,"div",19)(152,"div",32)(153,"div",21)(154,"label",73),l.EFF(155," Fixed "),l.k0s(),l.j41(156,"input",74),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.HeaderChange("fixed"))}),l.k0s()()(),l.j41(157,"div",32)(158,"div",21)(159,"label",75),l.EFF(160," Scrollable "),l.k0s(),l.j41(161,"input",76),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.HeaderChange("scrollable"))}),l.k0s()()()()()()}if(2&W){const y=l.XpG();l.R7$(9),l.Y8G("checked","dark"!=y.localdata.vexeldarktheme),l.R7$(5),l.Y8G("checked","dark"==y.localdata.vexeldarktheme),l.R7$(5),l.Y8G("checked","glassmorphism-light"==y.localdata.vexeldarktheme),l.R7$(9),l.Y8G("checked","rtl"!=y.localdata["vexel-dir"]),l.R7$(5),l.Y8G("checked","rtl"==y.localdata["vexel-dir"]),l.R7$(9),l.Y8G("checked","horizontal"!=y.localdata["vexel-nav-mode"]),l.R7$(5),l.Y8G("checked","horizontal"==y.localdata["vexel-nav-mode"]),l.R7$(9),l.Y8G("checked","menu-click"==y.localdata.vexelMenu),l.R7$(5),l.Y8G("checked","menu-hover"==y.localdata.vexelMenu),l.R7$(5),l.Y8G("checked","icon-click"==y.localdata.vexelMenu),l.R7$(5),l.Y8G("checked","icon-hover"==y.localdata.vexelMenu),l.R7$(9),l.Y8G("checked","default-menu"==y.localdata.vexelverticalstyles||!y.localdata.vexelverticalstyles&&!y.localdata.vexelMenu),l.R7$(5),l.Y8G("checked","closed"==y.localdata.vexelverticalstyles),l.R7$(5),l.Y8G("checked","icontext"==y.localdata.vexelverticalstyles),l.R7$(5),l.Y8G("checked","overlay"==y.localdata.vexelverticalstyles),l.R7$(5),l.Y8G("checked","detached"==y.localdata.vexelverticalstyles),l.R7$(5),l.Y8G("checked","doublemenu"==y.localdata.vexelverticalstyles),l.R7$(9),l.Y8G("checked","classic"!=y.localdata["vexel-page-mode"]),l.R7$(5),l.Y8G("checked","classic"==y.localdata["vexel-page-mode"]),l.R7$(9),l.Y8G("checked","boxed"!=y.localdata["vexel-width-mode"]),l.R7$(5),l.Y8G("checked","boxed"==y.localdata["vexel-width-mode"]),l.R7$(9),l.Y8G("checked","scrollable"!=y.localdata["vexel-menu-mode"]),l.R7$(5),l.Y8G("checked","scrollable"==y.localdata["vexel-menu-mode"]),l.R7$(9),l.Y8G("checked","scrollable"!=y.localdata["vexel-header-position"]),l.R7$(5),l.Y8G("checked","scrollable"==y.localdata["vexel-header-position"])}}function sr(W,S){if(1&W){const y=l.RV6();l.j41(0,"div",77)(1,"div")(2,"div",78)(3,"p",18),l.EFF(4,"Menu Colors:"),l.k0s(),l.j41(5,"div",79)(6,"div",80)(7,"input",81),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.menuTheme("light"))}),l.k0s()(),l.j41(8,"div",80)(9,"input",82),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.menuTheme("dark"))}),l.k0s()(),l.j41(10,"div",80)(11,"input",83),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.menuTheme("color"))}),l.k0s()(),l.j41(12,"div",80)(13,"input",84),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.menuTheme("gradient"))}),l.k0s()(),l.j41(14,"div",80)(15,"input",85),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.menuTheme("transparent"))}),l.k0s()()(),l.j41(16,"div",86),l.EFF(17,"Note:If you want to change color Menu dynamically change from below Theme Primary color picker"),l.k0s()(),l.j41(18,"div",78)(19,"p",18),l.EFF(20,"Header Colors:"),l.k0s(),l.j41(21,"div",79)(22,"div",80)(23,"input",87),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.headerTheme("light"))}),l.k0s()(),l.j41(24,"div",80)(25,"input",88),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.headerTheme("dark"))}),l.k0s()(),l.j41(26,"div",80)(27,"input",89),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.headerTheme("color"))}),l.k0s()(),l.j41(28,"div",80)(29,"input",90),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.headerTheme("gradient"))}),l.k0s()(),l.j41(30,"div",80)(31,"input",91),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.headerTheme("transparent"))}),l.k0s()()(),l.j41(32,"div",86),l.EFF(33,"Note:If you want to change color Header dynamically change from below Theme Primary color picker"),l.k0s()(),l.j41(34,"div",78)(35,"p",18),l.EFF(36,"Theme Primary:"),l.k0s(),l.j41(37,"div",92)(38,"div",80)(39,"input",93),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.primary("58, 88, 146"))}),l.k0s()(),l.j41(40,"div",80)(41,"input",94),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.primary("92, 144, 163"))}),l.k0s()(),l.j41(42,"div",80)(43,"input",95),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.primary("161, 90, 223"))}),l.k0s()(),l.j41(44,"div",80)(45,"input",96),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.primary("78, 172 ,76"))}),l.k0s()(),l.j41(46,"div",80)(47,"input",97),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.primary("223, 90, 90"))}),l.k0s()(),l.j41(48,"div",98),l.nrm(49,"div",99),l.j41(50,"div",100)(51,"div",101)(52,"button",102),l.mxI("colorPickerChange",function(U){l.eBV(y);const he=l.XpG();return l.DH7(he.color1,U)||(he.color1=U),l.Njj(U)}),l.bIt("cpSliderDragEnd",function(U){l.eBV(y);const he=l.XpG();return l.Njj(he.dynamicLightPrimary(U))}),l.k0s()()()()()(),l.j41(53,"div",78)(54,"p",18),l.EFF(55,"Theme Background:"),l.k0s(),l.j41(56,"div",92)(57,"div",80)(58,"input",103),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.background("20, 30, 96","34, 44, 110","25, 38, 101","rgba(255,255,255,0.1)","rgb(25, 38, 101)","dark","dark"))}),l.k0s()(),l.j41(59,"div",80)(60,"input",104),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.background("8, 78, 115","22, 92, 129","13, 86, 120","rgba(255,255,255,0.1)","rgb(13, 86, 120)","dark","dark"))}),l.k0s()(),l.j41(61,"div",80)(62,"input",105),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.background("90, 37, 135","104, 51, 149","95, 45, 140","rgba(255,255,255,0.1)","rgb(95, 45, 140)","dark","dark"))}),l.k0s()(),l.j41(63,"div",80)(64,"input",106),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.background("24, 101, 51","38, 115, 65","29, 109, 56","rgba(255,255,255,0.1)","rgb(29, 109, 56)","dark","dark"))}),l.k0s()(),l.j41(65,"div",80)(66,"input",107),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.background("120, 66, 20","134, 80, 34","125, 74, 25","rgba(255,255,255,0.1)","rgb(125, 74, 25)","dark","dark"))}),l.k0s()(),l.j41(67,"div",108),l.nrm(68,"div",109),l.j41(69,"div",110)(70,"div",101)(71,"button",111),l.mxI("colorPickerChange",function(U){l.eBV(y);const he=l.XpG();return l.DH7(he.color1,U)||(he.color1=U),l.Njj(U)}),l.bIt("cpSliderDragEnd",function(U){l.eBV(y);const he=l.XpG();return l.Njj(he.dynamicTranparentBgPrimary(U))}),l.k0s()()()()()(),l.j41(72,"div",112)(73,"p",18),l.EFF(74,"Menu With Background Image:"),l.k0s(),l.j41(75,"div",92)(76,"div",113)(77,"input",114),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.ImageTheme("bgimg1"))}),l.k0s()(),l.j41(78,"div",113)(79,"input",115),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.ImageTheme("bgimg2"))}),l.k0s()(),l.j41(80,"div",113)(81,"input",116),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.ImageTheme("bgimg3"))}),l.k0s()(),l.j41(82,"div",113)(83,"input",117),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.ImageTheme("bgimg4"))}),l.k0s()(),l.j41(84,"div",113)(85,"input",118),l.bIt("click",function(){l.eBV(y);const U=l.XpG();return l.Njj(U.ImageTheme("bgimg5"))}),l.k0s()()()()()()}if(2&W){const y=l.XpG();l.R7$(7),l.Y8G("checked","light"==y.localdata["vexel-menu-mode"]),l.R7$(2),l.Y8G("checked","dark"==y.localdata["vexel-menu-mode"]),l.R7$(2),l.Y8G("checked","color"==y.localdata["vexel-menu-mode"]),l.R7$(2),l.Y8G("checked","gradient"==y.localdata["vexel-menu-mode"]),l.R7$(2),l.Y8G("checked","transparent"==y.localdata["vexel-menu-mode"]),l.R7$(8),l.Y8G("checked","light"==y.localdata.vexelHeader),l.R7$(2),l.Y8G("checked","dark"==y.localdata.vexelHeader),l.R7$(2),l.Y8G("checked","color"==y.localdata.vexelHeader),l.R7$(2),l.Y8G("checked","gradient"==y.localdata.vexelHeader),l.R7$(2),l.Y8G("checked","transparent"==y.localdata.vexelHeader),l.R7$(10),l.Y8G("checked","92 144 163"==y.localdata["vexel-primary-mode"]),l.R7$(2),l.Y8G("checked","161 90 223"==y.localdata["vexel-primary-mode"]),l.R7$(2),l.Y8G("checked","78 172 76"==y.localdata["vexel-primary-mode"]),l.R7$(2),l.Y8G("checked","223 90 90"==y.localdata["vexel-primary-mode"]),l.R7$(5),l.xc7("background",y.color1),l.Y8G("cpAlphaChannel","disabled")("cpOutputFormat","hex"),l.R50("colorPicker",y.color1),l.R7$(6),l.Y8G("checked","50 62 93"==y.localdata["vexel-background-mode-dark"]),l.R7$(2),l.Y8G("checked","81 93 50"==y.localdata["vexel-background-mode-dark"]),l.R7$(2),l.Y8G("checked","79 50 93"==y.localdata["vexel-background-mode-dark"]),l.R7$(2),l.Y8G("checked","50 87 93"==y.localdata["vexel-background-mode-dark"]),l.R7$(2),l.Y8G("checked","93 50 50"==y.localdata["vexel-background-mode-dark"]),l.R7$(5),l.xc7("background",y.color1),l.Y8G("cpAlphaChannel","disabled")("cpOutputFormat","hex"),l.R50("colorPicker",y.color1),l.R7$(6),l.Y8G("checked","bgimg1"==y.localdata["vexel-image"]),l.R7$(2),l.Y8G("checked","bgimg2"==y.localdata["vexel-image"]),l.R7$(2),l.Y8G("checked","bgimg3"==y.localdata["vexel-image"]),l.R7$(2),l.Y8G("checked","bgimg4"==y.localdata["vexel-image"]),l.R7$(2),l.Y8G("checked","bgimg5"==y.localdata["vexel-image"])}}let Qn=(()=>{class W{constructor(y,F,U){this.renderer=y,this.elementRef=F,this.navServices=U,this.body=document.querySelector("body"),this.doubleMenuActive=!1,this.color4="#6c5ffc",this.color1="#1457e6",this.color="#1ae715",this.localdata=localStorage,this.active=1,this.renderer.setAttribute(this.elementRef.nativeElement.ownerDocument.documentElement,"data-menu-styles","dark")}SwitcherClose(){document.querySelector(".offcanvas-end")?.classList.remove("show"),document.querySelector("body").classList.remove("overflow:hidden"),document.querySelector("body").classList.remove("padding-right:4px"),document.querySelector(".switcher-backdrop")?.classList.remove("d-block"),document.querySelector(".switcher-backdrop")?.classList.add("d-none")}themeChange(y,F){const U=this.elementRef.nativeElement.ownerDocument.documentElement;this.renderer.setAttribute(U,"data-theme-mode",y),localStorage.setItem("vexeldarktheme",y),localStorage.removeItem("vexel-background-mode-body"),localStorage.removeItem("vexel-background-mode-dark"),localStorage.removeItem("vexel-background-mode-light"),localStorage.removeItem("vexel-background-mode-formcontrol"),localStorage.removeItem("vexel-background-mode-inputBorder"),this.elementRef.nativeElement.ownerDocument.documentElement?.removeAttribute("style"),this.renderer.setAttribute(U,"data-header-styles",F),localStorage.setItem("vexelHeader",F),"light"==localStorage.getItem("vexeldarktheme")&&(localStorage.removeItem("vexel-background-mode-body"),localStorage.removeItem("vexel-background-mode-dark"),localStorage.removeItem("vexel-background-mode-light"),localStorage.removeItem("vexel-background-mode-formcontrol"),localStorage.removeItem("vexel-background-mode-inputBorder"),this.elementRef.nativeElement.ownerDocument.documentElement?.removeAttribute("style")),"light"==localStorage.getItem("vexelHeader")&&(this.elementRef.nativeElement.ownerDocument.documentElement?.removeAttribute("style"),this.body=document.querySelector("body"),this.body?.classList.remove("dark"))}DirectionsChange(y){this.renderer.setAttribute(this.elementRef.nativeElement.ownerDocument.documentElement,"dir",y),localStorage.setItem("vexel-dir",y)}NavigationChange(y){const F=this.elementRef.nativeElement.ownerDocument.documentElement;this.renderer.setAttribute(F,"data-nav-layout",y),"horizontal"==y&&(this.renderer.setAttribute(F,"data-nav-style","menu-click"),this.renderer.removeAttribute(F,"data-vertical-style"),localStorage.removeItem("vexelverticalstyles"),document.getElementById("switcher-menu-click").checked=!0),localStorage.setItem("vexel-nav-mode",y)}Menustyles(y,F){const U=this.elementRef.nativeElement.ownerDocument.documentElement;localStorage.setItem("vexelMenu",y),this.renderer.setAttribute(U,"data-toggled",F),localStorage.setItem("vexelMenu-toggled",F),this.renderer.setAttribute(U,"data-toggled",F),localStorage.setItem("vexelMenu-toggled",F)}Menus(y,F){this.navServices.items.subscribe(he=>{this.menuItems=he});const U=this.elementRef.nativeElement.ownerDocument.documentElement;this.renderer.setAttribute(U,"data-nav-style",F),localStorage.setItem("vexelMenu",F),localStorage.setItem("vexelMenu-toggled",y),this.renderer.setAttribute(U,"data-toggled",y),this.renderer.removeAttribute(U,"data-vertical-style"),localStorage.removeItem("vexelverticalstyles"),localStorage.removeItem("vexelverticalstyles-toggled")}SideMenus(y,F){this.setAttr("data-vertical-style",F),this.removeAttr("data-nav-style"),"doublemenu"!=F||document.querySelector(".double-menu-active")?this.setAttr("data-toggled",y):this.setAttr("data-toggled","double-menu-close"),localStorage.setItem("vexelverticalstyles",F),localStorage.setItem("vexelverticalstyles-toggled",y),this.navServices.items.subscribe(U=>{this.menuItems=U})}setAttr(y,F){this.renderer.setAttribute(this.elementRef.nativeElement.ownerDocument.documentElement,y,F)}removeAttr(y){this.renderer.removeAttribute(this.elementRef.nativeElement.ownerDocument.documentElement,y)}PageChange(y){this.renderer.setAttribute(this.elementRef.nativeElement.ownerDocument.documentElement,"data-page-style",y),localStorage.setItem("vexel-page-mode",y)}WidthChange(y){this.renderer.setAttribute(this.elementRef.nativeElement.ownerDocument.documentElement,"data-width",y),localStorage.setItem("vexel-width-mode",y)}MenuChange(y){this.renderer.setAttribute(this.elementRef.nativeElement.ownerDocument.documentElement,"data-menu-position",y),localStorage.setItem("vexel-menu-position",y)}menuTheme(y){if(this.renderer.setAttribute(this.elementRef.nativeElement.ownerDocument.documentElement,"data-menu-styles",y),localStorage.setItem("vexel-menu-mode",y),"dark"==y){const U=document.getElementById("switcher-menu-dark");U&&(U.checked=!0)}}HeaderChange(y){this.renderer.setAttribute(this.elementRef.nativeElement.ownerDocument.documentElement,"data-header-position",y),localStorage.setItem("vexel-header-position",y)}headerTheme(y){this.renderer.setAttribute(this.elementRef.nativeElement.ownerDocument.documentElement,"data-header-styles",y),localStorage.setItem("vexelHeader",y)}closeMenu(y){("icon-hover"==y||"menu-hover"==y)&&this.menuItems?.forEach(F=>{this.menuItems&&(F.active=!1),F?.children?.forEach(U=>{F.children&&(U.active=!1)})})}primary(y){this.elementRef.nativeElement.ownerDocument.documentElement?.style.setProperty("--primary-rgb",y),localStorage.setItem("vexel-primary-mode",y)}background(y,F,U,he,Me,Je,Vt){this.elementRef.nativeElement.ownerDocument.documentElement?.style.setProperty("--body-bg-rgb",y),this.elementRef.nativeElement.ownerDocument.documentElement?.style.setProperty("--body-bg-rgb2",F),this.elementRef.nativeElement.ownerDocument.documentElement?.style.setProperty("--light-rgb",U),this.elementRef.nativeElement.ownerDocument.documentElement?.style.setProperty("--form-control-bg",Me),this.elementRef.nativeElement.ownerDocument.documentElement?.style.setProperty("--input-border",he),localStorage.setItem("vexel-background-mode-body",y),localStorage.setItem("vexel-background-mode-dark",F),localStorage.setItem("vexel-background-mode-light",U),localStorage.setItem("vexel-background-mode-formcontrol",Me),localStorage.setItem("vexel-background-mode-inputBorder",he),this.elementRef.nativeElement.ownerDocument.documentElement?.setAttribute("data-theme-mode",Je),localStorage.setItem("vexeldarktheme",Je),this.elementRef.nativeElement.ownerDocument.documentElement?.setAttribute("data-header-styles",Vt),localStorage.setItem("vexelHeader",Vt),localStorage.removeItem("bodyBgRGB2"),localStorage.removeItem("bodyBgRGB"),localStorage.removeItem("bodylightRGB"),localStorage.removeItem("vexellight-background-formcontrol"),localStorage.removeItem("vexellight-background-inputBorder")}dynamicLightPrimary(y){this.color1=y.color,Ct(document.querySelectorAll("button.pcr-button"),this.color1),localStorage.setItem("vexellight-primary-color",di(this.color1)||""),localStorage.setItem("vexellight-mode","true"),this.body?.classList.remove("transparent-mode"),this.body?.classList.add("light-mode"),this.body?.classList.remove("dark"),this.body?.classList.remove("bg-img1"),localStorage.removeItem("vexel-primary-mode")}dynamicTranparentBgPrimary(y){this.color4=y.color,function Pt(W,S){W.forEach(y=>{dt({"--body-bg-rgb":di(S),"--body-bg-rgb2":x(S),"--light-rgb":x(S),"--form-control-bg":x(S)})})}(document.querySelectorAll("button.pcr-button"),this.color4),localStorage.setItem("bodyBgRGB",di(this.color4)||""),localStorage.setItem("bodyBgRGB2",x(this.color4)||""),localStorage.setItem("bodylightRGB",x(this.color4)||""),localStorage.setItem("vexeldarktheme","dark"),localStorage.setItem("vexelHeader","dark"),localStorage.setItem("vexellight-background-formcontrol",x(this.color4)||"");const U=this.elementRef.nativeElement.ownerDocument.documentElement;U.setAttribute("data-header-styles","dark"),U.setAttribute("data-theme-mode","dark"),localStorage.removeItem("vexelDark"),localStorage.removeItem("vexelLight"),this.elementRef.nativeElement.ownerDocument.documentElement?.classList.add("dark"),document.querySelector(".app-header")?.classList.add("hor-header","fixed-header","visible-title","stickyClass"),localStorage.removeItem("vexel-header-styles"),localStorage.removeItem("vexellight-primary-hover"),localStorage.removeItem("vexellight-primary-border"),localStorage.removeItem("vexeldark-primary-color"),localStorage.removeItem("vexeltransparent-bgImg-primary-color"),localStorage.removeItem("vexelBgImage"),localStorage.removeItem("vexel-background-mode-body"),localStorage.removeItem("vexel-background-mode-dark")}ImageTheme(y){this.elementRef.nativeElement.ownerDocument.documentElement?.setAttribute("data-bg-img",y),localStorage.setItem("vexel-image",y)}reset(){localStorage.clear();const y=this.elementRef.nativeElement.ownerDocument.documentElement,F=document.querySelector("body");y.style="",y.setAttribute("data-theme-mode","light"),y.setAttribute("data-vertical-style","overlay"),y.setAttribute("dir","ltr"),y.setAttribute("data-nav-layout","vertical"),y.removeAttribute("data-page-style","regular"),y.removeAttribute("data-width","full-width"),y.removeAttribute("data-menu-position","fixed"),y.removeAttribute("data-header-position","fixed"),y.setAttribute("data-header-styles","light"),y.setAttribute("data-menu-styles","dark"),y.removeAttribute("data-bg-img","dark"),y.removeAttribute("data-toggled","overlay"),F.removeAttribute("data-theme-mode"),y.removeAttribute("data-nav-style"),localStorage.setItem("vexel-menu-mode","dark");const U=document.getElementById("switcher-menu-dark");U&&(U.checked=!0);const he=document.getElementById("switcher-menu-click");he&&(he.checked=!1);const Me=document.getElementById("switcher-light-theme");Me&&(Me.checked=!0);const Je=document.getElementById("switcher-ltr");Je&&(Je.checked=!0);const Vt=document.getElementById("switcher-vertical");Vt&&(Vt.checked=!0);const on=document.getElementById("switcher-default-menu");on&&(on.checked=!0)}ngOnInit(){Sn(),this.closeMenu(localStorage.getItem("vexelMenus"))}static{this.\u0275fac=function(F){return new(F||W)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(Dl))}}static{this.\u0275cmp=l.VBU({type:W,selectors:[["app-switcher"]],decls:21,vars:4,consts:[["nav","ngbNav"],[1,"switcher-backdrop","d-none",3,"click"],["tabindex","-1","id","switcher-canvas","aria-labelledby","offcanvasRightLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header","border-bottom"],["id","offcanvasRightLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset",3,"click"],[1,"fe","fe-x","fs-18"],[1,"offcanvas-body"],["ngbNav","","id","switcher-main-tab","role","tablist",1,"nav","nav-tabs","nav-justified",3,"activeIdChange","activeId"],["id","switcher-home-tab","role","presentation","ngbNavLink","",1,"nav","nav-tabs","nav-justified",3,"ngbNavItem"],["ngbNavContent",""],["id","switcher-profile-tab","role","presentation","ngbNavLink","","data-bs-target","#switcher-profile",1,"nav","nav-tabs","nav-justified",3,"ngbNavItem"],["id","nav-tabContent",1,"tab-content"],[3,"ngbNavOutlet"],[1,"d-flex","justify-content-center","canvas-footer","flex-wrap"],["href","javascript:void(0);","id","reset-all",1,"btn","btn-danger","m-1",3,"click"],["id","switcher-home","role","tabpanel","aria-labelledby","switcher-home-tab","tabindex","0",1,"tab-pane","fade","show","active","border-0"],[1,""],[1,"switcher-style-head"],[1,"row","switcher-style","gx-0"],[1,"col-4"],[1,"form-check","switch-select"],["for","switcher-light-theme",1,"form-check-label"],["type","radio","name","theme-style","id","switcher-light-theme",1,"form-check-input",3,"click","checked"],["for","switcher-dark-theme",1,"form-check-label"],["type","radio","name","theme-style","id","switcher-dark-theme",1,"form-check-input",3,"click","checked"],["for","switcher-glassmorphism-light",1,"form-check-label"],["type","radio","name","theme-style","id","switcher-glassmorphism-light",1,"form-check-input",3,"click","checked"],["for","switcher-ltr",1,"form-check-label"],["type","radio","name","direction","id","switcher-ltr",1,"form-check-input",3,"click","checked"],["for","switcher-rtl",1,"form-check-label"],["type","radio","name","direction","id","switcher-rtl",1,"form-check-input",3,"click","checked"],[1,"col-sm-4","col-6"],["for","switcher-vertical",1,"form-check-label"],["type","radio","name","navigation-style","id","switcher-vertical",1,"form-check-input",3,"click","checked"],["for","switcher-horizontal",1,"form-check-label"],["type","radio","name","navigation-style","id","switcher-horizontal",1,"form-check-input",3,"click","checked"],[1,"navigation-menu-styles"],[1,"row","switcher-style","gx-0","pb-2","gy-2"],["for","switcher-menu-click",1,"form-check-label"],["type","radio","name","navigation-menu-styles","id","switcher-menu-click",1,"form-check-input",3,"click","checked"],["for","switcher-menu-hover",1,"form-check-label"],["type","radio","name","navigation-menu-styles","id","switcher-menu-hover",1,"form-check-input",3,"click","checked"],["for","switcher-icon-click",1,"form-check-label"],["type","radio","name","navigation-menu-styles","id","switcher-icon-click",1,"form-check-input",3,"click","checked"],["for","switcher-icon-hover",1,"form-check-label"],["type","radio","name","navigation-menu-styles","id","switcher-icon-hover",1,"form-check-input",3,"click","checked"],[1,"sidemenu-layout-styles"],[1,"col-sm-6"],["for","switcher-default-menu",1,"form-check-label"],["type","radio","name","sidemenu-layout-styles","id","switcher-default-menu",1,"form-check-input",3,"click","checked"],["for","switcher-closed-menu",1,"form-check-label"],["type","radio","name","sidemenu-layout-styles","id","switcher-closed-menu",1,"form-check-input",3,"click","checked"],["for","switcher-icontext-menu",1,"form-check-label"],["type","radio","name","sidemenu-layout-styles","id","switcher-icontext-menu",1,"form-check-input",3,"click","checked"],["for","switcher-icon-overlay",1,"form-check-label"],["type","radio","name","sidemenu-layout-styles","id","switcher-icon-overlay",1,"form-check-input",3,"click","checked"],["for","switcher-detached",1,"form-check-label"],["type","radio","name","sidemenu-layout-styles","id","switcher-detached",1,"form-check-input",3,"click","checked"],["for","switcher-double-menu",1,"form-check-label"],["type","radio","name","sidemenu-layout-styles","id","switcher-double-menu",1,"form-check-input",3,"click","checked"],["for","switcher-regular",1,"form-check-label"],["type","radio","name","page-styles","id","switcher-regular",1,"form-check-input",3,"click","checked"],["for","switcher-classic",1,"form-check-label"],["type","radio","name","page-styles","id","switcher-classic",1,"form-check-input",3,"click","checked"],["for","switcher-full-width",1,"form-check-label"],["type","radio","name","layout-width","id","switcher-full-width",1,"form-check-input",3,"click","checked"],["for","switcher-boxed",1,"form-check-label"],["type","radio","name","layout-width","id","switcher-boxed",1,"form-check-input",3,"click","checked"],["for","switcher-menu-fixed",1,"form-check-label"],["type","radio","name","menu-positions","id","switcher-menu-fixed",1,"form-check-input",3,"click","checked"],["for","switcher-menu-scroll",1,"form-check-label"],["type","radio","name","menu-positions","id","switcher-menu-scroll",1,"form-check-input",3,"click","checked"],["for","switcher-header-fixed",1,"form-check-label"],["type","radio","name","header-positions","id","switcher-header-fixed",1,"form-check-input",3,"click","checked"],["for","switcher-header-scroll",1,"form-check-label"],["type","radio","name","header-positions","id","switcher-header-scroll",1,"form-check-input",3,"click","checked"],["id","switcher-profile","role","tabpanel","aria-labelledby","switcher-profile-tab","tabindex","0",1,"tab-pane","border-0"],[1,"theme-colors"],[1,"d-flex","switcher-style","pb-2"],[1,"form-check","switch-select","me-3"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Light Menu","type","radio","name","menu-colors","id","switcher-menu-light",1,"form-check-input","color-input","color-white",3,"click","checked"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Dark Menu","type","radio","name","menu-colors","id","switcher-menu-dark",1,"form-check-input","color-input","color-dark",3,"click","checked"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Color Menu","type","radio","name","menu-colors","id","switcher-menu-primary",1,"form-check-input","color-input","color-primary",3,"click","checked"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Gradient Menu","type","radio","name","menu-colors","id","switcher-menu-gradient",1,"form-check-input","color-input","color-gradient",3,"click","checked"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Transparent Menu","type","radio","name","menu-colors","id","switcher-menu-transparent",1,"form-check-input","color-input","color-transparent",3,"click","checked"],[1,"px-4","pb-3","text-muted","fs-11"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Light Header","type","radio","name","header-colors","id","switcher-header-light",1,"form-check-input","color-input","color-white",3,"click","checked"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Dark Header","type","radio","name","header-colors","id","switcher-header-dark",1,"form-check-input","color-input","color-dark",3,"click","checked"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Color Header","type","radio","name","header-colors","id","switcher-header-primary",1,"form-check-input","color-input","color-primary",3,"click","checked"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Gradient Header","type","radio","name","header-colors","id","switcher-header-gradient",1,"form-check-input","color-input","color-gradient",3,"click","checked"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Transparent Header","type","radio","name","header-colors","id","switcher-header-transparent",1,"form-check-input","color-input","color-transparent",3,"click","checked"],[1,"d-flex","flex-wrap","align-items-center","switcher-style"],["type","radio","name","theme-primary","id","switcher-primary",1,"form-check-input","color-input","color-primary-1",3,"click"],["type","radio","name","theme-primary","id","switcher-primary1",1,"form-check-input","color-input","color-primary-2",3,"click","checked"],["type","radio","name","theme-primary","id","switcher-primary2",1,"form-check-input","color-input","color-primary-3",3,"click","checked"],["type","radio","name","theme-primary","id","switcher-primary3",1,"form-check-input","color-input","color-primary-4",3,"click","checked"],["type","radio","name","theme-primary","id","switcher-primary4",1,"form-check-input","color-input","color-primary-5",3,"click","checked"],[1,"form-check","switch-select","ps-0","mt-1","color-primary-light"],[1,"theme-container-primary"],[1,"pickr-container-primary"],[1,"pickr"],["type","button","role","button","aria-label","toggle color picker dialog","id","lightPrimaryColorID",1,"pcr-button",2,"--pcr-color","rgba(132, 90, 223, 1)",3,"colorPickerChange","cpSliderDragEnd","cpAlphaChannel","cpOutputFormat","colorPicker"],["type","radio","name","theme-background","id","switcher-background",1,"form-check-input","color-input","color-bg-1",3,"click","checked"],["type","radio","name","theme-background","id","switcher-background1",1,"form-check-input","color-input","color-bg-2",3,"click","checked"],["type","radio","name","theme-background","id","switcher-background2",1,"form-check-input","color-input","color-bg-3",3,"click","checked"],["type","radio","name","theme-background","id","switcher-background3",1,"form-check-input","color-input","color-bg-4",3,"click","checked"],["type","radio","name","theme-background","id","switcher-background4",1,"form-check-input","color-input","color-bg-5",3,"click","checked"],[1,"form-check","switch-select","ps-0","mt-1","tooltip-static-demo","color-bg-transparent"],[1,"theme-container-background"],[1,"pickr-container-background"],["type","button","role","button","aria-label","toggle color picker dialog",1,"color-bg-transparent","pcr-button",2,"--pcr-color","rgba(132, 90, 223, 1)",3,"colorPickerChange","cpSliderDragEnd","cpAlphaChannel","cpOutputFormat","colorPicker"],[1,"menu-image","mb-3"],[1,"form-check","switch-select","m-2"],["type","radio","name","theme-background","id","switcher-bg-img",1,"form-check-input","bgimage-input","bg-img1",3,"click","checked"],["type","radio","name","theme-background","id","switcher-bg-img1",1,"form-check-input","bgimage-input","bg-img2",3,"click","checked"],["type","radio","name","theme-background","id","switcher-bg-img2",1,"form-check-input","bgimage-input","bg-img3",3,"click","checked"],["type","radio","name","theme-background","id","switcher-bg-img3",1,"form-check-input","bgimage-input","bg-img4",3,"click","checked"],["type","radio","name","theme-background","id","switcher-bg-img4",1,"form-check-input","bgimage-input","bg-img5",3,"click","checked"]],template:function(F,U){if(1&F){const he=l.RV6();l.j41(0,"div",1),l.bIt("click",function(){return l.eBV(he),l.Njj(U.SwitcherClose())}),l.k0s(),l.j41(1,"div",2)(2,"div",3)(3,"h5",4),l.EFF(4,"Switcher"),l.k0s(),l.j41(5,"button",5),l.bIt("click",function(){return l.eBV(he),l.Njj(U.SwitcherClose())}),l.nrm(6,"i",6),l.k0s()(),l.j41(7,"div",7)(8,"ul",8,0),l.mxI("activeIdChange",function(Je){return l.eBV(he),l.DH7(U.active,Je)||(U.active=Je),l.Njj(Je)}),l.j41(10,"button",9),l.EFF(11,"Theme Styles "),l.DNE(12,Ni,162,25,"ng-template",10),l.k0s(),l.j41(13,"button",11),l.EFF(14,"Theme Colors "),l.DNE(15,sr,86,34,"ng-template",10),l.k0s()(),l.j41(16,"div",12),l.nrm(17,"div",13),l.j41(18,"div",14)(19,"a",15),l.bIt("click",function(){return l.eBV(he),l.Njj(U.reset())}),l.EFF(20,"Reset"),l.k0s()()()()()}if(2&F){const he=l.sdS(9);l.R7$(8),l.R50("activeId",U.active),l.R7$(2),l.Y8G("ngbNavItem",1),l.R7$(3),l.Y8G("ngbNavItem",2),l.R7$(4),l.Y8G("ngbNavOutlet",he)}},dependencies:[Ds.Um,Ds.X9,Ds.sy,Ds.Gx,Ds.RI,Ds.WA,Ds.m_,Di.bk]})}}return W})();const vi=W=>({display:W});let ui=(()=>{class W{constructor(y){this.viewScroller=y,this.show=!1}ngOnInit(){}onWindowScroll(){this.show=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>600}taptotop(){document.querySelector("body").style.scrollBehavior="smooth",this.viewScroller.scrollToPosition([0,0])}static{this.\u0275fac=function(F){return new(F||W)(l.rXU(qr.Xr))}}static{this.\u0275cmp=l.VBU({type:W,selectors:[["app-tab-to-top"]],hostBindings:function(F,U){1&F&&l.bIt("scroll",function(){return U.onWindowScroll()},!1,l.tSv)},decls:3,vars:3,consts:[[1,"scrollToTop",2,"display","flex",3,"click","ngStyle"],[1,"arrow"],[1,"fa","fa-angle-up","fs-20"]],template:function(F,U){1&F&&(l.j41(0,"div",0),l.bIt("click",function(){return U.taptotop()}),l.j41(1,"span",1),l.nrm(2,"i",2),l.k0s()()),2&F&&l.Y8G("ngStyle",l.eq3(1,vi,U.show?"flex":"none"))},dependencies:[qr.B3]})}}return W})(),Fn=(()=>{class W{constructor(y,F,U){this.eleRef=y,this.render=F,this.elementRef=U}onHover(){window.innerWidth>768&&this.elementRef.nativeElement.ownerDocument.documentElement?.setAttribute("data-icon-overlay","open")}onLeave(){window.innerWidth>768&&this.elementRef.nativeElement.ownerDocument.documentElement?.removeAttribute("data-icon-overlay")}static{this.\u0275fac=function(F){return new(F||W)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(l.aKT))}}static{this.\u0275dir=l.FsC({type:W,selectors:[["","appHoverEffectSidebar",""]],hostBindings:function(F,U){1&F&&l.bIt("mouseover",function(){return U.onHover()})("mouseleave",function(){return U.onLeave()})}})}}return W})(),In=(()=>{class W{static{this.\u0275fac=function(F){return new(F||W)}}static{this.\u0275cmp=l.VBU({type:W,selectors:[["app-footer"]],decls:15,vars:0,consts:[[1,"footer"],[1,"container"],[1,"row","align-items-center","flex-row-reverse"],[1,"col-md-12","col-sm-12","text-center"],["id","year"],["href","javascript:void(0);"],[1,"fa","fa-heart","text-danger"]],template:function(F,U){1&F&&(l.j41(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3),l.EFF(4," Copyright \xa9 "),l.j41(5,"span",4),l.EFF(6,"2024 "),l.k0s(),l.j41(7,"a",5),l.EFF(8," Vexel"),l.k0s(),l.EFF(9,". Designed with "),l.nrm(10,"span",6),l.EFF(11," by "),l.j41(12,"a",5),l.EFF(13," Spruko "),l.k0s(),l.EFF(14," All rights reserved. "),l.k0s()()()())}})}}return W})(),_n=(()=>{class W{constructor(y,F,U,he){this.router=y,this.navServices=F,this.elementRef=U,this.renderer=he,this.router.events.pipe((0,ea.p)(Me=>Me instanceof _e.wF)).subscribe(()=>{window.scrollTo(0,0)}),document.body.classList.remove("landing-page","ltr"),document.body.classList.add("sidebar-mini"),document.body.classList.add("app"),this.navServices.items.subscribe(Me=>{this.menuItems=Me})}togglesidemenuBody(){document.querySelector(".offcanvas-end")?.classList.remove("show"),document.querySelector("body").classList.remove("overflow:hidden"),document.querySelector("body").classList.remove("padding-right:4px"),"icontext"==localStorage.getItem("vexelverticalstyles")&&document.documentElement.removeAttribute("icon-text"),"horizontal"==document.documentElement.getAttribute("data-nav-layout")&&window.innerWidth>992&&this.closeMenu();let y=this.elementRef.nativeElement.ownerDocument.documentElement;window.innerWidth<=992&&y?.setAttribute("data-toggled",(y?.getAttribute("data-toggled"),"close")),document.querySelector(".header-search")?.classList.remove("searchdrop")}closeMenu(){this.menuItems?.forEach(y=>{this.menuItems&&(y.active=!1),y?.children?.forEach(F=>{y.children&&(F.active=!1)})})}clearToggle(){this.elementRef.nativeElement.ownerDocument.documentElement?.setAttribute("data-toggled","open"),document.querySelector("#responsive-overlay")?.classList.remove("active")}static{this.\u0275fac=function(F){return new(F||W)(l.rXU(_e.Ix),l.rXU(Dl),l.rXU(l.aKT),l.rXU(l.sFG))}}static{this.\u0275cmp=l.VBU({type:W,selectors:[["app-content-layout"]],decls:10,vars:0,consts:[[1,"page"],[1,"page-main"],["appHoverEffectSidebar",""],[1,"main-content","app-content","mt-0",3,"click"],["id","responsive-overlay",3,"click"]],template:function(F,U){1&F&&(l.nrm(0,"app-switcher"),l.j41(1,"div",0)(2,"div",1),l.nrm(3,"app-header")(4,"app-sidebar",2),l.j41(5,"div",3),l.bIt("click",function(){return U.togglesidemenuBody()}),l.nrm(6,"router-outlet"),l.k0s()(),l.nrm(7,"app-footer")(8,"app-tab-to-top"),l.k0s(),l.j41(9,"div",4),l.bIt("click",function(){return U.clearToggle()}),l.k0s())},dependencies:[_e.n3,ia,We,Qn,ui,Fn,In]})}}return W})();const Ln=[{path:"",children:[{path:"",loadChildren:()=>B.e(9574).then(B.bind(B,9574)).then(W=>W.dashboardRoutingModule)},{path:"",loadChildren:()=>B.e(5386).then(B.bind(B,5386)).then(W=>W.widgetsRoutingModule)},{path:"",loadChildren:()=>B.e(98).then(B.bind(B,98)).then(W=>W.uikitRoutingModule)},{path:"",loadChildren:()=>B.e(454).then(B.bind(B,454)).then(W=>W.formsmoduleRoutingModule)},{path:"",loadChildren:()=>B.e(4490).then(B.bind(B,4490)).then(W=>W.tablesRoutingModule)},{path:"",loadChildren:()=>B.e(754).then(B.bind(B,754)).then(W=>W.adminuiRoutingModule)},{path:"",loadChildren:()=>B.e(7390).then(B.bind(B,7390)).then(W=>W.mapsRoutingModule)},{path:"",loadChildren:()=>B.e(6710).then(B.bind(B,6710)).then(W=>W.chartsRoutingModule)},{path:"",loadChildren:()=>B.e(3414).then(B.bind(B,3414)).then(W=>W.pagesRoutingModule)},{path:"",loadChildren:()=>B.e(1027).then(B.bind(B,1027)).then(W=>W.extensionRoutingModule)},{path:"",loadChildren:()=>B.e(7163).then(B.bind(B,7163)).then(W=>W.ecommerceRoutingModule)},{path:"",loadChildren:()=>B.e(778).then(B.bind(B,778)).then(W=>W.filemanagerRoutingModule)},{path:"",loadChildren:()=>B.e(9538).then(B.bind(B,9538)).then(W=>W.iconsRoutingModule)}]}];let is=(()=>{class W{constructor(){document.body.classList.remove("landing-page"),document.body.classList.remove("sidebar-mini"),document.body.classList.remove("app")}static{this.\u0275fac=function(F){return new(F||W)}}static{this.\u0275cmp=l.VBU({type:W,selectors:[["app-authentication-layout"]],decls:2,vars:0,consts:[[1,"page"]],template:function(F,U){1&F&&(l.j41(0,"div",0),l.nrm(1,"router-outlet"),l.k0s())},dependencies:[_e.n3]})}}return W})();const Gr=[{path:"authentication",children:[{path:"login",loadComponent:()=>B.e(8218).then(B.bind(B,8218)).then(W=>W.LoginComponent)},{path:"register",loadComponent:()=>B.e(3550).then(B.bind(B,3550)).then(W=>W.RegisterComponent)},{path:"lock-screen",loadComponent:()=>B.e(6018).then(B.bind(B,6018)).then(W=>W.LockScreenComponent)},{path:"forgot-password",loadComponent:()=>B.e(2990).then(B.bind(B,2990)).then(W=>W.ForgotPasswordComponent)},{path:"under-maintainance",loadComponent:()=>B.e(2898).then(B.bind(B,2898)).then(W=>W.UnderMaintainanceComponent)}]}],rs=[{path:"error-pages",children:[{path:"error400",loadComponent:()=>B.e(7756).then(B.bind(B,7756)).then(W=>W.Error400Component)},{path:"error401",loadComponent:()=>B.e(4974).then(B.bind(B,4974)).then(W=>W.Error401Component)},{path:"error403",loadComponent:()=>B.e(214).then(B.bind(B,214)).then(W=>W.Error403Component)},{path:"error404",loadComponent:()=>B.e(6916).then(B.bind(B,6916)).then(W=>W.Error404Component)},{path:"error500",loadComponent:()=>B.e(5406).then(B.bind(B,5406)).then(W=>W.Error500Component)},{path:"error503",loadComponent:()=>B.e(1768).then(B.bind(B,1768)).then(W=>W.Error503Component)}]}],Hi=[{path:"",children:[...(()=>{class W{static{this.routes=Gr}static{this.\u0275fac=function(F){return new(F||W)}}static{this.\u0275mod=l.$C({type:W})}static{this.\u0275inj=l.G2t({imports:[_e.iI.forChild(Gr),_e.iI]})}}return W})().routes,...(()=>{class W{static{this.routes=rs}static{this.\u0275fac=function(F){return new(F||W)}}static{this.\u0275mod=l.$C({type:W})}static{this.\u0275inj=l.G2t({imports:[_e.iI.forChild(rs),_e.iI]})}}return W})().routes]}];let Xi=(()=>{class W{SwitcherClose(){document.querySelector(".offcanvas-end")?.classList.remove("show"),document.querySelector(".offcanvas-end")?.classList.toggle("hidden")}constructor(y,F){this.renderer=y,this.elementRef=F,this.CheckOpe=()=>{"rtl"==localStorage.getItem("vexel-dir")&&(this.RtlChecked=!0),"rtl"==localStorage.getItem("vexel-dir")&&(this.darkchecked=!0)},this.color1="#1457e6",this.localDark=localStorage,this.localdata=localStorage,this.expande=!1,this.expande1=!1,this.expande2=!1;const U=this.elementRef.nativeElement.ownerDocument.documentElement;this.renderer.setAttribute(U,"data-nav-layout","horizontal"),this.renderer.setAttribute(U,"data-nav-style","menu-click"),this.renderer.setAttribute(U,"data-menu-position","fixed"),this.renderer.setAttribute(U,"data-theme-mode","light"),this.renderer.setAttribute(U,"data-header-styles","light"),this.renderer.setAttribute(U,"data-menu-styles","light"),this.renderer.removeAttribute(U,"loader"),this.renderer.removeAttribute(U,"data-width"),this.renderer.removeAttribute(U,"data-bg-img"),this.renderer.removeAttribute(U,"data-vertical-style"),this.renderer.removeAttribute(U,"data-nav-style","icon-click")}ngOnInit(){Sn(),this.CheckOpe()}themeChange(y,F){const U=this.elementRef.nativeElement.ownerDocument.documentElement;this.renderer.setAttribute(U,"data-theme-mode",y),localStorage.setItem("vexel-theme-mode",y),this.renderer.setAttribute(U,"data-header-styles",F),localStorage.setItem("vexelHeader",F),localStorage.getItem("vexelHeader")===F&&this.renderer.removeAttribute(U,"style")}primary(y){this.elementRef.nativeElement.ownerDocument.documentElement?.style.setProperty("--primary-rgb",y),localStorage.setItem("vexel-primary-mode",y)}dynamicLightPrimary(y){this.color1=y.color,Ct(document.querySelectorAll("button.pcr-button"),this.color1),localStorage.setItem("vexellight-primary-color",di(this.color1)||""),localStorage.setItem("vexellight-primary-color1",di(this.color1)||""),localStorage.setItem("vexellight-mode","true"),this.body?.classList.remove("transparent-mode"),this.body?.classList.add("light-mode"),this.body?.classList.remove("dark"),this.body?.classList.remove("bg-img1"),localStorage.removeItem("vexel-primary-mode")}DirectionsChange(y){this.renderer.setAttribute(this.elementRef.nativeElement.ownerDocument.documentElement,"dir",y),localStorage.setItem("vexel-dir",y)}reset(){localStorage.clear();const y=this.elementRef.nativeElement.ownerDocument.documentElement;y.setAttribute("data-theme-mode","light"),y.setAttribute("dir","ltr"),y.setAttribute("data-nav-layout","horizontal"),y.setAttribute("data-page-style","regular"),y.setAttribute("data-header-styles","light"),y.setAttribute("data-menu-styles","light"),y.setAttribute("bg-img","dark"),y.removeAttribute("data-toggled"),y.removeAttribute("style"),this.toggleExpand()}toggleExpand(){this.expande=!this.expande,"light"==localStorage.getItem("data-menu-styles")?document.querySelector("html")?.setAttribute("data-menu-styles","light"):"dark"==localStorage.getItem("data-menu-styles")&&document.querySelector("html")?.setAttribute("data-menu-styles","dark")}static{this.\u0275fac=function(F){return new(F||W)(l.rXU(l.sFG),l.rXU(l.aKT))}}static{this.\u0275cmp=l.VBU({type:W,selectors:[["app-landing-switcher"]],decls:65,vars:9,consts:[["tabindex","-1","id","switcher-canvas","aria-labelledby","offcanvasRightLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header","border-bottom"],["id","offcanvasRightLabel",1,"offcanvas-title","text-uppercase"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset",3,"click"],[1,"fe","fe-x","fs-20","fw-bold"],[1,"offcanvas-body"],[1,""],[1,"switcher-style-head"],[1,"row","switcher-style"],[1,"col-4"],[1,"form-check","switch-select"],["for","switcher-light-theme",1,"form-check-label"],["type","radio","name","theme-style","id","switcher-light-theme",1,"form-check-input",3,"click","checked"],["for","switcher-dark-theme",1,"form-check-label"],["type","radio","name","theme-style","id","switcher-dark-theme","checked","",1,"form-check-input",3,"click"],["for","switcher-glassmorphism-light",1,"form-check-label"],["type","radio","name","theme-style","id","switcher-glassmorphism-light",1,"form-check-input",3,"click","checked"],["for","switcher-ltr",1,"form-check-label"],["type","radio","name","direction","id","switcher-ltr",1,"form-check-input",3,"click","checked"],["for","switcher-rtl",1,"form-check-label"],["type","radio","name","direction","id","switcher-rtl",1,"form-check-input",3,"click","checked"],[1,"theme-colors"],[1,"d-flex","align-items-center","switcher-style","flex-wrap"],[1,"form-check","switch-select","me-3"],["type","radio","name","theme-primary","id","switcher-primary",1,"form-check-input","color-input","color-primary-1",3,"click"],["type","radio","name","theme-primary","id","switcher-primary1",1,"form-check-input","color-input","color-primary-2",3,"click"],["type","radio","name","theme-primary","id","switcher-primary2",1,"form-check-input","color-input","color-primary-3",3,"click"],["type","radio","name","theme-primary","id","switcher-primary3",1,"form-check-input","color-input","color-primary-4",3,"click"],["type","radio","name","theme-primary","id","switcher-primary4",1,"form-check-input","color-input","color-primary-5",3,"click"],[1,"form-check","switch-select","ps-0","mt-1","color-primary-light"],[1,"theme-container-primary"],[1,"pickr-container-primary"],[1,"pickr"],["type","button","role","button","aria-label","toggle color picker dialog","id","lightPrimaryColorID",1,"pcr-button",2,"--pcr-color","rgba(132, 90, 223, 1)",3,"colorPickerChange","cpSliderDragEnd","cpAlphaChannel","cpOutputFormat","colorPicker"],[1,"text-center","switcher-style"],["href","javascript:void(0);","id","reset-all",1,"btn","btn-danger","m-1",3,"click"]],template:function(F,U){1&F&&(l.j41(0,"div",0)(1,"div",1)(2,"h6",2),l.EFF(3,"Switcher"),l.k0s(),l.j41(4,"button",3),l.bIt("click",function(){return U.SwitcherClose()}),l.nrm(5,"i",4),l.k0s()(),l.j41(6,"div",5)(7,"div",6)(8,"p",7),l.EFF(9,"Theme Color Mode:"),l.k0s(),l.j41(10,"div",8)(11,"div",9)(12,"div",10)(13,"label",11),l.EFF(14," Light "),l.k0s(),l.j41(15,"input",12),l.bIt("click",function(){return U.themeChange("light","light")}),l.k0s()()(),l.j41(16,"div",9)(17,"div",10)(18,"label",13),l.EFF(19," Dark "),l.k0s(),l.j41(20,"input",14),l.bIt("click",function(){return U.themeChange("dark","dark")}),l.k0s()()(),l.j41(21,"div",9)(22,"div",10)(23,"label",15),l.EFF(24," Glassmorphism Light "),l.k0s(),l.j41(25,"input",16),l.bIt("click",function(){return U.themeChange("glassmorphism-light","glassmorphism-light")}),l.k0s()()()()(),l.j41(26,"div",6)(27,"p",7),l.EFF(28,"Directions:"),l.k0s(),l.j41(29,"div",8)(30,"div",9)(31,"div",10)(32,"label",17),l.EFF(33," LTR "),l.k0s(),l.j41(34,"input",18),l.bIt("click",function(){return U.DirectionsChange("ltr")}),l.k0s()()(),l.j41(35,"div",9)(36,"div",10)(37,"label",19),l.EFF(38," RTL "),l.k0s(),l.j41(39,"input",20),l.bIt("click",function(){return U.DirectionsChange("rtl")}),l.k0s()()()()(),l.j41(40,"div",21)(41,"p",7),l.EFF(42,"Theme Primary:"),l.k0s(),l.j41(43,"div",22)(44,"div",23)(45,"input",24),l.bIt("click",function(){return U.primary("58, 88, 146")}),l.k0s()(),l.j41(46,"div",23)(47,"input",25),l.bIt("click",function(){return U.primary("92, 144 ,163")}),l.k0s()(),l.j41(48,"div",23)(49,"input",26),l.bIt("click",function(){return U.primary("161, 90 ,223")}),l.k0s()(),l.j41(50,"div",23)(51,"input",27),l.bIt("click",function(){return U.primary("78 ,172, 76")}),l.k0s()(),l.j41(52,"div",23)(53,"input",28),l.bIt("click",function(){return U.primary("223, 90, 90")}),l.k0s()(),l.j41(54,"div",29),l.nrm(55,"div",30),l.j41(56,"div",31)(57,"div",32)(58,"button",33),l.mxI("colorPickerChange",function(Me){return l.DH7(U.color1,Me)||(U.color1=Me),Me}),l.bIt("cpSliderDragEnd",function(Me){return U.dynamicLightPrimary(Me)}),l.k0s()()()()(),l.j41(59,"div")(60,"p",7),l.EFF(61,"reset:"),l.k0s(),l.j41(62,"div",34)(63,"a",35),l.bIt("click",function(){return U.reset()}),l.EFF(64,"Reset"),l.k0s()()()()()()),2&F&&(l.R7$(15),l.Y8G("checked","dark"!=U.localDark["vexel-theme-mode"]),l.R7$(10),l.Y8G("checked","glassmorphism-light"==U.localDark["vexel-theme-mode"]),l.R7$(9),l.Y8G("checked","rtl"!=U.localdata["vexel-dir"]),l.R7$(5),l.Y8G("checked","rtl"==U.localdata["vexel-dir"]),l.R7$(19),l.xc7("background",U.color1),l.Y8G("cpAlphaChannel","disabled")("cpOutputFormat","hex"),l.R50("colorPicker",U.color1))},dependencies:[Di.bk]})}}return W})();const zl=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"auth/login",loadComponent:()=>B.e(5738).then(B.bind(B,5738)).then(W=>W.LoginComponent)},{path:"",component:_n,children:Ln},{path:"",component:is,children:Hi},{path:"",component:(()=>{class W{constructor(y,F){this.document=y,this.renderer=F}ngOnInit(){this.renderer.addClass(this.document.body,"landing-page"),this.renderer.addClass(this.document.body,"ltr"),this.renderer.removeClass(this.document.body,"sidebar-mini")}ngOnDestroy(){this.renderer.removeClass(this.document.body,"landing-page"),this.renderer.removeClass(this.document.body,"ltr"),this.renderer.addClass(this.document.body,"sidebar-mini")}static{this.\u0275fac=function(F){return new(F||W)(l.rXU(qr.qQ),l.rXU(l.sFG))}}static{this.\u0275cmp=l.VBU({type:W,selectors:[["app-landingpage-layout"]],decls:3,vars:0,consts:[[1,"page"]],template:function(F,U){1&F&&(l.nrm(0,"app-landing-switcher"),l.j41(1,"div",0),l.nrm(2,"router-outlet"),l.k0s())},dependencies:[_e.n3,Xi]})}}return W})(),children:[{path:"",loadChildren:()=>B.e(7406).then(B.bind(B,7406)).then(W=>W.landingRoutingModule)}]}];var ps=B(2284),Ga=B(1635),ka=B(906),Or=B(4273),po=B(7729);function Wa(W,S){const y=+(0,Or.a)(W);return(0,po.w)(W,y+S)}Math.pow(10,8);function P(W,S){return Wa(W,36e5*S)}function j(W,S){return Wa(W,6e4*S)}function ae(W,S){return Wa(W,1e3*S)}var tt=B(3601);function nn(W){const S=(0,Or.a)(W),y=new Date(Date.UTC(S.getFullYear(),S.getMonth(),S.getDate(),S.getHours(),S.getMinutes(),S.getSeconds(),S.getMilliseconds()));return y.setUTCFullYear(S.getFullYear()),+W-+y}function fr(W,S){const y=(0,Or.a)(W),F=(0,Or.a)(S),U=yr(y,F),he=Math.abs(function Kt(W,S){const y=(0,tt.o)(W),F=(0,tt.o)(S),U=+y-nn(y),he=+F-nn(F);return Math.round((U-he)/864e5)}(y,F));y.setDate(y.getDate()-U*he);const Je=U*(he-+(yr(y,F)===-U));return 0===Je?0:Je}function yr(W,S){const y=W.getFullYear()-S.getFullYear()||W.getMonth()-S.getMonth()||W.getDate()-S.getDate()||W.getHours()-S.getHours()||W.getMinutes()-S.getMinutes()||W.getSeconds()-S.getSeconds()||W.getMilliseconds()-S.getMilliseconds();return y<0?-1:y>0?1:y}function $a(W){return S=>{const F=(W?Math[W]:Math.trunc)(S);return 0===F?0:F}}function wc(W,S){return+(0,Or.a)(W)-+(0,Or.a)(S)}function $c(W,S,y){const F=wc(W,S)/6e4;return $a(y?.roundingMethod)(F)}function kl(W,S,y){const F=wc(W,S)/1e3;return $a(y?.roundingMethod)(F)}var zc=B(4512);function _u(W){const S=(0,Or.a)(W),y=S.getMonth();return S.setFullYear(S.getFullYear(),y+1,0),S.setHours(23,59,59,999),S}let Na={};function Kc(){return Na}function vu(W,S){const y=Kc(),F=S?.weekStartsOn??S?.locale?.options?.weekStartsOn??y.weekStartsOn??y.locale?.options?.weekStartsOn??0,U=(0,Or.a)(W),he=U.getDay(),Me=6+(he<F?-7:0)-(he-F);return U.setDate(U.getDate()+Me),U.setHours(23,59,59,999),U}function gl(W){return(0,Or.a)(W).getDay()}function il(W){return(0,Or.a)(W).getMonth()}var Cc=B(5818),Yc=B(7518);function ou(W){const S=(0,Or.a)(W);return S.setMilliseconds(0),S}function Ol(W,S){return+ou(W)==+ou(S)}function zo(W){let S;return W.forEach(function(y){const F=(0,Or.a)(y);(void 0===S||S<F||isNaN(Number(F)))&&(S=F)}),S||new Date(NaN)}function Tc(W,S){const y=(0,Or.a)(W);return y.setHours(S),y}function rl(W,S){const y=(0,Or.a)(W);return y.setMinutes(S),y}function Bu(W){const S=(0,Or.a)(W);return S.setSeconds(0,0),S}function Pl(W){const S=(0,Or.a)(W);return S.setDate(1),S.setHours(0,0,0,0),S}function Xc(W,S){const y=Kc(),F=S?.weekStartsOn??S?.locale?.options?.weekStartsOn??y.weekStartsOn??y.locale?.options?.weekStartsOn??0,U=(0,Or.a)(W),he=U.getDay(),Me=(he<F?7:0)+he-F;return U.setDate(U.getDate()-Me),U.setHours(0,0,0,0),U}function Fl(W){return(0,Or.a)(W).getHours()}function sl(W){return(0,Or.a)(W).getMinutes()}function od(W){return new Date(W).getTimezoneOffset()}function tr(W,S){return(0,ka.f)(W,7*S)}function Yd(W,S){const y=(0,Or.a)(W);if(isNaN(S))return(0,po.w)(W,NaN);if(!S)return y;const F=y.getDate(),U=(0,po.w)(W,y.getTime());return U.setMonth(y.getMonth()+S+1,0),F>=U.getDate()?U:(y.setFullYear(U.getFullYear(),U.getMonth(),F),y)}var wu=B(7165);function ya(W,S){return tr(W,-S)}function Sc(W,S){return Yd(W,-S)}function Ko(W){return Xc(W,{weekStartsOn:1})}function Xl(W){const S=(0,Or.a)(W),y=+Ko(S)-+function pn(W){const S=function Wu(W){const S=(0,Or.a)(W),y=S.getFullYear(),F=(0,po.w)(W,0);F.setFullYear(y+1,0,4),F.setHours(0,0,0,0);const U=Ko(F),he=(0,po.w)(W,0);he.setFullYear(y,0,4),he.setHours(0,0,0,0);const Me=Ko(he);return S.getTime()>=U.getTime()?y+1:S.getTime()>=Me.getTime()?y:y-1}(W),y=(0,po.w)(W,0);return y.setFullYear(S,0,4),y.setHours(0,0,0,0),Ko(y)}(S);return Math.round(y/6048e5)+1}function Wi(W,S){const y=(0,Or.a)(W);return y.setDate(S),y}function ql(W,S){const y=(0,Or.a)(W),F=y.getFullYear(),U=y.getDate(),he=(0,po.w)(W,0);he.setFullYear(F,S,15),he.setHours(0,0,0,0);const Me=function ac(W){const S=(0,Or.a)(W),y=S.getFullYear(),F=S.getMonth(),U=(0,po.w)(W,0);return U.setFullYear(y,F+1,0),U.setHours(0,0,0,0),U.getDate()}(he);return y.setMonth(S,Math.min(U,Me)),y}function _l(W,S){const y=(0,Or.a)(W);return isNaN(+y)?(0,po.w)(W,NaN):(y.setFullYear(S),y)}function Ql(W){return(0,Or.a)(W).getDate()}function mo(W){return(0,Or.a)(W).getFullYear()}var za=B(9253),ld=B(5312),cd=B(1152),bh=B(8607),zu=B(4203),Tu=B(5794);const Rc={providers:[(0,_e.lh)(zl),_e.n3,Di.YG,Di.BK,function lt(){return(0,l.ngT)("NgEagerAnimations"),[...pe]}(),za.bf,bh.wd,zu.cM,cd.X8,(0,l.oKB)(ps.rO.forRoot({provide:ps.MJ,useFactory:function Xo(){return(0,Ga.Cl)((0,Ga.Cl)({},function ml(){return{addDays:ka.f,addHours:P,addMinutes:j,addSeconds:ae,differenceInDays:fr,differenceInMinutes:$c,differenceInSeconds:kl,endOfDay:zc.D,endOfMonth:_u,endOfWeek:vu,getDay:gl,getMonth:il,isSameDay:Cc.r,isSameMonth:Yc.t,isSameSecond:Ol,max:zo,setHours:Tc,setMinutes:rl,startOfDay:tt.o,startOfMinute:Bu,startOfMonth:Pl,startOfWeek:Xc,getHours:Fl,getMinutes:sl,getTimezoneOffset:od}}()),{addWeeks:tr,addMonths:Yd,subDays:wu.e,subWeeks:ya,subMonths:Sc,getISOWeek:Xl,setDate:Wi,setMonth:ql,setYear:_l,getDate:Ql,getYear:mo})}}),za.bf.initializeApp(ld.c.firebase),Tu._B.forRoot({timeOut:15e3,closeButton:!0,progressBar:!0}))]};(0,i.B8)((()=>{class W{constructor(){this.title="vexel"}static{this.\u0275fac=function(F){return new(F||W)}}static{this.\u0275cmp=l.VBU({type:W,selectors:[["app-root"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(F,U){1&F&&l.nrm(0,"router-outlet")},dependencies:[_e.n3]})}}return W})(),Rc).catch(W=>console.error(W))},8516:(un,nt,B)=>{var i=B(1464);un.exports=i.Symbol},1057:(un,nt,B)=>{var i=B(8516),l=B(8488),_e=B(3327),Ye=i?i.toStringTag:void 0;un.exports=function Oe(Xe){return null==Xe?void 0===Xe?"[object Undefined]":"[object Null]":Ye&&Ye in Object(Xe)?l(Xe):_e(Xe)}},5461:(un,nt,B)=>{var i=B(7327),l=/^\s+/;un.exports=function _e(le){return le&&le.slice(0,i(le)+1).replace(l,"")}},8657:un=>{var nt="object"==typeof global&&global&&global.Object===Object&&global;un.exports=nt},8488:(un,nt,B)=>{var i=B(8516),l=Object.prototype,_e=l.hasOwnProperty,le=l.toString,Te=i?i.toStringTag:void 0;un.exports=function Ye(Oe){var Xe=_e.call(Oe,Te),et=Oe[Te];try{Oe[Te]=void 0;var Ne=!0}catch{}var Fe=le.call(Oe);return Ne&&(Xe?Oe[Te]=et:delete Oe[Te]),Fe}},3327:un=>{var B=Object.prototype.toString;un.exports=function i(l){return B.call(l)}},1464:(un,nt,B)=>{var i=B(8657),l="object"==typeof self&&self&&self.Object===Object&&self,_e=i||l||Function("return this")();un.exports=_e},7327:un=>{var nt=/\s/;un.exports=function B(i){for(var l=i.length;l--&&nt.test(i.charAt(l)););return l}},4270:(un,nt,B)=>{var i=B(3278),l=B(501),_e=B(3521),Te=Math.max,Ye=Math.min;un.exports=function Oe(Xe,et,Ne){var Fe,st,It,Rt,Bt,fn,Wt=0,je=!1,Cn=!1,Mn=!0;if("function"!=typeof Xe)throw new TypeError("Expected a function");function jt(Qt){var Rn=Fe,Xn=st;return Fe=st=void 0,Wt=Qt,Rt=Xe.apply(Xn,Rn)}function Tn(Qt){var Rn=Qt-fn;return void 0===fn||Rn>=et||Rn<0||Cn&&Qt-Wt>=It}function qt(){var Qt=l();if(Tn(Qt))return Mt(Qt);Bt=setTimeout(qt,function ge(Qt){var ai=et-(Qt-fn);return Cn?Ye(ai,It-(Qt-Wt)):ai}(Qt))}function Mt(Qt){return Bt=void 0,Mn&&Fe?jt(Qt):(Fe=st=void 0,Rt)}function Le(){var Qt=l(),Rn=Tn(Qt);if(Fe=arguments,st=this,fn=Qt,Rn){if(void 0===Bt)return function wt(Qt){return Wt=Qt,Bt=setTimeout(qt,et),je?jt(Qt):Rt}(fn);if(Cn)return clearTimeout(Bt),Bt=setTimeout(qt,et),jt(fn)}return void 0===Bt&&(Bt=setTimeout(qt,et)),Rt}return et=_e(et)||0,i(Ne)&&(je=!!Ne.leading,It=(Cn="maxWait"in Ne)?Te(_e(Ne.maxWait)||0,et):It,Mn="trailing"in Ne?!!Ne.trailing:Mn),Le.cancel=function He(){void 0!==Bt&&clearTimeout(Bt),Wt=0,Fe=fn=st=Bt=void 0},Le.flush=function Se(){return void 0===Bt?Rt:Mt(l())},Le}},3278:un=>{un.exports=function nt(B){var i=typeof B;return null!=B&&("object"==i||"function"==i)}},7433:un=>{un.exports=function nt(B){return null!=B&&"object"==typeof B}},5153:(un,nt,B)=>{var i=B(1057),l=B(7433);un.exports=function le(Te){return"symbol"==typeof Te||l(Te)&&"[object Symbol]"==i(Te)}},501:(un,nt,B)=>{var i=B(1464);un.exports=function(){return i.Date.now()}},7569:(un,nt,B)=>{var i=B(4270),l=B(3278);un.exports=function le(Te,Ye,Oe){var Xe=!0,et=!0;if("function"!=typeof Te)throw new TypeError("Expected a function");return l(Oe)&&(Xe="leading"in Oe?!!Oe.leading:Xe,et="trailing"in Oe?!!Oe.trailing:et),i(Te,Ye,{leading:Xe,maxWait:Ye,trailing:et})}},3521:(un,nt,B)=>{var i=B(5461),l=B(3278),_e=B(5153),Te=/^[-+]0x[0-9a-f]+$/i,Ye=/^0b[01]+$/i,Oe=/^0o[0-7]+$/i,Xe=parseInt;un.exports=function et(Ne){if("number"==typeof Ne)return Ne;if(_e(Ne))return NaN;if(l(Ne)){var Fe="function"==typeof Ne.valueOf?Ne.valueOf():Ne;Ne=l(Fe)?Fe+"":Fe}if("string"!=typeof Ne)return 0===Ne?Ne:+Ne;Ne=i(Ne);var st=Ye.test(Ne);return st||Oe.test(Ne)?Xe(Ne.slice(2),st?2:8):Te.test(Ne)?NaN:+Ne}},4412:(un,nt,B)=>{"use strict";B.d(nt,{t:()=>l});var i=B(1413);class l extends i.B{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const Te=super._subscribe(le);return!Te.closed&&le.next(this._value),Te}getValue(){const{hasError:le,thrownError:Te,_value:Ye}=this;if(le)throw Te;return this._throwIfClosed(),Ye}next(le){super.next(this._value=le)}}},1985:(un,nt,B)=>{"use strict";B.d(nt,{c:()=>Xe});var i=B(7707),l=B(8359),_e=B(3494),le=B(1203),Te=B(1026),Ye=B(8071),Oe=B(9786);let Xe=(()=>{class st{constructor(Rt){Rt&&(this._subscribe=Rt)}lift(Rt){const Bt=new st;return Bt.source=this,Bt.operator=Rt,Bt}subscribe(Rt,Bt,fn){const Wt=function Fe(st){return st&&st instanceof i.vU||function Ne(st){return st&&(0,Ye.T)(st.next)&&(0,Ye.T)(st.error)&&(0,Ye.T)(st.complete)}(st)&&(0,l.Uv)(st)}(Rt)?Rt:new i.Ms(Rt,Bt,fn);return(0,Oe.Y)(()=>{const{operator:je,source:Cn}=this;Wt.add(je?je.call(Wt,Cn):Cn?this._subscribe(Wt):this._trySubscribe(Wt))}),Wt}_trySubscribe(Rt){try{return this._subscribe(Rt)}catch(Bt){Rt.error(Bt)}}forEach(Rt,Bt){return new(Bt=et(Bt))((fn,Wt)=>{const je=new i.Ms({next:Cn=>{try{Rt(Cn)}catch(Mn){Wt(Mn),je.unsubscribe()}},error:Wt,complete:fn});this.subscribe(je)})}_subscribe(Rt){var Bt;return null===(Bt=this.source)||void 0===Bt?void 0:Bt.subscribe(Rt)}[_e.s](){return this}pipe(...Rt){return(0,le.m)(Rt)(this)}toPromise(Rt){return new(Rt=et(Rt))((Bt,fn)=>{let Wt;this.subscribe(je=>Wt=je,je=>fn(je),()=>Bt(Wt))})}}return st.create=It=>new st(It),st})();function et(st){var It;return null!==(It=st??Te.$.Promise)&&void 0!==It?It:Promise}},2771:(un,nt,B)=>{"use strict";B.d(nt,{m:()=>_e});var i=B(1413),l=B(6129);class _e extends i.B{constructor(Te=1/0,Ye=1/0,Oe=l.U){super(),this._bufferSize=Te,this._windowTime=Ye,this._timestampProvider=Oe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ye===1/0,this._bufferSize=Math.max(1,Te),this._windowTime=Math.max(1,Ye)}next(Te){const{isStopped:Ye,_buffer:Oe,_infiniteTimeWindow:Xe,_timestampProvider:et,_windowTime:Ne}=this;Ye||(Oe.push(Te),!Xe&&Oe.push(et.now()+Ne)),this._trimBuffer(),super.next(Te)}_subscribe(Te){this._throwIfClosed(),this._trimBuffer();const Ye=this._innerSubscribe(Te),{_infiniteTimeWindow:Oe,_buffer:Xe}=this,et=Xe.slice();for(let Ne=0;Ne<et.length&&!Te.closed;Ne+=Oe?1:2)Te.next(et[Ne]);return this._checkFinalizedStatuses(Te),Ye}_trimBuffer(){const{_bufferSize:Te,_timestampProvider:Ye,_buffer:Oe,_infiniteTimeWindow:Xe}=this,et=(Xe?1:2)*Te;if(Te<1/0&&et<Oe.length&&Oe.splice(0,Oe.length-et),!Xe){const Ne=Ye.now();let Fe=0;for(let st=1;st<Oe.length&&Oe[st]<=Ne;st+=2)Fe=st;Fe&&Oe.splice(0,Fe+1)}}}},1413:(un,nt,B)=>{"use strict";B.d(nt,{B:()=>Oe});var i=B(1985),l=B(8359);const le=(0,B(1853).L)(et=>function(){et(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=B(7908),Ye=B(9786);let Oe=(()=>{class et extends i.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Fe){const st=new Xe(this,this);return st.operator=Fe,st}_throwIfClosed(){if(this.closed)throw new le}next(Fe){(0,Ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const st of this.currentObservers)st.next(Fe)}})}error(Fe){(0,Ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Fe;const{observers:st}=this;for(;st.length;)st.shift().error(Fe)}})}complete(){(0,Ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Fe;return(null===(Fe=this.observers)||void 0===Fe?void 0:Fe.length)>0}_trySubscribe(Fe){return this._throwIfClosed(),super._trySubscribe(Fe)}_subscribe(Fe){return this._throwIfClosed(),this._checkFinalizedStatuses(Fe),this._innerSubscribe(Fe)}_innerSubscribe(Fe){const{hasError:st,isStopped:It,observers:Rt}=this;return st||It?l.Kn:(this.currentObservers=null,Rt.push(Fe),new l.yU(()=>{this.currentObservers=null,(0,Te.o)(Rt,Fe)}))}_checkFinalizedStatuses(Fe){const{hasError:st,thrownError:It,isStopped:Rt}=this;st?Fe.error(It):Rt&&Fe.complete()}asObservable(){const Fe=new i.c;return Fe.source=this,Fe}}return et.create=(Ne,Fe)=>new Xe(Ne,Fe),et})();class Xe extends Oe{constructor(Ne,Fe){super(),this.destination=Ne,this.source=Fe}next(Ne){var Fe,st;null===(st=null===(Fe=this.destination)||void 0===Fe?void 0:Fe.next)||void 0===st||st.call(Fe,Ne)}error(Ne){var Fe,st;null===(st=null===(Fe=this.destination)||void 0===Fe?void 0:Fe.error)||void 0===st||st.call(Fe,Ne)}complete(){var Ne,Fe;null===(Fe=null===(Ne=this.destination)||void 0===Ne?void 0:Ne.complete)||void 0===Fe||Fe.call(Ne)}_subscribe(Ne){var Fe,st;return null!==(st=null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(Ne))&&void 0!==st?st:l.Kn}}},7707:(un,nt,B)=>{"use strict";B.d(nt,{Ms:()=>fn,vU:()=>st});var i=B(8071),l=B(8359),_e=B(1026),le=B(5334),Te=B(5343);const Ye=et("C",void 0,void 0);function et(jt,wt,ge){return{kind:jt,value:wt,error:ge}}var Ne=B(9270),Fe=B(9786);class st extends l.yU{constructor(wt){super(),this.isStopped=!1,wt?(this.destination=wt,(0,l.Uv)(wt)&&wt.add(this)):this.destination=Mn}static create(wt,ge,Tn){return new fn(wt,ge,Tn)}next(wt){this.isStopped?Cn(function Xe(jt){return et("N",jt,void 0)}(wt),this):this._next(wt)}error(wt){this.isStopped?Cn(function Oe(jt){return et("E",void 0,jt)}(wt),this):(this.isStopped=!0,this._error(wt))}complete(){this.isStopped?Cn(Ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(wt){this.destination.next(wt)}_error(wt){try{this.destination.error(wt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const It=Function.prototype.bind;function Rt(jt,wt){return It.call(jt,wt)}class Bt{constructor(wt){this.partialObserver=wt}next(wt){const{partialObserver:ge}=this;if(ge.next)try{ge.next(wt)}catch(Tn){Wt(Tn)}}error(wt){const{partialObserver:ge}=this;if(ge.error)try{ge.error(wt)}catch(Tn){Wt(Tn)}else Wt(wt)}complete(){const{partialObserver:wt}=this;if(wt.complete)try{wt.complete()}catch(ge){Wt(ge)}}}class fn extends st{constructor(wt,ge,Tn){let qt;if(super(),(0,i.T)(wt)||!wt)qt={next:wt??void 0,error:ge??void 0,complete:Tn??void 0};else{let Mt;this&&_e.$.useDeprecatedNextContext?(Mt=Object.create(wt),Mt.unsubscribe=()=>this.unsubscribe(),qt={next:wt.next&&Rt(wt.next,Mt),error:wt.error&&Rt(wt.error,Mt),complete:wt.complete&&Rt(wt.complete,Mt)}):qt=wt}this.destination=new Bt(qt)}}function Wt(jt){_e.$.useDeprecatedSynchronousErrorHandling?(0,Fe.l)(jt):(0,le.m)(jt)}function Cn(jt,wt){const{onStoppedNotification:ge}=_e.$;ge&&Ne.f.setTimeout(()=>ge(jt,wt))}const Mn={closed:!0,next:Te.l,error:function je(jt){throw jt},complete:Te.l}},8359:(un,nt,B)=>{"use strict";B.d(nt,{Kn:()=>Ye,yU:()=>Te,Uv:()=>Oe});var i=B(8071);const _e=(0,B(1853).L)(et=>function(Fe){et(this),this.message=Fe?`${Fe.length} errors occurred during unsubscription:\n${Fe.map((st,It)=>`${It+1}) ${st.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Fe});var le=B(7908);class Te{constructor(Ne){this.initialTeardown=Ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ne;if(!this.closed){this.closed=!0;const{_parentage:Fe}=this;if(Fe)if(this._parentage=null,Array.isArray(Fe))for(const Rt of Fe)Rt.remove(this);else Fe.remove(this);const{initialTeardown:st}=this;if((0,i.T)(st))try{st()}catch(Rt){Ne=Rt instanceof _e?Rt.errors:[Rt]}const{_finalizers:It}=this;if(It){this._finalizers=null;for(const Rt of It)try{Xe(Rt)}catch(Bt){Ne=Ne??[],Bt instanceof _e?Ne=[...Ne,...Bt.errors]:Ne.push(Bt)}}if(Ne)throw new _e(Ne)}}add(Ne){var Fe;if(Ne&&Ne!==this)if(this.closed)Xe(Ne);else{if(Ne instanceof Te){if(Ne.closed||Ne._hasParent(this))return;Ne._addParent(this)}(this._finalizers=null!==(Fe=this._finalizers)&&void 0!==Fe?Fe:[]).push(Ne)}}_hasParent(Ne){const{_parentage:Fe}=this;return Fe===Ne||Array.isArray(Fe)&&Fe.includes(Ne)}_addParent(Ne){const{_parentage:Fe}=this;this._parentage=Array.isArray(Fe)?(Fe.push(Ne),Fe):Fe?[Fe,Ne]:Ne}_removeParent(Ne){const{_parentage:Fe}=this;Fe===Ne?this._parentage=null:Array.isArray(Fe)&&(0,le.o)(Fe,Ne)}remove(Ne){const{_finalizers:Fe}=this;Fe&&(0,le.o)(Fe,Ne),Ne instanceof Te&&Ne._removeParent(this)}}Te.EMPTY=(()=>{const et=new Te;return et.closed=!0,et})();const Ye=Te.EMPTY;function Oe(et){return et instanceof Te||et&&"closed"in et&&(0,i.T)(et.remove)&&(0,i.T)(et.add)&&(0,i.T)(et.unsubscribe)}function Xe(et){(0,i.T)(et)?et():et.unsubscribe()}},1026:(un,nt,B)=>{"use strict";B.d(nt,{$:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(un,nt,B)=>{"use strict";B.d(nt,{G:()=>Ye});var i=B(1985),l=B(8359),_e=B(9898),le=B(4360),Te=B(9974);class Ye extends i.c{constructor(Xe,et){super(),this.source=Xe,this.subjectFactory=et,this._subject=null,this._refCount=0,this._connection=null,(0,Te.S)(Xe)&&(this.lift=Xe.lift)}_subscribe(Xe){return this.getSubject().subscribe(Xe)}getSubject(){const Xe=this._subject;return(!Xe||Xe.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Xe}=this;this._subject=this._connection=null,Xe?.unsubscribe()}connect(){let Xe=this._connection;if(!Xe){Xe=this._connection=new l.yU;const et=this.getSubject();Xe.add(this.source.subscribe((0,le._)(et,void 0,()=>{this._teardown(),et.complete()},Ne=>{this._teardown(),et.error(Ne)},()=>this._teardown()))),Xe.closed&&(this._connection=null,Xe=l.yU.EMPTY)}return Xe}refCount(){return(0,_e.B)()(this)}}},4572:(un,nt,B)=>{"use strict";B.d(nt,{z:()=>Ne});var i=B(1985),l=B(3073),_e=B(8455),le=B(3669),Te=B(6450),Ye=B(9326),Oe=B(8496),Xe=B(4360),et=B(5225);function Ne(...It){const Rt=(0,Ye.lI)(It),Bt=(0,Ye.ms)(It),{args:fn,keys:Wt}=(0,l.D)(It);if(0===fn.length)return(0,_e.H)([],Rt);const je=new i.c(function Fe(It,Rt,Bt=le.D){return fn=>{st(Rt,()=>{const{length:Wt}=It,je=new Array(Wt);let Cn=Wt,Mn=Wt;for(let jt=0;jt<Wt;jt++)st(Rt,()=>{const wt=(0,_e.H)(It[jt],Rt);let ge=!1;wt.subscribe((0,Xe._)(fn,Tn=>{je[jt]=Tn,ge||(ge=!0,Mn--),Mn||fn.next(Bt(je.slice()))},()=>{--Cn||fn.complete()}))},fn)},fn)}}(fn,Rt,Wt?Cn=>(0,Oe.e)(Wt,Cn):le.D));return Bt?je.pipe((0,Te.I)(Bt)):je}function st(It,Rt,Bt){It?(0,et.N)(Bt,It,Rt):Rt()}},8793:(un,nt,B)=>{"use strict";B.d(nt,{x:()=>Te});var i=B(6365),_e=B(9326),le=B(8455);function Te(...Ye){return function l(){return(0,i.U)(1)}()((0,le.H)(Ye,(0,_e.lI)(Ye)))}},9030:(un,nt,B)=>{"use strict";B.d(nt,{v:()=>_e});var i=B(1985),l=B(8750);function _e(le){return new i.c(Te=>{(0,l.Tg)(le()).subscribe(Te)})}},983:(un,nt,B)=>{"use strict";B.d(nt,{w:()=>l});const l=new(B(1985).c)(Te=>Te.complete())},7468:(un,nt,B)=>{"use strict";B.d(nt,{p:()=>Xe});var i=B(1985),l=B(3073),_e=B(8750),le=B(9326),Te=B(4360),Ye=B(6450),Oe=B(8496);function Xe(...et){const Ne=(0,le.ms)(et),{args:Fe,keys:st}=(0,l.D)(et),It=new i.c(Rt=>{const{length:Bt}=Fe;if(!Bt)return void Rt.complete();const fn=new Array(Bt);let Wt=Bt,je=Bt;for(let Cn=0;Cn<Bt;Cn++){let Mn=!1;(0,_e.Tg)(Fe[Cn]).subscribe((0,Te._)(Rt,jt=>{Mn||(Mn=!0,je--),fn[Cn]=jt},()=>Wt--,void 0,()=>{(!Wt||!Mn)&&(je||Rt.next(st?(0,Oe.e)(st,fn):fn),Rt.complete())}))}});return Ne?It.pipe((0,Ye.I)(Ne)):It}},8455:(un,nt,B)=>{"use strict";B.d(nt,{H:()=>wt});var i=B(8750),l=B(941),_e=B(6745),Ye=B(1985),Xe=B(4761),et=B(8071),Ne=B(5225);function st(ge,Tn){if(!ge)throw new Error("Iterable cannot be null");return new Ye.c(qt=>{(0,Ne.N)(qt,Tn,()=>{const Mt=ge[Symbol.asyncIterator]();(0,Ne.N)(qt,Tn,()=>{Mt.next().then(He=>{He.done?qt.complete():qt.next(He.value)})},0,!0)})})}var It=B(5055),Rt=B(9858),Bt=B(7441),fn=B(5397),Wt=B(7953),je=B(591),Cn=B(5196);function wt(ge,Tn){return Tn?function jt(ge,Tn){if(null!=ge){if((0,It.l)(ge))return function le(ge,Tn){return(0,i.Tg)(ge).pipe((0,_e._)(Tn),(0,l.Q)(Tn))}(ge,Tn);if((0,Bt.X)(ge))return function Oe(ge,Tn){return new Ye.c(qt=>{let Mt=0;return Tn.schedule(function(){Mt===ge.length?qt.complete():(qt.next(ge[Mt++]),qt.closed||this.schedule())})})}(ge,Tn);if((0,Rt.y)(ge))return function Te(ge,Tn){return(0,i.Tg)(ge).pipe((0,_e._)(Tn),(0,l.Q)(Tn))}(ge,Tn);if((0,Wt.T)(ge))return st(ge,Tn);if((0,fn.x)(ge))return function Fe(ge,Tn){return new Ye.c(qt=>{let Mt;return(0,Ne.N)(qt,Tn,()=>{Mt=ge[Xe.l](),(0,Ne.N)(qt,Tn,()=>{let He,Se;try{({value:He,done:Se}=Mt.next())}catch(Le){return void qt.error(Le)}Se?qt.complete():qt.next(He)},0,!0)}),()=>(0,et.T)(Mt?.return)&&Mt.return()})}(ge,Tn);if((0,Cn.U)(ge))return function Mn(ge,Tn){return st((0,Cn.C)(ge),Tn)}(ge,Tn)}throw(0,je.L)(ge)}(ge,Tn):(0,i.Tg)(ge)}},3726:(un,nt,B)=>{"use strict";B.d(nt,{R:()=>Ne});var i=B(8750),l=B(1985),_e=B(3028),le=B(7441),Te=B(8071),Ye=B(6450);const Oe=["addListener","removeListener"],Xe=["addEventListener","removeEventListener"],et=["on","off"];function Ne(Bt,fn,Wt,je){if((0,Te.T)(Wt)&&(je=Wt,Wt=void 0),je)return Ne(Bt,fn,Wt).pipe((0,Ye.I)(je));const[Cn,Mn]=function Rt(Bt){return(0,Te.T)(Bt.addEventListener)&&(0,Te.T)(Bt.removeEventListener)}(Bt)?Xe.map(jt=>wt=>Bt[jt](fn,wt,Wt)):function st(Bt){return(0,Te.T)(Bt.addListener)&&(0,Te.T)(Bt.removeListener)}(Bt)?Oe.map(Fe(Bt,fn)):function It(Bt){return(0,Te.T)(Bt.on)&&(0,Te.T)(Bt.off)}(Bt)?et.map(Fe(Bt,fn)):[];if(!Cn&&(0,le.X)(Bt))return(0,_e.Z)(jt=>Ne(jt,fn,Wt))((0,i.Tg)(Bt));if(!Cn)throw new TypeError("Invalid event target");return new l.c(jt=>{const wt=(...ge)=>jt.next(1<ge.length?ge:ge[0]);return Cn(wt),()=>Mn(wt)})}function Fe(Bt,fn){return Wt=>je=>Bt[Wt](fn,je)}},8750:(un,nt,B)=>{"use strict";B.d(nt,{Tg:()=>It});var i=B(1635),l=B(7441),_e=B(9858),le=B(1985),Te=B(5055),Ye=B(7953),Oe=B(591),Xe=B(5397),et=B(5196),Ne=B(8071),Fe=B(5334),st=B(3494);function It(jt){if(jt instanceof le.c)return jt;if(null!=jt){if((0,Te.l)(jt))return function Rt(jt){return new le.c(wt=>{const ge=jt[st.s]();if((0,Ne.T)(ge.subscribe))return ge.subscribe(wt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(jt);if((0,l.X)(jt))return function Bt(jt){return new le.c(wt=>{for(let ge=0;ge<jt.length&&!wt.closed;ge++)wt.next(jt[ge]);wt.complete()})}(jt);if((0,_e.y)(jt))return function fn(jt){return new le.c(wt=>{jt.then(ge=>{wt.closed||(wt.next(ge),wt.complete())},ge=>wt.error(ge)).then(null,Fe.m)})}(jt);if((0,Ye.T)(jt))return je(jt);if((0,Xe.x)(jt))return function Wt(jt){return new le.c(wt=>{for(const ge of jt)if(wt.next(ge),wt.closed)return;wt.complete()})}(jt);if((0,et.U)(jt))return function Cn(jt){return je((0,et.C)(jt))}(jt)}throw(0,Oe.L)(jt)}function je(jt){return new le.c(wt=>{(function Mn(jt,wt){var ge,Tn,qt,Mt;return(0,i.sH)(this,void 0,void 0,function*(){try{for(ge=(0,i.xN)(jt);!(Tn=yield ge.next()).done;)if(wt.next(Tn.value),wt.closed)return}catch(He){qt={error:He}}finally{try{Tn&&!Tn.done&&(Mt=ge.return)&&(yield Mt.call(ge))}finally{if(qt)throw qt.error}}wt.complete()})})(jt,wt).catch(ge=>wt.error(ge))})}},605:(un,nt,B)=>{"use strict";B.d(nt,{Y:()=>_e});var i=B(3236),l=B(1584);function _e(le=0,Te=i.E){return le<0&&(le=0),(0,l.O)(le,le,Te)}},7786:(un,nt,B)=>{"use strict";B.d(nt,{h:()=>Ye});var i=B(6365),l=B(8750),_e=B(983),le=B(9326),Te=B(8455);function Ye(...Oe){const Xe=(0,le.lI)(Oe),et=(0,le.R0)(Oe,1/0),Ne=Oe;return Ne.length?1===Ne.length?(0,l.Tg)(Ne[0]):(0,i.U)(et)((0,Te.H)(Ne,Xe)):_e.w}},7673:(un,nt,B)=>{"use strict";B.d(nt,{of:()=>_e});var i=B(9326),l=B(8455);function _e(...le){const Te=(0,i.lI)(le);return(0,l.H)(le,Te)}},8810:(un,nt,B)=>{"use strict";B.d(nt,{$:()=>_e});var i=B(1985),l=B(8071);function _e(le,Te){const Ye=(0,l.T)(le)?le:()=>le,Oe=Xe=>Xe.error(Ye());return new i.c(Te?Xe=>Te.schedule(Oe,0,Xe):Oe)}},1584:(un,nt,B)=>{"use strict";B.d(nt,{O:()=>Te});var i=B(1985),l=B(3236),_e=B(9470);function Te(Ye=0,Oe,Xe=l.b){let et=-1;return null!=Oe&&((0,_e.m)(Oe)?Xe=Oe:et=Oe),new i.c(Ne=>{let Fe=function le(Ye){return Ye instanceof Date&&!isNaN(Ye)}(Ye)?+Ye-Xe.now():Ye;Fe<0&&(Fe=0);let st=0;return Xe.schedule(function(){Ne.closed||(Ne.next(st++),0<=et?this.schedule(void 0,et):Ne.complete())},Fe)})}},4360:(un,nt,B)=>{"use strict";B.d(nt,{H:()=>_e,_:()=>l});var i=B(7707);function l(le,Te,Ye,Oe,Xe){return new _e(le,Te,Ye,Oe,Xe)}class _e extends i.vU{constructor(Te,Ye,Oe,Xe,et,Ne){super(Te),this.onFinalize=et,this.shouldUnsubscribe=Ne,this._next=Ye?function(Fe){try{Ye(Fe)}catch(st){Te.error(st)}}:super._next,this._error=Xe?function(Fe){try{Xe(Fe)}catch(st){Te.error(st)}finally{this.unsubscribe()}}:super._error,this._complete=Oe?function(){try{Oe()}catch(Fe){Te.error(Fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ye}=this;super.unsubscribe(),!Ye&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},9437:(un,nt,B)=>{"use strict";B.d(nt,{W:()=>le});var i=B(8750),l=B(4360),_e=B(9974);function le(Te){return(0,_e.N)((Ye,Oe)=>{let Ne,Xe=null,et=!1;Xe=Ye.subscribe((0,l._)(Oe,void 0,void 0,Fe=>{Ne=(0,i.Tg)(Te(Fe,le(Te)(Ye))),Xe?(Xe.unsubscribe(),Xe=null,Ne.subscribe(Oe)):et=!0})),et&&(Xe.unsubscribe(),Xe=null,Ne.subscribe(Oe))})}},274:(un,nt,B)=>{"use strict";B.d(nt,{H:()=>_e});var i=B(3028),l=B(8071);function _e(le,Te){return(0,l.T)(Te)?(0,i.Z)(le,Te,1):(0,i.Z)(le,1)}},152:(un,nt,B)=>{"use strict";B.d(nt,{B:()=>le});var i=B(3236),l=B(9974),_e=B(4360);function le(Te,Ye=i.E){return(0,l.N)((Oe,Xe)=>{let et=null,Ne=null,Fe=null;const st=()=>{if(et){et.unsubscribe(),et=null;const Rt=Ne;Ne=null,Xe.next(Rt)}};function It(){const Rt=Fe+Te,Bt=Ye.now();if(Bt<Rt)return et=this.schedule(void 0,Rt-Bt),void Xe.add(et);st()}Oe.subscribe((0,_e._)(Xe,Rt=>{Ne=Rt,Fe=Ye.now(),et||(et=Ye.schedule(It,Te),Xe.add(et))},()=>{st(),Xe.complete()},void 0,()=>{Ne=et=null}))})}},9901:(un,nt,B)=>{"use strict";B.d(nt,{U:()=>_e});var i=B(9974),l=B(4360);function _e(le){return(0,i.N)((Te,Ye)=>{let Oe=!1;Te.subscribe((0,l._)(Ye,Xe=>{Oe=!0,Ye.next(Xe)},()=>{Oe||Ye.next(le),Ye.complete()}))})}},1986:(un,nt,B)=>{"use strict";B.d(nt,{c:()=>It});var i=B(3236),l=B(8793),_e=B(6697),le=B(9974),Te=B(4360),Ye=B(5343),Xe=B(3703),et=B(3028),Ne=B(8750);function Fe(Rt,Bt){return Bt?fn=>(0,l.x)(Bt.pipe((0,_e.s)(1),function Oe(){return(0,le.N)((Rt,Bt)=>{Rt.subscribe((0,Te._)(Bt,Ye.l))})}()),fn.pipe(Fe(Rt))):(0,et.Z)((fn,Wt)=>(0,Ne.Tg)(Rt(fn,Wt)).pipe((0,_e.s)(1),(0,Xe.u)(fn)))}var st=B(1584);function It(Rt,Bt=i.E){const fn=(0,st.O)(Rt,Bt);return Fe(()=>fn)}},3294:(un,nt,B)=>{"use strict";B.d(nt,{F:()=>le});var i=B(3669),l=B(9974),_e=B(4360);function le(Ye,Oe=i.D){return Ye=Ye??Te,(0,l.N)((Xe,et)=>{let Ne,Fe=!0;Xe.subscribe((0,_e._)(et,st=>{const It=Oe(st);(Fe||!Ye(Ne,It))&&(Fe=!1,Ne=It,et.next(st))}))})}function Te(Ye,Oe){return Ye===Oe}},5964:(un,nt,B)=>{"use strict";B.d(nt,{p:()=>_e});var i=B(9974),l=B(4360);function _e(le,Te){return(0,i.N)((Ye,Oe)=>{let Xe=0;Ye.subscribe((0,l._)(Oe,et=>le.call(Te,et,Xe++)&&Oe.next(et)))})}},980:(un,nt,B)=>{"use strict";B.d(nt,{j:()=>l});var i=B(9974);function l(_e){return(0,i.N)((le,Te)=>{try{le.subscribe(Te)}finally{Te.add(_e)}})}},1594:(un,nt,B)=>{"use strict";B.d(nt,{$:()=>Oe});var i=B(9350),l=B(5964),_e=B(6697),le=B(9901),Te=B(3774),Ye=B(3669);function Oe(Xe,et){const Ne=arguments.length>=2;return Fe=>Fe.pipe(Xe?(0,l.p)((st,It)=>Xe(st,It,Fe)):Ye.D,(0,_e.s)(1),Ne?(0,le.U)(et):(0,Te.v)(()=>new i.G))}},6354:(un,nt,B)=>{"use strict";B.d(nt,{T:()=>_e});var i=B(9974),l=B(4360);function _e(le,Te){return(0,i.N)((Ye,Oe)=>{let Xe=0;Ye.subscribe((0,l._)(Oe,et=>{Oe.next(le.call(Te,et,Xe++))}))})}},3703:(un,nt,B)=>{"use strict";B.d(nt,{u:()=>l});var i=B(6354);function l(_e){return(0,i.T)(()=>_e)}},6365:(un,nt,B)=>{"use strict";B.d(nt,{U:()=>_e});var i=B(3028),l=B(3669);function _e(le=1/0){return(0,i.Z)(l.D,le)}},5412:(un,nt,B)=>{"use strict";B.d(nt,{h:()=>le});var i=B(8750),l=B(5225),_e=B(4360);function le(Te,Ye,Oe,Xe,et,Ne,Fe,st){const It=[];let Rt=0,Bt=0,fn=!1;const Wt=()=>{fn&&!It.length&&!Rt&&Ye.complete()},je=Mn=>Rt<Xe?Cn(Mn):It.push(Mn),Cn=Mn=>{Ne&&Ye.next(Mn),Rt++;let jt=!1;(0,i.Tg)(Oe(Mn,Bt++)).subscribe((0,_e._)(Ye,wt=>{et?.(wt),Ne?je(wt):Ye.next(wt)},()=>{jt=!0},void 0,()=>{if(jt)try{for(Rt--;It.length&&Rt<Xe;){const wt=It.shift();Fe?(0,l.N)(Ye,Fe,()=>Cn(wt)):Cn(wt)}Wt()}catch(wt){Ye.error(wt)}}))};return Te.subscribe((0,_e._)(Ye,je,()=>{fn=!0,Wt()})),()=>{st?.()}}},3028:(un,nt,B)=>{"use strict";B.d(nt,{Z:()=>Ye});var i=B(6354),l=B(8750),_e=B(9974),le=B(5412),Te=B(8071);function Ye(Oe,Xe,et=1/0){return(0,Te.T)(Xe)?Ye((Ne,Fe)=>(0,i.T)((st,It)=>Xe(Ne,st,Fe,It))((0,l.Tg)(Oe(Ne,Fe))),et):("number"==typeof Xe&&(et=Xe),(0,_e.N)((Ne,Fe)=>(0,le.h)(Ne,Fe,Oe,et)))}},941:(un,nt,B)=>{"use strict";B.d(nt,{Q:()=>le});var i=B(5225),l=B(9974),_e=B(4360);function le(Te,Ye=0){return(0,l.N)((Oe,Xe)=>{Oe.subscribe((0,_e._)(Xe,et=>(0,i.N)(Xe,Te,()=>Xe.next(et),Ye),()=>(0,i.N)(Xe,Te,()=>Xe.complete(),Ye),et=>(0,i.N)(Xe,Te,()=>Xe.error(et),Ye)))})}},3946:(un,nt,B)=>{"use strict";B.d(nt,{J:()=>_e});var i=B(9974),l=B(4360);function _e(){return(0,i.N)((le,Te)=>{let Ye,Oe=!1;le.subscribe((0,l._)(Te,Xe=>{const et=Ye;Ye=Xe,Oe&&Te.next([et,Xe]),Oe=!0}))})}},9852:(un,nt,B)=>{"use strict";B.d(nt,{T:()=>_e});var i=B(6649),l=B(9974);function _e(le,Te){return(0,l.N)((0,i.S)(le,Te,arguments.length>=2,!1,!0))}},9898:(un,nt,B)=>{"use strict";B.d(nt,{B:()=>_e});var i=B(9974),l=B(4360);function _e(){return(0,i.N)((le,Te)=>{let Ye=null;le._refCount++;const Oe=(0,l._)(Te,void 0,void 0,void 0,()=>{if(!le||le._refCount<=0||0<--le._refCount)return void(Ye=null);const Xe=le._connection,et=Ye;Ye=null,Xe&&(!et||Xe===et)&&Xe.unsubscribe(),Te.unsubscribe()});le.subscribe(Oe),Oe.closed||(Ye=le.connect())})}},1943:(un,nt,B)=>{"use strict";B.d(nt,{S:()=>_e});var i=B(9974),l=B(6649);function _e(le,Te){return(0,i.N)((0,l.S)(le,Te,arguments.length>=2,!0))}},6649:(un,nt,B)=>{"use strict";B.d(nt,{S:()=>l});var i=B(4360);function l(_e,le,Te,Ye,Oe){return(Xe,et)=>{let Ne=Te,Fe=le,st=0;Xe.subscribe((0,i._)(et,It=>{const Rt=st++;Fe=Ne?_e(Fe,It,Rt):(Ne=!0,It),Ye&&et.next(Fe)},Oe&&(()=>{Ne&&et.next(Fe),et.complete()})))}}},7647:(un,nt,B)=>{"use strict";B.d(nt,{u:()=>Te});var i=B(8750),l=B(1413),_e=B(7707),le=B(9974);function Te(Oe={}){const{connector:Xe=(()=>new l.B),resetOnError:et=!0,resetOnComplete:Ne=!0,resetOnRefCountZero:Fe=!0}=Oe;return st=>{let It,Rt,Bt,fn=0,Wt=!1,je=!1;const Cn=()=>{Rt?.unsubscribe(),Rt=void 0},Mn=()=>{Cn(),It=Bt=void 0,Wt=je=!1},jt=()=>{const wt=It;Mn(),wt?.unsubscribe()};return(0,le.N)((wt,ge)=>{fn++,!je&&!Wt&&Cn();const Tn=Bt=Bt??Xe();ge.add(()=>{fn--,0===fn&&!je&&!Wt&&(Rt=Ye(jt,Fe))}),Tn.subscribe(ge),!It&&fn>0&&(It=new _e.Ms({next:qt=>Tn.next(qt),error:qt=>{je=!0,Cn(),Rt=Ye(Mn,et,qt),Tn.error(qt)},complete:()=>{Wt=!0,Cn(),Rt=Ye(Mn,Ne),Tn.complete()}}),(0,i.Tg)(wt).subscribe(It))})(st)}}function Ye(Oe,Xe,...et){if(!0===Xe)return void Oe();if(!1===Xe)return;const Ne=new _e.Ms({next:()=>{Ne.unsubscribe(),Oe()}});return(0,i.Tg)(Xe(...et)).subscribe(Ne)}},4668:(un,nt,B)=>{"use strict";B.d(nt,{t:()=>_e});var i=B(2771),l=B(7647);function _e(le,Te,Ye){let Oe,Xe=!1;return le&&"object"==typeof le?({bufferSize:Oe=1/0,windowTime:Te=1/0,refCount:Xe=!1,scheduler:Ye}=le):Oe=le??1/0,(0,l.u)({connector:()=>new i.m(Oe,Te,Ye),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Xe})}},5245:(un,nt,B)=>{"use strict";B.d(nt,{i:()=>l});var i=B(5964);function l(_e){return(0,i.p)((le,Te)=>_e<=Te)}},9172:(un,nt,B)=>{"use strict";B.d(nt,{Z:()=>le});var i=B(8793),l=B(9326),_e=B(9974);function le(...Te){const Ye=(0,l.lI)(Te);return(0,_e.N)((Oe,Xe)=>{(Ye?(0,i.x)(Te,Oe,Ye):(0,i.x)(Te,Oe)).subscribe(Xe)})}},6745:(un,nt,B)=>{"use strict";B.d(nt,{_:()=>l});var i=B(9974);function l(_e,le=0){return(0,i.N)((Te,Ye)=>{Ye.add(_e.schedule(()=>Te.subscribe(Ye),le))})}},5558:(un,nt,B)=>{"use strict";B.d(nt,{n:()=>le});var i=B(8750),l=B(9974),_e=B(4360);function le(Te,Ye){return(0,l.N)((Oe,Xe)=>{let et=null,Ne=0,Fe=!1;const st=()=>Fe&&!et&&Xe.complete();Oe.subscribe((0,_e._)(Xe,It=>{et?.unsubscribe();let Rt=0;const Bt=Ne++;(0,i.Tg)(Te(It,Bt)).subscribe(et=(0,_e._)(Xe,fn=>Xe.next(Ye?Ye(It,fn,Bt,Rt++):fn),()=>{et=null,st()}))},()=>{Fe=!0,st()}))})}},7083:(un,nt,B)=>{"use strict";B.d(nt,{K:()=>_e});var i=B(5558),l=B(8071);function _e(le,Te){return(0,l.T)(Te)?(0,i.n)(()=>le,Te):(0,i.n)(()=>le)}},6697:(un,nt,B)=>{"use strict";B.d(nt,{s:()=>le});var i=B(983),l=B(9974),_e=B(4360);function le(Te){return Te<=0?()=>i.w:(0,l.N)((Ye,Oe)=>{let Xe=0;Ye.subscribe((0,_e._)(Oe,et=>{++Xe<=Te&&(Oe.next(et),Te<=Xe&&Oe.complete())}))})}},5109:(un,nt,B)=>{"use strict";B.d(nt,{o:()=>le});var i=B(983),l=B(9974),_e=B(4360);function le(Te){return Te<=0?()=>i.w:(0,l.N)((Ye,Oe)=>{let Xe=[];Ye.subscribe((0,_e._)(Oe,et=>{Xe.push(et),Te<Xe.length&&Xe.shift()},()=>{for(const et of Xe)Oe.next(et);Oe.complete()},void 0,()=>{Xe=null}))})}},6977:(un,nt,B)=>{"use strict";B.d(nt,{Q:()=>Te});var i=B(9974),l=B(4360),_e=B(8750),le=B(5343);function Te(Ye){return(0,i.N)((Oe,Xe)=>{(0,_e.Tg)(Ye).subscribe((0,l._)(Xe,()=>Xe.complete(),le.l)),!Xe.closed&&Oe.subscribe(Xe)})}},8141:(un,nt,B)=>{"use strict";B.d(nt,{M:()=>Te});var i=B(8071),l=B(9974),_e=B(4360),le=B(3669);function Te(Ye,Oe,Xe){const et=(0,i.T)(Ye)||Oe||Xe?{next:Ye,error:Oe,complete:Xe}:Ye;return et?(0,l.N)((Ne,Fe)=>{var st;null===(st=et.subscribe)||void 0===st||st.call(et);let It=!0;Ne.subscribe((0,_e._)(Fe,Rt=>{var Bt;null===(Bt=et.next)||void 0===Bt||Bt.call(et,Rt),Fe.next(Rt)},()=>{var Rt;It=!1,null===(Rt=et.complete)||void 0===Rt||Rt.call(et),Fe.complete()},Rt=>{var Bt;It=!1,null===(Bt=et.error)||void 0===Bt||Bt.call(et,Rt),Fe.error(Rt)},()=>{var Rt,Bt;It&&(null===(Rt=et.unsubscribe)||void 0===Rt||Rt.call(et)),null===(Bt=et.finalize)||void 0===Bt||Bt.call(et)}))}):le.D}},3774:(un,nt,B)=>{"use strict";B.d(nt,{v:()=>le});var i=B(9350),l=B(9974),_e=B(4360);function le(Ye=Te){return(0,l.N)((Oe,Xe)=>{let et=!1;Oe.subscribe((0,_e._)(Xe,Ne=>{et=!0,Xe.next(Ne)},()=>et?Xe.complete():Xe.error(Ye())))})}function Te(){return new i.G}},3993:(un,nt,B)=>{"use strict";B.d(nt,{E:()=>Oe});var i=B(9974),l=B(4360),_e=B(8750),le=B(3669),Te=B(5343),Ye=B(9326);function Oe(...Xe){const et=(0,Ye.ms)(Xe);return(0,i.N)((Ne,Fe)=>{const st=Xe.length,It=new Array(st);let Rt=Xe.map(()=>!1),Bt=!1;for(let fn=0;fn<st;fn++)(0,_e.Tg)(Xe[fn]).subscribe((0,l._)(Fe,Wt=>{It[fn]=Wt,!Bt&&!Rt[fn]&&(Rt[fn]=!0,(Bt=Rt.every(le.D))&&(Rt=null))},Te.l));Ne.subscribe((0,l._)(Fe,fn=>{if(Bt){const Wt=[fn,...It];Fe.next(et?et(...Wt):Wt)}}))})}},6780:(un,nt,B)=>{"use strict";B.d(nt,{R:()=>Te});var i=B(8359);class l extends i.yU{constructor(Oe,Xe){super()}schedule(Oe,Xe=0){return this}}const _e={setInterval(Ye,Oe,...Xe){const{delegate:et}=_e;return et?.setInterval?et.setInterval(Ye,Oe,...Xe):setInterval(Ye,Oe,...Xe)},clearInterval(Ye){const{delegate:Oe}=_e;return(Oe?.clearInterval||clearInterval)(Ye)},delegate:void 0};var le=B(7908);class Te extends l{constructor(Oe,Xe){super(Oe,Xe),this.scheduler=Oe,this.work=Xe,this.pending=!1}schedule(Oe,Xe=0){var et;if(this.closed)return this;this.state=Oe;const Ne=this.id,Fe=this.scheduler;return null!=Ne&&(this.id=this.recycleAsyncId(Fe,Ne,Xe)),this.pending=!0,this.delay=Xe,this.id=null!==(et=this.id)&&void 0!==et?et:this.requestAsyncId(Fe,this.id,Xe),this}requestAsyncId(Oe,Xe,et=0){return _e.setInterval(Oe.flush.bind(Oe,this),et)}recycleAsyncId(Oe,Xe,et=0){if(null!=et&&this.delay===et&&!1===this.pending)return Xe;null!=Xe&&_e.clearInterval(Xe)}execute(Oe,Xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const et=this._execute(Oe,Xe);if(et)return et;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Oe,Xe){let Ne,et=!1;try{this.work(Oe)}catch(Fe){et=!0,Ne=Fe||new Error("Scheduled action threw falsy error")}if(et)return this.unsubscribe(),Ne}unsubscribe(){if(!this.closed){const{id:Oe,scheduler:Xe}=this,{actions:et}=Xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.o)(et,this),null!=Oe&&(this.id=this.recycleAsyncId(Xe,Oe,null)),this.delay=null,super.unsubscribe()}}}},9687:(un,nt,B)=>{"use strict";B.d(nt,{q:()=>_e});var i=B(6129);class l{constructor(Te,Ye=l.now){this.schedulerActionCtor=Te,this.now=Ye}schedule(Te,Ye=0,Oe){return new this.schedulerActionCtor(this,Te).schedule(Oe,Ye)}}l.now=i.U.now;class _e extends l{constructor(Te,Ye=l.now){super(Te,Ye),this.actions=[],this._active=!1}flush(Te){const{actions:Ye}=this;if(this._active)return void Ye.push(Te);let Oe;this._active=!0;do{if(Oe=Te.execute(Te.state,Te.delay))break}while(Te=Ye.shift());if(this._active=!1,Oe){for(;Te=Ye.shift();)Te.unsubscribe();throw Oe}}}},3236:(un,nt,B)=>{"use strict";B.d(nt,{E:()=>_e,b:()=>le});var i=B(6780);const _e=new(B(9687).q)(i.R),le=_e},6129:(un,nt,B)=>{"use strict";B.d(nt,{U:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},9270:(un,nt,B)=>{"use strict";B.d(nt,{f:()=>i});const i={setTimeout(l,_e,...le){const{delegate:Te}=i;return Te?.setTimeout?Te.setTimeout(l,_e,...le):setTimeout(l,_e,...le)},clearTimeout(l){const{delegate:_e}=i;return(_e?.clearTimeout||clearTimeout)(l)},delegate:void 0}},4761:(un,nt,B)=>{"use strict";B.d(nt,{l:()=>l});const l=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(un,nt,B)=>{"use strict";B.d(nt,{s:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(un,nt,B)=>{"use strict";B.d(nt,{G:()=>l});const l=(0,B(1853).L)(_e=>function(){_e(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(un,nt,B)=>{"use strict";B.d(nt,{R0:()=>Ye,lI:()=>Te,ms:()=>le});var i=B(8071),l=B(9470);function _e(Oe){return Oe[Oe.length-1]}function le(Oe){return(0,i.T)(_e(Oe))?Oe.pop():void 0}function Te(Oe){return(0,l.m)(_e(Oe))?Oe.pop():void 0}function Ye(Oe,Xe){return"number"==typeof _e(Oe)?Oe.pop():Xe}},3073:(un,nt,B)=>{"use strict";B.d(nt,{D:()=>Te});const{isArray:i}=Array,{getPrototypeOf:l,prototype:_e,keys:le}=Object;function Te(Oe){if(1===Oe.length){const Xe=Oe[0];if(i(Xe))return{args:Xe,keys:null};if(function Ye(Oe){return Oe&&"object"==typeof Oe&&l(Oe)===_e}(Xe)){const et=le(Xe);return{args:et.map(Ne=>Xe[Ne]),keys:et}}}return{args:Oe,keys:null}}},7908:(un,nt,B)=>{"use strict";function i(l,_e){if(l){const le=l.indexOf(_e);0<=le&&l.splice(le,1)}}B.d(nt,{o:()=>i})},1853:(un,nt,B)=>{"use strict";function i(l){const le=l(Te=>{Error.call(Te),Te.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}B.d(nt,{L:()=>i})},8496:(un,nt,B)=>{"use strict";function i(l,_e){return l.reduce((le,Te,Ye)=>(le[Te]=_e[Ye],le),{})}B.d(nt,{e:()=>i})},9786:(un,nt,B)=>{"use strict";B.d(nt,{Y:()=>_e,l:()=>le});var i=B(1026);let l=null;function _e(Te){if(i.$.useDeprecatedSynchronousErrorHandling){const Ye=!l;if(Ye&&(l={errorThrown:!1,error:null}),Te(),Ye){const{errorThrown:Oe,error:Xe}=l;if(l=null,Oe)throw Xe}}else Te()}function le(Te){i.$.useDeprecatedSynchronousErrorHandling&&l&&(l.errorThrown=!0,l.error=Te)}},5225:(un,nt,B)=>{"use strict";function i(l,_e,le,Te=0,Ye=!1){const Oe=_e.schedule(function(){le(),Ye?l.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(l.add(Oe),!Ye)return Oe}B.d(nt,{N:()=>i})},3669:(un,nt,B)=>{"use strict";function i(l){return l}B.d(nt,{D:()=>i})},7441:(un,nt,B)=>{"use strict";B.d(nt,{X:()=>i});const i=l=>l&&"number"==typeof l.length&&"function"!=typeof l},7953:(un,nt,B)=>{"use strict";B.d(nt,{T:()=>l});var i=B(8071);function l(_e){return Symbol.asyncIterator&&(0,i.T)(_e?.[Symbol.asyncIterator])}},8071:(un,nt,B)=>{"use strict";function i(l){return"function"==typeof l}B.d(nt,{T:()=>i})},5055:(un,nt,B)=>{"use strict";B.d(nt,{l:()=>_e});var i=B(3494),l=B(8071);function _e(le){return(0,l.T)(le[i.s])}},5397:(un,nt,B)=>{"use strict";B.d(nt,{x:()=>_e});var i=B(4761),l=B(8071);function _e(le){return(0,l.T)(le?.[i.l])}},4402:(un,nt,B)=>{"use strict";B.d(nt,{A:()=>_e});var i=B(1985),l=B(8071);function _e(le){return!!le&&(le instanceof i.c||(0,l.T)(le.lift)&&(0,l.T)(le.subscribe))}},9858:(un,nt,B)=>{"use strict";B.d(nt,{y:()=>l});var i=B(8071);function l(_e){return(0,i.T)(_e?.then)}},5196:(un,nt,B)=>{"use strict";B.d(nt,{C:()=>_e,U:()=>le});var i=B(1635),l=B(8071);function _e(Te){return(0,i.AQ)(this,arguments,function*(){const Oe=Te.getReader();try{for(;;){const{value:Xe,done:et}=yield(0,i.N3)(Oe.read());if(et)return yield(0,i.N3)(void 0);yield yield(0,i.N3)(Xe)}}finally{Oe.releaseLock()}})}function le(Te){return(0,l.T)(Te?.getReader)}},9470:(un,nt,B)=>{"use strict";B.d(nt,{m:()=>l});var i=B(8071);function l(_e){return _e&&(0,i.T)(_e.schedule)}},9974:(un,nt,B)=>{"use strict";B.d(nt,{N:()=>_e,S:()=>l});var i=B(8071);function l(le){return(0,i.T)(le?.lift)}function _e(le){return Te=>{if(l(Te))return Te.lift(function(Ye){try{return le(Ye,this)}catch(Oe){this.error(Oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(un,nt,B)=>{"use strict";B.d(nt,{I:()=>le});var i=B(6354);const{isArray:l}=Array;function le(Te){return(0,i.T)(Ye=>function _e(Te,Ye){return l(Ye)?Te(...Ye):Te(Ye)}(Te,Ye))}},5343:(un,nt,B)=>{"use strict";function i(){}B.d(nt,{l:()=>i})},1203:(un,nt,B)=>{"use strict";B.d(nt,{F:()=>l,m:()=>_e});var i=B(3669);function l(...le){return _e(le)}function _e(le){return 0===le.length?i.D:1===le.length?le[0]:function(Ye){return le.reduce((Oe,Xe)=>Xe(Oe),Ye)}}},5334:(un,nt,B)=>{"use strict";B.d(nt,{m:()=>_e});var i=B(1026),l=B(9270);function _e(le){l.f.setTimeout(()=>{const{onUnhandledError:Te}=i.$;if(!Te)throw le;Te(le)})}},591:(un,nt,B)=>{"use strict";function i(l){return new TypeError(`You provided ${null!==l&&"object"==typeof l?"an invalid object":`'${l}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(nt,{L:()=>i})},9969:(un,nt,B)=>{"use strict";B.d(nt,{FX:()=>Mt,If:()=>i,K2:()=>Ye,MA:()=>st,Os:()=>Te,P:()=>Rt,hZ:()=>_e,i0:()=>le,i7:()=>et,iF:()=>Oe,kY:()=>Ne,kp:()=>l,sf:()=>Tn,ui:()=>qt,wk:()=>Xe,yc:()=>Bt});var i=function(He){return He[He.State=0]="State",He[He.Transition=1]="Transition",He[He.Sequence=2]="Sequence",He[He.Group=3]="Group",He[He.Animate=4]="Animate",He[He.Keyframes=5]="Keyframes",He[He.Style=6]="Style",He[He.Trigger=7]="Trigger",He[He.Reference=8]="Reference",He[He.AnimateChild=9]="AnimateChild",He[He.AnimateRef=10]="AnimateRef",He[He.Query=11]="Query",He[He.Stagger=12]="Stagger",He}(i||{});const l="*";function _e(He,Se){return{type:i.Trigger,name:He,definitions:Se,options:{}}}function le(He,Se=null){return{type:i.Animate,styles:Se,timings:He}}function Te(He,Se=null){return{type:i.Group,steps:He,options:Se}}function Ye(He,Se=null){return{type:i.Sequence,steps:He,options:Se}}function Oe(He){return{type:i.Style,styles:He,offset:null}}function Xe(He,Se,Le){return{type:i.State,name:He,styles:Se,options:Le}}function et(He){return{type:i.Keyframes,steps:He}}function Ne(He,Se,Le=null){return{type:i.Transition,expr:He,animation:Se,options:Le}}function st(He=null){return{type:i.AnimateChild,options:He}}function Rt(He,Se,Le=null){return{type:i.Query,selector:He,animation:Se,options:Le}}function Bt(He,Se){return{type:i.Stagger,timings:He,animation:Se}}class Tn{constructor(Se=0,Le=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Se+Le}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Se=>Se()),this._onDoneFns=[])}onStart(Se){this._originalOnStartFns.push(Se),this._onStartFns.push(Se)}onDone(Se){this._originalOnDoneFns.push(Se),this._onDoneFns.push(Se)}onDestroy(Se){this._onDestroyFns.push(Se)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Se=>Se()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Se=>Se()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Se){this._position=this.totalTime?Se*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Se){const Le="start"==Se?this._onStartFns:this._onDoneFns;Le.forEach(Qt=>Qt()),Le.length=0}}class qt{constructor(Se){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Se;let Le=0,Qt=0,Rn=0;const Xn=this.players.length;0==Xn?queueMicrotask(()=>this._onFinish()):this.players.forEach(ai=>{ai.onDone(()=>{++Le==Xn&&this._onFinish()}),ai.onDestroy(()=>{++Qt==Xn&&this._onDestroy()}),ai.onStart(()=>{++Rn==Xn&&this._onStart()})}),this.totalTime=this.players.reduce((ai,$n)=>Math.max(ai,$n.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Se=>Se()),this._onDoneFns=[])}init(){this.players.forEach(Se=>Se.init())}onStart(Se){this._onStartFns.push(Se)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Se=>Se()),this._onStartFns=[])}onDone(Se){this._onDoneFns.push(Se)}onDestroy(Se){this._onDestroyFns.push(Se)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Se=>Se.play())}pause(){this.players.forEach(Se=>Se.pause())}restart(){this.players.forEach(Se=>Se.restart())}finish(){this._onFinish(),this.players.forEach(Se=>Se.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Se=>Se.destroy()),this._onDestroyFns.forEach(Se=>Se()),this._onDestroyFns=[])}reset(){this.players.forEach(Se=>Se.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Se){const Le=Se*this.totalTime;this.players.forEach(Qt=>{const Rn=Qt.totalTime?Math.min(1,Le/Qt.totalTime):1;Qt.setPosition(Rn)})}getPosition(){const Se=this.players.reduce((Le,Qt)=>null===Le||Qt.totalTime>Le.totalTime?Qt:Le,null);return null!=Se?Se.getPosition():0}beforeDestroy(){this.players.forEach(Se=>{Se.beforeDestroy&&Se.beforeDestroy()})}triggerCallback(Se){const Le="start"==Se?this._onStartFns:this._onDoneFns;Le.forEach(Qt=>Qt()),Le.length=0}}const Mt="!"},177:(un,nt,B)=>{"use strict";B.d(nt,{AJ:()=>Gi,B3:()=>Si,Jj:()=>Qi,MD:()=>eo,N0:()=>Qa,P9:()=>Hs,QT:()=>_e,Sm:()=>fn,Sq:()=>ts,T3:()=>_r,UE:()=>hs,VF:()=>Te,Vy:()=>da,XO:()=>ai,Xr:()=>Po,YU:()=>oi,Yq:()=>ur,ZD:()=>le,_b:()=>Mi,aZ:()=>je,bT:()=>Io,cH:()=>He,e1:()=>ll,fG:()=>qa,fw:()=>Wt,hb:()=>Rt,hj:()=>et,jo:()=>cl,lG:()=>ns,oV:()=>Mt,pM:()=>ts,qQ:()=>Oe,tL:()=>$n,ux:()=>ca});var i=B(4438);let l=null;function _e(){return l}function le(x){l??=x}class Te{}const Oe=new i.nKC("");let Xe=(()=>{class x{historyGo(X){throw new Error("")}static{this.\u0275fac=function(te){return new(te||x)}}static{this.\u0275prov=i.jDH({token:x,factory:()=>(0,i.WQX)(Ne),providedIn:"platform"})}}return x})();const et=new i.nKC("");let Ne=(()=>{class x extends Xe{constructor(){super(),this._doc=(0,i.WQX)(Oe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _e().getBaseHref(this._doc)}onPopState(X){const te=_e().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",X,!1),()=>te.removeEventListener("popstate",X)}onHashChange(X){const te=_e().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",X,!1),()=>te.removeEventListener("hashchange",X)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(X){this._location.pathname=X}pushState(X,te,Ae){this._history.pushState(X,te,Ae)}replaceState(X,te,Ae){this._history.replaceState(X,te,Ae)}forward(){this._history.forward()}back(){this._history.back()}historyGo(X=0){this._history.go(X)}getState(){return this._history.state}static{this.\u0275fac=function(te){return new(te||x)}}static{this.\u0275prov=i.jDH({token:x,factory:()=>new x,providedIn:"platform"})}}return x})();function Fe(x,de){if(0==x.length)return de;if(0==de.length)return x;let X=0;return x.endsWith("/")&&X++,de.startsWith("/")&&X++,2==X?x+de.substring(1):1==X?x+de:x+"/"+de}function st(x){const de=x.match(/#|\?|$/),X=de&&de.index||x.length;return x.slice(0,X-("/"===x[X-1]?1:0))+x.slice(X)}function It(x){return x&&"?"!==x[0]?"?"+x:x}let Rt=(()=>{class x{historyGo(X){throw new Error("")}static{this.\u0275fac=function(te){return new(te||x)}}static{this.\u0275prov=i.jDH({token:x,factory:()=>(0,i.WQX)(fn),providedIn:"root"})}}return x})();const Bt=new i.nKC("");let fn=(()=>{class x extends Rt{constructor(X,te){super(),this._platformLocation=X,this._removeListenerFns=[],this._baseHref=te??this._platformLocation.getBaseHrefFromDOM()??(0,i.WQX)(Oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(X){this._removeListenerFns.push(this._platformLocation.onPopState(X),this._platformLocation.onHashChange(X))}getBaseHref(){return this._baseHref}prepareExternalUrl(X){return Fe(this._baseHref,X)}path(X=!1){const te=this._platformLocation.pathname+It(this._platformLocation.search),Ae=this._platformLocation.hash;return Ae&&X?`${te}${Ae}`:te}pushState(X,te,Ae,Ct){const Pt=this.prepareExternalUrl(Ae+It(Ct));this._platformLocation.pushState(X,te,Pt)}replaceState(X,te,Ae,Ct){const Pt=this.prepareExternalUrl(Ae+It(Ct));this._platformLocation.replaceState(X,te,Pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(X=0){this._platformLocation.historyGo?.(X)}static{this.\u0275fac=function(te){return new(te||x)(i.KVO(Xe),i.KVO(Bt,8))}}static{this.\u0275prov=i.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})(),Wt=(()=>{class x extends Rt{constructor(X,te){super(),this._platformLocation=X,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(X){this._removeListenerFns.push(this._platformLocation.onPopState(X),this._platformLocation.onHashChange(X))}getBaseHref(){return this._baseHref}path(X=!1){const te=this._platformLocation.hash??"#";return te.length>0?te.substring(1):te}prepareExternalUrl(X){const te=Fe(this._baseHref,X);return te.length>0?"#"+te:te}pushState(X,te,Ae,Ct){let Pt=this.prepareExternalUrl(Ae+It(Ct));0==Pt.length&&(Pt=this._platformLocation.pathname),this._platformLocation.pushState(X,te,Pt)}replaceState(X,te,Ae,Ct){let Pt=this.prepareExternalUrl(Ae+It(Ct));0==Pt.length&&(Pt=this._platformLocation.pathname),this._platformLocation.replaceState(X,te,Pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(X=0){this._platformLocation.historyGo?.(X)}static{this.\u0275fac=function(te){return new(te||x)(i.KVO(Xe),i.KVO(Bt,8))}}static{this.\u0275prov=i.jDH({token:x,factory:x.\u0275fac})}}return x})(),je=(()=>{class x{constructor(X){this._subject=new i.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=X;const te=this._locationStrategy.getBaseHref();this._basePath=function wt(x){if(new RegExp("^(https?:)?//").test(x)){const[,X]=x.split(/\/\/[^\/]+/);return X}return x}(st(jt(te))),this._locationStrategy.onPopState(Ae=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ae.state,type:Ae.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(X=!1){return this.normalize(this._locationStrategy.path(X))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(X,te=""){return this.path()==this.normalize(X+It(te))}normalize(X){return x.stripTrailingSlash(function Mn(x,de){if(!x||!de.startsWith(x))return de;const X=de.substring(x.length);return""===X||["/",";","?","#"].includes(X[0])?X:de}(this._basePath,jt(X)))}prepareExternalUrl(X){return X&&"/"!==X[0]&&(X="/"+X),this._locationStrategy.prepareExternalUrl(X)}go(X,te="",Ae=null){this._locationStrategy.pushState(Ae,"",X,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(X+It(te)),Ae)}replaceState(X,te="",Ae=null){this._locationStrategy.replaceState(Ae,"",X,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(X+It(te)),Ae)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(X=0){this._locationStrategy.historyGo?.(X)}onUrlChange(X){return this._urlChangeListeners.push(X),this._urlChangeSubscription??=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)}),()=>{const te=this._urlChangeListeners.indexOf(X);this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(X="",te){this._urlChangeListeners.forEach(Ae=>Ae(X,te))}subscribe(X,te,Ae){return this._subject.subscribe({next:X,error:te,complete:Ae})}static{this.normalizeQueryParams=It}static{this.joinWithSlash=Fe}static{this.stripTrailingSlash=st}static{this.\u0275fac=function(te){return new(te||x)(i.KVO(Rt))}}static{this.\u0275prov=i.jDH({token:x,factory:()=>function Cn(){return new je((0,i.KVO)(Rt))}(),providedIn:"root"})}}return x})();function jt(x){return x.replace(/\/index.html$/,"")}var qt=function(x){return x[x.Zero=0]="Zero",x[x.One=1]="One",x[x.Two=2]="Two",x[x.Few=3]="Few",x[x.Many=4]="Many",x[x.Other=5]="Other",x}(qt||{}),Mt=function(x){return x[x.Format=0]="Format",x[x.Standalone=1]="Standalone",x}(Mt||{}),He=function(x){return x[x.Narrow=0]="Narrow",x[x.Abbreviated=1]="Abbreviated",x[x.Wide=2]="Wide",x[x.Short=3]="Short",x}(He||{}),Se=function(x){return x[x.Short=0]="Short",x[x.Medium=1]="Medium",x[x.Long=2]="Long",x[x.Full=3]="Full",x}(Se||{});const Le={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ai(x,de,X){const te=(0,i.H5H)(x),Ct=bt([te[i.KH2.DaysFormat],te[i.KH2.DaysStandalone]],de);return bt(Ct,X)}function $n(x,de,X){const te=(0,i.H5H)(x),Ct=bt([te[i.KH2.MonthsFormat],te[i.KH2.MonthsStandalone]],de);return bt(Ct,X)}function mt(x,de){return bt((0,i.H5H)(x)[i.KH2.DateFormat],de)}function Be(x,de){return bt((0,i.H5H)(x)[i.KH2.TimeFormat],de)}function Ze(x,de){return bt((0,i.H5H)(x)[i.KH2.DateTimeFormat],de)}function Ie(x,de){const X=(0,i.H5H)(x),te=X[i.KH2.NumberSymbols][de];if(typeof te>"u"){if(de===Le.CurrencyDecimal)return X[i.KH2.NumberSymbols][Le.Decimal];if(de===Le.CurrencyGroup)return X[i.KH2.NumberSymbols][Le.Group]}return te}const Vn=i.mq5;function en(x){if(!x[i.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${x[i.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bt(x,de){for(let X=de;X>-1;X--)if(typeof x[X]<"u")return x[X];throw new Error("Locale data API: locale data undefined")}function xe(x){const[de,X]=x.split(":");return{hours:+de,minutes:+X}}const Ve=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pt={},bn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Nn=function(x){return x[x.Short=0]="Short",x[x.ShortGMT=1]="ShortGMT",x[x.Long=2]="Long",x[x.Extended=3]="Extended",x}(Nn||{}),Dn=function(x){return x[x.FullYear=0]="FullYear",x[x.Month=1]="Month",x[x.Date=2]="Date",x[x.Hours=3]="Hours",x[x.Minutes=4]="Minutes",x[x.Seconds=5]="Seconds",x[x.FractionalSeconds=6]="FractionalSeconds",x[x.Day=7]="Day",x}(Dn||{}),jn=function(x){return x[x.DayPeriods=0]="DayPeriods",x[x.Days=1]="Days",x[x.Months=2]="Months",x[x.Eras=3]="Eras",x}(jn||{});function ur(x,de,X,te){let Ae=function Ge(x){if(ut(x))return x;if("number"==typeof x&&!isNaN(x))return new Date(x);if("string"==typeof x){if(x=x.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(x)){const[Ae,Ct=1,Pt=1]=x.split("-").map(Sn=>+Sn);return Ki(Ae,Ct-1,Pt)}const X=parseFloat(x);if(!isNaN(x-X))return new Date(X);let te;if(te=x.match(Ve))return function ze(x){const de=new Date(0);let X=0,te=0;const Ae=x[8]?de.setUTCFullYear:de.setFullYear,Ct=x[8]?de.setUTCHours:de.setHours;x[9]&&(X=Number(x[9]+x[10]),te=Number(x[9]+x[11])),Ae.call(de,Number(x[1]),Number(x[2])-1,Number(x[3]));const Pt=Number(x[4]||0)-X,Sn=Number(x[5]||0)-te,Di=Number(x[6]||0),Ni=Math.floor(1e3*parseFloat("0."+(x[7]||0)));return Ct.call(de,Pt,Sn,Di,Ni),de}(te)}const de=new Date(x);if(!ut(de))throw new Error(`Unable to convert "${x}" into a date`);return de}(x);de=Fi(X,de)||de;let Sn,Pt=[];for(;de;){if(Sn=bn.exec(de),!Sn){Pt.push(de);break}{Pt=Pt.concat(Sn.slice(1));const sr=Pt.pop();if(!sr)break;de=sr}}let Di=Ae.getTimezoneOffset();te&&(Di=ht(te,Di),Ae=function Un(x,de,X){const te=X?-1:1,Ae=x.getTimezoneOffset();return function yn(x,de){return(x=new Date(x.getTime())).setMinutes(x.getMinutes()+de),x}(x,te*(ht(de,Ae)-Ae))}(Ae,te,!0));let Ni="";return Pt.forEach(sr=>{const Qn=function $e(x){if(Tt[x])return Tt[x];let de;switch(x){case"G":case"GG":case"GGG":de=er(jn.Eras,He.Abbreviated);break;case"GGGG":de=er(jn.Eras,He.Wide);break;case"GGGGG":de=er(jn.Eras,He.Narrow);break;case"y":de=Kn(Dn.FullYear,1,0,!1,!0);break;case"yy":de=Kn(Dn.FullYear,2,0,!0,!0);break;case"yyy":de=Kn(Dn.FullYear,3,0,!1,!0);break;case"yyyy":de=Kn(Dn.FullYear,4,0,!1,!0);break;case"Y":de=vt(1);break;case"YY":de=vt(2,!0);break;case"YYY":de=vt(3);break;case"YYYY":de=vt(4);break;case"M":case"L":de=Kn(Dn.Month,1,1);break;case"MM":case"LL":de=Kn(Dn.Month,2,1);break;case"MMM":de=er(jn.Months,He.Abbreviated);break;case"MMMM":de=er(jn.Months,He.Wide);break;case"MMMMM":de=er(jn.Months,He.Narrow);break;case"LLL":de=er(jn.Months,He.Abbreviated,Mt.Standalone);break;case"LLLL":de=er(jn.Months,He.Wide,Mt.Standalone);break;case"LLLLL":de=er(jn.Months,He.Narrow,Mt.Standalone);break;case"w":de=Rr(1);break;case"ww":de=Rr(2);break;case"W":de=Rr(1,!0);break;case"d":de=Kn(Dn.Date,1);break;case"dd":de=Kn(Dn.Date,2);break;case"c":case"cc":de=Kn(Dn.Day,1);break;case"ccc":de=er(jn.Days,He.Abbreviated,Mt.Standalone);break;case"cccc":de=er(jn.Days,He.Wide,Mt.Standalone);break;case"ccccc":de=er(jn.Days,He.Narrow,Mt.Standalone);break;case"cccccc":de=er(jn.Days,He.Short,Mt.Standalone);break;case"E":case"EE":case"EEE":de=er(jn.Days,He.Abbreviated);break;case"EEEE":de=er(jn.Days,He.Wide);break;case"EEEEE":de=er(jn.Days,He.Narrow);break;case"EEEEEE":de=er(jn.Days,He.Short);break;case"a":case"aa":case"aaa":de=er(jn.DayPeriods,He.Abbreviated);break;case"aaaa":de=er(jn.DayPeriods,He.Wide);break;case"aaaaa":de=er(jn.DayPeriods,He.Narrow);break;case"b":case"bb":case"bbb":de=er(jn.DayPeriods,He.Abbreviated,Mt.Standalone,!0);break;case"bbbb":de=er(jn.DayPeriods,He.Wide,Mt.Standalone,!0);break;case"bbbbb":de=er(jn.DayPeriods,He.Narrow,Mt.Standalone,!0);break;case"B":case"BB":case"BBB":de=er(jn.DayPeriods,He.Abbreviated,Mt.Format,!0);break;case"BBBB":de=er(jn.DayPeriods,He.Wide,Mt.Format,!0);break;case"BBBBB":de=er(jn.DayPeriods,He.Narrow,Mt.Format,!0);break;case"h":de=Kn(Dn.Hours,1,-12);break;case"hh":de=Kn(Dn.Hours,2,-12);break;case"H":de=Kn(Dn.Hours,1);break;case"HH":de=Kn(Dn.Hours,2);break;case"m":de=Kn(Dn.Minutes,1);break;case"mm":de=Kn(Dn.Minutes,2);break;case"s":de=Kn(Dn.Seconds,1);break;case"ss":de=Kn(Dn.Seconds,2);break;case"S":de=Kn(Dn.FractionalSeconds,1);break;case"SS":de=Kn(Dn.FractionalSeconds,2);break;case"SSS":de=Kn(Dn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":de=ws(Nn.Short);break;case"ZZZZZ":de=ws(Nn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":de=ws(Nn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":de=ws(Nn.Long);break;default:return null}return Tt[x]=de,de}(sr);Ni+=Qn?Qn(Ae,X,Di):"''"===sr?"'":sr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ni}function Ki(x,de,X){const te=new Date(0);return te.setFullYear(x,de,X),te.setHours(0,0,0),te}function Fi(x,de){const X=function Rn(x){return(0,i.H5H)(x)[i.KH2.LocaleId]}(x);if(pt[X]??={},pt[X][de])return pt[X][de];let te="";switch(de){case"shortDate":te=mt(x,Se.Short);break;case"mediumDate":te=mt(x,Se.Medium);break;case"longDate":te=mt(x,Se.Long);break;case"fullDate":te=mt(x,Se.Full);break;case"shortTime":te=Be(x,Se.Short);break;case"mediumTime":te=Be(x,Se.Medium);break;case"longTime":te=Be(x,Se.Long);break;case"fullTime":te=Be(x,Se.Full);break;case"short":const Ae=Fi(x,"shortTime"),Ct=Fi(x,"shortDate");te=si(Ze(x,Se.Short),[Ae,Ct]);break;case"medium":const Pt=Fi(x,"mediumTime"),Sn=Fi(x,"mediumDate");te=si(Ze(x,Se.Medium),[Pt,Sn]);break;case"long":const Di=Fi(x,"longTime"),Ni=Fi(x,"longDate");te=si(Ze(x,Se.Long),[Di,Ni]);break;case"full":const sr=Fi(x,"fullTime"),Qn=Fi(x,"fullDate");te=si(Ze(x,Se.Full),[sr,Qn])}return te&&(pt[X][de]=te),te}function si(x,de){return de&&(x=x.replace(/\{([^}]+)}/g,function(X,te){return null!=de&&te in de?de[te]:X})),x}function nr(x,de,X="-",te,Ae){let Ct="";(x<0||Ae&&x<=0)&&(Ae?x=1-x:(x=-x,Ct=X));let Pt=String(x);for(;Pt.length<de;)Pt="0"+Pt;return te&&(Pt=Pt.slice(Pt.length-de)),Ct+Pt}function Kn(x,de,X=0,te=!1,Ae=!1){return function(Ct,Pt){let Sn=function Pn(x,de){switch(x){case Dn.FullYear:return de.getFullYear();case Dn.Month:return de.getMonth();case Dn.Date:return de.getDate();case Dn.Hours:return de.getHours();case Dn.Minutes:return de.getMinutes();case Dn.Seconds:return de.getSeconds();case Dn.FractionalSeconds:return de.getMilliseconds();case Dn.Day:return de.getDay();default:throw new Error(`Unknown DateType value "${x}".`)}}(x,Ct);if((X>0||Sn>-X)&&(Sn+=X),x===Dn.Hours)0===Sn&&-12===X&&(Sn=12);else if(x===Dn.FractionalSeconds)return function os(x,de){return nr(x,3).substring(0,de)}(Sn,de);const Di=Ie(Pt,Le.MinusSign);return nr(Sn,de,Di,te,Ae)}}function er(x,de,X=Mt.Format,te=!1){return function(Ae,Ct){return function Wn(x,de,X,te,Ae,Ct){switch(X){case jn.Months:return $n(de,Ae,te)[x.getMonth()];case jn.Days:return ai(de,Ae,te)[x.getDay()];case jn.DayPeriods:const Pt=x.getHours(),Sn=x.getMinutes();if(Ct){const Ni=function cn(x){const de=(0,i.H5H)(x);return en(de),(de[i.KH2.ExtraData][2]||[]).map(te=>"string"==typeof te?xe(te):[xe(te[0]),xe(te[1])])}(de),sr=function hi(x,de,X){const te=(0,i.H5H)(x);en(te);const Ct=bt([te[i.KH2.ExtraData][0],te[i.KH2.ExtraData][1]],de)||[];return bt(Ct,X)||[]}(de,Ae,te),Qn=Ni.findIndex(vi=>{if(Array.isArray(vi)){const[ui,Fn]=vi,In=Pt>=ui.hours&&Sn>=ui.minutes,_n=Pt<Fn.hours||Pt===Fn.hours&&Sn<Fn.minutes;if(ui.hours<Fn.hours){if(In&&_n)return!0}else if(In||_n)return!0}else if(vi.hours===Pt&&vi.minutes===Sn)return!0;return!1});if(-1!==Qn)return sr[Qn]}return function Xn(x,de,X){const te=(0,i.H5H)(x),Ct=bt([te[i.KH2.DayPeriodsFormat],te[i.KH2.DayPeriodsStandalone]],de);return bt(Ct,X)}(de,Ae,te)[Pt<12?0:1];case jn.Eras:return function Zn(x,de){return bt((0,i.H5H)(x)[i.KH2.Eras],de)}(de,te)[x.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${X}`)}}(Ae,Ct,x,de,X,te)}}function ws(x){return function(de,X,te){const Ae=-1*te,Ct=Ie(X,Le.MinusSign),Pt=Ae>0?Math.floor(Ae/60):Math.ceil(Ae/60);switch(x){case Nn.Short:return(Ae>=0?"+":"")+nr(Pt,2,Ct)+nr(Math.abs(Ae%60),2,Ct);case Nn.ShortGMT:return"GMT"+(Ae>=0?"+":"")+nr(Pt,1,Ct);case Nn.Long:return"GMT"+(Ae>=0?"+":"")+nr(Pt,2,Ct)+":"+nr(Math.abs(Ae%60),2,Ct);case Nn.Extended:return 0===te?"Z":(Ae>=0?"+":"")+nr(Pt,2,Ct)+":"+nr(Math.abs(Ae%60),2,Ct);default:throw new Error(`Unknown zone width "${x}"`)}}}const ni=0,gn=4;function Es(x){const de=x.getDay(),X=0===de?-3:gn-de;return Ki(x.getFullYear(),x.getMonth(),x.getDate()+X)}function Rr(x,de=!1){return function(X,te){let Ae;if(de){const Ct=new Date(X.getFullYear(),X.getMonth(),1).getDay()-1,Pt=X.getDate();Ae=1+Math.floor((Pt+Ct)/7)}else{const Ct=Es(X),Pt=function Fr(x){const de=Ki(x,ni,1).getDay();return Ki(x,0,1+(de<=gn?gn:gn+7)-de)}(Ct.getFullYear()),Sn=Ct.getTime()-Pt.getTime();Ae=1+Math.round(Sn/6048e5)}return nr(Ae,x,Ie(te,Le.MinusSign))}}function vt(x,de=!1){return function(X,te){return nr(Es(X).getFullYear(),x,Ie(te,Le.MinusSign),de)}}const Tt={};function ht(x,de){x=x.replace(/:/g,"");const X=Date.parse("Jan 01, 1970 00:00:00 "+x)/6e4;return isNaN(X)?de:X}function ut(x){return x instanceof Date&&!isNaN(x.valueOf())}let Gt=(()=>{class x{static{this.\u0275fac=function(te){return new(te||x)}}static{this.\u0275prov=i.jDH({token:x,factory:function(te){let Ae=null;return te?Ae=new te:(Ct=i.KVO(i.xe9),Ae=new Zt(Ct)),Ae;var Ct},providedIn:"root"})}}return x})();let Zt=(()=>{class x extends Gt{constructor(X){super(),this.locale=X}getPluralCategory(X,te){switch(Vn(te||this.locale)(X)){case qt.Zero:return"zero";case qt.One:return"one";case qt.Two:return"two";case qt.Few:return"few";case qt.Many:return"many";default:return"other"}}static{this.\u0275fac=function(te){return new(te||x)(i.KVO(i.xe9))}}static{this.\u0275prov=i.jDH({token:x,factory:x.\u0275fac})}}return x})();function Mi(x,de){de=encodeURIComponent(de);for(const X of x.split(";")){const te=X.indexOf("="),[Ae,Ct]=-1==te?[X,""]:[X.slice(0,te),X.slice(te+1)];if(Ae.trim()===de)return decodeURIComponent(Ct)}return null}const gi=/\s+/,Yi=[];let oi=(()=>{class x{constructor(X,te){this._ngEl=X,this._renderer=te,this.initialClasses=Yi,this.stateMap=new Map}set klass(X){this.initialClasses=null!=X?X.trim().split(gi):Yi}set ngClass(X){this.rawClass="string"==typeof X?X.trim().split(gi):X}ngDoCheck(){for(const te of this.initialClasses)this._updateState(te,!0);const X=this.rawClass;if(Array.isArray(X)||X instanceof Set)for(const te of X)this._updateState(te,!0);else if(null!=X)for(const te of Object.keys(X))this._updateState(te,!!X[te]);this._applyStateDiff()}_updateState(X,te){const Ae=this.stateMap.get(X);void 0!==Ae?(Ae.enabled!==te&&(Ae.changed=!0,Ae.enabled=te),Ae.touched=!0):this.stateMap.set(X,{enabled:te,changed:!0,touched:!0})}_applyStateDiff(){for(const X of this.stateMap){const te=X[0],Ae=X[1];Ae.changed?(this._toggleClass(te,Ae.enabled),Ae.changed=!1):Ae.touched||(Ae.enabled&&this._toggleClass(te,!1),this.stateMap.delete(te)),Ae.touched=!1}}_toggleClass(X,te){(X=X.trim()).length>0&&X.split(gi).forEach(Ae=>{te?this._renderer.addClass(this._ngEl.nativeElement,Ae):this._renderer.removeClass(this._ngEl.nativeElement,Ae)})}static{this.\u0275fac=function(te){return new(te||x)(i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:x,selectors:[["","ngClass",""]],inputs:{klass:[i.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return x})();class Er{constructor(de,X,te,Ae){this.$implicit=de,this.ngForOf=X,this.index=te,this.count=Ae}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ts=(()=>{class x{set ngForOf(X){this._ngForOf=X,this._ngForOfDirty=!0}set ngForTrackBy(X){this._trackByFn=X}get ngForTrackBy(){return this._trackByFn}constructor(X,te,Ae){this._viewContainer=X,this._template=te,this._differs=Ae,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(X){X&&(this._template=X)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const X=this._ngForOf;!this._differ&&X&&(this._differ=this._differs.find(X).create(this.ngForTrackBy))}if(this._differ){const X=this._differ.diff(this._ngForOf);X&&this._applyChanges(X)}}_applyChanges(X){const te=this._viewContainer;X.forEachOperation((Ae,Ct,Pt)=>{if(null==Ae.previousIndex)te.createEmbeddedView(this._template,new Er(Ae.item,this._ngForOf,-1,-1),null===Pt?void 0:Pt);else if(null==Pt)te.remove(null===Ct?void 0:Ct);else if(null!==Ct){const Sn=te.get(Ct);te.move(Sn,Pt),Cs(Sn,Ae)}});for(let Ae=0,Ct=te.length;Ae<Ct;Ae++){const Sn=te.get(Ae).context;Sn.index=Ae,Sn.count=Ct,Sn.ngForOf=this._ngForOf}X.forEachIdentityChange(Ae=>{Cs(te.get(Ae.currentIndex),Ae)})}static ngTemplateContextGuard(X,te){return!0}static{this.\u0275fac=function(te){return new(te||x)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3))}}static{this.\u0275dir=i.FsC({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return x})();function Cs(x,de){x.context.$implicit=de.item}let Io=(()=>{class x{constructor(X,te){this._viewContainer=X,this._context=new Ls,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(X){this._context.$implicit=this._context.ngIf=X,this._updateView()}set ngIfThen(X){aa("ngIfThen",X),this._thenTemplateRef=X,this._thenViewRef=null,this._updateView()}set ngIfElse(X){aa("ngIfElse",X),this._elseTemplateRef=X,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(X,te){return!0}static{this.\u0275fac=function(te){return new(te||x)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return x})();class Ls{constructor(){this.$implicit=null,this.ngIf=null}}function aa(x,de){if(de&&!de.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,i.Tbb)(de)}'.`)}class la{constructor(de,X){this._viewContainerRef=de,this._templateRef=X,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(de){de&&!this._created?this.create():!de&&this._created&&this.destroy()}}let ca=(()=>{class x{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(X){this._ngSwitch=X,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(X){this._defaultViews.push(X)}_matchCase(X){const te=X===this._ngSwitch;return this._lastCasesMatched||=te,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),te}_updateDefaultCases(X){if(this._defaultViews.length>0&&X!==this._defaultUsed){this._defaultUsed=X;for(const te of this._defaultViews)te.enforceState(X)}}static{this.\u0275fac=function(te){return new(te||x)}}static{this.\u0275dir=i.FsC({type:x,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return x})(),ll=(()=>{class x{constructor(X,te,Ae){this.ngSwitch=Ae,Ae._addCase(),this._view=new la(X,te)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(te){return new(te||x)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(ca,9))}}static{this.\u0275dir=i.FsC({type:x,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return x})(),qa=(()=>{class x{constructor(X,te,Ae){Ae._addDefault(new la(X,te))}static{this.\u0275fac=function(te){return new(te||x)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(ca,9))}}static{this.\u0275dir=i.FsC({type:x,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return x})(),Si=(()=>{class x{constructor(X,te,Ae){this._ngEl=X,this._differs=te,this._renderer=Ae,this._ngStyle=null,this._differ=null}set ngStyle(X){this._ngStyle=X,!this._differ&&X&&(this._differ=this._differs.find(X).create())}ngDoCheck(){if(this._differ){const X=this._differ.diff(this._ngStyle);X&&this._applyChanges(X)}}_setStyle(X,te){const[Ae,Ct]=X.split("."),Pt=-1===Ae.indexOf("-")?void 0:i.czy.DashCase;null!=te?this._renderer.setStyle(this._ngEl.nativeElement,Ae,Ct?`${te}${Ct}`:te,Pt):this._renderer.removeStyle(this._ngEl.nativeElement,Ae,Pt)}_applyChanges(X){X.forEachRemovedItem(te=>this._setStyle(te.key,null)),X.forEachAddedItem(te=>this._setStyle(te.key,te.currentValue)),X.forEachChangedItem(te=>this._setStyle(te.key,te.currentValue))}static{this.\u0275fac=function(te){return new(te||x)(i.rXU(i.aKT),i.rXU(i.MKu),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:x,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return x})(),_r=(()=>{class x{constructor(X){this._viewContainerRef=X,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(X){if(this._shouldRecreateView(X)){const te=this._viewContainerRef;if(this._viewRef&&te.remove(te.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Ae=this._createContextForwardProxy();this._viewRef=te.createEmbeddedView(this.ngTemplateOutlet,Ae,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(X){return!!X.ngTemplateOutlet||!!X.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(X,te,Ae)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,te,Ae),get:(X,te,Ae)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,te,Ae)}})}static{this.\u0275fac=function(te){return new(te||x)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:x,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[i.OA$]})}}return x})();function ir(x,de){return new i.wOt(2100,!1)}class vr{createSubscription(de,X){return(0,i.O8t)(()=>de.subscribe({next:X,error:te=>{throw te}}))}dispose(de){(0,i.O8t)(()=>de.unsubscribe())}}class ar{createSubscription(de,X){return de.then(X,te=>{throw te})}dispose(de){}}const Hr=new ar,Cr=new vr;let Qi=(()=>{class x{constructor(X){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=X}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(X){if(!this._obj){if(X)try{this.markForCheckOnValueUpdate=!1,this._subscribe(X)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return X!==this._obj?(this._dispose(),this.transform(X)):this._latestValue}_subscribe(X){this._obj=X,this._strategy=this._selectStrategy(X),this._subscription=this._strategy.createSubscription(X,te=>this._updateLatestValue(X,te))}_selectStrategy(X){if((0,i.jNT)(X))return Hr;if((0,i.zjR)(X))return Cr;throw ir()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(X,te){X===this._obj&&(this._latestValue=te,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(te){return new(te||x)(i.rXU(i.gRc,16))}}static{this.\u0275pipe=i.EJ8({name:"async",type:x,pure:!1,standalone:!0})}}return x})();const Tr=/#/g;let cl=(()=>{class x{constructor(X){this._localization=X}transform(X,te,Ae){if(null==X)return"";if("object"!=typeof te||null===te)throw ir();return te[function St(x,de,X,te){let Ae=`=${x}`;if(de.indexOf(Ae)>-1||(Ae=X.getPluralCategory(x,te),de.indexOf(Ae)>-1))return Ae;if(de.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${x}"`)}(X,Object.keys(te),this._localization,Ae)].replace(Tr,X.toString())}static{this.\u0275fac=function(te){return new(te||x)(i.rXU(Gt,16))}}static{this.\u0275pipe=i.EJ8({name:"i18nPlural",type:x,pure:!0,standalone:!0})}}return x})(),ns=(()=>{class x{constructor(X){this.differs=X,this.keyValues=[],this.compareFn=Vr}transform(X,te=Vr){if(!X||!(X instanceof Map)&&"object"!=typeof X)return null;this.differ??=this.differs.find(X).create();const Ae=this.differ.diff(X),Ct=te!==this.compareFn;return Ae&&(this.keyValues=[],Ae.forEachItem(Pt=>{this.keyValues.push(function Fa(x,de){return{key:x,value:de}}(Pt.key,Pt.currentValue))})),(Ae||Ct)&&(this.keyValues.sort(te),this.compareFn=te),this.keyValues}static{this.\u0275fac=function(te){return new(te||x)(i.rXU(i.MKu,16))}}static{this.\u0275pipe=i.EJ8({name:"keyvalue",type:x,pure:!1,standalone:!0})}}return x})();function Vr(x,de){const X=x.key,te=de.key;if(X===te)return 0;if(void 0===X)return 1;if(void 0===te)return-1;if(null===X)return 1;if(null===te)return-1;if("string"==typeof X&&"string"==typeof te)return X<te?-1:1;if("number"==typeof X&&"number"==typeof te)return X-te;if("boolean"==typeof X&&"boolean"==typeof te)return X<te?-1:1;const Ae=String(X),Ct=String(te);return Ae==Ct?0:Ae<Ct?-1:1}let Hs=(()=>{class x{transform(X,te,Ae){if(null==X)return null;if(!this.supports(X))throw ir();return X.slice(te,Ae)}supports(X){return"string"==typeof X||Array.isArray(X)}static{this.\u0275fac=function(te){return new(te||x)}}static{this.\u0275pipe=i.EJ8({name:"slice",type:x,pure:!1,standalone:!0})}}return x})(),eo=(()=>{class x{static{this.\u0275fac=function(te){return new(te||x)}}static{this.\u0275mod=i.$C({type:x})}static{this.\u0275inj=i.G2t({})}}return x})();const Gi="browser",Gs="server";function hs(x){return x===Gi}function da(x){return x===Gs}let Po=(()=>{class x{static{this.\u0275prov=(0,i.jDH)({token:x,providedIn:"root",factory:()=>hs((0,i.WQX)(i.Agw))?new Os((0,i.WQX)(Oe),window):new ha})}}return x})();class Os{constructor(de,X){this.document=de,this.window=X,this.offset=()=>[0,0]}setOffset(de){this.offset=Array.isArray(de)?()=>de:de}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(de){this.window.scrollTo(de[0],de[1])}scrollToAnchor(de){const X=function oo(x,de){const X=x.getElementById(de)||x.getElementsByName(de)[0];if(X)return X;if("function"==typeof x.createTreeWalker&&x.body&&"function"==typeof x.body.attachShadow){const te=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let Ae=te.currentNode;for(;Ae;){const Ct=Ae.shadowRoot;if(Ct){const Pt=Ct.getElementById(de)||Ct.querySelector(`[name="${de}"]`);if(Pt)return Pt}Ae=te.nextNode()}}return null}(this.document,de);X&&(this.scrollToElement(X),X.focus())}setHistoryScrollRestoration(de){this.window.history.scrollRestoration=de}scrollToElement(de){const X=de.getBoundingClientRect(),te=X.left+this.window.pageXOffset,Ae=X.top+this.window.pageYOffset,Ct=this.offset();this.window.scrollTo(te-Ct[0],Ae-Ct[1])}}class ha{setOffset(de){}getScrollPosition(){return[0,0]}scrollToPosition(de){}scrollToAnchor(de){}setHistoryScrollRestoration(de){}}class Qa{}},4438:(un,nt,B)=>{"use strict";B.d(nt,{bc$:()=>Pu,iLQ:()=>x1,sZ2:()=>Ho,hnV:()=>TT,o8S:()=>hp,BIS:()=>Ah,gRc:()=>FT,Ql9:()=>wR,OM3:()=>Lh,Ocv:()=>RR,abz:()=>Jc,Z63:()=>Js,aKT:()=>Pd,uvJ:()=>Sr,zcH:()=>uc,bkB:()=>bl,y_5:()=>ds,$GK:()=>Qi,nKC:()=>oi,zZn:()=>ys,_q3:()=>H1,MKu:()=>G1,xe9:()=>o0,Co$:()=>uw,Vns:()=>ag,SKi:()=>al,Xx1:()=>hs,Agw:()=>xu,PLl:()=>Ul,rOR:()=>gu,sFG:()=>ry,_9s:()=>E_,czy:()=>$f,WPN:()=>rf,kdw:()=>Br,C4Q:()=>w,NYb:()=>pR,giA:()=>ET,xvI:()=>HA,RxE:()=>pT,c1b:()=>tm,gXe:()=>qr,mal:()=>ay,Af3:()=>di,L39:()=>CM,a0P:()=>kM,Ol2:()=>Fb,w6W:()=>ED,QZP:()=>fD,Rfq:()=>Rr,oKB:()=>Vo,WQX:()=>Li,naY:()=>xR,Hps:()=>Cf,QuC:()=>co,EmA:()=>to,Udg:()=>TM,HJs:()=>NM,N4e:()=>ln,vPA:()=>om,O8t:()=>IM,An2:()=>Wp,H3F:()=>gT,H8p:()=>tl,KH2:()=>Mm,TgB:()=>dm,wOt:()=>Ft,WHO:()=>bT,e01:()=>wT,lNU:()=>xe,h9k:()=>Cg,$MX:()=>nf,ZF7:()=>Vf,Kcf:()=>y0,e5t:()=>fv,UyX:()=>w0,cWb:()=>b0,osQ:()=>E0,H5H:()=>u1,Zy3:()=>ie,mq5:()=>_E,JZv:()=>Kn,TL3:()=>lM,LfX:()=>io,plB:()=>dh,jNT:()=>N1,zjR:()=>CT,ngT:()=>Cd,TL$:()=>dr,Tbb:()=>ni,rcV:()=>sh,nM4:()=>sw,Vt3:()=>js,Mj6:()=>xi,GFd:()=>cw,OA$:()=>zc,Jv_:()=>MC,aNF:()=>kC,R7$:()=>H0,BMQ:()=>Kb,HbH:()=>Qw,ZvI:()=>rE,STu:()=>sE,AVh:()=>e1,vxM:()=>cE,wni:()=>sC,VBU:()=>Fo,FsC:()=>lo,jDH:()=>mr,G2t:()=>Zo,$C:()=>pa,EJ8:()=>Eo,rXU:()=>Rp,nrm:()=>o1,eu8:()=>a1,bVm:()=>Ky,qex:()=>zy,k0s:()=>$y,j41:()=>Wy,RV6:()=>mE,xGo:()=>Sd,Mr5:()=>l1,pXf:()=>WE,nnv:()=>$E,uP7:()=>f1,KVO:()=>Ar,kS0:()=>hu,QTQ:()=>W0,bIt:()=>p1,lsd:()=>lC,joV:()=>br,qSk:()=>cr,XpG:()=>YE,nI1:()=>KC,bMT:()=>YC,i5U:()=>XC,brH:()=>qC,ii3:()=>QC,SdG:()=>qE,NAR:()=>XE,Y8G:()=>Qb,FS9:()=>_1,Mz_:()=>Jy,lJ4:()=>OC,eq3:()=>xC,l_i:()=>PC,sMw:()=>FC,ziG:()=>VC,s1E:()=>LC,l4e:()=>BC,sGs:()=>jC,zJS:()=>UC,mGM:()=>aC,sdS:()=>cC,Dyx:()=>fE,Z7z:()=>hE,fX1:()=>dE,Vm6:()=>uE,Njj:()=>Eu,EBC:()=>qm,tSv:()=>Dp,eBV:()=>Xl,npT:()=>bv,f$h:()=>Ym,B4B:()=>wv,n$t:()=>Hd,Aen:()=>mh,xc7:()=>Zb,Kam:()=>g1,zvX:()=>c1,DNE:()=>hm,C5r:()=>JC,EFF:()=>yC,JRh:()=>v1,SpI:()=>Zy,Lme:()=>y1,wXG:()=>Ev,DH7:()=>AC,mxI:()=>w1,R50:()=>b1,GBs:()=>oC}),B(467);let _e=null,le=!1,Te=1;const Ye=Symbol("SIGNAL");function Oe(e){const n=_e;return _e=e,n}const Fe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function st(e){if(le)throw new Error("");if(null===_e)return;_e.consumerOnSignalRead(e);const n=_e.nextProducerIndex++;qt(_e),n<_e.producerNode.length&&_e.producerNode[n]!==e&&Tn(_e)&&ge(_e.producerNode[n],_e.producerIndexOfThis[n]),_e.producerNode[n]!==e&&(_e.producerNode[n]=e,_e.producerIndexOfThis[n]=Tn(_e)?wt(e,_e,n):0),_e.producerLastReadVersion[n]=e.version}function Rt(e){if((!Tn(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Te)){if(!e.producerMustRecompute(e)&&!Mn(e))return e.dirty=!1,void(e.lastCleanEpoch=Te);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Te}}function Bt(e){if(void 0===e.liveConsumerNode)return;const n=le;le=!0;try{for(const s of e.liveConsumerNode)s.dirty||Wt(s)}finally{le=n}}function fn(){return!1!==_e?.consumerAllowSignalWrites}function Wt(e){e.dirty=!0,Bt(e),e.consumerMarkedDirty?.(e)}function je(e){return e&&(e.nextProducerIndex=0),Oe(e)}function Cn(e,n){if(Oe(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Tn(e))for(let s=e.nextProducerIndex;s<e.producerNode.length;s++)ge(e.producerNode[s],e.producerIndexOfThis[s]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Mn(e){qt(e);for(let n=0;n<e.producerNode.length;n++){const s=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==s.version||(Rt(s),o!==s.version))return!0}return!1}function jt(e){if(qt(e),Tn(e))for(let n=0;n<e.producerNode.length;n++)ge(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function wt(e,n,s){if(Mt(e),qt(e),0===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=wt(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(s),e.liveConsumerNode.push(n)-1}function ge(e,n){if(Mt(e),qt(e),1===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)ge(e.producerNode[o],e.producerIndexOfThis[o]);const s=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[s],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[s],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],u=e.liveConsumerNode[n];qt(u),u.producerIndexOfThis[o]=n}}function Tn(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function qt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Mt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}let ai=function Xn(){throw new Error};function $n(){ai()}let En=null;function Ze(e,n){fn()||$n(),e.equal(e.value,n)||(e.value=n,function it(e){e.version++,function It(){Te++}(),Bt(e),En?.()}(e))}const Ke={...Fe,equal:function l(e,n){return Object.is(e,n)},value:void 0};const On=()=>{},ei={...Fe,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:On};var en=B(1413),cn=B(8359),hi=B(4412),tn=B(6354);const xe="https://g.co/ng/security#xss";class Ft extends Error{constructor(n,s){super(ie(n,s)),this.code=n}}function ie(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}function Dn(e){return{toString:e}.toString()}const ur="__parameters__";function nr(e,n,s){return Dn(()=>{const o=function si(e){return function(...s){if(e){const o=e(...s);for(const u in o)this[u]=o[u]}}}(n);function u(...v){if(this instanceof u)return o.apply(this,v),this;const D=new u(...v);return k.annotation=D,k;function k(H,se,me){const Re=H.hasOwnProperty(ur)?H[ur]:Object.defineProperty(H,ur,{value:[]})[ur];for(;Re.length<=me;)Re.push(null);return(Re[me]=Re[me]||[]).push(D),H}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=e,u.annotationCls=u,u})}const Kn=globalThis;function Wn(e){for(let n in e)if(e[n]===Wn)return n;throw Error("Could not find renamed property on target object.")}function ws(e,n){for(const s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(e[s]=n[s])}function ni(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ni).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function gn(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Es=Wn({__forward_ref__:Wn});function Rr(e){return e.__forward_ref__=Rr,e.toString=function(){return ni(this())},e}function vt(e){return Tt(e)?e():e}function Tt(e){return"function"==typeof e&&e.hasOwnProperty(Es)&&e.__forward_ref__===Rr}function Ge(e,n,s){e!=n&&function li(e,n,s,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${s} ${o} ${n} <=Actual]`))}(s,e,n,"==")}function mr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Zo(e){return{providers:e.providers||[],imports:e.imports||[]}}function es(e){return Gt(e,qn)||Gt(e,gi)}function io(e){return null!==es(e)}function Gt(e,n){return e.hasOwnProperty(n)?e[n]:null}function Zt(e){return e&&(e.hasOwnProperty(Mi)||e.hasOwnProperty(Yi))?e[Mi]:null}const qn=Wn({\u0275prov:Wn}),Mi=Wn({\u0275inj:Wn}),gi=Wn({ngInjectableDef:Wn}),Yi=Wn({ngInjectorDef:Wn});class oi{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=mr({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function la(e){return e&&!!e.\u0275providers}const ca=Wn({\u0275cmp:Wn}),ll=Wn({\u0275dir:Wn}),qa=Wn({\u0275pipe:Wn}),El=Wn({\u0275mod:Wn}),vo=Wn({\u0275fac:Wn}),Ys=Wn({__NG_ELEMENT_ID__:Wn}),Oo=Wn({__NG_ENV_ID__:Wn});function Si(e){return"string"==typeof e?e:null==e?"":String(e)}function Cr(e,n){throw new Ft(-201,!1)}var Qi=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Qi||{});let yo;function So(){return yo}function ki(e){const n=yo;return yo=e,n}function Mr(e,n,s){const o=es(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:s&Qi.Optional?null:void 0!==n?n:void Cr()}const xo={},Xs="__NG_DI_FLAG__",Tr="ngTempTokenPath",ua=/\n/gm,Fa="__source";let ns;function Yr(e){const n=ns;return ns=e,n}function Ia(e,n=Qi.Default){if(void 0===ns)throw new Ft(-203,!1);return null===ns?Mr(e,void 0,n):ns.get(e,n&Qi.Optional?null:void 0,n)}function Ar(e,n=Qi.Default){return(So()||Ia)(vt(e),n)}function Li(e,n=Qi.Default){return Ar(e,Hs(n))}function Hs(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ro(e){const n=[];for(let s=0;s<e.length;s++){const o=vt(e[s]);if(Array.isArray(o)){if(0===o.length)throw new Ft(900,!1);let u,v=Qi.Default;for(let D=0;D<o.length;D++){const k=o[D],H=Gi(k);"number"==typeof H?-1===H?u=k.token:v|=H:u=k}n.push(Ar(u,v))}else n.push(Ar(o))}return n}function eo(e,n){return e[Xs]=n,e.prototype[Xs]=n,e}function Gi(e){return e[Xs]}const ds=eo(nr("Inject",e=>({token:e})),-1),hs=eo(nr("Optional"),8),Br=eo(nr("SkipSelf"),4);function Dr(e,n){return e.hasOwnProperty(vo)?e[vo]:null}function oo(e,n){e.forEach(s=>Array.isArray(s)?oo(s,n):n(s))}function ha(e,n,s){n>=e.length?e.push(s):e.splice(n,0,s)}function Qa(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function _s(e,n,s){let o=wo(e,n);return o>=0?e[1|o]=s:(o=~o,function Qs(e,n,s,o){let u=e.length;if(u==n)e.push(s,o);else if(1===u)e.push(o,e[0]),e[0]=s;else{for(u--,e.push(e[u-1],e[u]);u>n;)e[u]=e[u-2],u--;e[n]=s,e[n+1]=o}}(e,o,n,s)),o}function Tl(e,n){const s=wo(e,n);if(s>=0)return e[1|s]}function wo(e,n){return function Ts(e,n,s){let o=0,u=e.length>>s;for(;u!==o;){const v=o+(u-o>>1),D=e[v<<s];if(n===D)return v<<s;D>n?u=v:o=v+1}return~(u<<s)}(e,n,1)}const fs={},bi=[],Js=new oi(""),Ro=new oi("",-1),Ws=new oi("");class $s{get(n,s=xo){if(s===xo){const o=new Error(`NullInjectorError: No provider for ${ni(n)}!`);throw o.name="NullInjectorError",o}return s}}var Bi=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Bi||{}),qr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(qr||{}),xi=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(xi||{});function wr(e,n,s){let o=e.length;for(;;){const u=e.indexOf(n,s);if(-1===u)return u;if(0===u||e.charCodeAt(u-1)<=32){const v=n.length;if(u+v===o||e.charCodeAt(u+v)<=32)return u}s=u+1}}function Nr(e,n,s){let o=0;for(;o<s.length;){const u=s[o];if("number"==typeof u){if(0!==u)break;o++;const v=s[o++],D=s[o++],k=s[o++];e.setAttribute(n,D,k,v)}else{const v=u,D=s[++o];pe(v)?e.setProperty(n,v,D):e.setAttribute(n,v,D),o++}}return o}function ce(e){return 3===e||4===e||6===e}function pe(e){return 64===e.charCodeAt(0)}function Q(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let s=-1;for(let o=0;o<n.length;o++){const u=n[o];"number"==typeof u?s=u:0===s||De(e,s,u,null,-1===s||2===s?n[++o]:null)}}return e}function De(e,n,s,o,u){let v=0,D=e.length;if(-1===n)D=-1;else for(;v<e.length;){const k=e[v++];if("number"==typeof k){if(k===n){D=-1;break}if(k>n){D=v-1;break}}}for(;v<e.length;){const k=e[v];if("number"==typeof k)break;if(k===s){if(null===o)return void(null!==u&&(e[v+1]=u));if(o===e[v+1])return void(e[v+2]=u)}v++,null!==o&&v++,null!==u&&v++}-1!==D&&(e.splice(D,0,n),v=D+1),e.splice(v++,0,s),null!==o&&e.splice(v++,0,o),null!==u&&e.splice(v++,0,u)}const lt="ng-template";function ii(e,n,s,o){let u=0;if(o){for(;u<n.length&&"string"==typeof n[u];u+=2)if("class"===n[u]&&-1!==wr(n[u+1].toLowerCase(),s,0))return!0}else if(ji(e))return!1;if(u=n.indexOf(1,u),u>-1){let v;for(;++u<n.length&&"string"==typeof(v=n[u]);)if(v.toLowerCase()===s)return!0}return!1}function ji(e){return 4===e.type&&e.value!==lt}function ea(e,n,s){return n===(4!==e.type||s?e.value:lt)}function fa(e,n,s){let o=4;const u=e.attrs,v=null!==u?function Dl(e){for(let n=0;n<e.length;n++)if(ce(e[n]))return n;return e.length}(u):0;let D=!1;for(let k=0;k<n.length;k++){const H=n[k];if("number"!=typeof H){if(!D)if(4&o){if(o=2|1&o,""!==H&&!ea(e,H,s)||""===H&&1===n.length){if(As(o))return!1;D=!0}}else if(8&o){if(null===u||!ii(e,u,H,s)){if(As(o))return!1;D=!0}}else{const se=n[++k],me=Sa(H,u,ji(e),s);if(-1===me){if(As(o))return!1;D=!0;continue}if(""!==se){let Re;if(Re=me>v?"":u[me+1].toLowerCase(),2&o&&se!==Re){if(As(o))return!1;D=!0}}}}else{if(!D&&!As(o)&&!As(H))return!1;if(D&&As(H))continue;D=!1,o=H|1&o}}return As(o)||D}function As(e){return!(1&e)}function Sa(e,n,s,o){if(null===n)return-1;let u=0;if(o||!s){let v=!1;for(;u<n.length;){const D=n[u];if(D===e)return u;if(3===D||6===D)v=!0;else{if(1===D||2===D){let k=n[++u];for(;"string"==typeof k;)k=n[++u];continue}if(4===D)break;if(0===D){u+=4;continue}}u+=v?1:2}return-1}return function Qr(e,n){let s=e.indexOf(4);if(s>-1)for(s++;s<e.length;){const o=e[s];if("number"==typeof o)return-1;if(o===n)return s;s++}return-1}(n,e)}function La(e,n,s=!1){for(let o=0;o<n.length;o++)if(fa(e,n[o],s))return!0;return!1}function Il(e,n){e:for(let s=0;s<n.length;s++){const o=n[s];if(e.length===o.length){for(let u=0;u<e.length;u++)if(e[u]!==o[u])continue e;return!0}}return!1}function ul(e,n){return e?":not("+n.trim()+")":n}function ta(e){let n=e[0],s=1,o=2,u="",v=!1;for(;s<e.length;){let D=e[s];if("string"==typeof D)if(2&o){const k=e[++s];u+="["+D+(k.length>0?'="'+k+'"':"")+"]"}else 8&o?u+="."+D:4&o&&(u+=" "+D);else""!==u&&!As(D)&&(n+=ul(v,u),u=""),o=D,v=v||!As(o);s++}return""!==u&&(n+=ul(v,u)),n}function Fo(e){return Dn(()=>{const n=ja(e),s={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Bi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||qr.Emulated,styles:e.styles||bi,_:null,schemas:e.schemas||null,tView:null,id:""};Ua(s);const o=e.dependencies;return s.directiveDefs=Rs(o,!1),s.pipeDefs=Rs(o,!0),s.id=function el(e){let n=0;const s=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const u of s)n=Math.imul(31,n)+u.charCodeAt(0)|0;return n+=2147483648,"c"+n}(s),s})}function ao(e){return Ji(e)||ls(e)}function Za(e){return null!==e}function pa(e){return Dn(()=>({type:e.type,bootstrap:e.bootstrap||bi,declarations:e.declarations||bi,imports:e.imports||bi,exports:e.exports||bi,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ga(e,n){if(null==e)return fs;const s={};for(const o in e)if(e.hasOwnProperty(o)){const u=e[o];let v,D,k=xi.None;Array.isArray(u)?(k=u[0],v=u[1],D=u[2]??v):(v=u,D=u),n?(s[v]=k!==xi.None?[o,k]:o,n[v]=D):s[v]=o}return s}function lo(e){return Dn(()=>{const n=ja(e);return Ua(n),n})}function Eo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ji(e){return e[ca]||null}function ls(e){return e[ll]||null}function Ir(e){return e[qa]||null}function co(e){const n=Ji(e)||ls(e)||Ir(e);return null!==n&&n.standalone}function Bs(e,n){const s=e[El]||null;if(!s&&!0===n)throw new Error(`Type ${ni(e)} does not have '\u0275mod' property.`);return s}function ja(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||fs,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||bi,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ga(e.inputs,n),outputs:ga(e.outputs),debugInfo:null}}function Ua(e){e.features?.forEach(n=>n(e))}function Rs(e,n){if(!e)return null;const s=n?Ir:ao;return()=>("function"==typeof e?e():e).map(o=>s(o)).filter(Za)}function to(e){return{\u0275providers:e}}function Vo(...e){return{\u0275providers:Aa(0,e),\u0275fromNgModule:!0}}function Aa(e,...n){const s=[],o=new Set;let u;const v=D=>{s.push(D)};return oo(n,D=>{const k=D;uo(k,v,[],o)&&(u||=[],u.push(k))}),void 0!==u&&ma(u,v),s}function ma(e,n){for(let s=0;s<e.length;s++){const{ngModule:o,providers:u}=e[s];ho(u,v=>{n(v,o)})}}function uo(e,n,s,o){if(!(e=vt(e)))return!1;let u=null,v=Zt(e);const D=!v&&Ji(e);if(v||D){if(D&&!D.standalone)return!1;u=e}else{const H=e.ngModule;if(v=Zt(H),!v)return!1;u=H}const k=o.has(u);if(D){if(k)return!1;if(o.add(u),D.dependencies){const H="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const se of H)uo(se,n,s,o)}}else{if(!v)return!1;{if(null!=v.imports&&!k){let se;o.add(u);try{oo(v.imports,me=>{uo(me,n,s,o)&&(se||=[],se.push(me))})}finally{}void 0!==se&&ma(se,n)}if(!k){const se=Dr(u)||(()=>new u);n({provide:u,useFactory:se,deps:bi},u),n({provide:Ws,useValue:u,multi:!0},u),n({provide:Js,useValue:()=>Ar(u),multi:!0},u)}const H=v.providers;if(null!=H&&!k){const se=e;ho(H,me=>{n(me,se)})}}}return u!==e&&void 0!==e.providers}function ho(e,n){for(let s of e)la(s)&&(s=s.\u0275providers),Array.isArray(s)?ho(s,n):n(s)}const ic=Wn({provide:String,useValue:Wn});function Ra(e){return null!==e&&"object"==typeof e&&ic in e}function Ds(e){return"function"==typeof e}const tl=new oi(""),fo={},Ui={};let dl;function Is(){return void 0===dl&&(dl=new $s),dl}class Sr{}class V extends Sr{get destroyed(){return this._destroyed}constructor(n,s,o,u){super(),this.parent=s,this.source=o,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dt(n,D=>this.processProvider(D)),this.records.set(Ro,ve(void 0,this)),u.has("environment")&&this.records.set(Sr,ve(void 0,this));const v=this.records.get(tl);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(Ws,bi,Qi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=Oe(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of s)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Oe(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=Yr(this),o=ki(void 0);try{return n()}finally{Yr(s),ki(o)}}get(n,s=xo,o=Qi.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Oo))return n[Oo](this);o=Hs(o);const v=Yr(this),D=ki(void 0);try{if(!(o&Qi.SkipSelf)){let H=this.records.get(n);if(void 0===H){const se=function an(e){return"function"==typeof e||"object"==typeof e&&e instanceof oi}(n)&&es(n);H=se&&this.injectableDefInScope(se)?ve(J(n),fo):null,this.records.set(n,H)}if(null!=H)return this.hydrate(n,H)}return(o&Qi.Self?Is():this.parent).get(n,s=o&Qi.Optional&&s===xo?null:s)}catch(k){if("NullInjectorError"===k.name){if((k[Tr]=k[Tr]||[]).unshift(ni(n)),v)throw k;return function Gs(e,n,s,o){const u=e[Tr];throw n[Fa]&&u.unshift(n[Fa]),e.message=function so(e,n,s,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let u=ni(n);if(Array.isArray(n))u=n.map(ni).join(" -> ");else if("object"==typeof n){let v=[];for(let D in n)if(n.hasOwnProperty(D)){let k=n[D];v.push(D+":"+("string"==typeof k?JSON.stringify(k):ni(k)))}u=`{${v.join(", ")}}`}return`${s}${o?"("+o+")":""}[${u}]: ${e.replace(ua,"\n  ")}`}("\n"+e.message,u,s,o),e.ngTokenPath=u,e[Tr]=null,e}(k,n,"R3InjectorError",this.source)}throw k}finally{ki(D),Yr(v)}}resolveInjectorInitializers(){const n=Oe(null),s=Yr(this),o=ki(void 0);try{const v=this.get(Js,bi,Qi.Self);for(const D of v)D()}finally{Yr(s),ki(o),Oe(n)}}toString(){const n=[],s=this.records;for(const o of s.keys())n.push(ni(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ft(205,!1)}processProvider(n){let s=Ds(n=vt(n))?n:vt(n&&n.provide);const o=function $(e){return Ra(e)?ve(void 0,e.useValue):ve(ne(e),fo)}(n);if(!Ds(n)&&!0===n.multi){let u=this.records.get(s);u||(u=ve(void 0,fo,!0),u.factory=()=>ro(u.multi),this.records.set(s,u)),s=n,u.multi.push(n)}this.records.set(s,o)}hydrate(n,s){const o=Oe(null);try{return s.value===fo&&(s.value=Ui,s.value=s.factory()),"object"==typeof s.value&&s.value&&function dt(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}finally{Oe(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const s=vt(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function J(e){const n=es(e),s=null!==n?n.factory:Dr(e);if(null!==s)return s;if(e instanceof oi)throw new Ft(204,!1);if(e instanceof Function)return function R(e){if(e.length>0)throw new Ft(204,!1);const s=function St(e){return e&&(e[qn]||e[gi])||null}(e);return null!==s?()=>s.factory(e):()=>new e}(e);throw new Ft(204,!1)}function ne(e,n,s){let o;if(Ds(e)){const u=vt(e);return Dr(u)||J(u)}if(Ra(e))o=()=>vt(e.useValue);else if(function ia(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...ro(e.deps||[]));else if(function vc(e){return!(!e||!e.useExisting)}(e))o=()=>Ar(vt(e.useExisting));else{const u=vt(e&&(e.useClass||e.provide));if(!function We(e){return!!e.deps}(e))return Dr(u)||J(u);o=()=>new u(...ro(e.deps))}return o}function ve(e,n,s=!1){return{factory:e,value:n,multi:s?[]:void 0}}function Dt(e,n){for(const s of e)Array.isArray(s)?Dt(s,n):s&&la(s)?Dt(s.\u0275providers,n):n(s)}function ln(e,n){e instanceof V&&e.assertNotDestroyed();const o=Yr(e),u=ki(void 0);try{return n()}finally{Yr(o),ki(u)}}function Gn(){return void 0!==So()||null!=function Vr(){return ns}()}function di(e){if(!Gn())throw new Ft(-203,!1)}const In=0,_n=1,Ln=2,Lr=3,is=4,Gr=5,vs=6,rs=7,Xr=8,Hi=9,Pi=10,Xi=11,Ma=12,$l=13,zl=14,ps=15,Ga=16,ka=17,Or=18,po=19,Wa=20,_a=21,Jr=22,Kl=23,lr=25,yc=1,cs=7,nl=9,go=10;var Gc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Gc||{});function Co(e){return Array.isArray(e)&&"object"==typeof e[yc]}function To(e){return Array.isArray(e)&&!0===e[yc]}function Al(e){return!!(4&e.flags)}function fl(e){return e.componentOffset>-1}function rc(e){return!(1&~e.flags)}function Zr(e){return!!e.template}function Rl(e){return!!(512&e[Ln])}class kl{constructor(n,s,o){this.previousValue=n,this.currentValue=s,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ec(e,n,s,o){null!==n?n.applyValueToInputSignal(n,o):e[s]=o}function zc(){return _u}function _u(e){return e.type.prototype.ngOnChanges&&(e.setInput=Na),Kd}function Kd(){const e=Id(this),n=e?.current;if(n){const s=e.previous;if(s===fs)e.previous=n;else for(let o in n)s[o]=n[o];e.current=null,this.ngOnChanges(n)}}function Na(e,n,s,o,u){const v=this.declaredInputs[o],D=Id(e)||function vu(e,n){return e[Kc]=n}(e,{previous:fs,current:null}),k=D.current||(D.current={}),H=D.previous,se=H[v];k[v]=new kl(se&&se.currentValue,s,H===fs),Ec(e,n,u,s)}zc.ngInherit=!0;const Kc="__ngSimpleChanges__";function Id(e){return e[Kc]||null}const sa=function(e,n,s){},il="svg";let Cc=!1;function us(e){for(;Array.isArray(e);)e=e[In];return e}function xl(e,n){return us(n[e])}function zo(e,n){return us(n[e.index])}function Tc(e,n){return e.data[n]}function Yl(e,n){return e[n]}function rl(e,n){const s=n[e];return Co(s)?s:s[In]}function Bu(e){return!(128&~e[Ln])}function Pl(e,n){return null==n?null:e[n]}function yu(e){e[ka]=0}function Xc(e){1024&e[Ln]||(e[Ln]|=1024,Bu(e)&&sl(e))}function Fl(e){return!!(9216&e[Ln]||e[Kl]?.dirty)}function Ic(e){e[Pi].changeDetectionScheduler?.notify(1),Fl(e)?sl(e):64&e[Ln]&&(function Yc(){return Cc}()?(e[Ln]|=1024,sl(e)):e[Pi].changeDetectionScheduler?.notify())}function sl(e){e[Pi].changeDetectionScheduler?.notify();let n=ml(e);for(;null!==n&&!(8192&n[Ln])&&(n[Ln]|=8192,Bu(n));)n=ml(n)}function Uu(e,n){if(!(256&~e[Ln]))throw new Ft(911,!1);null===e[_a]&&(e[_a]=[]),e[_a].push(n)}function ml(e){const n=e[Lr];return To(n)?n[Lr]:n}const tr={lFrame:he(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ms(){return tr.bindingsEnabled}function Sc(){return null!==tr.skipHydrationRootTNode}function pn(){return tr.lFrame.lView}function or(){return tr.lFrame.tView}function Xl(e){return tr.lFrame.contextLView=e,e[Xr]}function Eu(e){return tr.lFrame.contextLView=null,e}function Wi(){let e=Cu();for(;null!==e&&64===e.type;)e=e.parent;return e}function Cu(){return tr.lFrame.currentTNode}function ac(){const e=tr.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function oa(e,n){const s=tr.lFrame;s.currentTNode=e,s.isParent=n}function ql(){return tr.lFrame.isParent}function ks(){tr.lFrame.isParent=!1}function Yo(){const e=tr.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function mo(){return tr.lFrame.bindingIndex}function Xo(){return tr.lFrame.bindingIndex++}function za(e){const n=tr.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,s}function cd(e){tr.lFrame.inI18n=e}function bh(e,n){const s=tr.lFrame;s.bindingIndex=s.bindingRootIndex=e,Tu(n)}function Tu(e){tr.lFrame.currentDirectiveIndex=e}function Rc(e){const n=tr.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}function Du(){return tr.lFrame.currentQueryIndex}function W(e){tr.lFrame.currentQueryIndex=e}function S(e){const n=e[_n];return 2===n.type?n.declTNode:1===n.type?e[Gr]:null}function y(e,n,s){if(s&Qi.SkipSelf){let u=n,v=e;for(;!(u=u.parent,null!==u||s&Qi.Host||(u=S(v),null===u||(v=v[zl],10&u.type))););if(null===u)return!1;n=u,e=v}const o=tr.lFrame=U();return o.currentTNode=n,o.lView=e,!0}function F(e){const n=U(),s=e[_n];tr.lFrame=n,n.currentTNode=s.firstChild,n.lView=e,n.tView=s,n.contextLView=e,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function U(){const e=tr.lFrame,n=null===e?null:e.child;return null===n?he(e):n}function he(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Me(){const e=tr.lFrame;return tr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Je=Me;function Vt(){const e=Me();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Hn(){return tr.lFrame.selectedIndex}function ci(e){tr.lFrame.selectedIndex=e}function Vi(){const e=tr.lFrame;return Tc(e.tView,e.selectedIndex)}function cr(){tr.lFrame.currentNamespace=il}function br(){!function Ss(){tr.lFrame.currentNamespace=null}()}let Bo=!0;function no(){return Bo}function Ns(e){Bo=e}function jo(e,n){for(let s=n.directiveStart,o=n.directiveEnd;s<o;s++){const v=e.data[s].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:k,ngAfterViewInit:H,ngAfterViewChecked:se,ngOnDestroy:me}=v;D&&(e.contentHooks??=[]).push(-s,D),k&&((e.contentHooks??=[]).push(s,k),(e.contentCheckHooks??=[]).push(s,k)),H&&(e.viewHooks??=[]).push(-s,H),se&&((e.viewHooks??=[]).push(s,se),(e.viewCheckHooks??=[]).push(s,se)),null!=me&&(e.destroyHooks??=[]).push(s,me)}}function Uo(e,n,s){ba(e,n,3,s)}function Mo(e,n,s,o){(3&e[Ln])===s&&ba(e,n,s,o)}function vl(e,n){let s=e[Ln];(3&s)===n&&(s&=16383,s+=1,e[Ln]=s)}function ba(e,n,s,o){const v=o??-1,D=n.length-1;let k=0;for(let H=void 0!==o?65535&e[ka]:0;H<D;H++)if("number"==typeof n[H+1]){if(k=n[H],null!=o&&k>=o)break}else n[H]<0&&(e[ka]+=65536),(k<v||-1==v)&&(yl(e,s,n,H),e[ka]=(4294901760&e[ka])+H+2),H++}function Mc(e,n){sa(4,e,n);const s=Oe(null);try{n.call(e)}finally{Oe(s),sa(5,e,n)}}function yl(e,n,s,o){const u=s[o]<0,v=s[o+1],k=e[u?-s[o]:s[o]];u?e[Ln]>>14<e[ka]>>16&&(3&e[Ln])===n&&(e[Ln]+=16384,Mc(k,v)):Mc(k,v)}const Oa=-1;class Ll{constructor(n,s,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=o}}function Ps(e){return e!==Oa}function ko(e){return 32767&e}function lu(e,n){let s=function zs(e){return e>>16}(e),o=n;for(;s>0;)o=o[zl],s--;return o}let Ka=!0;function gs(e){const n=Ka;return Ka=e,n}const wa=255,Bl=5;let Iu=0;const jl={};function Ku(e,n){const s=cu(e,n);if(-1!==s)return s;const o=n[_n];o.firstCreatePass&&(e.injectorIndex=n.length,cc(o.data,e),cc(n,null),cc(o.blueprint,null));const u=Jl(e,n),v=e.injectorIndex;if(Ps(u)){const D=ko(u),k=lu(u,n),H=k[_n].data;for(let se=0;se<8;se++)n[v+se]=k[D+se]|H[D+se]}return n[v+8]=u,v}function cc(e,n){e.push(0,0,0,0,0,0,0,0,n)}function cu(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Jl(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let s=0,o=null,u=n;for(;null!==u;){if(o=fd(u),null===o)return Oa;if(s++,u=u[zl],-1!==o.injectorIndex)return o.injectorIndex|s<<16}return Oa}function Zl(e,n,s){!function wh(e,n,s){let o;"string"==typeof s?o=s.charCodeAt(0)||0:s.hasOwnProperty(Ys)&&(o=s[Ys]),null==o&&(o=s[Ys]=Iu++);const u=o&wa;n.data[e+(u>>Bl)]|=1<<u}(e,n,s)}function Su(e,n,s){if(s&Qi.Optional||void 0!==e)return e;Cr()}function du(e,n,s,o){if(s&Qi.Optional&&void 0===o&&(o=null),!(s&(Qi.Self|Qi.Host))){const u=e[Hi],v=ki(void 0);try{return u?u.get(n,o,s&Qi.Optional):Mr(n,o,s&Qi.Optional)}finally{ki(v)}}return Su(o,0,s)}function Yu(e,n,s,o=Qi.Default,u){if(null!==e){if(2048&n[Ln]&&!(o&Qi.Self)){const D=function Xu(e,n,s,o,u){let v=e,D=n;for(;null!==v&&null!==D&&2048&D[Ln]&&!(512&D[Ln]);){const k=ud(v,D,s,o|Qi.Self,jl);if(k!==jl)return k;let H=v.parent;if(!H){const se=D[Wa];if(se){const me=se.get(s,jl,o);if(me!==jl)return me}H=fd(D),D=D[zl]}v=H}return u}(e,n,s,o,jl);if(D!==jl)return D}const v=ud(e,n,s,o,jl);if(v!==jl)return v}return du(n,s,o,u)}function ud(e,n,s,o,u){const v=function Eh(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Ys)?e[Ys]:void 0;return"number"==typeof n?n>=0?n&wa:Ea:n}(s);if("function"==typeof v){if(!y(n,e,o))return o&Qi.Host?Su(u,0,o):du(n,s,o,u);try{let D;if(D=v(o),null!=D||o&Qi.Optional)return D;Cr()}finally{Je()}}else if("number"==typeof v){let D=null,k=cu(e,n),H=Oa,se=o&Qi.Host?n[ps][Gr]:null;for((-1===k||o&Qi.SkipSelf)&&(H=-1===k?Jl(e,n):n[k+8],H!==Oa&&qc(o,!1)?(D=n[_n],k=ko(H),n=lu(H,n)):k=-1);-1!==k;){const me=n[_n];if(dd(v,k,me.data)){const Re=Ya(k,n,s,D,o,se);if(Re!==jl)return Re}H=n[k+8],H!==Oa&&qc(o,n[_n].data[k+8]===se)&&dd(v,k,n)?(D=me,k=ko(H),n=lu(H,n)):k=-1}}return u}function Ya(e,n,s,o,u,v){const D=n[_n],k=D.data[e+8],me=Nc(k,D,s,null==o?fl(k)&&Ka:o!=D&&!!(3&k.type),u&Qi.Host&&v===k);return null!==me?Au(n,D,me,k):jl}function Nc(e,n,s,o,u){const v=e.providerIndexes,D=n.data,k=1048575&v,H=e.directiveStart,me=v>>20,gt=u?k+me:e.directiveEnd;for(let At=o?k:k+me;At<gt;At++){const $t=D[At];if(At<H&&s===$t||At>=H&&$t.type===s)return At}if(u){const At=D[H];if(At&&Zr(At)&&At.type===s)return H}return null}function Au(e,n,s,o){let u=e[s];const v=n.data;if(function lc(e){return e instanceof Ll}(u)){const D=u;D.resolving&&function vr(e,n){throw n&&n.join(" > "),new Ft(-200,e)}(function _r(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Si(e)}(v[s]));const k=gs(D.canSeeViewProviders);D.resolving=!0;const se=D.injectImpl?ki(D.injectImpl):null;y(e,o,Qi.Default);try{u=e[s]=D.factory(void 0,v,e,o),n.firstCreatePass&&s>=o.directiveStart&&function Vl(e,n,s){const{ngOnChanges:o,ngOnInit:u,ngDoCheck:v}=n.type.prototype;if(o){const D=_u(n);(s.preOrderHooks??=[]).push(e,D),(s.preOrderCheckHooks??=[]).push(e,D)}u&&(s.preOrderHooks??=[]).push(0-e,u),v&&((s.preOrderHooks??=[]).push(e,v),(s.preOrderCheckHooks??=[]).push(e,v))}(s,v[s],n)}finally{null!==se&&ki(se),gs(k),D.resolving=!1,Je()}}return u}function dd(e,n,s){return!!(s[n+(e>>Bl)]&1<<e)}function qc(e,n){return!(e&Qi.Self||e&Qi.Host&&n)}class _o{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,o){return Yu(this._tNode,this._lView,n,Hs(o),s)}}function Ea(){return new _o(Wi(),pn())}function Sd(e){return Dn(()=>{const n=e.prototype.constructor,s=n[vo]||hd(n),o=Object.prototype;let u=Object.getPrototypeOf(e.prototype).constructor;for(;u&&u!==o;){const v=u[vo]||hd(u);if(v&&v!==s)return v;u=Object.getPrototypeOf(u)}return v=>new v})}function hd(e){return Tt(e)?()=>{const n=hd(vt(e));return n&&n()}:Dr(e)}function fd(e){const n=e[_n],s=n.type;return 2===s?n.declTNode:1===s?e[Gr]:null}function hu(e){return function uu(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const s=e.attrs;if(s){const o=s.length;let u=0;for(;u<o;){const v=s[u];if(ce(v))break;if(0===v)u+=2;else if("number"==typeof v)for(u++;u<o&&"string"==typeof s[u];)u++;else{if(v===n)return s[u+1];u+=2}}}return null}(Wi(),e)}function Mu(e,n=null,s=null,o){const u=kd(e,n,s,o);return u.resolveInjectorInitializers(),u}function kd(e,n=null,s=null,o,u=new Set){const v=[s||bi,Vo(e)];return o=o||("object"==typeof e?void 0:ni(e)),new V(v,n||Is(),o||null,u)}let ys=(()=>{class e{static{this.THROW_IF_NOT_FOUND=xo}static{this.NULL=new $s}static create(s,o){if(Array.isArray(s))return Mu({name:""},o,s,"");{const u=s.name??"";return Mu({name:u},s.parent,s.providers,u)}}static{this.\u0275prov=mr({token:e,providedIn:"any",factory:()=>Ar(Ro)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function Od(e){return e.ngOriginalError}class uc{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&Od(n);for(;s&&Od(s);)s=Od(s);return s||null}}const Dh=new oi("",{providedIn:"root",factory:()=>Li(uc).handleError.bind(void 0)});let Jc=(()=>{class e{static{this.__NG_ELEMENT_ID__=dc}static{this.__NG_ENV_ID__=s=>s}}return e})();class Tf extends Jc{constructor(n){super(),this._lView=n}onDestroy(n){return Uu(this._lView,n),()=>function od(e,n){if(null===e[_a])return;const s=e[_a].indexOf(n);-1!==s&&e[_a].splice(s,1)}(this._lView,n)}}function dc(){return new Tf(pn())}function Yh(){return ku(Wi(),pn())}function ku(e,n){return new Pd(zo(e,n))}let Pd=(()=>{class e{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=Yh}}return e})();function hc(e){return e instanceof Pd?e.nativeElement:e}function Fd(e){return n=>{setTimeout(e,void 0,n)}}const bl=class Nu extends en.B{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,Gn()&&(this.destroyRef=Li(Jc,{optional:!0})??void 0)}emit(n){const s=Oe(null);try{super.next(n)}finally{Oe(s)}}subscribe(n,s,o){let u=n,v=s||(()=>null),D=o;if(n&&"object"==typeof n){const H=n;u=H.next?.bind(H),v=H.error?.bind(H),D=H.complete?.bind(H)}this.__isAsync&&(v=Fd(v),u&&(u=Fd(u)),D&&(D=Fd(D)));const k=super.subscribe({next:u,error:v,complete:D});return n instanceof cn.yU&&n.add(k),k}};function Ih(){return this._results[Symbol.iterator]()}class gu{get changes(){return this._changes??=new bl}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const s=gu.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Ih)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){this.dirty=!1;const o=function Os(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Po(e,n,s){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let u=e[o],v=n[o];if(s&&(u=s(u),v=s(v)),v!==u)return!1}return!0}(this._results,o,s))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function A(e){return!(128&~e.flags)}const b=new Map;let O=0;const Fs="__ngContext__";function Vs(e,n){Co(n)?(e[Fs]=n[po],function we(e){b.set(e[po],e)}(n)):e[Fs]=n}function oe(e){return _t(e[Ma])}function ye(e){return _t(e[is])}function _t(e){for(;null!==e&&!To(e);)e=e[is];return e}let mi;function dr(e){mi=e}function $r(){if(void 0!==mi)return mi;if(typeof document<"u")return document;throw new Ft(210,!1)}const Ho=new oi("",{providedIn:"root",factory:()=>Go}),Go="ng",Ul=new oi(""),xu=new oi("",{providedIn:"platform",factory:()=>"unknown"}),Pu=new oi(""),Ah=new oi("",{providedIn:"root",factory:()=>$r().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ju=()=>null;function Rf(e,n,s=!1){return Ju(e,n,s)}const Lm=new oi("",{providedIn:"root",factory:()=>!1});let Ff,vp;function mp(){if(void 0===Ff&&(Ff=null,Kn.trustedTypes))try{Ff=Kn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ff}function rh(e){return mp()?.createHTML(e)||e}function yp(){if(void 0===vp&&(vp=null,Kn.trustedTypes))try{vp=Kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return vp}function jm(e){return yp()?.createHTML(e)||e}function yg(e){return yp()?.createScriptURL(e)||e}class tf{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xe})`}}class g0 extends tf{getTypeName(){return"HTML"}}class m0 extends tf{getTypeName(){return"Style"}}class dv extends tf{getTypeName(){return"Script"}}class _0 extends tf{getTypeName(){return"URL"}}class hv extends tf{getTypeName(){return"ResourceURL"}}function sh(e){return e instanceof tf?e.changingThisBreaksApplicationSecurity:e}function Vf(e,n){const s=function v0(e){return e instanceof tf&&e.getTypeName()||null}(e);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${xe})`)}return s===n}function y0(e){return new g0(e)}function b0(e){return new m0(e)}function w0(e){return new dv(e)}function E0(e){return new _0(e)}function fv(e){return new hv(e)}function Um(e){const n=new pv(e);return function gv(){try{return!!(new window.DOMParser).parseFromString(rh(""),"text/html")}catch{return!1}}()?new Hm(n):n}class Hm{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(rh(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch{return null}}}class pv{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=rh(n),s}}const mv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nf(e){return(e=String(e)).match(mv)?e:"unsafe:"+e}function jr(e){const n={};for(const s of e.split(","))n[s]=!0;return n}function Lf(...e){const n={};for(const s of e)for(const o in s)s.hasOwnProperty(o)&&(n[o]=!0);return n}const Gm=jr("area,br,col,hr,img,wbr"),Bf=jr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wm=jr("rp,rt"),bg=Lf(Gm,Lf(Bf,jr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lf(Wm,jr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lf(Wm,Bf)),$m=jr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wg=Lf($m,jr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),jr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_v=jr("script,style,template");class Km{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,o=!0,u=[];for(;s;)if(s.nodeType===Node.ELEMENT_NODE?o=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,o&&s.firstChild)u.push(s),s=Wo(s);else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let v=D0(s);if(v){s=v;break}s=u.pop()}return this.buf.join("")}startElement(n){const s=I0(n).toLowerCase();if(!bg.hasOwnProperty(s))return this.sanitizedSomething=!0,!_v.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const o=n.attributes;for(let u=0;u<o.length;u++){const v=o.item(u),D=v.name,k=D.toLowerCase();if(!wg.hasOwnProperty(k)){this.sanitizedSomething=!0;continue}let H=v.value;$m[k]&&(H=nf(H)),this.buf.push(" ",D,'="',yv(H),'"')}return this.buf.push(">"),!0}endElement(n){const s=I0(n).toLowerCase();bg.hasOwnProperty(s)&&!Gm.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(yv(n))}}function D0(e){const n=e.nextSibling;if(n&&e!==n.previousSibling)throw S0(n);return n}function Wo(e){const n=e.firstChild;if(n&&function T0(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,n))throw S0(n);return n}function I0(e){const n=e.nodeName;return"string"==typeof n?n:"FORM"}function S0(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const Ta=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vv=/([^\#-~ |!])/g;function yv(e){return e.replace(/&/g,"&amp;").replace(Ta,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(vv,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Eg;function Cg(e,n){let s=null;try{Eg=Eg||Um(e);let o=n?String(n):"";s=Eg.getInertBodyElement(o);let u=5,v=o;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,o=v,v=s.innerHTML,s=Eg.getInertBodyElement(o)}while(o!==v);return rh((new Km).sanitizeChildren(Tg(s)||s))}finally{if(s){const o=Tg(s)||s;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Tg(e){return"content"in e&&function A0(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var rf=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(rf||{});function bv(e){const n=Oh();return n?jm(n.sanitize(rf.HTML,e)||""):Vf(e,"HTML")?jm(sh(e)):Cg($r(),Si(e))}function wv(e){const n=Oh();return n?n.sanitize(rf.URL,e)||"":Vf(e,"URL")?sh(e):nf(Si(e))}function Ym(e){const n=Oh();if(n)return yg(n.sanitize(rf.RESOURCE_URL,e)||"");if(Vf(e,"ResourceURL"))return yg(sh(e));throw new Ft(904,!1)}function Ev(e){return function uv(e){return mp()?.createScriptURL(e)||e}(e[0])}function Hd(e,n,s){return function Ud(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Ym:wv}(n,s)(e)}function Oh(){const e=pn();return e&&e[Pi].sanitizer}const Dg=/^>|^->|<!--|-->|--!>|<!-$/g,k0=/(<|>)/g,N0="\u200b$1\u200b";function Dp(e){return e.ownerDocument.defaultView}function qm(e){return e.ownerDocument}function Vc(e){return e instanceof Function?e():e}var $f=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}($f||{});let Qm;function zf(e,n){return Qm(e,n)}function Kf(e,n,s,o,u){if(null!=o){let v,D=!1;To(o)?v=o:Co(o)&&(D=!0,o=o[In]);const k=us(o);0===e&&null!==s?null==u?Ph(n,s,k):Xf(n,s,k,u||null,!0):1===e&&null!==s?Xf(n,s,k,u||null,!0):2===e?Ap(n,k,D):3===e&&n.destroyNode(k),null!=v&&function q1(e,n,s,o,u){const v=s[cs];v!==us(s)&&Kf(n,e,o,v,u);for(let k=go;k<s.length;k++){const H=s[k];Fg(H[_n],H,e,n,o,v)}}(n,e,v,s,u)}}function Yf(e,n){return e.createText(n)}function kv(e,n,s){e.setValue(n,s)}function Jm(e,n){return e.createComment(function Xm(e){return e.replace(Dg,n=>n.replace(k0,N0))}(n))}function cf(e,n,s){return e.createElement(n,s)}function Zm(e,n){n[Pi].changeDetectionScheduler?.notify(1),Fg(e,n,n[Xi],2,null,null)}function e_(e,n){const s=e[nl],o=s.indexOf(n);s.splice(o,1)}function uf(e,n){if(e.length<=go)return;const s=go+n,o=e[s];if(o){const u=o[Ga];null!==u&&u!==e&&e_(u,o),n>0&&(e[s-1][is]=o[is]);const v=Qa(e,go+n);!function V0(e,n){Zm(e,n),n[In]=null,n[Gr]=null}(o[_n],o);const D=v[Or];null!==D&&D.detachView(v[_n]),o[Lr]=null,o[is]=null,o[Ln]&=-129}return o}function df(e,n){if(!(256&n[Ln])){const s=n[Xi];s.destroyNode&&Fg(e,n,s,3,null,null),function Nv(e){let n=e[Ma];if(!n)return t_(e[_n],e);for(;n;){let s=null;if(Co(n))s=n[Ma];else{const o=n[go];o&&(s=o)}if(!s){for(;n&&!n[is]&&n!==e;)Co(n)&&t_(n[_n],n),n=n[Lr];null===n&&(n=e),Co(n)&&t_(n[_n],n),s=n&&n[is]}n=s}}(n)}}function t_(e,n){if(256&n[Ln])return;const s=Oe(null);try{n[Ln]&=-129,n[Ln]|=256,n[Kl]&&jt(n[Kl]),function X1(e,n){let s;if(null!=e&&null!=(s=e.destroyHooks))for(let o=0;o<s.length;o+=2){const u=n[s[o]];if(!(u instanceof Ll)){const v=s[o+1];if(Array.isArray(v))for(let D=0;D<v.length;D+=2){const k=u[v[D]],H=v[D+1];sa(4,k,H);try{H.call(k)}finally{sa(5,k,H)}}else{sa(4,u,v);try{v.call(u)}finally{sa(5,u,v)}}}}}(e,n),function Y1(e,n){const s=e.cleanup,o=n[rs];if(null!==s)for(let v=0;v<s.length-1;v+=2)if("string"==typeof s[v]){const D=s[v+3];D>=0?o[D]():o[-D].unsubscribe(),v+=2}else s[v].call(o[s[v+1]]);null!==o&&(n[rs]=null);const u=n[_a];if(null!==u){n[_a]=null;for(let v=0;v<u.length;v++)(0,u[v])()}}(e,n),1===n[_n].type&&n[Xi].destroy();const o=n[Ga];if(null!==o&&To(n[Lr])){o!==n[Lr]&&e_(o,n);const u=n[Or];null!==u&&u.detachView(e)}!function xt(e){b.delete(e[po])}(n)}finally{Oe(s)}}function n_(e,n,s){return B0(e,n.parent,s)}function B0(e,n,s){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return s[In];{const{componentOffset:u}=o;if(u>-1){const{encapsulation:v}=e.data[o.directiveStart+u];if(v===qr.None||v===qr.Emulated)return null}return zo(o,s)}}function Xf(e,n,s,o,u){e.insertBefore(n,s,o,u)}function Ph(e,n,s){e.appendChild(n,s)}function Gd(e,n,s,o,u){null!==o?Xf(e,n,s,o,u):Ph(e,n,s)}function Ng(e,n){return e.parentNode(n)}function Fv(e,n,s){return Vv(e,n,s)}function ah(e,n,s){return 40&e.type?zo(e,s):null}let i_,Vv=ah;function Lv(e,n){Vv=e,i_=n}function Og(e,n,s,o){const u=n_(e,o,n),v=n[Xi],k=Fv(o.parent||n[Gr],o,n);if(null!=u)if(Array.isArray(s))for(let H=0;H<s.length;H++)Gd(v,u,s[H],k,!1);else Gd(v,u,s,k,!1);void 0!==i_&&i_(v,o,n,s,u)}function Sp(e,n){if(null!==n){const s=n.type;if(3&s)return zo(n,e);if(4&s)return xg(-1,e[n.index]);if(8&s){const o=n.child;if(null!==o)return Sp(e,o);{const u=e[n.index];return To(u)?xg(-1,u):us(u)}}if(32&s)return zf(n,e)()||us(e[n.index]);{const o=r_(e,n);return null!==o?Array.isArray(o)?o[0]:Sp(ml(e[ps]),o):Sp(e,n.next)}}return null}function r_(e,n){return null!==n?e[ps][Gr].projection[n.projection]:null}function xg(e,n){const s=go+e+1;if(s<n.length){const o=n[s],u=o[_n].firstChild;if(null!==u)return Sp(o,u)}return n[cs]}function Ap(e,n,s){const o=Ng(e,n);o&&function Ip(e,n,s,o){e.removeChild(n,s,o)}(e,o,n,s)}function Pg(e,n,s,o,u,v,D){for(;null!=s;){const k=o[s.index],H=s.type;if(D&&0===n&&(k&&Vs(us(k),o),s.flags|=2),32&~s.flags)if(8&H)Pg(e,n,s.child,o,u,v,!1),Kf(n,e,u,k,v);else if(32&H){const se=zf(s,o);let me;for(;me=se();)Kf(n,e,u,me,v);Kf(n,e,u,k,v)}else 16&H?Vg(e,n,o,s,u,v):Kf(n,e,u,k,v);s=D?s.projectionNext:s.next}}function Fg(e,n,s,o,u,v){Pg(s,o,e.firstChild,n,u,v,!1)}function Vg(e,n,s,o,u,v){const D=s[ps],H=D[Gr].projection[o.projection];if(Array.isArray(H))for(let se=0;se<H.length;se++)Kf(n,e,u,H[se],v);else{let se=H;const me=D[Lr];A(o)&&(se.flags|=128),Pg(e,n,se,me,u,v,!0)}}function jv(e,n,s){""===s?e.removeAttribute(n,"class"):e.setAttribute(n,"class",s)}function Uv(e,n,s){const{mergedAttrs:o,classes:u,styles:v}=s;null!==o&&Nr(e,n,o),null!==u&&jv(e,n,u),null!==v&&function U0(e,n,s){e.setAttribute(n,"style",s)}(e,n,v)}const zr={};function H0(e=1){G0(or(),pn(),Hn()+e,!1)}function G0(e,n,s,o){if(!o)if(3&~n[Ln]){const v=e.preOrderHooks;null!==v&&Mo(n,v,0,s)}else{const v=e.preOrderCheckHooks;null!==v&&Uo(n,v,s)}ci(s)}function Rp(e,n=Qi.Default){const s=pn();return null===s?Ar(e,n):Yu(Wi(),s,vt(e),n)}function W0(){throw new Error("invalid")}function Hv(e,n,s,o,u,v){const D=Oe(null);try{let k=null;u&xi.SignalBased&&(k=n[o][Ye]),null!==k&&void 0!==k.transformFn&&(v=k.transformFn(v)),u&xi.HasDecoratorInputTransform&&(v=e.inputTransforms[o].call(n,v)),null!==e.setInput?e.setInput(n,k,v,s,o):Ec(n,k,o,v)}finally{Oe(D)}}function Lg(e,n,s,o,u,v,D,k,H,se,me){const Re=n.blueprint.slice();return Re[In]=u,Re[Ln]=204|o,(null!==se||e&&2048&e[Ln])&&(Re[Ln]|=2048),yu(Re),Re[Lr]=Re[zl]=e,Re[Xr]=s,Re[Pi]=D||e&&e[Pi],Re[Xi]=k||e&&e[Xi],Re[Hi]=H||e&&e[Hi]||null,Re[Gr]=v,Re[po]=function re(){return O++}(),Re[vs]=me,Re[Wa]=se,Re[ps]=2==n.type?e[ps]:Re,Re}function Mp(e,n,s,o,u){let v=e.data[n];if(null===v)v=s_(e,n,s,o,u),function ld(){return tr.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=s,v.value=o,v.attrs=u;const D=ac();v.injectorIndex=null===D?-1:D.injectorIndex}return oa(v,!0),v}function s_(e,n,s,o,u){const v=Cu(),D=ql(),H=e.data[n]=function Z1(e,n,s,o,u,v){let D=n?n.injectorIndex:-1,k=0;return Sc()&&(k|=128),{type:s,index:o,insertBeforeIndex:null,injectorIndex:D,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:k,providerIndexes:0,value:u,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?v:v&&v.parent,s,n,o,u);return null===e.firstChild&&(e.firstChild=H),null!==v&&(D?null==v.child&&null!==H.parent&&(v.child=H):null===v.next&&(v.next=H,H.prev=v)),H}function Qf(e,n,s,o){if(0===s)return-1;const u=n.length;for(let v=0;v<s;v++)n.push(o),e.blueprint.push(o),e.data.push(null);return u}function lh(e,n,s,o,u){const v=Hn(),D=2&o;try{ci(-1),D&&n.length>lr&&G0(e,n,lr,!1),sa(D?2:0,u),s(o,u)}finally{ci(v),sa(D?3:1,u)}}function o_(e,n,s){if(Al(n)){const o=Oe(null);try{const v=n.directiveEnd;for(let D=n.directiveStart;D<v;D++){const k=e.data[D];k.contentQueries&&k.contentQueries(1,s[D],D)}}finally{Oe(o)}}}function a_(e,n,s){Ms()&&(function u_(e,n,s,o){const u=s.directiveStart,v=s.directiveEnd;fl(s)&&function nb(e,n,s){const o=zo(n,e),u=Gv(s);let D=16;s.signals?D=4096:s.onPush&&(D=64);const k=Pp(e,Lg(e,u,null,D,o,n,null,e[Pi].rendererFactory.createRenderer(o,s),null,null,null));e[n.index]=k}(n,s,e.data[u+s.componentOffset]),e.firstCreatePass||Ku(s,n),Vs(o,n);const D=s.initialInputs;for(let k=u;k<v;k++){const H=e.data[k],se=Au(n,e,k,s);Vs(se,n),null!==D&&ff(0,k-u,se,H,0,D),Zr(H)&&(rl(s.index,n)[Xr]=Au(n,e,k,s))}}(e,n,s,zo(s,n)),!(64&~s.flags)&&d_(e,n,s))}function l_(e,n,s=zo){const o=n.localNames;if(null!==o){let u=n.index+1;for(let v=0;v<o.length;v+=2){const D=o[v+1],k=-1===D?s(n,e):e[D];e[u++]=k}}}function Gv(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=c_(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function c_(e,n,s,o,u,v,D,k,H,se,me){const Re=lr+o,gt=Re+u,At=function z0(e,n){const s=[];for(let o=0;o<n;o++)s.push(o<e?null:zr);return s}(Re,gt),$t="function"==typeof se?se():se;return At[_n]={type:e,blueprint:At,template:s,queries:null,viewQuery:k,declTNode:n,data:At.slice().fill(null,Re),bindingStartIndex:Re,expandoStartIndex:gt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:H,consts:$t,incompleteFirstPass:!1,ssrId:me}}let Y0=()=>null;function q0(e,n,s,o,u){for(let v in n){if(!n.hasOwnProperty(v))continue;const D=n[v];if(void 0===D)continue;o??={};let k,H=xi.None;Array.isArray(D)?(k=D[0],H=D[1]):k=D;let se=v;if(null!==u){if(!u.hasOwnProperty(v))continue;se=u[v]}0===e?Q0(o,s,se,k,H):Q0(o,s,se,k)}return o}function Q0(e,n,s,o,u){let v;e.hasOwnProperty(s)?(v=e[s]).push(n,o):v=e[s]=[n,o],void 0!==u&&v.push(u)}function Zc(e,n,s,o,u,v,D,k){const H=zo(n,s);let me,se=n.inputs;!k&&null!=se&&(me=se[o])?(uh(e,s,me,o,u),fl(n)&&function tw(e,n){const s=rl(n,e);16&s[Ln]||(s[Ln]|=64)}(s,n.index)):3&n.type&&(o=function $v(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),u=null!=D?D(u,n.value||"",o):u,v.setProperty(H,o,u))}function kp(e,n,s,o){if(Ms()){const u=null===o?null:{"":-1},v=function Op(e,n){const s=e.directiveRegistry;let o=null,u=null;if(s)for(let v=0;v<s.length;v++){const D=s[v];if(La(n,D.selectors,!1))if(o||(o=[]),Zr(D))if(null!==D.findHostDirectiveDefs){const k=[];u=u||new Map,D.findHostDirectiveDefs(D,k,u),o.unshift(...k,D),xp(e,n,k.length)}else o.unshift(D),xp(e,n,0);else u=u||new Map,D.findHostDirectiveDefs?.(D,o,u),o.push(D)}return null===o?null:[o,u]}(e,s);let D,k;null===v?D=k=null:[D,k]=v,null!==D&&Np(e,n,s,D,u,k),u&&function eb(e,n,s){if(n){const o=e.localNames=[];for(let u=0;u<n.length;u+=2){const v=s[n[u+1]];if(null==v)throw new Ft(-301,!1);o.push(n[u],v)}}}(s,o,u)}s.mergedAttrs=Q(s.mergedAttrs,s.attrs)}function Np(e,n,s,o,u,v){for(let se=0;se<o.length;se++)Zl(Ku(s,n),e,o[se].type);!function Kv(e,n,s){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+s,e.providerIndexes=n}(s,e.data.length,o.length);for(let se=0;se<o.length;se++){const me=o[se];me.providersResolver&&me.providersResolver(me)}let D=!1,k=!1,H=Qf(e,n,o.length,null);for(let se=0;se<o.length;se++){const me=o[se];s.mergedAttrs=Q(s.mergedAttrs,me.hostAttrs),Bg(e,s,n,H,me),tb(H,me,u),null!==me.contentQueries&&(s.flags|=4),(null!==me.hostBindings||null!==me.hostAttrs||0!==me.hostVars)&&(s.flags|=64);const Re=me.type.prototype;!D&&(Re.ngOnChanges||Re.ngOnInit||Re.ngDoCheck)&&((e.preOrderHooks??=[]).push(s.index),D=!0),!k&&(Re.ngOnChanges||Re.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(s.index),k=!0),H++}!function ew(e,n,s){const u=n.directiveEnd,v=e.data,D=n.attrs,k=[];let H=null,se=null;for(let me=n.directiveStart;me<u;me++){const Re=v[me],gt=s?s.get(Re):null,$t=gt?gt.outputs:null;H=q0(0,Re.inputs,me,H,gt?gt.inputs:null),se=q0(1,Re.outputs,me,se,$t);const wn=null===H||null===D||ji(n)?null:ed(H,me,D);k.push(wn)}null!==H&&(H.hasOwnProperty("class")&&(n.flags|=8),H.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=k,n.inputs=H,n.outputs=se}(e,s,v)}function d_(e,n,s){const o=s.directiveStart,u=s.directiveEnd,v=s.index,D=function zu(){return tr.lFrame.currentDirectiveIndex}();try{ci(v);for(let k=o;k<u;k++){const H=e.data[k],se=n[k];Tu(k),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&zv(H,se)}}finally{ci(-1),Tu(D)}}function zv(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function xp(e,n,s){n.componentOffset=s,(e.components??=[]).push(n.index)}function tb(e,n,s){if(s){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)s[n.exportAs[o]]=e;Zr(n)&&(s[""]=e)}}function Bg(e,n,s,o,u){e.data[o]=u;const v=u.factory||(u.factory=Dr(u.type)),D=new Ll(v,Zr(u),Rp);e.blueprint[o]=D,s[o]=D,function J0(e,n,s,o,u){const v=u.hostBindings;if(v){let D=e.hostBindingOpCodes;null===D&&(D=e.hostBindingOpCodes=[]);const k=~n.index;(function Z0(e){let n=e.length;for(;n>0;){const s=e[--n];if("number"==typeof s&&s<0)return s}return 0})(D)!=k&&D.push(k),D.push(s,o,v)}}(e,n,o,Qf(e,s,u.hostVars,zr),u)}function jg(e,n,s,o,u,v,D){if(null==v)e.removeAttribute(n,u,s);else{const k=null==D?Si(v):D(v,o||"",u);e.setAttribute(n,u,k,s)}}function ff(e,n,s,o,u,v){const D=v[n];if(null!==D)for(let k=0;k<D.length;)Hv(o,s,D[k++],D[k++],D[k++],D[k++])}function ed(e,n,s){let o=null,u=0;for(;u<s.length;){const v=s[u];if(0!==v)if(5!==v){if("number"==typeof v)break;if(e.hasOwnProperty(v)){null===o&&(o=[]);const D=e[v];for(let k=0;k<D.length;k+=3)if(D[k]===n){o.push(v,D[k+1],D[k+2],s[u+1]);break}}u+=2}else u+=2;else u+=4}return o}function Lc(e,n,s,o){return[e,!0,0,n,null,o,null,s,null,null]}function h_(e,n){const s=e.contentQueries;if(null!==s){const o=Oe(null);try{for(let u=0;u<s.length;u+=2){const D=s[u+1];if(-1!==D){const k=e.data[D];W(s[u]),k.contentQueries(2,n[D],D)}}}finally{Oe(o)}}}function Pp(e,n){return e[Ma]?e[$l][is]=n:e[Ma]=n,e[$l]=n,n}function pf(e,n,s){W(0);const o=Oe(null);try{n(e,s)}finally{Oe(o)}}function Bc(e){return e[rs]||(e[rs]=[])}function Yv(e){return e.cleanup||(e.cleanup=[])}function Hg(e,n,s){return(null===e||Zr(e))&&(s=function Ol(e){for(;Array.isArray(e);){if("object"==typeof e[yc])return e;e=e[In]}return null}(s[n.index])),s[Xi]}function ch(e,n){const s=e[Hi],o=s?s.get(uc,null):null;o&&o.handleError(n)}function uh(e,n,s,o,u){for(let v=0;v<s.length;){const D=s[v++],k=s[v++],H=s[v++];Hv(e.data[D],n[D],o,k,H,u)}}function Ed(e,n,s){const o=xl(n,e);kv(e[Xi],o,s)}function gf(e,n){const s=rl(n,e),o=s[_n];!function ib(e,n){for(let s=n.length;s<e.blueprint.length;s++)n.push(e.blueprint[s])}(o,s);const u=s[In];null!==u&&null===s[vs]&&(s[vs]=Rf(u,s[Hi])),f_(o,s,s[Xr])}function f_(e,n,s){F(n);try{const o=e.viewQuery;null!==o&&pf(1,o,s);const u=e.template;null!==u&&lh(e,n,u,1,s),e.firstCreatePass&&(e.firstCreatePass=!1),n[Or]?.finishViewCreation(e),e.staticContentQueries&&h_(e,n),e.staticViewQueries&&pf(2,e.viewQuery,s);const v=e.components;null!==v&&function rb(e,n){for(let s=0;s<n.length;s++)gf(e,n[s])}(n,v)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{n[Ln]&=-5,Vt()}}function Fp(e,n,s,o){const u=Oe(null);try{const v=n.tView,H=Lg(e,v,s,4096&e[Ln]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);H[Ga]=e[n.index];const me=e[Or];return null!==me&&(H[Or]=me.createEmbeddedView(v)),f_(v,H,s),H}finally{Oe(u)}}function Xv(e,n){const s=go+n;if(s<e.length)return e[s]}function mf(e,n){return!n||null===n.firstChild||A(e)}function Vp(e,n,s,o=!0){const u=n[_n];if(function Ov(e,n,s,o){const u=go+o,v=s.length;o>0&&(s[u-1][is]=n),o<v-go?(n[is]=s[u],ha(s,go+o,n)):(s.push(n),n[is]=null),n[Lr]=s;const D=n[Ga];null!==D&&s!==D&&function xv(e,n){const s=e[nl];n[ps]!==n[Lr][Lr][ps]&&(e[Ln]|=Gc.HasTransplantedViews),null===s?e[nl]=[n]:s.push(n)}(D,n);const k=n[Or];null!==k&&k.insertView(e),Ic(n),n[Ln]|=128}(u,n,e,s),o){const D=xg(s,e),k=n[Xi],H=Ng(k,e[cs]);null!==H&&function L0(e,n,s,o,u,v){o[In]=u,o[Gr]=n,Fg(e,o,s,1,u,v)}(u,e[Gr],k,n,H,D)}const v=n[vs];null!==v&&null!==v.firstChild&&(v.firstChild=null)}function Lp(e,n){const s=uf(e,n);return void 0!==s&&df(s[_n],s),s}function Jf(e,n,s,o,u=!1){for(;null!==s;){const v=n[s.index];null!==v&&o.push(us(v)),To(v)&&Bp(v,o);const D=s.type;if(8&D)Jf(e,n,s.child,o);else if(32&D){const k=zf(s,n);let H;for(;H=k();)o.push(H)}else if(16&D){const k=r_(n,s);if(Array.isArray(k))o.push(...k);else{const H=ml(n[ps]);Jf(H[_n],H,k,o,!0)}}s=u?s.projectionNext:s.next}return o}function Bp(e,n){for(let s=go;s<e.length;s++){const o=e[s],u=o[_n].firstChild;null!==u&&Jf(o[_n],o,u,n)}e[cs]!==e[In]&&n.push(e[cs])}let p_=[];const qv={...Fe,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{sl(e.lView)},consumerOnSignalRead(){this.lView[Kl]=this}},m_=100;function Gg(e,n=!0,s=0){const o=e[Pi],u=o.rendererFactory;u.begin?.();try{!function Qv(e,n){t(e,n);let s=0;for(;Fl(e);){if(s===m_)throw new Ft(103,!1);s++,t(e,1)}}(e,s)}catch(D){throw n&&ch(e,D),D}finally{u.end?.(),o.inlineEffectRunner?.flush()}}function lb(e,n,s,o){const u=n[Ln];if(!(256&~u))return;n[Pi].inlineEffectRunner?.flush(),F(n);let D=null,k=null;(function cb(e){return 2!==e.type})(e)&&(k=function sb(e){return e[Kl]??function g_(e){const n=p_.pop()??Object.create(qv);return n.lView=e,n}(e)}(n),D=je(k));try{yu(n),function ad(e){return tr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==s&&lh(e,n,s,2,o);const H=!(3&~u);if(H){const Re=e.preOrderCheckHooks;null!==Re&&Uo(n,Re,null)}else{const Re=e.preOrderHooks;null!==Re&&Mo(n,Re,0,null),vl(n,0)}if(function ub(e){for(let n=oe(e);null!==n;n=ye(n)){if(!(n[Ln]&Gc.HasTransplantedViews))continue;const s=n[nl];for(let o=0;o<s.length;o++){Xc(s[o])}}}(n),__(n,0),null!==e.contentQueries&&h_(e,n),H){const Re=e.contentCheckHooks;null!==Re&&Uo(n,Re)}else{const Re=e.contentHooks;null!==Re&&Mo(n,Re,1),vl(n,1)}!function $0(e,n){const s=e.hostBindingOpCodes;if(null!==s)try{for(let o=0;o<s.length;o++){const u=s[o];if(u<0)ci(~u);else{const v=u,D=s[++o],k=s[++o];bh(D,v),k(2,n[v])}}}finally{ci(-1)}}(e,n);const se=e.components;null!==se&&r(n,se,0);const me=e.viewQuery;if(null!==me&&pf(2,me,o),H){const Re=e.viewCheckHooks;null!==Re&&Uo(n,Re)}else{const Re=e.viewHooks;null!==Re&&Mo(n,Re,2),vl(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Jr]){for(const Re of n[Jr])Re();n[Jr]=null}n[Ln]&=-73}catch(H){throw sl(n),H}finally{null!==k&&(Cn(k,D),function ob(e){e.lView[Kl]!==e&&(e.lView=null,p_.push(e))}(k)),Vt()}}function __(e,n){for(let s=oe(e);null!==s;s=ye(s))for(let o=go;o<s.length;o++)c(s[o],n)}function db(e,n,s){c(rl(n,e),s)}function c(e,n){Bu(e)&&t(e,n)}function t(e,n){const o=e[_n],u=e[Ln],v=e[Kl];let D=!!(0===n&&16&u);if(D||=!!(64&u&&0===n),D||=!!(1024&u),D||=!(!v?.dirty||!Mn(v)),v&&(v.dirty=!1),e[Ln]&=-9217,D)lb(o,e,o.template,e[Xr]);else if(8192&u){__(e,1);const k=o.components;null!==k&&r(e,k,1)}}function r(e,n,s){for(let o=0;o<n.length;o++)db(e,n[o],s)}function a(e){for(e[Pi].changeDetectionScheduler?.notify();e;){e[Ln]|=64;const n=ml(e);if(Rl(e)&&!n)return e;e=n}return null}class f{get rootNodes(){const n=this._lView,s=n[_n];return Jf(s,n,s.firstChild,[])}constructor(n,s,o=!0){this._lView=n,this._cdRefInjectingView=s,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xr]}set context(n){this._lView[Xr]=n}get destroyed(){return!(256&~this._lView[Ln])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Lr];if(To(n)){const s=n[8],o=s?s.indexOf(this):-1;o>-1&&(uf(n,o),Qa(s,o))}this._attachedToViewContainer=!1}df(this._lView[_n],this._lView)}onDestroy(n){Uu(this._lView,n)}markForCheck(){a(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ln]&=-129}reattach(){Ic(this._lView),this._lView[Ln]|=128}detectChanges(){this._lView[Ln]|=1024,Gg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ft(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Zm(this._lView[_n],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ft(902,!1);this._appRef=n,Ic(this._lView)}}let w=(()=>{class e{static{this.__NG_ELEMENT_ID__=q}}return e})();const I=w,G=class extends I{constructor(n,s,o){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s)}createEmbeddedViewImpl(n,s,o){const u=Fp(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:s,dehydratedView:o});return new f(u)}};function q(){return ue(Wi(),pn())}function ue(e,n){return 4&e.type?new G(n,e,ku(e,n)):null}let ty=()=>null;function Vh(e,n){return ty(e,n)}class Wp{}class gb{}class Yg{}class tu{resolveComponentFactory(n){throw function w_(e){const n=Error(`No component factory found for ${ni(e)}.`);return n.ngComponent=e,n}(n)}}let Lh=(()=>{class e{static{this.NULL=new tu}}return e})();class E_{}let ry=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function mb(){const e=pn(),s=rl(Wi().index,e);return(Co(s)?s:e)[Xi]}()}}return e})(),$p=(()=>{class e{static{this.\u0275prov=mr({token:e,providedIn:"root",factory:()=>null})}}return e})();const qg={},Qg=new Set;function Cd(e){Qg.has(e)||(Qg.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function sy(...e){}class al{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bl(!1),this.onMicrotaskEmpty=new bl(!1),this.onStable=new bl(!1),this.onError=new bl(!1),typeof Zone>"u")throw new Ft(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!o&&s,u.shouldCoalesceRunChangeDetection=o,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function C_(){const e="function"==typeof Kn.requestAnimationFrame;let n=Kn[e?"requestAnimationFrame":"setTimeout"],s=Kn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&s){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function vf(e){const n=()=>{!function T_(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Kn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Jg(e),e.isCheckStableRunning=!0,Kp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Jg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,o,u,v,D,k)=>{if(function oy(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(k))return s.invokeTask(u,v,D,k);try{return Yp(e),s.invokeTask(u,v,D,k)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||e.shouldCoalesceRunChangeDetection)&&n(),D_(e)}},onInvoke:(s,o,u,v,D,k,H)=>{try{return Yp(e),s.invoke(u,v,D,k,H)}finally{e.shouldCoalesceRunChangeDetection&&n(),D_(e)}},onHasTask:(s,o,u,v)=>{s.hasTask(u,v),o===u&&("microTask"==v.change?(e._hasPendingMicrotasks=v.microTask,Jg(e),Kp(e)):"macroTask"==v.change&&(e.hasPendingMacrotasks=v.macroTask))},onHandleError:(s,o,u,v)=>(s.handleError(u,v),e.runOutsideAngular(()=>e.onError.emit(v)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!al.isInAngularZone())throw new Ft(909,!1)}static assertNotInAngularZone(){if(al.isInAngularZone())throw new Ft(909,!1)}run(n,s,o){return this._inner.run(n,s,o)}runTask(n,s,o,u){const v=this._inner,D=v.scheduleEventTask("NgZoneEvent: "+u,n,zp,sy,sy);try{return v.runTask(D,s,o)}finally{v.cancelTask(D)}}runGuarded(n,s,o){return this._inner.runGuarded(n,s,o)}runOutsideAngular(n){return this._outer.run(n)}}const zp={};function Kp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Jg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Yp(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function D_(e){e._nesting--,Kp(e)}var Bh=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Bh||{});const ip={destroy(){}};function ay(e,n){!n&&di();const s=n?.injector??Li(ys);if(!function Zu(e){return"browser"===(e??Li(ys)).get(xu)}(s))return ip;Cd("NgAfterNextRender");const o=s.get(Xp),u=o.handler??=new ly,v=n?.phase??Bh.MixedReadWrite,D=()=>{u.unregister(H),k()},k=s.get(Jc).onDestroy(D),H=ln(s,()=>new bf(v,()=>{D(),e()}));return u.register(H),{destroy:D}}class bf{constructor(n,s){this.phase=n,this.callbackFn=s,this.zone=Li(al),this.errorHandler=Li(uc,{optional:!0}),Li(Wp,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}}class ly{constructor(){this.executingCallbacks=!1,this.buckets={[Bh.EarlyRead]:new Set,[Bh.Write]:new Set,[Bh.MixedReadWrite]:new Set,[Bh.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const s of n)s.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let Xp=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const s=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const o of s)o()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=mr({token:e,providedIn:"root",factory:()=>new e})}}return e})();function dh(e){return!!Bs(e)}function wf(e,n,s){let o=s?e.styles:null,u=s?e.classes:null,v=0;if(null!==n)for(let D=0;D<n.length;D++){const k=n[D];"number"==typeof k?v=k:1==v?u=gn(u,k):2==v&&(o=gn(o,k+": "+n[++D]+";"))}s?e.styles=o:e.stylesWithoutHost=o,s?e.classes=u:e.classesWithoutHost=u}class I_ extends Lh{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Ji(n);return new Ef(s,this.ngModule)}}function em(e){const n=[];for(const s in e){if(!e.hasOwnProperty(s))continue;const o=e[s];void 0!==o&&n.push({propName:Array.isArray(o)?o[0]:o,templateName:s})}return n}class Wd{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,o){o=Hs(o);const u=this.injector.get(n,qg,o);return u!==qg||s===qg?u:this.parentInjector.get(n,s,o)}}class Ef extends Yg{get inputs(){const n=this.componentDef,s=n.inputTransforms,o=em(n.inputs);if(null!==s)for(const u of o)s.hasOwnProperty(u.propName)&&(u.transform=s[u.propName]);return o}get outputs(){return em(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function Ba(e){return e.map(ta).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,o,u){const v=Oe(null);try{let D=(u=u||this.ngModule)instanceof Sr?u:u?.injector;D&&null!==this.componentDef.getStandaloneInjector&&(D=this.componentDef.getStandaloneInjector(D)||D);const k=D?new Wd(n,D):n,H=k.get(E_,null);if(null===H)throw new Ft(407,!1);const se=k.get($p,null),gt={rendererFactory:H,sanitizer:se,inlineEffectRunner:null,afterRenderEventManager:k.get(Xp,null),changeDetectionScheduler:k.get(Wp,null)},At=H.createRenderer(null,this.componentDef),$t=this.componentDef.selectors[0][0]||"div",wn=o?function K0(e,n,s,o){const v=o.get(Lm,!1)||s===qr.ShadowDom,D=e.selectRootElement(n,v);return function Q1(e){Y0(e)}(D),D}(At,o,this.componentDef.encapsulation,k):cf(At,$t,function Jp(e){const n=e.toLowerCase();return"svg"===n?il:"math"===n?"math":null}($t));let ti=512;this.componentDef.signals?ti|=4096:this.componentDef.onPush||(ti|=16);let pi=null;null!==wn&&(pi=Rf(wn,k,!0));const xn=c_(0,null,null,1,0,null,null,null,null,null,null),Pr=Lg(null,xn,null,ti,null,null,gt,At,k,null,pi);let Zs,Jo;F(Pr);try{const mc=this.componentDef;let sd,Pm=null;mc.findHostDirectiveDefs?(sd=[],Pm=new Map,mc.findHostDirectiveDefs(mc,sd,Pm),sd.push(mc)):sd=[mc];const pD=function dy(e,n){const s=e[_n],o=lr;return e[o]=n,Mp(s,o,2,"#host",null)}(Pr,wn),OM=function hy(e,n,s,o,u,v,D){const k=u[_n];!function fy(e,n,s,o){for(const u of e)n.mergedAttrs=Q(n.mergedAttrs,u.hostAttrs);null!==n.mergedAttrs&&(wf(n,n.mergedAttrs,!0),null!==s&&Uv(o,s,n))}(o,e,n,D);let H=null;null!==n&&(H=Rf(n,u[Hi]));const se=v.rendererFactory.createRenderer(n,s);let me=16;s.signals?me=4096:s.onPush&&(me=64);const Re=Lg(u,Gv(s),null,me,u[e.index],e,v,se,null,null,H);return k.firstCreatePass&&xp(k,e,o.length-1),Pp(u,Re),u[e.index]=Re}(pD,wn,mc,sd,Pr,gt,At);Jo=Tc(xn,lr),wn&&function A_(e,n,s,o){if(o)Nr(e,s,["ng-version","17.3.12"]);else{const{attrs:u,classes:v}=function na(e){const n=[],s=[];let o=1,u=2;for(;o<e.length;){let v=e[o];if("string"==typeof v)2===u?""!==v&&n.push(v,e[++o]):8===u&&s.push(v);else{if(!As(u))break;u=v}o++}return{attrs:n,classes:s}}(n.selectors[0]);u&&Nr(e,s,u),v&&v.length>0&&jv(e,s,v.join(" "))}}(At,mc,wn,o),void 0!==s&&function py(e,n,s){const o=e.projection=[];for(let u=0;u<n.length;u++){const v=s[u];o.push(null!=v?Array.from(v):null)}}(Jo,this.ngContentSelectors,s),Zs=function S_(e,n,s,o,u,v){const D=Wi(),k=u[_n],H=zo(D,u);Np(k,u,D,s,null,o);for(let me=0;me<s.length;me++)Vs(Au(u,k,D.directiveStart+me,D),u);d_(k,u,D),H&&Vs(H,u);const se=Au(u,k,D.directiveStart+D.componentOffset,D);if(e[Xr]=u[Xr]=se,null!==v)for(const me of v)me(se,n);return o_(k,D,u),se}(OM,mc,sd,Pm,Pr,[gy]),f_(xn,Pr,null)}finally{Vt()}return new bb(this.componentType,Zs,ku(Jo,Pr),Pr,Jo)}finally{Oe(v)}}}class bb extends gb{constructor(n,s,o,u,v){super(),this.location=o,this._rootLView=u,this._tNode=v,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new f(u,void 0,!1),this.componentType=n}setInput(n,s){const o=this._tNode.inputs;let u;if(null!==o&&(u=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const v=this._rootLView;uh(v[_n],v,u,n,s),this.previousInputValues.set(n,s),a(rl(this._tNode.index,v))}}get injector(){return new _o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function gy(){const e=Wi();jo(pn()[_n],e)}let tm=(()=>{class e{static{this.__NG_ELEMENT_ID__=wb}}return e})();function wb(){return $d(Wi(),pn())}const my=tm,R_=class extends my{constructor(n,s,o){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=o}get element(){return ku(this._hostTNode,this._hostLView)}get injector(){return new _o(this._hostTNode,this._hostLView)}get parentInjector(){const n=Jl(this._hostTNode,this._hostLView);if(Ps(n)){const s=lu(n,this._hostLView),o=ko(n);return new _o(s[_n].data[o+8],s)}return new _o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=_y(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-go}createEmbeddedView(n,s,o){let u,v;"number"==typeof o?u=o:null!=o&&(u=o.index,v=o.injector);const D=Vh(this._lContainer,n.ssrId),k=n.createEmbeddedViewImpl(s||{},v,D);return this.insertImpl(k,u,mf(this._hostTNode,D)),k}createComponent(n,s,o,u,v){const D=n&&!function Pt(e){return"function"==typeof e}(n);let k;if(D)k=s;else{const $t=s||{};k=$t.index,o=$t.injector,u=$t.projectableNodes,v=$t.environmentInjector||$t.ngModuleRef}const H=D?n:new Ef(Ji(n)),se=o||this.parentInjector;if(!v&&null==H.ngModule){const wn=(D?se:this.parentInjector).get(Sr,null);wn&&(v=wn)}const me=Ji(H.componentType??{}),Re=Vh(this._lContainer,me?.id??null),At=H.create(se,u,Re?.firstChild??null,v);return this.insertImpl(At.hostView,k,mf(this._hostTNode,Re)),At}insert(n,s){return this.insertImpl(n,s,!0)}insertImpl(n,s,o){const u=n._lView;if(function ju(e){return To(e[Lr])}(u)){const k=this.indexOf(n);if(-1!==k)this.detach(k);else{const H=u[Lr],se=new R_(H,H[Gr],H[Lr]);se.detach(se.indexOf(n))}}const v=this._adjustIndex(s),D=this._lContainer;return Vp(D,u,v,o),n.attachToViewContainerRef(),ha(fh(D),v,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=_y(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),o=uf(this._lContainer,s);o&&(Qa(fh(this._lContainer),s),df(o[_n],o))}detach(n){const s=this._adjustIndex(n,-1),o=uf(this._lContainer,s);return o&&null!=Qa(fh(this._lContainer),s)?new f(o):null}_adjustIndex(n,s=0){return n??this.length+s}};function _y(e){return e[8]}function fh(e){return e[8]||(e[8]=[])}function $d(e,n){let s;const o=n[e.index];return To(o)?s=o:(s=Lc(o,n,null,e),n[e.index]=s,Pp(n,s)),Zp(s,n,e,o),new R_(s,e,n)}let Zp=function eg(e,n,s,o){if(e[cs])return;let u;u=8&s.type?us(o):function nm(e,n){const s=e[Xi],o=s.createComment(""),u=zo(n,e);return Xf(s,Ng(s,u),o,function Pv(e,n){return e.nextSibling(n)}(s,u),!1),o}(n,s),e[cs]=u},im=()=>!1;class rm{constructor(n){this.queryList=n,this.matches=null}clone(){return new rm(this.queryList)}setDirty(){this.queryList.setDirty()}}class M_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const o=null!==n.contentQueries?n.contentQueries[0]:s.length,u=[];for(let v=0;v<o;v++){const D=s.getByIndex(v);u.push(this.queries[D.indexInDeclarationView].clone())}return new M_(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==ap(n,s).matches&&this.queries[s].setDirty()}}class vy{constructor(n,s,o=null){this.flags=s,this.read=o,this.predicate="string"==typeof n?function Cb(e){return e.split(",").map(n=>n.trim())}(n):n}}class k_{constructor(n=[]){this.queries=n}elementStart(n,s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let o=0;o<this.length;o++){const u=null!==s?s.length:0,v=this.getByIndex(o).embeddedTView(n,u);v&&(v.indexInDeclarationView=o,null!==s?s.push(v):s=[v])}return null!==s?new k_(s):null}template(n,s){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class N_{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new N_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const s=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==s;)o=o.parent;return s===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const o=this.metadata.predicate;if(Array.isArray(o))for(let u=0;u<o.length;u++){const v=o[u];this.matchTNodeWithReadOption(n,s,ig(s,v)),this.matchTNodeWithReadOption(n,s,Nc(s,n,v,!1,!1))}else o===w?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Nc(s,n,o,!1,!1))}matchTNodeWithReadOption(n,s,o){if(null!==o){const u=this.metadata.read;if(null!==u)if(u===Pd||u===tm||u===w&&4&s.type)this.addMatch(s.index,-2);else{const v=Nc(s,n,u,!1,!1);null!==v&&this.addMatch(s.index,v)}else this.addMatch(s.index,o)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function ig(e,n){const s=e.localNames;if(null!==s)for(let o=0;o<s.length;o+=2)if(s[o]===n)return s[o+1];return null}function yy(e,n,s,o){return-1===s?function jh(e,n){return 11&e.type?ku(e,n):4&e.type?ue(e,n):null}(n,e):-2===s?function by(e,n,s){return s===Pd?ku(n,e):s===w?ue(n,e):s===tm?$d(n,e):void 0}(e,n,o):Au(e,e[_n],s,n)}function O_(e,n,s,o){const u=n[Or].queries[o];if(null===u.matches){const v=e.data,D=s.matches,k=[];for(let H=0;null!==D&&H<D.length;H+=2){const se=D[H];k.push(se<0?null:yy(n,v[se],D[H+1],s.metadata.read))}u.matches=k}return u.matches}function Uh(e,n,s,o){const u=e.queries.getByIndex(s),v=u.matches;if(null!==v){const D=O_(e,n,u,s);for(let k=0;k<v.length;k+=2){const H=v[k];if(H>0)o.push(D[k/2]);else{const se=v[k+1],me=n[-H];for(let Re=go;Re<me.length;Re++){const gt=me[Re];gt[Ga]===gt[Lr]&&Uh(gt[_n],gt,se,o)}if(null!==me[nl]){const Re=me[nl];for(let gt=0;gt<Re.length;gt++){const At=Re[gt];Uh(At[_n],At,se,o)}}}}}return o}function wy(e,n,s){const o=new gu(!(4&~s));return function X0(e,n,s,o){const u=Bc(n);u.push(s),e.firstCreatePass&&Yv(e).push(o,u.length-1)}(e,n,o,o.destroy),(n[Or]??=new M_).queries.push(new rm(o))-1}function Cy(e,n,s){null===e.queries&&(e.queries=new k_),e.queries.track(new N_(n,s))}function ap(e,n){return e.queries.getByIndex(n)}function P_(e,n){const s=e[_n],o=ap(s,n);return o.crossesNgTemplate?Uh(s,e,n,[]):O_(s,e,o,n)}function Cf(e){return"function"==typeof e&&void 0!==e[Ye]}function om(e,n){Cd("NgSignals");const s=function ri(e){const n=Object.create(Ke);n.value=e;const s=()=>(st(n),n.value);return s[Ye]=n,s}(e),o=s[Ye];return n?.equal&&(o.equal=n.equal),s.set=u=>Ze(o,u),s.update=u=>function Ie(e,n){fn()||$n(),Ze(e,n(e.value))}(o,u),s.asReadonly=xa.bind(s),s}function xa(){const e=this[Ye];if(void 0===e.readonlyFn){const n=()=>this();n[Ye]=e,e.readonlyFn=n}return e.readonlyFn}function Ty(e){return Cf(e)&&"function"==typeof e.set}function js(e){let n=function tc(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),s=!0;const o=[e];for(;n;){let u;if(Zr(e))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ft(903,!1);u=n.\u0275dir}if(u){if(s){o.push(u);const D=e;D.inputs=gh(e.inputs),D.inputTransforms=gh(e.inputTransforms),D.declaredInputs=gh(e.declaredInputs),D.outputs=gh(e.outputs);const k=u.hostBindings;k&&G_(e,k);const H=u.viewQuery,se=u.contentQueries;if(H&&Td(e,H),se&&um(e,se),Uc(e,u),ws(e.outputs,u.outputs),Zr(u)&&u.data.animation){const me=e.data;me.animation=(me.animation||[]).concat(u.data.animation)}}const v=u.features;if(v)for(let D=0;D<v.length;D++){const k=v[D];k&&k.ngInherit&&k(e),k===js&&(s=!1)}}n=Object.getPrototypeOf(n)}!function Hc(e){let n=0,s=null;for(let o=e.length-1;o>=0;o--){const u=e[o];u.hostVars=n+=u.hostVars,u.hostAttrs=Q(u.hostAttrs,s=Q(s,u.hostAttrs))}}(o)}function Uc(e,n){for(const s in n.inputs){if(!n.inputs.hasOwnProperty(s)||e.inputs.hasOwnProperty(s))continue;const o=n.inputs[s];if(void 0!==o&&(e.inputs[s]=o,e.declaredInputs[s]=n.declaredInputs[s],null!==n.inputTransforms)){const u=Array.isArray(o)?o[0]:o;if(!n.inputTransforms.hasOwnProperty(u))continue;e.inputTransforms??={},e.inputTransforms[u]=n.inputTransforms[u]}}}function gh(e){return e===fs?{}:e===bi?[]:e}function Td(e,n){const s=e.viewQuery;e.viewQuery=s?(o,u)=>{n(o,u),s(o,u)}:n}function um(e,n){const s=e.contentQueries;e.contentQueries=s?(o,u,v)=>{n(o,u,v),s(o,u,v)}:n}function G_(e,n){const s=e.hostBindings;e.hostBindings=s?(o,u)=>{n(o,u),s(o,u)}:n}function sw(e){const n=s=>{const o=(Array.isArray(e)?e:e()).map(u=>"function"==typeof u?{directive:vt(u),inputs:fs,outputs:fs}:{directive:vt(u.directive),inputs:aw(u.inputs),outputs:aw(u.outputs)});null===s.hostDirectives?(s.findHostDirectiveDefs=ow,s.hostDirectives=o):s.hostDirectives.unshift(...o)};return n.ngInherit=!0,n}function ow(e,n,s){if(null!==e.hostDirectives)for(const o of e.hostDirectives){const u=ls(o.directive);wD(u.declaredInputs,o.inputs),ow(u,n,s),s.set(u,o),n.push(u)}}function aw(e){if(void 0===e||0===e.length)return fs;const n={};for(let s=0;s<e.length;s+=2)n[e[s]]=e[s+1];return n}function wD(e,n){for(const s in n)n.hasOwnProperty(s)&&(e[n[s]]=e[s])}function cw(e){const n=e.inputConfig,s={};for(const o in n)if(n.hasOwnProperty(o)){const u=n[o];Array.isArray(u)&&u[3]&&(s[o]=u[3])}e.inputTransforms=s}class ag{}class uw{}function ED(e,n){return new xb(e,n??null,[])}class xb extends ag{constructor(n,s,o){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new I_(this);const u=Bs(n);this._bootstrapComponents=Vc(u.bootstrap),this._r3Injector=kd(n,s,[{provide:ag,useValue:this},{provide:Lh,useValue:this.componentFactoryResolver},...o],ni(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Pb extends uw{constructor(n){super(),this.moduleType=n}create(n){return new xb(this.moduleType,n,[])}}class dw extends ag{constructor(n){super(),this.componentFactoryResolver=new I_(this),this.instance=null;const s=new V([...n.providers,{provide:ag,useValue:this},{provide:Lh,useValue:this.componentFactoryResolver}],n.parent||Is(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Fb(e,n,s=null){return new dw({providers:e,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let dm=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new hi.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=mr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Py(e){return!!Vb(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Vb(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Gh(e,n,s){return e[n]=s}function W_(e,n){return e[n]}function Hl(e,n,s){return!Object.is(e[n],s)&&(e[n]=s,!0)}function lg(e,n,s,o){const u=Hl(e,n,s);return Hl(e,n+1,o)||u}function Fy(e,n,s,o,u){const v=lg(e,n,s,o);return Hl(e,n+2,u)||v}function zd(e,n,s,o,u,v){const D=lg(e,n,s,o);return lg(e,n+2,u,v)||D}function hm(e,n,s,o,u,v,D,k){const H=pn(),se=or(),me=e+lr,Re=se.firstCreatePass?function RD(e,n,s,o,u,v,D,k,H){const se=n.consts,me=Mp(n,e,4,D||null,Pl(se,k));kp(n,s,me,Pl(se,H)),jo(n,me);const Re=me.tView=c_(2,me,o,u,v,n.directiveRegistry,n.pipeRegistry,null,n.schemas,se,null);return null!==n.queries&&(n.queries.template(n,me),Re.queries=n.queries.embeddedTView(me)),me}(me,se,H,n,s,o,u,v,D):se.data[me];oa(Re,!1);const gt=hw(se,H,Re,e);no()&&Og(se,H,gt,Re),Vs(gt,H);const At=Lc(gt,H,gt,Re);return H[me]=At,Pp(H,At),function Qo(e,n,s){return im(e,n,s)}(At,Re,H),rc(Re)&&a_(se,H,Re),null!=D&&l_(H,Re,k),hm}let hw=function fw(e,n,s,o){return Ns(!0),n[Xi].createComment("")};function Kb(e,n,s,o){const u=pn();return Hl(u,Xo(),n)&&(or(),function wd(e,n,s,o,u,v){const D=zo(e,n);jg(n[Xi],D,v,e.value,s,o,u)}(Vi(),u,e,n,s,o)),Kb}function bm(e,n,s,o){return Hl(e,Xo(),s)?n+Si(s)+o:zr}function wm(e,n,s,o,u,v){const k=lg(e,mo(),s,u);return za(2),k?n+Si(s)+o+Si(u)+v:zr}function Hy(e,n){return e<<17|n<<2}function dp(e){return e>>17&32767}function Yb(e){return 2|e}function ug(e){return(131068&e)>>2}function Xb(e,n){return-131069&e|n<<2}function qb(e){return 1|e}function Ww(e,n,s,o){const u=e[s+1],v=null===n;let D=o?dp(u):ug(u),k=!1;for(;0!==D&&(!1===k||v);){const se=e[D+1];gI(e[D],n)&&(k=!0,e[D+1]=o?qb(se):Yb(se)),D=o?dp(se):ug(se)}k&&(e[s+1]=o?Yb(u):qb(u))}function gI(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&wo(e,n)>=0}const pc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $w(e){return e.substring(pc.key,pc.keyEnd)}function mI(e){return e.substring(pc.value,pc.valueEnd)}function zw(e,n){const s=pc.textEnd;return s===n?-1:(n=pc.keyEnd=function yI(e,n,s){for(;n<s&&e.charCodeAt(n)>32;)n++;return n}(e,pc.key=n,s),Am(e,n,s))}function Kw(e,n){const s=pc.textEnd;let o=pc.key=Am(e,n,s);return s===o?-1:(o=pc.keyEnd=function bI(e,n,s){let o;for(;n<s&&(45===(o=e.charCodeAt(n))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)n++;return n}(e,o,s),o=Xw(e,o,s),o=pc.value=Am(e,o,s),o=pc.valueEnd=function wI(e,n,s){let o=-1,u=-1,v=-1,D=n,k=D;for(;D<s;){const H=e.charCodeAt(D++);if(59===H)return k;34===H||39===H?k=D=qw(e,H,D,s):n===D-4&&85===v&&82===u&&76===o&&40===H?k=D=qw(e,41,D,s):H>32&&(k=D),v=u,u=o,o=-33&H}return k}(e,o,s),Xw(e,o,s))}function Yw(e){pc.key=0,pc.keyEnd=0,pc.value=0,pc.valueEnd=0,pc.textEnd=e.length}function Am(e,n,s){for(;n<s&&e.charCodeAt(n)<=32;)n++;return n}function Xw(e,n,s,o){return(n=Am(e,n,s))<s&&n++,n}function qw(e,n,s,o){let u=-1,v=s;for(;v<o;){const D=e.charCodeAt(v++);if(D==n&&92!==u)return v;u=92==D&&92===u?0:D}throw new Error}function Qb(e,n,s){const o=pn();return Hl(o,Xo(),n)&&Zc(or(),Vi(),o,e,n,o[Xi],s,!1),Qb}function Jb(e,n,s,o,u){const D=u?"class":"style";uh(e,s,n.inputs[D],D,o)}function Zb(e,n,s){return _h(e,n,s,!1),Zb}function e1(e,n){return _h(e,n,null,!0),e1}function mh(e){vh(eE,EI,e,!1)}function EI(e,n){for(let s=function vI(e){return Yw(e),Kw(e,Am(e,0,pc.textEnd))}(n);s>=0;s=Kw(n,s))eE(e,$w(n),mI(n))}function Qw(e){vh(AI,Wh,e,!0)}function Wh(e,n){for(let s=function _I(e){return Yw(e),zw(e,Am(e,0,pc.textEnd))}(n);s>=0;s=zw(n,s))_s(e,$w(n),!0)}function _h(e,n,s,o){const u=pn(),v=or(),D=za(2);v.firstUpdatePass&&Zw(v,e,D,o),n!==zr&&Hl(u,D,n)&&tE(v,v.data[Hn()],u,u[Xi],e,u[D+1]=function MI(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=ni(sh(e)))),e}(n,s),o,D)}function vh(e,n,s,o){const u=or(),v=za(2);u.firstUpdatePass&&Zw(u,null,v,o);const D=pn();if(s!==zr&&Hl(D,v,s)){const k=u.data[Hn()];if(iE(k,o)&&!Jw(u,v)){let H=o?k.classesWithoutHost:k.stylesWithoutHost;null!==H&&(s=gn(H,s||"")),Jb(u,k,D,s,o)}else!function RI(e,n,s,o,u,v,D,k){u===zr&&(u=bi);let H=0,se=0,me=0<u.length?u[0]:null,Re=0<v.length?v[0]:null;for(;null!==me||null!==Re;){const gt=H<u.length?u[H+1]:void 0,At=se<v.length?v[se+1]:void 0;let wn,$t=null;me===Re?(H+=2,se+=2,gt!==At&&($t=Re,wn=At)):null===Re||null!==me&&me<Re?(H+=2,$t=me):(se+=2,$t=Re,wn=At),null!==$t&&tE(e,n,s,o,$t,wn,D,k),me=H<u.length?u[H]:null,Re=se<v.length?v[se]:null}}(u,k,D,D[Xi],D[v+1],D[v+1]=function SI(e,n,s){if(null==s||""===s)return bi;const o=[],u=sh(s);if(Array.isArray(u))for(let v=0;v<u.length;v++)e(o,u[v],!0);else if("object"==typeof u)for(const v in u)u.hasOwnProperty(v)&&e(o,v,u[v]);else"string"==typeof u&&n(o,u);return o}(e,n,s),o,v)}}function Jw(e,n){return n>=e.expandoStartIndex}function Zw(e,n,s,o){const u=e.data;if(null===u[s+1]){const v=u[Hn()],D=Jw(e,s);iE(v,o)&&null===n&&!D&&(n=!1),n=function CI(e,n,s,o){const u=Rc(e);let v=o?n.residualClasses:n.residualStyles;if(null===u)0===(o?n.classBindings:n.styleBindings)&&(s=X_(s=t1(null,e,n,s,o),n.attrs,o),v=null);else{const D=n.directiveStylingLast;if(-1===D||e[D]!==u)if(s=t1(u,e,n,s,o),null===v){let H=function TI(e,n,s){const o=s?n.classBindings:n.styleBindings;if(0!==ug(o))return e[dp(o)]}(e,n,o);void 0!==H&&Array.isArray(H)&&(H=t1(null,e,n,H[1],o),H=X_(H,n.attrs,o),function DI(e,n,s,o){e[dp(s?n.classBindings:n.styleBindings)]=o}(e,n,o,H))}else v=function II(e,n,s){let o;const u=n.directiveEnd;for(let v=1+n.directiveStylingLast;v<u;v++)o=X_(o,e[v].hostAttrs,s);return X_(o,n.attrs,s)}(e,n,o)}return void 0!==v&&(o?n.residualClasses=v:n.residualStyles=v),s}(u,v,n,o),function fI(e,n,s,o,u,v){let D=v?n.classBindings:n.styleBindings,k=dp(D),H=ug(D);e[o]=s;let me,se=!1;if(Array.isArray(s)?(me=s[1],(null===me||wo(s,me)>0)&&(se=!0)):me=s,u)if(0!==H){const gt=dp(e[k+1]);e[o+1]=Hy(gt,k),0!==gt&&(e[gt+1]=Xb(e[gt+1],o)),e[k+1]=function dI(e,n){return 131071&e|n<<17}(e[k+1],o)}else e[o+1]=Hy(k,0),0!==k&&(e[k+1]=Xb(e[k+1],o)),k=o;else e[o+1]=Hy(H,0),0===k?k=o:e[H+1]=Xb(e[H+1],o),H=o;se&&(e[o+1]=Yb(e[o+1])),Ww(e,me,o,!0),Ww(e,me,o,!1),function pI(e,n,s,o,u){const v=u?e.residualClasses:e.residualStyles;null!=v&&"string"==typeof n&&wo(v,n)>=0&&(s[o+1]=qb(s[o+1]))}(n,me,e,o,v),D=Hy(k,H),v?n.classBindings=D:n.styleBindings=D}(u,v,n,s,D,o)}}function t1(e,n,s,o,u){let v=null;const D=s.directiveEnd;let k=s.directiveStylingLast;for(-1===k?k=s.directiveStart:k++;k<D&&(v=n[k],o=X_(o,v.hostAttrs,u),v!==e);)k++;return null!==e&&(s.directiveStylingLast=k),o}function X_(e,n,s){const o=s?1:2;let u=-1;if(null!==n)for(let v=0;v<n.length;v++){const D=n[v];"number"==typeof D?u=D:u===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),_s(e,D,!!s||n[++v]))}return void 0===e?null:e}function eE(e,n,s){_s(e,n,sh(s))}function AI(e,n,s){const o=String(n);""!==o&&!o.includes(" ")&&_s(e,o,s)}function tE(e,n,s,o,u,v,D,k){if(!(3&n.type))return;const H=e.data,se=H[k+1],me=function hI(e){return!(1&~e)}(se)?nE(H,n,s,u,ug(se),D):void 0;Gy(me)||(Gy(v)||function uI(e){return!(2&~e)}(se)&&(v=nE(H,null,s,u,k,D)),function j0(e,n,s,o,u){if(n)u?e.addClass(s,o):e.removeClass(s,o);else{let v=-1===o.indexOf("-")?void 0:$f.DashCase;null==u?e.removeStyle(s,o,v):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),v|=$f.Important),e.setStyle(s,o,u,v))}}(o,D,xl(Hn(),s),u,v))}function nE(e,n,s,o,u,v){const D=null===n;let k;for(;u>0;){const H=e[u],se=Array.isArray(H),me=se?H[1]:H,Re=null===me;let gt=s[u+1];gt===zr&&(gt=Re?bi:void 0);let At=Re?Tl(gt,o):me===o?gt:void 0;if(se&&!Gy(At)&&(At=Tl(H,o)),Gy(At)&&(k=At,D))return k;const $t=e[u+1];u=D?dp($t):ug($t)}if(null!==n){let H=v?n.residualClasses:n.residualStyles;null!=H&&(k=Tl(H,o))}return k}function Gy(e){return void 0!==e}function iE(e,n){return!!(e.flags&(n?8:16))}function rE(e,n,s){vh(_s,Wh,bm(pn(),e,n,s),!0)}function sE(e,n,s,o,u){vh(_s,Wh,wm(pn(),e,n,s,o,u),!0)}class BI{destroy(n){}updateValue(n,s){}swap(n,s){const o=Math.min(n,s),u=Math.max(n,s),v=this.detach(u);if(u-o>1){const D=this.detach(o);this.attach(o,v),this.attach(u,D)}else this.attach(o,v)}move(n,s){this.attach(s,this.detach(n))}}function n1(e,n,s,o,u){return e===s&&Object.is(n,o)?1:Object.is(u(e,n),u(s,o))?-1:0}function i1(e,n,s,o){return!(void 0===n||!n.has(o)||(e.attach(s,n.get(o)),n.delete(o),0))}function oE(e,n,s,o,u){if(i1(e,n,o,s(o,u)))e.updateValue(o,u);else{const v=e.create(o,u);e.attach(o,v)}}function aE(e,n,s,o){const u=new Set;for(let v=n;v<=s;v++)u.add(o(v,e.at(v)));return u}class lE{constructor(){this.kvMap=new Map,this._vMap=void 0}has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const s=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(s)?(this.kvMap.set(n,this._vMap.get(s)),this._vMap.delete(s)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,s){if(this.kvMap.has(n)){let o=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const u=this._vMap;for(;u.has(o);)o=u.get(o);u.set(o,s)}else this.kvMap.set(n,s)}forEach(n){for(let[s,o]of this.kvMap)if(n(o,s),void 0!==this._vMap){const u=this._vMap;for(;u.has(o);)o=u.get(o),n(o,s)}}}function cE(e,n,s){Cd("NgControlFlow");const o=pn(),u=Xo(),v=r1(o,lr+e);if(Hl(o,u,n)){const k=Oe(null);try{if(Lp(v,0),-1!==n){const H=s1(o[_n],lr+n),se=Vh(v,H.tView.ssrId);Vp(v,Fp(o,H,s,{dehydratedView:se}),0,mf(H,se))}}finally{Oe(k)}}else{const k=Xv(v,0);void 0!==k&&(k[Xr]=s)}}class UI{constructor(n,s,o){this.lContainer=n,this.$implicit=s,this.$index=o}get $count(){return this.lContainer.length-go}}function uE(e){return e}function dE(e,n){return n}class HI{constructor(n,s,o){this.hasEmptyBlock=n,this.trackByFn=s,this.liveCollection=o}}function hE(e,n,s,o,u,v,D,k,H,se,me,Re,gt){Cd("NgControlFlow");const At=void 0!==H,$t=pn(),wn=k?D.bind($t[ps][Xr]):D,ti=new HI(At,wn);$t[lr+e]=ti,hm(e+1,n,s,o,u,v),At&&hm(e+2,H,se,me,Re,gt)}class GI extends BI{constructor(n,s,o){super(),this.lContainer=n,this.hostLView=s,this.templateTNode=o,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-go}at(n){return this.getLView(n)[Xr].$implicit}attach(n,s){const o=s[vs];this.needsIndexUpdate||=n!==this.length,Vp(this.lContainer,s,n,mf(this.templateTNode,o))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function WI(e,n){return uf(e,n)}(this.lContainer,n)}create(n,s){const o=Vh(this.lContainer,this.templateTNode.tView.ssrId);return Fp(this.hostLView,this.templateTNode,new UI(this.lContainer,s,n),{dehydratedView:o})}destroy(n){df(n[_n],n)}updateValue(n,s){this.getLView(n)[Xr].$implicit=s}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[Xr].$index=n}getLView(n){return function $I(e,n){return Xv(e,n)}(this.lContainer,n)}}function fE(e){const n=Oe(null),s=Hn();try{const o=pn(),u=o[_n],v=o[s];if(void 0===v.liveCollection){const k=s+1,H=r1(o,k),se=s1(u,k);v.liveCollection=new GI(H,o,se)}else v.liveCollection.reset();const D=v.liveCollection;if(function jI(e,n,s){let o,u,v=0,D=e.length-1;if(Array.isArray(n)){let k=n.length-1;for(;v<=D&&v<=k;){const H=e.at(v),se=n[v],me=n1(v,H,v,se,s);if(0!==me){me<0&&e.updateValue(v,se),v++;continue}const Re=e.at(D),gt=n[k],At=n1(D,Re,k,gt,s);if(0!==At){At<0&&e.updateValue(D,gt),D--,k--;continue}const $t=s(v,H),wn=s(D,Re),ti=s(v,se);if(Object.is(ti,wn)){const pi=s(k,gt);Object.is(pi,$t)?(e.swap(v,D),e.updateValue(D,gt),k--,D--):e.move(D,v),e.updateValue(v,se),v++}else if(o??=new lE,u??=aE(e,v,D,s),i1(e,o,v,ti))e.updateValue(v,se),v++,D++;else if(u.has(ti))o.set($t,e.detach(v)),D--;else{const pi=e.create(v,n[v]);e.attach(v,pi),v++,D++}}for(;v<=k;)oE(e,o,s,v,n[v]),v++}else if(null!=n){const k=n[Symbol.iterator]();let H=k.next();for(;!H.done&&v<=D;){const se=e.at(v),me=H.value,Re=n1(v,se,v,me,s);if(0!==Re)Re<0&&e.updateValue(v,me),v++,H=k.next();else{o??=new lE,u??=aE(e,v,D,s);const gt=s(v,me);if(i1(e,o,v,gt))e.updateValue(v,me),v++,D++,H=k.next();else if(u.has(gt)){const At=s(v,se);o.set(At,e.detach(v)),D--}else e.attach(v,e.create(v,me)),v++,D++,H=k.next()}}for(;!H.done;)oE(e,o,s,e.length,H.value),H=k.next()}for(;v<=D;)e.destroy(e.detach(D--));o?.forEach(k=>{e.destroy(k)})}(D,e,v.trackByFn),D.updateIndexes(),v.hasEmptyBlock){const k=Xo(),H=0===D.length;if(Hl(o,k,H)){const se=s+2,me=r1(o,se);if(H){const Re=s1(u,se),gt=Vh(me,Re.tView.ssrId);Vp(me,Fp(o,Re,void 0,{dehydratedView:gt}),0,mf(Re,gt))}else Lp(me,0)}}}finally{Oe(n)}}function r1(e,n){return e[n]}function s1(e,n){return Tc(e,n)}function Wy(e,n,s,o){const u=pn(),v=or(),D=lr+e,k=u[Xi],H=v.firstCreatePass?function zI(e,n,s,o,u,v){const D=n.consts,H=Mp(n,e,2,o,Pl(D,u));return kp(n,s,H,Pl(D,v)),null!==H.attrs&&wf(H,H.attrs,!1),null!==H.mergedAttrs&&wf(H,H.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,H),H}(D,v,u,n,s,o):v.data[D],se=pE(v,u,H,k,n,e);u[D]=se;const me=rc(H);return oa(H,!0),Uv(k,se,H),!function $_(e){return!(32&~e.flags)}(H)&&no()&&Og(v,u,se,H),0===function bu(){return tr.lFrame.elementDepthCount}()&&Vs(se,u),function wu(){tr.lFrame.elementDepthCount++}(),me&&(a_(v,u,H),o_(v,H,u)),null!==o&&l_(u,H),Wy}function $y(){let e=Wi();ql()?ks():(e=e.parent,oa(e,!1));const n=e;(function oc(e){return tr.skipHydrationRootTNode===e})(n)&&function Ac(){tr.skipHydrationRootTNode=null}(),function ya(){tr.lFrame.elementDepthCount--}();const s=or();return s.firstCreatePass&&(jo(s,e),Al(e)&&s.queries.elementEnd(e)),null!=n.classesWithoutHost&&function Ri(e){return!!(8&e.flags)}(n)&&Jb(s,n,pn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function pr(e){return!!(16&e.flags)}(n)&&Jb(s,n,pn(),n.stylesWithoutHost,!1),$y}function o1(e,n,s,o){return Wy(e,n,s,o),$y(),o1}let pE=(e,n,s,o,u,v)=>(Ns(!0),cf(o,u,function Lo(){return tr.lFrame.currentNamespace}()));function zy(e,n,s){const o=pn(),u=or(),v=e+lr,D=u.firstCreatePass?function XI(e,n,s,o,u){const v=n.consts,D=Pl(v,o),k=Mp(n,e,8,"ng-container",D);return null!==D&&wf(k,D,!0),kp(n,s,k,Pl(v,u)),null!==n.queries&&n.queries.elementStart(n,k),k}(v,u,o,n,s):u.data[v];oa(D,!0);const k=gE(u,o,D,e);return o[v]=k,no()&&Og(u,o,k,D),Vs(k,o),rc(D)&&(a_(u,o,D),o_(u,D,o)),null!=s&&l_(o,D),zy}function Ky(){let e=Wi();const n=or();return ql()?ks():(e=e.parent,oa(e,!1)),n.firstCreatePass&&(jo(n,e),Al(e)&&n.queries.elementEnd(e)),Ky}function a1(e,n,s){return zy(e,n,s),Ky(),a1}let gE=(e,n,s,o)=>(Ns(!0),Jm(n[Xi],""));function mE(){return pn()}function l1(e,n,s){const o=pn();return Hl(o,Xo(),n)&&Zc(or(),Vi(),o,e,n,o[Xi],s,!0),l1}function c1(e,n,s){const o=pn();if(Hl(o,Xo(),n)){const v=or(),D=Vi();Zc(v,D,o,e,n,Hg(Rc(v.data),D,o),s,!0)}return c1}const dg=void 0;var ZI=["en",[["a","p"],["AM","PM"],dg],[["AM","PM"],dg,dg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dg,"{1} 'at' {0}",dg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function JI(e){const s=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let Rm={};function u1(e){const n=function eS(e){return e.toLowerCase().replace(/_/g,"-")}(e);let s=vE(n);if(s)return s;const o=n.split("-")[0];if(s=vE(o),s)return s;if("en"===o)return ZI;throw new Ft(701,!1)}function _E(e){return u1(e)[Mm.PluralCase]}function vE(e){return e in Rm||(Rm[e]=Kn.ng&&Kn.ng.common&&Kn.ng.common.locales&&Kn.ng.common.locales[e]),Rm[e]}var Mm=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Mm||{});const tS=["zero","one","two","few","many"],km="en-US",Yy={marker:"element"},Xy={marker:"ICU"};var rd=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(rd||{});let yE=km;function wE(e,n,s){const o=n.insertBeforeIndex,u=Array.isArray(o)?o[0]:o;return null===u?ah(e,0,s):us(s[u])}function EE(e,n,s,o,u){const v=n.insertBeforeIndex;if(Array.isArray(v)){let D=o,k=null;if(3&n.type||(k=D,D=u),null!==D&&-1===n.componentOffset)for(let H=1;H<v.length;H++)Xf(e,D,s[v[H]],k,!1)}}function CE(e,n){if(e.push(n),e.length>1)for(let s=e.length-2;s>=0;s--){const o=e[s];TE(o)||sS(o,n)&&null===oS(o)&&aS(o,n.index)}}function TE(e){return!(64&e.type)}function sS(e,n){return TE(n)||e.index>n.index}function oS(e){const n=e.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function aS(e,n){const s=e.insertBeforeIndex;Array.isArray(s)?s[0]=n:(Lv(wE,EE),e.insertBeforeIndex=n)}function q_(e,n){const s=e.data[n];return null===s||"string"==typeof s?null:s.hasOwnProperty("currentCaseLViewIndex")?s:s.value}function uS(e,n,s){const o=s_(e,s,64,null,null);return CE(n,o),o}function qy(e,n){const s=n[e.currentCaseLViewIndex];return null===s?s:s<0?~s:s}function DE(e){return e>>>17}function IE(e){return(131070&e)>>>1}let Q_=0,J_=0;let Z_=(e,n,s,o)=>(Ns(!0),function AE(e,n,s){const o=e[Xi];switch(s){case Node.COMMENT_NODE:return Jm(o,n);case Node.TEXT_NODE:return Yf(o,n);case Node.ELEMENT_NODE:return cf(o,n,null)}}(e,s,o));function RE(e,n,s,o){const u=s[Xi];let D,v=null;for(let k=0;k<n.length;k++){const H=n[k];if("string"==typeof H){const se=n[++k];null===s[se]&&(s[se]=Z_(s,se,H,Node.TEXT_NODE))}else if("number"==typeof H)switch(1&H){case 0:const se=DE(H);let me,Re;if(null===v&&(v=se,D=Ng(u,o)),se===v?(me=o,Re=D):(me=null,Re=us(s[se])),null!==Re){const wn=IE(H);Xf(u,Re,s[wn],me,!1);const pi=q_(e,wn);if(null!==pi&&"object"==typeof pi){const xn=qy(pi,s);null!==xn&&RE(e,pi.create[xn],s,s[pi.anchorIdx])}}break;case 1:const At=n[++k],$t=n[++k];jg(u,xl(H>>>1,s),null,null,At,$t,null)}else switch(H){case Xy:const se=n[++k],me=n[++k];null===s[me]&&Vs(s[me]=Z_(s,me,se,Node.COMMENT_NODE),s);break;case Yy:const Re=n[++k],gt=n[++k];null===s[gt]&&Vs(s[gt]=Z_(s,gt,Re,Node.ELEMENT_NODE),s)}}}function ME(e,n,s,o,u){for(let v=0;v<s.length;v++){const D=s[v],k=s[++v];if(D&u){let H="";for(let se=v+1;se<=v+k;se++){const me=s[se];if("string"==typeof me)H+=me;else if("number"==typeof me)if(me<0)H+=Si(n[o-me]);else{const Re=me>>>2;switch(3&me){case 1:const gt=s[++se],At=s[++se],$t=e.data[Re];"string"==typeof $t?jg(n[Xi],n[Re],null,$t,gt,H,At):Zc(e,$t,n,gt,H,n[Xi],At,!1);break;case 0:const wn=n[Re];null!==wn&&kv(n[Xi],wn,H);break;case 2:_S(e,q_(e,Re),n,H);break;case 3:kE(e,q_(e,Re),o,n)}}}}else{const H=s[v+1];if(H>0&&!(3&~H)){const me=q_(e,H>>>2);n[me.currentCaseLViewIndex]<0&&kE(e,me,o,n)}}v+=k}}function kE(e,n,s,o){let u=o[n.currentCaseLViewIndex];if(null!==u){let v=Q_;u<0&&(u=o[n.currentCaseLViewIndex]=~u,v=-1),ME(e,o,n.update[u],s,v)}}function _S(e,n,s,o){const u=function vS(e,n){let s=e.cases.indexOf(n);if(-1===s)switch(e.type){case 1:{const o=function nS(e,n){const s=_E(n)(parseInt(e,10)),o=tS[s];return void 0!==o?o:"other"}(n,function rS(){return yE}());s=e.cases.indexOf(o),-1===s&&"other"!==o&&(s=e.cases.indexOf("other"));break}case 0:s=e.cases.indexOf("other")}return-1===s?null:s}(n,o);if(qy(n,s)!==u&&(NE(e,n,s),s[n.currentCaseLViewIndex]=null===u?null:~u,null!==u)){const D=s[n.anchorIdx];D&&RE(e,n.create[u],s,D)}}function NE(e,n,s){let o=qy(n,s);if(null!==o){const u=n.remove[o];for(let v=0;v<u.length;v++){const D=u[v];if(D>0){const k=xl(D,s);null!==k&&Ap(s[Xi],k)}else NE(e,q_(e,~D),s)}}}function yS(){const e=[];let s,o,n=-1;function v(k,H){n=0;const se=qy(k,H);o=null!==se?k.remove[se]:bi}function D(){if(n<o.length){const k=o[n++];return k>0?s[k]:(e.push(n,o),v(s[_n].data[~k],s),D())}return 0===e.length?null:(o=e.pop(),n=e.pop(),D())}return function u(k,H){for(s=H;e.length;)e.pop();return v(k.value,H),D}}const Qy=/\ufffd(\d+):?\d*\ufffd/gi,wS=/\ufffd(\d+)\ufffd/,xE=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ev="\ufffd",ES=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,CS=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,TS=/\uE500/g;function PE(e,n,s,o,u,v,D){const k=Qf(e,o,1,null);let H=k<<rd.SHIFT,se=ac();n===se&&(se=null),null===se&&(H|=rd.APPEND_EAGERLY),D&&(H|=rd.COMMENT,function F0(e){void 0===Qm&&(Qm=e())}(yS)),u.push(H,null===v?"":v);const me=s_(e,k,D?32:1,null===v?"":v,null);CE(s,me);const Re=me.index;return oa(me,!1),null!==se&&n!==se&&function cS(e,n){let s=e.insertBeforeIndex;null===s?(Lv(wE,EE),s=e.insertBeforeIndex=[null,n]):(Ge(Array.isArray(s),!0,"Expecting array here"),s.push(n))}(se,Re),me}function SS(e,n,s,o,u,v,D,k){const H=k.match(Qy),me=PE(n,s,o,D,u,H?null:k,!1).index;H&&tv(v,k,me,null,0,null),e.push({kind:0,index:me})}function tv(e,n,s,o,u,v){const D=e.length,k=D+1;e.push(null,null);const H=D+2,se=n.split(Qy);let me=0;for(let Re=0;Re<se.length;Re++){const gt=se[Re];if(1&Re){const At=u+parseInt(gt,10);e.push(-1-At),me|=FE(At)}else""!==gt&&e.push(gt)}return e.push(s<<2|(o?1:0)),o&&e.push(o,v),e[D]=me,e[k]=e.length-H,me}function FE(e){return 1<<Math.min(e,31)}function VE(e){let n,v,s="",o=0,u=!1;for(;null!==(n=ES.exec(e));)u?n[0]===`${ev}/*${v}${ev}`&&(o=n.index,u=!1):(s+=e.substring(o,n.index+n[0].length),v=n[1],u=!0);return s+=e.slice(o),s}function LE(e,n,s,o,u,v,D){let k=0;const H={type:v.type,currentCaseLViewIndex:Qf(n,s,1,null),anchorIdx:D,cases:[],create:[],remove:[],update:[]};(function PS(e,n,s){e.push(FE(n.mainBinding),2,-1-n.mainBinding,s<<2|2)})(o,v,D),function lS(e,n,s){const o=e.data[n];null===o?e.data[n]=s:o.value=s}(n,D,H);const se=v.values,me=[];for(let Re=0;Re<se.length;Re++){const gt=se[Re],At=[];for(let wn=0;wn<gt.length;wn++){const ti=gt[wn];if("string"!=typeof ti){const pi=At.push(ti)-1;gt[wn]=`\x3c!--\ufffd${pi}\ufffd--\x3e`}}const $t=[];me.push($t),k=OS($t,n,H,s,o,u,v.cases[Re],gt.join(""),At)|k}k&&function FS(e,n,s){e.push(n,1,s<<2|3)}(o,k,D),e.push({kind:3,index:D,cases:me,currentCaseLViewIndex:H.currentCaseLViewIndex})}function NS(e){const n=[],s=[];let o=1,u=0;const v=d1(e=e.replace(xE,function(D,k,H){return o="select"===H?0:1,u=parseInt(k.slice(1),10),""}));for(let D=0;D<v.length;){let k=v[D++].trim();1===o&&(k=k.replace(/\s*(?:=)?(\w+)\s*/,"$1")),k.length&&n.push(k);const H=d1(v[D++]);n.length>s.length&&s.push(H)}return{type:o,mainBinding:u,cases:n,values:s}}function d1(e){if(!e)return[];let n=0;const s=[],o=[],u=/[{}]/g;let v;for(u.lastIndex=0;v=u.exec(e);){const k=v.index;if("}"==v[0]){if(s.pop(),0==s.length){const H=e.substring(n,k);xE.test(H)?o.push(NS(H)):o.push(H),n=k+1}}else{if(0==s.length){const H=e.substring(n,k);o.push(H),n=k+1}s.push("{")}}const D=e.substring(n);return o.push(D),o}function OS(e,n,s,o,u,v,D,k,H){const se=[],me=[],Re=[];s.cases.push(D),s.create.push(se),s.remove.push(me),s.update.push(Re);const At=Um($r()).getInertBodyElement(k),$t=Tg(At)||At;return $t?BE(e,n,s,o,u,se,me,Re,$t,v,H,0):0}function BE(e,n,s,o,u,v,D,k,H,se,me,Re){let gt=0,At=H.firstChild;for(;At;){const $t=Qf(n,o,1,null);switch(At.nodeType){case Node.ELEMENT_NODE:const wn=At,ti=wn.tagName.toLowerCase();if(bg.hasOwnProperty(ti)){h1(v,Yy,ti,se,$t),n.data[$t]=ti;const Zs=wn.attributes;for(let mc=0;mc<Zs.length;mc++){const sd=Zs.item(mc),Pm=sd.name.toLowerCase();sd.value.match(Qy)?wg.hasOwnProperty(Pm)&&tv(k,sd.value,$t,sd.name,0,$m[Pm]?nf:null):VS(v,$t,sd)}const Jo={kind:1,index:$t,children:[]};e.push(Jo),gt=BE(Jo.children,n,s,o,u,v,D,k,At,$t,me,Re+1)|gt,jE(D,$t,Re)}break;case Node.TEXT_NODE:const pi=At.textContent||"",xn=pi.match(Qy);h1(v,null,xn?"":pi,se,$t),jE(D,$t,Re),xn&&(gt=tv(k,pi,$t,null,0,null)|gt),e.push({kind:0,index:$t});break;case Node.COMMENT_NODE:const Pr=wS.exec(At.textContent||"");if(Pr){const Jo=me[parseInt(Pr[1],10)];h1(v,Xy,"",se,$t),LE(e,n,o,u,se,Jo,$t),xS(D,$t,Re)}}At=At.nextSibling}return gt}function jE(e,n,s){0===s&&e.push(n)}function xS(e,n,s){0===s&&(e.push(~n),e.push(n))}function h1(e,n,s,o,u){null!==n&&e.push(n),e.push(s,u,function dS(e,n,s){return e|n<<17|s<<1}(0,o,u))}function VS(e,n,s){e.push(n<<1|1,s.name,s.value)}function HE(e,n,s=-1){const o=or(),u=pn(),v=lr+e,D=Pl(o.consts,n),k=ac();o.firstCreatePass&&function IS(e,n,s,o,u,v){const D=ac(),k=[],H=[],se=[[]],me=[[]];u=function kS(e,n){if(function MS(e){return-1===e}(n))return VE(e);{const s=e.indexOf(`:${n}${ev}`)+2+n.toString().length,o=e.search(new RegExp(`${ev}\\/\\*\\d+:${n}${ev}`));return VE(e.substring(s,o))}}(u,v);const Re=function DS(e){return e.replace(TS," ")}(u).split(CS);for(let gt=0;gt<Re.length;gt++){let At=Re[gt];if(1&gt){const $t=47===At.charCodeAt(0),wn=At.charCodeAt($t?1:0),ti=lr+Number.parseInt(At.substring($t?2:1));if($t)se.shift(),me.shift(),oa(ac(),!1);else{const pi=uS(e,se[0],ti);se.unshift([]),oa(pi,!0);const xn={kind:2,index:ti,children:[],type:35===wn?0:1};me[0].push(xn),me.unshift(xn.children)}}else{const $t=d1(At);for(let wn=0;wn<$t.length;wn++){let ti=$t[wn];if(1&wn){const pi=ti;if("object"!=typeof pi)throw new Error(`Unable to parse ICU expression in "${u}" message.`);const Pr=PE(e,D,se[0],s,k,"",!0).index;LE(me[0],e,s,H,n,pi,Pr)}else""!==ti&&SS(me[0],e,D,se[0],k,H,s,ti)}}}e.data[o]={create:k,update:H,ast:me[0]}}(o,null===k?0:k.index,u,v,D,s),2===o.type?u[ps][Ln]|=32:u[Ln]|=32;const H=o.data[v],me=B0(o,k===u[Gr]?null:k,u);(function mS(e,n,s,o){const u=e[Xi];for(let v=0;v<n.length;v++){const D=n[v++],se=(D&rd.APPEND_EAGERLY)===rd.APPEND_EAGERLY,me=D>>>rd.SHIFT;let Re=e[me],gt=!1;null===Re&&(Re=e[me]=Z_(e,me,n[v],(D&rd.COMMENT)===rd.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),gt=no()),se&&null!==s&&gt&&Xf(u,s,Re,o,!1)}})(u,H.create,me,k&&8&k.type?u[k.index]:null),cd(!0)}function WE(e,n,s){HE(e,n,s),function GE(){cd(!1)}()}function f1(e){return function hS(e){e&&(Q_|=1<<Math.min(J_,31)),J_++}(Hl(pn(),Xo(),e)),f1}function $E(e){!function fS(e,n,s){if(J_>0){const o=e.data[s];ME(e,n,Array.isArray(o)?o:o.update,mo()-J_-1,Q_)}Q_=0,J_=0}(or(),pn(),e+lr)}function p1(e,n,s,o){const u=pn(),v=or(),D=Wi();return m1(v,u,u[Xi],D,e,n,o),p1}function g1(e,n){const s=Wi(),o=pn(),u=or();return m1(u,o,Hg(Rc(u.data),s,o),s,e,n),g1}function m1(e,n,s,o,u,v,D){const k=rc(o),se=e.firstCreatePass&&Yv(e),me=n[Xr],Re=Bc(n);let gt=!0;if(3&o.type||D){const wn=zo(o,n),ti=D?D(wn):wn,pi=Re.length,xn=D?Zs=>D(us(Zs[o.index])):o.index;let Pr=null;if(!D&&k&&(Pr=function YS(e,n,s,o){const u=e.cleanup;if(null!=u)for(let v=0;v<u.length-1;v+=2){const D=u[v];if(D===s&&u[v+1]===o){const k=n[rs],H=u[v+2];return k.length>H?k[H]:null}"string"==typeof D&&(v+=2)}return null}(e,n,u,o.index)),null!==Pr)(Pr.__ngLastListenerFn__||Pr).__ngNextListenerFn__=v,Pr.__ngLastListenerFn__=v,gt=!1;else{v=KE(o,n,me,v,!1);const Zs=s.listen(ti,u,v);Re.push(v,Zs),se&&se.push(u,xn,pi,pi+1)}}else v=KE(o,n,me,v,!1);const At=o.outputs;let $t;if(gt&&null!==At&&($t=At[u])){const wn=$t.length;if(wn)for(let ti=0;ti<wn;ti+=2){const Jo=n[$t[ti]][$t[ti+1]].subscribe(v),mc=Re.length;Re.push(v,Jo),se&&se.push(u,o.index,mc,-(mc+1))}}}function zE(e,n,s,o){const u=Oe(null);try{return sa(6,n,s),!1!==s(o)}catch(v){return ch(e,v),!1}finally{sa(7,n,s),Oe(u)}}function KE(e,n,s,o,u){return function v(D){if(D===Function)return o;a(e.componentOffset>-1?rl(e.index,n):n);let H=zE(n,s,o,D),se=v.__ngNextListenerFn__;for(;se;)H=zE(n,s,se,D)&&H,se=se.__ngNextListenerFn__;return u&&!1===H&&D.preventDefault(),H}}function YE(e=1){return function on(e){return(tr.lFrame.contextLView=function Dc(e,n){for(;e>0;)n=n[zl],e--;return n}(e,tr.lFrame.contextLView))[Xr]}(e)}function XS(e,n){let s=null;const o=function Ja(e){const n=e.attrs;if(null!=n){const s=n.indexOf(5);if(!(1&s))return n[s+1]}return null}(e);for(let u=0;u<n.length;u++){const v=n[u];if("*"!==v){if(null===o?La(e,v,!0):Il(o,v))return u}else s=u}return s}function XE(e){const n=pn()[ps][Gr];if(!n.projection){const o=n.projection=function bo(e,n){const s=[];for(let o=0;o<e;o++)s.push(n);return s}(e?e.length:1,null),u=o.slice();let v=n.child;for(;null!==v;){const D=e?XS(v,e):0;null!==D&&(u[D]?u[D].projectionNext=v:o[D]=v,u[D]=v),v=v.next}}}function qE(e,n=0,s){const o=pn(),u=or(),v=Mp(u,lr+e,16,null,s||null);null===v.projection&&(v.projection=n),ks(),(!o[vs]||Sc())&&32&~v.flags&&function qf(e,n,s){Vg(n[Xi],0,n,s,n_(e,s,n),Fv(s.parent||n[Gr],s,n))}(u,o,v)}function _1(e,n,s){return Jy(e,"",n,"",s),_1}function Jy(e,n,s,o,u){const v=pn(),D=bm(v,n,s,o);return D!==zr&&Zc(or(),Vi(),v,e,D,v[Xi],u,!1),Jy}function sC(e,n,s,o){!function ph(e,n,s,o){const u=or();if(u.firstCreatePass){const v=Wi();Cy(u,new vy(n,s,o),v.index),function rg(e,n){const s=e.contentQueries||(e.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(e.queries.length-1,n)}(u,e),!(2&~s)&&(u.staticContentQueries=!0)}return wy(u,pn(),s)}(e,n,s,o)}function oC(e,n,s){!function Ey(e,n,s){const o=or();return o.firstCreatePass&&(Cy(o,new vy(e,n,s),-1),!(2&~n)&&(o.staticViewQueries=!0)),wy(o,pn(),n)}(e,n,s)}function aC(e){const n=pn(),s=or(),o=Du();W(o+1);const u=ap(s,o);if(e.dirty&&function au(e){return!(4&~e[Ln])}(n)===!(2&~u.metadata.flags)){if(null===u.matches)e.reset([]);else{const v=P_(n,o);e.reset(v,hc),e.notifyOnChanges()}return!0}return!1}function lC(){return function x_(e,n){return e[Or].queries[n].queryList}(pn(),Du())}function cC(e){return Yl(function _l(){return tr.lFrame.contextLView}(),lr+e)}function yC(e,n=""){const s=pn(),o=or(),u=e+lr,v=o.firstCreatePass?Mp(o,u,1,n,null):o.data[u],D=bC(o,s,v,n,e);s[u]=D,no()&&Og(o,s,D,v),oa(v,!1)}let bC=(e,n,s,o,u)=>(Ns(!0),Yf(n[Xi],o));function v1(e){return Zy("",e,""),v1}function Zy(e,n,s){const o=pn(),u=bm(o,e,n,s);return u!==zr&&Ed(o,Hn(),u),Zy}function y1(e,n,s,o,u){const v=pn(),D=wm(v,e,n,s,o,u);return D!==zr&&Ed(v,Hn(),D),y1}function b1(e,n,s){Ty(n)&&(n=n());const o=pn();return Hl(o,Xo(),n)&&Zc(or(),Vi(),o,e,n,o[Xi],s,!1),b1}function AC(e,n){const s=Ty(e);return s&&e.set(n),s}function w1(e,n){const s=pn(),o=or(),u=Wi();return m1(o,s,s[Xi],u,e,n),w1}function E1(e,n,s,o,u){if(e=vt(e),Array.isArray(e))for(let v=0;v<e.length;v++)E1(e[v],n,s,o,u);else{const v=or(),D=pn(),k=Wi();let H=Ds(e)?e:vt(e.provide);const se=ne(e),me=1048575&k.providerIndexes,Re=k.directiveStart,gt=k.providerIndexes>>20;if(Ds(e)||!e.multi){const At=new Ll(se,u,Rp),$t=T1(H,n,u?me:me+gt,Re);-1===$t?(Zl(Ku(k,D),v,H),C1(v,e,n.length),n.push(H),k.directiveStart++,k.directiveEnd++,u&&(k.providerIndexes+=1048576),s.push(At),D.push(At)):(s[$t]=At,D[$t]=At)}else{const At=T1(H,n,me+gt,Re),$t=T1(H,n,me,me+gt),ti=$t>=0&&s[$t];if(u&&!ti||!u&&!(At>=0&&s[At])){Zl(Ku(k,D),v,H);const pi=function pA(e,n,s,o,u){const v=new Ll(e,s,Rp);return v.multi=[],v.index=n,v.componentProviders=0,RC(v,u,o&&!s),v}(u?fA:hA,s.length,u,o,se);!u&&ti&&(s[$t].providerFactory=pi),C1(v,e,n.length,0),n.push(H),k.directiveStart++,k.directiveEnd++,u&&(k.providerIndexes+=1048576),s.push(pi),D.push(pi)}else C1(v,e,At>-1?At:$t,RC(s[u?$t:At],se,!u&&o));!u&&o&&ti&&s[$t].componentProviders++}}}function C1(e,n,s,o){const u=Ds(n),v=function ra(e){return!!e.useClass}(n);if(u||v){const H=(v?vt(n.useClass):n).prototype.ngOnDestroy;if(H){const se=e.destroyHooks||(e.destroyHooks=[]);if(!u&&n.multi){const me=se.indexOf(s);-1===me?se.push(s,[o,H]):se[me+1].push(o,H)}else se.push(s,H)}}}function RC(e,n,s){return s&&e.componentProviders++,e.multi.push(n)-1}function T1(e,n,s,o){for(let u=s;u<o;u++)if(n[u]===e)return u;return-1}function hA(e,n,s,o){return D1(this.multi,[])}function fA(e,n,s,o){const u=this.multi;let v;if(this.providerFactory){const D=this.providerFactory.componentProviders,k=Au(s,s[_n],this.providerFactory.index,o);v=k.slice(0,D),D1(u,v);for(let H=D;H<k.length;H++)v.push(k[H])}else v=[],D1(u,v);return v}function D1(e,n){for(let s=0;s<e.length;s++)n.push((0,e[s])());return n}function MC(e,n=[]){return s=>{s.providersResolver=(o,u)=>function dA(e,n,s){const o=or();if(o.firstCreatePass){const u=Zr(e);E1(s,o.data,o.blueprint,u,!0),E1(n,o.data,o.blueprint,u,!1)}}(o,u?u(e):e,n)}}let gA=(()=>{class e{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const o=Aa(0,s.type),u=o.length>0?Fb([o],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,u)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=mr({token:e,providedIn:"environment",factory:()=>new e(Ar(Sr))})}}return e})();function kC(e){Cd("NgStandalone"),e.getStandaloneInjector=n=>n.get(gA).getOrCreateStandaloneInjector(e)}function OC(e,n,s){const o=Yo()+e,u=pn();return u[o]===zr?Gh(u,o,s?n.call(s):n()):W_(u,o)}function xC(e,n,s,o){return HC(pn(),Yo(),e,n,s,o)}function PC(e,n,s,o,u){return GC(pn(),Yo(),e,n,s,o,u)}function FC(e,n,s,o,u,v){return WC(pn(),Yo(),e,n,s,o,u,v)}function VC(e,n,s,o,u,v,D){return $C(pn(),Yo(),e,n,s,o,u,v,D)}function LC(e,n,s,o,u,v,D,k){const H=Yo()+e,se=pn(),me=zd(se,H,s,o,u,v);return Hl(se,H+4,D)||me?Gh(se,H+5,k?n.call(k,s,o,u,v,D):n(s,o,u,v,D)):W_(se,H+5)}function BC(e,n,s,o,u,v,D,k,H){const se=Yo()+e,me=pn(),Re=zd(me,se,s,o,u,v);return lg(me,se+4,D,k)||Re?Gh(me,se+6,H?n.call(H,s,o,u,v,D,k):n(s,o,u,v,D,k)):W_(me,se+6)}function jC(e,n,s,o,u,v,D,k,H,se){const me=Yo()+e,Re=pn();let gt=zd(Re,me,s,o,u,v);return Fy(Re,me+4,D,k,H)||gt?Gh(Re,me+7,se?n.call(se,s,o,u,v,D,k,H):n(s,o,u,v,D,k,H)):W_(Re,me+7)}function UC(e,n,s,o){return function zC(e,n,s,o,u,v){let D=n+s,k=!1;for(let H=0;H<u.length;H++)Hl(e,D++,u[H])&&(k=!0);return k?Gh(e,D,o.apply(v,u)):nv(e,D)}(pn(),Yo(),e,n,s,o)}function nv(e,n){const s=e[n];return s===zr?void 0:s}function HC(e,n,s,o,u,v){const D=n+s;return Hl(e,D,u)?Gh(e,D+1,v?o.call(v,u):o(u)):nv(e,D+1)}function GC(e,n,s,o,u,v,D){const k=n+s;return lg(e,k,u,v)?Gh(e,k+2,D?o.call(D,u,v):o(u,v)):nv(e,k+2)}function WC(e,n,s,o,u,v,D,k){const H=n+s;return Fy(e,H,u,v,D)?Gh(e,H+3,k?o.call(k,u,v,D):o(u,v,D)):nv(e,H+3)}function $C(e,n,s,o,u,v,D,k,H){const se=n+s;return zd(e,se,u,v,D,k)?Gh(e,se+4,H?o.call(H,u,v,D,k):o(u,v,D,k)):nv(e,se+4)}function KC(e,n){const s=or();let o;const u=e+lr;s.firstCreatePass?(o=function yA(e,n){if(n)for(let s=n.length-1;s>=0;s--){const o=n[s];if(e===o.name)return o}}(n,s.pipeRegistry),s.data[u]=o,o.onDestroy&&(s.destroyHooks??=[]).push(u,o.onDestroy)):o=s.data[u];const v=o.factory||(o.factory=Dr(o.type)),k=ki(Rp);try{const H=gs(!1),se=v();return gs(H),function ZS(e,n,s,o){s>=e.data.length&&(e.data[s]=null,e.blueprint[s]=null),n[s]=o}(s,pn(),u,se),se}finally{ki(k)}}function YC(e,n,s){const o=e+lr,u=pn(),v=Yl(u,o);return iv(u,o)?HC(u,Yo(),n,v.transform,s,v):v.transform(s)}function XC(e,n,s,o){const u=e+lr,v=pn(),D=Yl(v,u);return iv(v,u)?GC(v,Yo(),n,D.transform,s,o,D):D.transform(s,o)}function qC(e,n,s,o,u){const v=e+lr,D=pn(),k=Yl(D,v);return iv(D,v)?WC(D,Yo(),n,k.transform,s,o,u,k):k.transform(s,o,u)}function QC(e,n,s,o,u,v){const D=e+lr,k=pn(),H=Yl(k,D);return iv(k,D)?$C(k,Yo(),n,H.transform,s,o,u,v,H):H.transform(s,o,u,v)}function iv(e,n){return e[_n].data[n].pure}function JC(e,n){return ue(e,n)}class pT{constructor(n){this.full=n;const s=n.split(".");this.major=s[0],this.minor=s[1],this.patch=s.slice(2).join(".")}}const HA=new pT("17.3.12");let gT=(()=>{class e{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=mr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const bT=new oi(""),wT=new oi("");let k1,pR=(()=>{class e{constructor(s,o,u){this._ngZone=s,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,k1||(function gR(e){k1=e}(u),u.addToWindow(o)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{al.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(s)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,o,u){let v=-1;o&&o>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==v),s()},o)),this._callbacks.push({doneCb:s,timeoutId:v,updateCb:u})}whenStable(s,o,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,o,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,o,u){return[]}static{this.\u0275fac=function(o){return new(o||e)(Ar(al),Ar(ET),Ar(wT))}}static{this.\u0275prov=mr({token:e,factory:e.\u0275fac})}}return e})(),ET=(()=>{class e{constructor(){this._applications=new Map}registerApplication(s,o){this._applications.set(s,o)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,o=!0){return k1?.findTestabilityInTree(this,s,o)??null}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=mr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function N1(e){return!!e&&"function"==typeof e.then}function CT(e){return!!e&&"function"==typeof e.subscribe}const TT=new oi("");let O1=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,o)=>{this.resolve=s,this.reject=o}),this.appInits=Li(TT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const u of this.appInits){const v=u();if(N1(v))s.push(v);else if(CT(v)){const D=new Promise((k,H)=>{v.subscribe({complete:k,error:H})});s.push(D)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{o()}).catch(u=>{this.reject(u)}),0===s.length&&o(),this.initialized=!0}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=mr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const x1=new oi("");let hp=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Li(Dh),this.afterRenderEffectManager=Li(Xp),this.externalTestViews=new Set,this.beforeRender=new en.B,this.afterTick=new en.B,this.componentTypes=[],this.components=[],this.isStable=Li(dm).hasPendingTasks.pipe((0,tn.T)(s=>!s)),this._injector=Li(Sr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,o){const u=s instanceof Yg;if(!this._injector.get(O1).done)throw!u&&co(s),new Ft(405,!1);let D;D=u?s:this._injector.get(Lh).resolveComponentFactory(s),this.componentTypes.push(D.componentType);const k=function mR(e){return e.isBoundToModule}(D)?void 0:this._injector.get(ag),se=D.create(ys.NULL,[],o||D.selector,k),me=se.location.nativeElement,Re=se.injector.get(bT,null);return Re?.registerApplication(me),se.onDestroy(()=>{this.detachView(se.hostView),r0(this.components,se),Re?.unregisterApplication(me)}),this._loadComponent(se),se}tick(){this._tick(!0)}_tick(s){if(this._runningTick)throw new Ft(101,!1);const o=Oe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(s)}catch(u){this.internalErrorHandler(u)}finally{this.afterTick.next(),this._runningTick=!1,Oe(o)}}detectChangesInAttachedViews(s){let o=0;const u=this.afterRenderEffectManager;for(;;){if(o===m_)throw new Ft(103,!1);if(s){const v=0===o;this.beforeRender.next(v);for(let{_lView:D,notifyErrorHandler:k}of this._views)vR(D,v,k)}if(o++,u.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:v})=>P1(v))&&(u.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:v})=>P1(v))))break}}attachView(s){const o=s;this._views.push(o),o.attachToAppRef(this)}detachView(s){const o=s;r0(this._views,o),o.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const o=this._injector.get(x1,[]);[...this._bootstrapListeners,...o].forEach(u=>u(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>r0(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ft(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=mr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function r0(e,n){const s=e.indexOf(n);s>-1&&e.splice(s,1)}function vR(e,n,s){!n&&!P1(e)||function yR(e,n,s){let o;s?(o=0,e[Ln]|=1024):o=64&e[Ln]?0:1,Gg(e,n,o)}(e,s,n)}function P1(e){return Fl(e)}class bR{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let wR=(()=>{class e{compileModuleSync(s){return new Pb(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const o=this.compileModuleSync(s),v=Vc(Bs(s).declarations).reduce((D,k)=>{const H=Ji(k);return H&&D.push(new Ef(H)),D},[]);return new bR(o,v)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=mr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),TR=(()=>{class e{constructor(){this.zone=Li(al),this.applicationRef=Li(hp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=mr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function RT(e){return[{provide:al,useFactory:e},{provide:Js,multi:!0,useFactory:()=>{const n=Li(TR,{optional:!0});return()=>n.initialize()}},{provide:Js,multi:!0,useFactory:()=>{const n=Li(SR);return()=>{n.initialize()}}},{provide:Dh,useFactory:DR}]}function DR(){const e=Li(al),n=Li(uc);return s=>e.runOutsideAngular(()=>n.handleError(s))}function IR(e){return to([[],RT(()=>new al(function MT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}(e)))])}let SR=(()=>{class e{constructor(){this.subscription=new cn.yU,this.initialized=!1,this.zone=Li(al),this.pendingTasks=Li(dm)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{al.assertNotInAngularZone(),queueMicrotask(()=>{null!==s&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{al.assertInAngularZone(),s??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=mr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const o0=new oi("",{providedIn:"root",factory:()=>Li(o0,Qi.Optional|Qi.SkipSelf)||function AR(){return typeof $localize<"u"&&$localize.locale||km}()}),RR=new oi("",{providedIn:"root",factory:()=>"USD"}),F1=new oi("");let fp=null;function xR(){return!1}let FT=(()=>{class e{static{this.__NG_ELEMENT_ID__=PR}}return e})();function PR(e){return function FR(e,n,s){if(fl(e)&&!s){const o=rl(e.index,n);return new f(o,o)}return 47&e.type?new f(n[ps],n):null}(Wi(),pn(),!(16&~e))}class jT{constructor(){}supports(n){return Py(n)}create(n){return new UR(n)}}const jR=(e,n)=>n;class UR{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||jR}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,o=this._removalsHead,u=0,v=null;for(;s||o;){const D=!o||s&&s.currentIndex<HT(o,u,v)?s:o,k=HT(D,u,v),H=D.currentIndex;if(D===o)u--,o=o._nextRemoved;else if(s=s._next,null==D.previousIndex)u++;else{v||(v=[]);const se=k-u,me=H-u;if(se!=me){for(let gt=0;gt<se;gt++){const At=gt<v.length?v[gt]:v[gt]=0,$t=At+gt;me<=$t&&$t<se&&(v[gt]=At+1)}v[D.previousIndex]=me-se}}k!==H&&n(D,k,H)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!Py(n))throw new Ft(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,v,D,s=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let k=0;k<this.length;k++)v=n[k],D=this._trackByFn(k,v),null!==s&&Object.is(s.trackById,D)?(o&&(s=this._verifyReinsertion(s,v,D,k)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,D,k),o=!0),s=s._next}else u=0,function SD(e,n){if(Array.isArray(e))for(let s=0;s<e.length;s++)n(e[s]);else{const s=e[Symbol.iterator]();let o;for(;!(o=s.next()).done;)n(o.value)}}(n,k=>{D=this._trackByFn(u,k),null!==s&&Object.is(s.trackById,D)?(o&&(s=this._verifyReinsertion(s,k,D,u)),Object.is(s.item,k)||this._addIdentityChange(s,k)):(s=this._mismatch(s,k,D,u),o=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,o,u){let v;return null===n?v=this._itTail:(v=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,v,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,u))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,v,u)):n=this._addAfter(new HR(s,o),v,u),n}_verifyReinsertion(n,s,o,u){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==v?n=this._reinsertAfter(v,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,v=n._nextRemoved;return null===u?this._removalsHead=v:u._nextRemoved=v,null===v?this._removalsTail=u:v._prevRemoved=u,this._insertAfter(n,s,o),this._addToMoves(n,o),n}_moveAfter(n,s,o){return this._unlink(n),this._insertAfter(n,s,o),this._addToMoves(n,o),n}_addAfter(n,s,o){return this._insertAfter(n,s,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,o){const u=null===s?this._itHead:s._next;return n._next=u,n._prev=s,null===u?this._itTail=n:u._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new UT),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,o=n._next;return null===s?this._itHead=o:s._next=o,null===o?this._itTail=s:o._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UT),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class HR{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class GR{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===s||s<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const s=n._prevDup,o=n._nextDup;return null===s?this._head=o:s._nextDup=o,null===o?this._tail=s:o._prevDup=s,null===this._head}}class UT{constructor(){this.map=new Map}put(n){const s=n.trackById;let o=this.map.get(s);o||(o=new GR,this.map.set(s,o)),o.add(n)}get(n,s){const u=this.map.get(n);return u?u.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HT(e,n,s){const o=e.previousIndex;if(null===o)return o;let u=0;return s&&o<s.length&&(u=s[o]),o+n+u}class GT{constructor(){}supports(n){return n instanceof Map||Vb(n)}create(){return new WR}}class WR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Vb(n)))throw new Ft(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,o),this._appendAfter=s,s=s._next;else{const v=this._getOrCreateRecordForKey(u,o);s=this._insertBeforeOrAppend(s,v)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let o=s;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const o=n._prev;return s._next=n,s._prev=o,n._prev=s,o&&(o._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,s);const v=u._prev,D=u._next;return v&&(v._next=D),D&&(D._prev=v),u._next=null,u._prev=null,u}const o=new $R(n);return this._records.set(n,o),o.currentValue=s,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(o=>s(n[o],o))}}class $R{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function WT(){return new H1([new jT])}let H1=(()=>{class e{static{this.\u0275prov=mr({token:e,providedIn:"root",factory:WT})}constructor(s){this.factories=s}static create(s,o){if(null!=o){const u=o.factories.slice();s=s.concat(u)}return new e(s)}static extend(s){return{provide:e,useFactory:o=>e.create(s,o||WT()),deps:[[e,new Br,new hs]]}}find(s){const o=this.factories.find(u=>u.supports(s));if(null!=o)return o;throw new Ft(901,!1)}}return e})();function $T(){return new G1([new GT])}let G1=(()=>{class e{static{this.\u0275prov=mr({token:e,providedIn:"root",factory:$T})}constructor(s){this.factories=s}static create(s,o){if(o){const u=o.factories.slice();s=s.concat(u)}return new e(s)}static extend(s){return{provide:e,useFactory:o=>e.create(s,o||$T()),deps:[[e,new Br,new hs]]}}find(s){const o=this.factories.find(u=>u.supports(s));if(o)return o;throw new Ft(901,!1)}}return e})();function lM(e){try{const{rootComponent:n,appProviders:s,platformProviders:o}=e,u=function OR(e=[]){if(fp)return fp;const n=function OT(e=[],n){return ys.create({name:n,providers:[{provide:tl,useValue:"platform"},{provide:F1,useValue:new Set([()=>fp=null])},...e]})}(e);return fp=n,function DT(){!function Zn(e){ai=e}(()=>{throw new Ft(600,!1)})}(),function xT(e){e.get(Ul,null)?.forEach(s=>s())}(n),n}(o),v=[IR(),...s||[]],k=new dw({providers:v,parent:u,debugName:"",runEnvironmentInitializers:!1}).injector,H=k.get(al);return H.run(()=>{k.resolveInjectorInitializers();const se=k.get(uc,null);let me;H.runOutsideAngular(()=>{me=H.onError.subscribe({next:At=>{se.handleError(At)}})});const Re=()=>k.destroy(),gt=u.get(F1);return gt.add(Re),k.onDestroy(()=>{me.unsubscribe(),gt.delete(Re)}),function IT(e,n,s){try{const o=s();return N1(o)?o.catch(u=>{throw n.runOutsideAngular(()=>e.handleError(u)),u}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(se,H,()=>{const At=k.get(O1);return At.runInitializers(),At.donePromise.then(()=>{!function bE(e){"string"==typeof e&&(yE=e.toLowerCase().replace(/_/g,"-"))}(k.get(o0,km)||km);const wn=k.get(hp);return void 0!==n&&wn.bootstrap(n),wn})})})}catch(n){return Promise.reject(n)}}function CM(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function TM(e,n=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?n:Number(e)}function IM(e){const n=Oe(null);try{return e()}finally{Oe(n)}}const SM=new oi("",{providedIn:"root",factory:()=>Li(AM)});let AM=(()=>{class e{static{this.\u0275prov=mr({token:e,providedIn:"root",factory:()=>new RM})}}return e})();class RM{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Li(dm),this.taskId=null}scheduleEffect(n){if(this.enqueue(n),null===this.taskId){const s=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(s),this.taskId=null})}}enqueue(n){const s=n.creationZone;this.queues.has(s)||this.queues.set(s,new Set);const o=this.queues.get(s);o.has(n)||(this.queuedEffectCount++,o.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,s]of this.queues)null===n?this.flushQueue(s):n.run(()=>this.flushQueue(s))}flushQueue(n){for(const s of n)n.delete(s),this.queuedEffectCount--,s.run()}}class MM{constructor(n,s,o,u,v,D){this.scheduler=n,this.effectFn=s,this.creationZone=o,this.injector=v,this.watcher=function ot(e,n,s){const o=Object.create(ei);s&&(o.consumerAllowSignalWrites=!0),o.fn=e,o.schedule=n;const u=H=>{o.cleanupFn=H};return o.ref={notify:()=>Wt(o),run:()=>{if(null===o.fn)return;if(function et(){return le}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(o.dirty=!1,o.hasRun&&!Mn(o))return;o.hasRun=!0;const H=je(o);try{o.cleanupFn(),o.cleanupFn=On,o.fn(u)}finally{Cn(o,H)}},cleanup:()=>o.cleanupFn(),destroy:()=>function D(H){(function v(H){return null===H.fn&&null===H.schedule})(H)||(jt(H),H.cleanupFn(),H.fn=null,H.schedule=null,H.cleanupFn=On)}(o),[Ye]:o},o.ref}(k=>this.runEffect(k),()=>this.schedule(),D),this.unregisterOnDestroy=u?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(s){this.injector.get(uc,null,{optional:!0})?.handleError(s)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function fD(e,n){Cd("NgSignals"),!n?.injector&&di();const s=n?.injector??Li(ys),o=!0!==n?.manualCleanup?s.get(Jc):null,u=new MM(s.get(SM),e,typeof Zone>"u"?null:Zone.current,o,s,n?.allowSignalWrites??!1),v=s.get(FT,null,{optional:!0});return v&&8&v._lView[Ln]?(v._lView[Jr]??=[]).push(u.watcher.notify):u.watcher.notify(),u}function kM(e,n){const s=Ji(e),o=n.elementInjector||Is();return new Ef(s).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function NM(e){const n=Ji(e);if(!n)return null;const s=new Ef(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1152:(un,nt,B)=>{"use strict";B.d(nt,{$z:()=>Tn,AU:()=>qt,CP:()=>jt,DS:()=>Se,UB:()=>Mt,X8:()=>Le,ZP:()=>ge,gF:()=>He,yy:()=>wt}),B(7955);var l=B(177),_e=B(4438),le=B(1825),Te=B(9253),Ye=B(1413),Oe=B(7673),Xe=B(1985),et=B(8455),Ne=B(7786),Fe=B(941),st=B(5558),It=B(6354),Rt=B(4668),Bt=B(1594),fn=B(7083),Wt=B(6745),je=B(5964),Cn=B(7935);const jt=new _e.nKC("angularfire2.auth.use-emulator"),wt=new _e.nKC("angularfire2.auth.settings"),ge=new _e.nKC("angularfire2.auth.tenant-id"),Tn=new _e.nKC("angularfire2.auth.langugage-code"),qt=new _e.nKC("angularfire2.auth.use-device-language"),Mt=new _e.nKC("angularfire.auth.persistence"),He=(Qt,Rn,Xn,ai,$n,Zn,En,ri)=>(0,Te.BM)(`${Qt.name}.auth`,"AngularFireAuth",Qt.name,()=>{const mt=Rn.runOutsideAngular(()=>Qt.auth());if(Xn&&mt.useEmulator(...Xn),ai&&(mt.tenantId=ai),mt.languageCode=$n,Zn&&mt.useDeviceLanguage(),En)for(const[Be,Ze]of Object.entries(En))mt.settings[Be]=Ze;return ri&&mt.setPersistence(ri),mt},[Xn,ai,$n,Zn,En,ri]);let Se=(()=>{class Qt{authState;idToken;user;idTokenResult;credential;constructor(Xn,ai,$n,Zn,En,ri,mt,Be,Ze,Ie,Ke,it){const ot=new Ye.B,On=(0,Oe.of)(void 0).pipe((0,Fe.Q)(En.outsideAngular),(0,st.n)(()=>Zn.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,7955)))),(0,It.T)(()=>(0,Te.iB)(Xn,Zn,ai)),(0,It.T)(ei=>He(ei,Zn,ri,Be,Ze,Ie,mt,Ke)),(0,Rt.t)({bufferSize:1,refCount:!1}));if((0,l.Vy)($n))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Oe.of)(null);else{On.pipe((0,Bt.$)()).subscribe();const ei=On.pipe((0,st.n)(cn=>cn.getRedirectResult().then(hi=>hi,()=>null)),le.U0,(0,Rt.t)({bufferSize:1,refCount:!1})),Vn=On.pipe((0,st.n)(cn=>new Xe.c(hi=>({unsubscribe:Zn.runOutsideAngular(()=>cn.onAuthStateChanged(tn=>hi.next(tn),tn=>hi.error(tn),()=>hi.complete()))})))),en=On.pipe((0,st.n)(cn=>new Xe.c(hi=>({unsubscribe:Zn.runOutsideAngular(()=>cn.onIdTokenChanged(tn=>hi.next(tn),tn=>hi.error(tn),()=>hi.complete()))}))));this.authState=ei.pipe((0,fn.K)(Vn),(0,Wt._)(En.outsideAngular),(0,Fe.Q)(En.insideAngular)),this.user=ei.pipe((0,fn.K)(en),(0,Wt._)(En.outsideAngular),(0,Fe.Q)(En.insideAngular)),this.idToken=this.user.pipe((0,st.n)(cn=>cn?(0,et.H)(cn.getIdToken()):(0,Oe.of)(null))),this.idTokenResult=this.user.pipe((0,st.n)(cn=>cn?(0,et.H)(cn.getIdTokenResult()):(0,Oe.of)(null))),this.credential=(0,Ne.h)(ei,ot,this.authState.pipe((0,je.p)(cn=>!cn))).pipe((0,It.T)(cn=>cn?.user?cn:null),(0,Wt._)(En.outsideAngular),(0,Fe.Q)(En.insideAngular))}return(0,Te.Gt)(this,On,Zn,{spy:{apply:(ei,Vn,en)=>{(ei.startsWith("signIn")||ei.startsWith("createUser"))&&en.then(cn=>ot.next(cn))}}})}static \u0275fac=function(ai){return new(ai||Qt)(_e.KVO(Te.rx),_e.KVO(Te.uP,8),_e.KVO(_e.Agw),_e.KVO(_e.SKi),_e.KVO(le.u0),_e.KVO(jt,8),_e.KVO(wt,8),_e.KVO(ge,8),_e.KVO(Tn,8),_e.KVO(qt,8),_e.KVO(Mt,8),_e.KVO(le.Jv,8))};static \u0275prov=_e.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"any"})}return Qt})(),Le=(()=>{class Qt{constructor(){Cn.A.registerVersion("angularfire",le.xv.full,"auth-compat")}static \u0275fac=function(ai){return new(ai||Qt)};static \u0275mod=_e.$C({type:Qt});static \u0275inj=_e.G2t({providers:[Se]})}return Qt})()},8607:(un,nt,B)=>{"use strict";B.d(nt,{wd:()=>hn});var i=B(4438),l=B(1825),_e=B(9253),le=B(1152),Te=B(6354),Ye=B(7647),Oe=B(1943),Xe=B(3993),et=B(9974),Ne=B(4360),st=B(5558),It=B(3294),Rt=B(3236),Bt=B(1985),fn=B(7786),Wt=B(7673),Cn=(B(7955),B(3345)),Mn=B(1362),jt=B(467),wt=B(7852),ge=B(1076),Tn=B(8041);const qt="@firebase/database";let He="";function Se(g){He=g}class Le{constructor(d){this.domStorage_=d,this.prefix_="firebase:"}set(d,h){null==h?this.domStorage_.removeItem(this.prefixedName_(d)):this.domStorage_.setItem(this.prefixedName_(d),(0,ge.As)(h))}get(d){const h=this.domStorage_.getItem(this.prefixedName_(d));return null==h?null:(0,ge.$L)(h)}remove(d){this.domStorage_.removeItem(this.prefixedName_(d))}prefixedName_(d){return this.prefix_+d}toString(){return this.domStorage_.toString()}}class Qt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(d,h){null==h?delete this.cache_[d]:this.cache_[d]=h}get(d){return(0,ge.gR)(this.cache_,d)?this.cache_[d]:null}remove(d){delete this.cache_[d]}}const Rn=function(g){try{if(typeof window<"u"&&typeof window[g]<"u"){const d=window[g];return d.setItem("firebase:sentinel","cache"),d.removeItem("firebase:sentinel"),new Le(d)}}catch{}return new Qt},Xn=Rn("localStorage"),ai=Rn("sessionStorage"),$n=new Tn.Vy("@firebase/database"),Zn=function(){let g=1;return function(){return g++}}(),En=function(g){const d=(0,ge.kj)(g),h=new ge.gz;h.update(d);const C=h.digest();return ge.K3.encodeByteArray(C)},ri=function(...g){let d="";for(let h=0;h<g.length;h++){const C=g[h];Array.isArray(C)||C&&"object"==typeof C&&"number"==typeof C.length?d+=ri.apply(null,C):d+="object"==typeof C?(0,ge.As)(C):C,d+=" "}return d};let mt=null,Be=!0;const Ze=function(g,d){(0,ge.vA)(!d||!0===g||!1===g,"Can't turn on custom loggers persistently."),!0===g?($n.logLevel=Tn.$b.VERBOSE,mt=$n.log.bind($n),d&&ai.set("logging_enabled",!0)):"function"==typeof g?mt=g:(mt=null,ai.remove("logging_enabled"))},Ie=function(...g){if(!0===Be&&(Be=!1,null===mt&&!0===ai.get("logging_enabled")&&Ze(!0)),mt){const d=ri.apply(null,g);mt(d)}},Ke=function(g){return function(...d){Ie(g,...d)}},it=function(...g){const d="FIREBASE INTERNAL ERROR: "+ri(...g);$n.error(d)},ot=function(...g){const d=`FIREBASE FATAL ERROR: ${ri(...g)}`;throw $n.error(d),new Error(d)},On=function(...g){const d="FIREBASE WARNING: "+ri(...g);$n.warn(d)},Vn=function(g){return"number"==typeof g&&(g!=g||g===Number.POSITIVE_INFINITY||g===Number.NEGATIVE_INFINITY)},cn="[MIN_NAME]",hi="[MAX_NAME]",tn=function(g,d){if(g===d)return 0;if(g===cn||d===hi)return-1;if(d===cn||g===hi)return 1;{const h=Ki(g),C=Ki(d);return null!==h?null!==C?h-C==0?g.length-d.length:h-C:-1:null!==C?1:g<d?-1:1}},bt=function(g,d){return g===d?0:g<d?-1:1},xe=function(g,d){if(d&&g in d)return d[g];throw new Error("Missing required key ("+g+") in object: "+(0,ge.As)(d))},Ft=function(g){if("object"!=typeof g||null===g)return(0,ge.As)(g);const d=[];for(const C in g)d.push(C);d.sort();let h="{";for(let C=0;C<d.length;C++)0!==C&&(h+=","),h+=(0,ge.As)(d[C]),h+=":",h+=Ft(g[d[C]]);return h+="}",h},ie=function(g,d){const h=g.length;if(h<=d)return[g];const C=[];for(let N=0;N<h;N+=d)C.push(g.substring(N,N+d>h?h:N+d));return C};function Qe(g,d){for(const h in g)g.hasOwnProperty(h)&&d(h,g[h])}const Ve=function(g){(0,ge.vA)(!Vn(g),"Invalid JSON number");const C=1023;let N,z,ee,be,Pe;0===g?(z=0,ee=0,N=1/g==-1/0?1:0):(N=g<0,(g=Math.abs(g))>=Math.pow(2,1-C)?(be=Math.min(Math.floor(Math.log(g)/Math.LN2),C),z=be+C,ee=Math.round(g*Math.pow(2,52-be)-Math.pow(2,52))):(z=0,ee=Math.round(g/Math.pow(2,-1074))));const qe=[];for(Pe=52;Pe;Pe-=1)qe.push(ee%2?1:0),ee=Math.floor(ee/2);for(Pe=11;Pe;Pe-=1)qe.push(z%2?1:0),z=Math.floor(z/2);qe.push(N?1:0),qe.reverse();const Ut=qe.join("");let Xt="";for(Pe=0;Pe<64;Pe+=8){let dn=parseInt(Ut.substr(Pe,8),2).toString(16);1===dn.length&&(dn="0"+dn),Xt+=dn}return Xt.toLowerCase()},Dn=new RegExp("^-?(0*)\\d{1,10}$"),Ki=function(g){if(Dn.test(g)){const d=Number(g);if(d>=-2147483648&&d<=2147483647)return d}return null},Fi=function(g){try{g()}catch(d){setTimeout(()=>{throw On("Exception was thrown by user callback.",d.stack||""),d},Math.floor(0))}},nr=function(g,d){const h=setTimeout(g,d);return"number"==typeof h&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(h):"object"==typeof h&&h.unref&&h.unref(),h};class os{constructor(d,h){this.appName_=d,this.appCheckProvider=h,this.appCheck=h?.getImmediate({optional:!0}),this.appCheck||h?.get().then(C=>this.appCheck=C)}getToken(d){return this.appCheck?this.appCheck.getToken(d):new Promise((h,C)=>{setTimeout(()=>{this.appCheck?this.getToken(d).then(h,C):h(null)},0)})}addTokenChangeListener(d){var h;null===(h=this.appCheckProvider)||void 0===h||h.get().then(C=>C.addTokenListener(d))}notifyForInvalidToken(){On(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Kn{constructor(d,h,C){this.appName_=d,this.firebaseOptions_=h,this.authProvider_=C,this.auth_=null,this.auth_=C.getImmediate({optional:!0}),this.auth_||C.onInit(N=>this.auth_=N)}getToken(d){return this.auth_?this.auth_.getToken(d).catch(h=>h&&"auth/token-not-initialized"===h.code?(Ie("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(h)):new Promise((h,C)=>{setTimeout(()=>{this.auth_?this.getToken(d).then(h,C):h(null)},0)})}addTokenChangeListener(d){this.auth_?this.auth_.addAuthTokenListener(d):this.authProvider_.get().then(h=>h.addAuthTokenListener(d))}removeTokenChangeListener(d){this.authProvider_.get().then(h=>h.removeAuthTokenListener(d))}notifyForInvalidToken(){let d='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';d+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',On(d)}}let Pn=(()=>{class g{constructor(h){this.accessToken=h}getToken(h){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(h){h(this.accessToken)}removeTokenChangeListener(h){}notifyForInvalidToken(){}}return g.OWNER="owner",g})();const Fr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Tt="websocket",$e="long_polling";class ht{constructor(d,h,C,N,z=!1,ee="",be=!1,Pe=!1){this.secure=h,this.namespace=C,this.webSocketOnly=N,this.nodeAdmin=z,this.persistenceKey=ee,this.includeNamespaceInQueryParams=be,this.isUsingEmulator=Pe,this._host=d.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xn.get("host:"+d)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(d){d!==this.internalHost&&(this.internalHost=d,this.isCacheableHost()&&Xn.set("host:"+this._host,this.internalHost))}toString(){let d=this.toURLString();return this.persistenceKey&&(d+="<"+this.persistenceKey+">"),d}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Un(g,d,h){let C;if((0,ge.vA)("string"==typeof d,"typeof type must == string"),(0,ge.vA)("object"==typeof h,"typeof params must == object"),d===Tt)C=(g.secure?"wss://":"ws://")+g.internalHost+"/.ws?";else{if(d!==$e)throw new Error("Unknown connection type: "+d);C=(g.secure?"https://":"http://")+g.internalHost+"/.lp?"}(function yn(g){return g.host!==g.internalHost||g.isCustomHost()||g.includeNamespaceInQueryParams})(g)&&(h.ns=g.namespace);const N=[];return Qe(h,(z,ee)=>{N.push(z+"="+ee)}),C+N.join("&")}class Ge{constructor(){this.counters_={}}incrementCounter(d,h=1){(0,ge.gR)(this.counters_,d)||(this.counters_[d]=0),this.counters_[d]+=h}get(){return(0,ge.A4)(this.counters_)}}const ze={},ut={};function zt(g){const d=g.toString();return ze[d]||(ze[d]=new Ge),ze[d]}class kn{constructor(d){this.onMessage_=d,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(d,h){this.closeAfterResponse=d,this.onClose=h,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(d,h){for(this.pendingResponses[d]=h;this.pendingResponses[this.currentResponseNum];){const C=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let N=0;N<C.length;++N)C[N]&&Fi(()=>{this.onMessage_(C[N])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Zt{constructor(d,h,C,N,z,ee,be){this.connId=d,this.repoInfo=h,this.applicationId=C,this.appCheckToken=N,this.authToken=z,this.transportSessionId=ee,this.lastSessionId=be,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ke(d),this.stats_=zt(h),this.urlFn=Pe=>(this.appCheckToken&&(Pe.ac=this.appCheckToken),Un(h,$e,Pe))}open(d,h){this.curSegmentNum=0,this.onDisconnect_=h,this.myPacketOrderer=new kn(d),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(g){if((0,ge.$g)()||"complete"===document.readyState)g();else{let d=!1;const h=function(){document.body?d||(d=!0,g()):setTimeout(h,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",h,!1),window.addEventListener("load",h,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&h()}),window.attachEvent("onload",h))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qn((...z)=>{const[ee,be,Pe,qe,Ut]=z;if(this.incrementIncomingBytes_(z),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===ee)this.id=be,this.password=Pe;else{if("close"!==ee)throw new Error("Unrecognized command received: "+ee);be?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(be,()=>{this.onClosed_()})):this.onClosed_()}},(...z)=>{const[ee,be]=z;this.incrementIncomingBytes_(z),this.myPacketOrderer.handleResponse(ee,be)},()=>{this.onClosed_()},this.urlFn);const C={start:"t"};C.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(C.cb=this.scriptTagHolder.uniqueCallbackIdentifier),C.v="5",this.transportSessionId&&(C.s=this.transportSessionId),this.lastSessionId&&(C.ls=this.lastSessionId),this.applicationId&&(C.p=this.applicationId),this.appCheckToken&&(C.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Fr.test(location.hostname)&&(C.r="f");const N=this.urlFn(C);this.log_("Connecting via long-poll to "+N),this.scriptTagHolder.addTag(N,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zt.forceAllow_=!0}static forceDisallow(){Zt.forceDisallow_=!0}static isAvailable(){return!((0,ge.$g)()||!Zt.forceAllow_&&(Zt.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(d){const h=(0,ge.As)(d);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);const C=(0,ge.KA)(h),N=ie(C,1840);for(let z=0;z<N.length;z++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,N.length,N[z]),this.curSegmentNum++}addDisconnectPingFrame(d,h){if((0,ge.$g)())return;this.myDisconnFrame=document.createElement("iframe");const C={dframe:"t"};C.id=d,C.pw=h,this.myDisconnFrame.src=this.urlFn(C),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(d){const h=(0,ge.As)(d).length;this.bytesReceived+=h,this.stats_.incrementCounter("bytes_received",h)}}class qn{constructor(d,h,C,N){if(this.onDisconnect=C,this.urlFn=N,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ge.$g)())this.commandCB=d,this.onMessageCB=h;else{this.uniqueCallbackIdentifier=Zn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=d,window["pRTLPCB"+this.uniqueCallbackIdentifier]=h,this.myIFrame=qn.createIFrame_();let z="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(z='<script>document.domain="'+document.domain+'";<\/script>');const ee="<html><body>"+z+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(ee),this.myIFrame.doc.close()}catch(be){Ie("frame writing exception"),be.stack&&Ie(be.stack),Ie(be)}}}static createIFrame_(){const d=document.createElement("iframe");if(d.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(d);try{d.contentWindow.document||Ie("No IE domain setting required")}catch{const C=document.domain;d.src="javascript:void((function(){document.open();document.domain='"+C+"';document.close();})())"}return d.contentDocument?d.doc=d.contentDocument:d.contentWindow?d.doc=d.contentWindow.document:d.document&&(d.doc=d.document),d}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const d=this.onDisconnect;d&&(this.onDisconnect=null,d())}startLongPoll(d,h){for(this.myID=d,this.myPW=h,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const d={};d.id=this.myID,d.pw=this.myPW,d.ser=this.currentSerial;let h=this.urlFn(d),C="",N=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+C.length<=1870;){const ee=this.pendingSegs.shift();C=C+"&seg"+N+"="+ee.seg+"&ts"+N+"="+ee.ts+"&d"+N+"="+ee.d,N++}return h+=C,this.addLongPollTag_(h,this.currentSerial),!0}return!1}enqueueSegment(d,h,C){this.pendingSegs.push({seg:d,ts:h,d:C}),this.alive&&this.newRequest_()}addLongPollTag_(d,h){this.outstandingRequests.add(h);const C=()=>{this.outstandingRequests.delete(h),this.newRequest_()},N=setTimeout(C,Math.floor(25e3));this.addTag(d,()=>{clearTimeout(N),C()})}addTag(d,h){(0,ge.$g)()?this.doNodeLongPoll(d,h):setTimeout(()=>{try{if(!this.sendNewPolls)return;const C=this.myIFrame.doc.createElement("script");C.type="text/javascript",C.async=!0,C.src=d,C.onload=C.onreadystatechange=function(){const N=C.readyState;(!N||"loaded"===N||"complete"===N)&&(C.onload=C.onreadystatechange=null,C.parentNode&&C.parentNode.removeChild(C),h())},C.onerror=()=>{Ie("Long-poll script failed to load: "+d),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(C)}catch{}},Math.floor(1))}}let Yi=null;typeof MozWebSocket<"u"?Yi=MozWebSocket:typeof WebSocket<"u"&&(Yi=WebSocket);let oi=(()=>{class g{constructor(h,C,N,z,ee,be,Pe){this.connId=h,this.applicationId=N,this.appCheckToken=z,this.authToken=ee,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ke(this.connId),this.stats_=zt(C),this.connURL=g.connectionURL_(C,be,Pe,z,N),this.nodeAdmin=C.nodeAdmin}static connectionURL_(h,C,N,z,ee){const be={v:"5"};return!(0,ge.$g)()&&typeof location<"u"&&location.hostname&&Fr.test(location.hostname)&&(be.r="f"),C&&(be.s=C),N&&(be.ls=N),z&&(be.ac=z),ee&&(be.p=ee),Un(h,Tt,be)}open(h,C){this.onDisconnect=C,this.onMessage=h,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xn.set("previous_websocket_failure",!0);try{let N;if((0,ge.$g)()){N={headers:{"User-Agent":`Firebase/5/${He}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(N.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(N.headers["X-Firebase-AppCheck"]=this.appCheckToken);const ee=process.env,be=0===this.connURL.indexOf("wss://")?ee.HTTPS_PROXY||ee.https_proxy:ee.HTTP_PROXY||ee.http_proxy;be&&(N.proxy={origin:be})}this.mySock=new Yi(this.connURL,[],N)}catch(N){this.log_("Error instantiating WebSocket.");const z=N.message||N.data;return z&&this.log_(z),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=N=>{this.handleIncomingFrame(N)},this.mySock.onerror=N=>{this.log_("WebSocket error.  Closing connection.");const z=N.message||N.data;z&&this.log_(z),this.onClosed_()}}start(){}static forceDisallow(){g.forceDisallow_=!0}static isAvailable(){let h=!1;if(typeof navigator<"u"&&navigator.userAgent){const N=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);N&&N.length>1&&parseFloat(N[1])<4.4&&(h=!0)}return!h&&null!==Yi&&!g.forceDisallow_}static previouslyFailed(){return Xn.isInMemoryStorage||!0===Xn.get("previous_websocket_failure")}markConnectionHealthy(){Xn.remove("previous_websocket_failure")}appendFrame_(h){if(this.frames.push(h),this.frames.length===this.totalFrames){const C=this.frames.join("");this.frames=null;const N=(0,ge.$L)(C);this.onMessage(N)}}handleNewFrameCount_(h){this.totalFrames=h,this.frames=[]}extractFrameCount_(h){if((0,ge.vA)(null===this.frames,"We already have a frame buffer"),h.length<=6){const C=Number(h);if(!isNaN(C))return this.handleNewFrameCount_(C),null}return this.handleNewFrameCount_(1),h}handleIncomingFrame(h){if(null===this.mySock)return;const C=h.data;if(this.bytesReceived+=C.length,this.stats_.incrementCounter("bytes_received",C.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(C);else{const N=this.extractFrameCount_(C);null!==N&&this.appendFrame_(N)}}send(h){this.resetKeepAlive();const C=(0,ge.As)(h);this.bytesSent+=C.length,this.stats_.incrementCounter("bytes_sent",C.length);const N=ie(C,16384);N.length>1&&this.sendString_(String(N.length));for(let z=0;z<N.length;z++)this.sendString_(N[z])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(h){try{this.mySock.send(h)}catch(C){this.log_("Exception thrown from WebSocket.send():",C.message||C.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return g.responsesRequiredToBeHealthy=2,g.healthyTimeout=3e4,g})(),wi=(()=>{class g{constructor(h){this.initTransports_(h)}static get ALL_TRANSPORTS(){return[Zt,oi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(h){const C=oi&&oi.isAvailable();let N=C&&!oi.previouslyFailed();if(h.webSocketOnly&&(C||On("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),N=!0),N)this.transports_=[oi];else{const z=this.transports_=[];for(const ee of g.ALL_TRANSPORTS)ee&&ee.isAvailable()&&z.push(ee);g.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return g.globalTransportInitialized_=!1,g})();class vo{constructor(d,h,C,N,z,ee,be,Pe,qe,Ut){this.id=d,this.repoInfo_=h,this.applicationId_=C,this.appCheckToken_=N,this.authToken_=z,this.onMessage_=ee,this.onReady_=be,this.onDisconnect_=Pe,this.onKill_=qe,this.lastSessionId=Ut,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ke("c:"+this.id+":"),this.transportManager_=new wi(h),this.log_("Connection created"),this.start_()}start_(){const d=this.transportManager_.initialTransport();this.conn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;const h=this.connReceiver_(this.conn_),C=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(h,C)},Math.floor(0));const N=d.healthyTimeout||0;N>0&&(this.healthyTimeout_=nr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(N)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(d){return h=>{d===this.conn_?this.onConnectionLost_(h):d===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(d){return h=>{2!==this.state_&&(d===this.rx_?this.onPrimaryMessageReceived_(h):d===this.secondaryConn_?this.onSecondaryMessageReceived_(h):this.log_("message on old connection"))}}sendRequest(d){this.sendData_({t:"d",d})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(d){if("t"in d){const h=d.t;"a"===h?this.upgradeIfSecondaryHealthy_():"r"===h?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===h&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(d){const h=xe("t",d),C=xe("d",d);if("c"===h)this.onSecondaryControl_(C);else{if("d"!==h)throw new Error("Unknown protocol layer: "+h);this.pendingDataMessages.push(C)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(d){const h=xe("t",d),C=xe("d",d);"c"===h?this.onControl_(C):"d"===h&&this.onDataMessage_(C)}onDataMessage_(d){this.onPrimaryResponse_(),this.onMessage_(d)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(d){const h=xe("t",d);if("d"in d){const C=d.d;if("h"===h){const N=Object.assign({},C);this.repoInfo_.isUsingEmulator&&(N.h=this.repoInfo_.host),this.onHandshake_(N)}else if("n"===h){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let N=0;N<this.pendingDataMessages.length;++N)this.onDataMessage_(this.pendingDataMessages[N]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===h?this.onConnectionShutdown_(C):"r"===h?this.onReset_(C):"e"===h?it("Server Error: "+C):"o"===h?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):it("Unknown control packet command: "+h)}}onHandshake_(d){const h=d.ts,C=d.v,N=d.h;this.sessionId=d.s,this.repoInfo_.host=N,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,h),"5"!==C&&On("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const d=this.transportManager_.upgradeTransport();d&&this.startUpgrade_(d)}startUpgrade_(d){this.secondaryConn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;const h=this.connReceiver_(this.secondaryConn_),C=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(h,C),nr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(d){this.log_("Reset packet received.  New host: "+d),this.repoInfo_.host=d,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(d,h){this.log_("Realtime connection established."),this.conn_=d,this.state_=1,this.onReady_&&(this.onReady_(h,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const d=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===d||this.rx_===d)&&this.close()}onConnectionLost_(d){this.conn_=null,d||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(d){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(d),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(d){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(d)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ys{put(d,h,C,N){}merge(d,h,C,N){}refreshAuthToken(d){}refreshAppCheckToken(d){}onDisconnectPut(d,h,C){}onDisconnectMerge(d,h,C){}onDisconnectCancel(d,h){}reportStats(d){}}class Oo{constructor(d){this.allowedEvents_=d,this.listeners_={},(0,ge.vA)(Array.isArray(d)&&d.length>0,"Requires a non-empty array")}trigger(d,...h){if(Array.isArray(this.listeners_[d])){const C=[...this.listeners_[d]];for(let N=0;N<C.length;N++)C[N].callback.apply(C[N].context,h)}}on(d,h,C){this.validateEventType_(d),this.listeners_[d]=this.listeners_[d]||[],this.listeners_[d].push({callback:h,context:C});const N=this.getInitialEvent(d);N&&h.apply(C,N)}off(d,h,C){this.validateEventType_(d);const N=this.listeners_[d]||[];for(let z=0;z<N.length;z++)if(N[z].callback===h&&(!C||C===N[z].context))return void N.splice(z,1)}validateEventType_(d){(0,ge.vA)(this.allowedEvents_.find(h=>h===d),"Unknown event: "+d)}}class Si extends Oo{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ge.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Si}getInitialEvent(d){return(0,ge.vA)("online"===d,"Unknown event type: "+d),[this.online_]}currentlyOnline(){return this.online_}}class ir{constructor(d,h){if(void 0===h){this.pieces_=d.split("/");let C=0;for(let N=0;N<this.pieces_.length;N++)this.pieces_[N].length>0&&(this.pieces_[C]=this.pieces_[N],C++);this.pieces_.length=C,this.pieceNum_=0}else this.pieces_=d,this.pieceNum_=h}toString(){let d="";for(let h=this.pieceNum_;h<this.pieces_.length;h++)""!==this.pieces_[h]&&(d+="/"+this.pieces_[h]);return d||"/"}}function vr(){return new ir("")}function ar(g){return g.pieceNum_>=g.pieces_.length?null:g.pieces_[g.pieceNum_]}function Hr(g){return g.pieces_.length-g.pieceNum_}function Cr(g){let d=g.pieceNum_;return d<g.pieces_.length&&d++,new ir(g.pieces_,d)}function Qi(g){return g.pieceNum_<g.pieces_.length?g.pieces_[g.pieces_.length-1]:null}function So(g,d=0){return g.pieces_.slice(g.pieceNum_+d)}function ki(g){if(g.pieceNum_>=g.pieces_.length)return null;const d=[];for(let h=g.pieceNum_;h<g.pieces_.length-1;h++)d.push(g.pieces_[h]);return new ir(d,0)}function Mr(g,d){const h=[];for(let C=g.pieceNum_;C<g.pieces_.length;C++)h.push(g.pieces_[C]);if(d instanceof ir)for(let C=d.pieceNum_;C<d.pieces_.length;C++)h.push(d.pieces_[C]);else{const C=d.split("/");for(let N=0;N<C.length;N++)C[N].length>0&&h.push(C[N])}return new ir(h,0)}function Ti(g){return g.pieceNum_>=g.pieces_.length}function rr(g,d){const h=ar(g),C=ar(d);if(null===h)return d;if(h===C)return rr(Cr(g),Cr(d));throw new Error("INTERNAL ERROR: innerPath ("+d+") is not within outerPath ("+g+")")}function xo(g,d){const h=So(g,0),C=So(d,0);for(let N=0;N<h.length&&N<C.length;N++){const z=tn(h[N],C[N]);if(0!==z)return z}return h.length===C.length?0:h.length<C.length?-1:1}function Xs(g,d){if(Hr(g)!==Hr(d))return!1;for(let h=g.pieceNum_,C=d.pieceNum_;h<=g.pieces_.length;h++,C++)if(g.pieces_[h]!==d.pieces_[C])return!1;return!0}function Tr(g,d){let h=g.pieceNum_,C=d.pieceNum_;if(Hr(g)>Hr(d))return!1;for(;h<g.pieces_.length;){if(g.pieces_[h]!==d.pieces_[C])return!1;++h,++C}return!0}class cl{constructor(d,h){this.errorPrefix_=h,this.parts_=So(d,0),this.byteLength_=Math.max(1,this.parts_.length);for(let C=0;C<this.parts_.length;C++)this.byteLength_+=(0,ge.OE)(this.parts_[C]);Fa(this)}}function Fa(g){if(g.byteLength_>768)throw new Error(g.errorPrefix_+"has a key path longer than 768 bytes ("+g.byteLength_+").");if(g.parts_.length>32)throw new Error(g.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ns(g))}function ns(g){return 0===g.parts_.length?"":"in property '"+g.parts_.join(".")+"'"}class Vr extends Oo{constructor(){let d,h;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(h="visibilitychange",d="hidden"):typeof document.mozHidden<"u"?(h="mozvisibilitychange",d="mozHidden"):typeof document.msHidden<"u"?(h="msvisibilitychange",d="msHidden"):typeof document.webkitHidden<"u"&&(h="webkitvisibilitychange",d="webkitHidden")),this.visible_=!0,h&&document.addEventListener(h,()=>{const C=!document[d];C!==this.visible_&&(this.visible_=C,this.trigger("visible",C))},!1)}static getInstance(){return new Vr}getInitialEvent(d){return(0,ge.vA)("visible"===d,"Unknown event type: "+d),[this.visible_]}}const Yr=1e3;let so,eo=(()=>{class g extends Ys{constructor(h,C,N,z,ee,be,Pe,qe){if(super(),this.repoInfo_=h,this.applicationId_=C,this.onDataUpdate_=N,this.onConnectStatus_=z,this.onServerInfoUpdate_=ee,this.authTokenProvider_=be,this.appCheckTokenProvider_=Pe,this.authOverride_=qe,this.id=g.nextPersistentConnectionId_++,this.log_=Ke("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yr,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,qe&&!(0,ge.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vr.getInstance().on("visible",this.onVisible_,this),-1===h.host.indexOf("fblocal")&&Si.getInstance().on("online",this.onOnline_,this)}sendRequest(h,C,N){const z=++this.requestNumber_,ee={r:z,a:h,b:C};this.log_((0,ge.As)(ee)),(0,ge.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(ee),N&&(this.requestCBHash_[z]=N)}get(h){this.initConnection_();const C=new ge.cY,z={action:"g",request:{p:h._path.toString(),q:h._queryObject},onComplete:be=>{const Pe=be.d;"ok"===be.s?C.resolve(Pe):C.reject(Pe)}};return this.outstandingGets_.push(z),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),C.promise}listen(h,C,N,z){this.initConnection_();const ee=h._queryIdentifier,be=h._path.toString();this.log_("Listen called for "+be+" "+ee),this.listens.has(be)||this.listens.set(be,new Map),(0,ge.vA)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ge.vA)(!this.listens.get(be).has(ee),"listen() called twice for same path/queryId.");const Pe={onComplete:z,hashFn:C,query:h,tag:N};this.listens.get(be).set(ee,Pe),this.connected_&&this.sendListen_(Pe)}sendGet_(h){const C=this.outstandingGets_[h];this.sendRequest("g",C.request,N=>{delete this.outstandingGets_[h],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),C.onComplete&&C.onComplete(N)})}sendListen_(h){const C=h.query,N=C._path.toString(),z=C._queryIdentifier;this.log_("Listen on "+N+" for "+z);const ee={p:N};h.tag&&(ee.q=C._queryObject,ee.t=h.tag),ee.h=h.hashFn(),this.sendRequest("q",ee,Pe=>{const qe=Pe.d,Ut=Pe.s;g.warnOnListenWarnings_(qe,C),(this.listens.get(N)&&this.listens.get(N).get(z))===h&&(this.log_("listen response",Pe),"ok"!==Ut&&this.removeListen_(N,z),h.onComplete&&h.onComplete(Ut,qe))})}static warnOnListenWarnings_(h,C){if(h&&"object"==typeof h&&(0,ge.gR)(h,"w")){const N=(0,ge.yw)(h,"w");if(Array.isArray(N)&&~N.indexOf("no_index")){const z='".indexOn": "'+C._queryParams.getIndex().toString()+'"',ee=C._path.toString();On(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${z} at ${ee} to your security rules for better performance.`)}}}refreshAuthToken(h){this.authToken_=h,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(h)}reduceReconnectDelayIfAdminCredential_(h){(h&&40===h.length||(0,ge.qc)(h))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(h){this.appCheckToken_=h,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const h=this.authToken_,C=(0,ge.Cv)(h)?"auth":"gauth",N={cred:h};null===this.authOverride_?N.noauth=!0:"object"==typeof this.authOverride_&&(N.authvar=this.authOverride_),this.sendRequest(C,N,z=>{const ee=z.s,be=z.d||"error";this.authToken_===h&&("ok"===ee?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(ee,be))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},h=>{const C=h.s,N=h.d||"error";"ok"===C?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(C,N)})}unlisten(h,C){const N=h._path.toString(),z=h._queryIdentifier;this.log_("Unlisten called for "+N+" "+z),(0,ge.vA)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(N,z)&&this.connected_&&this.sendUnlisten_(N,z,h._queryObject,C)}sendUnlisten_(h,C,N,z){this.log_("Unlisten on "+h+" for "+C);const ee={p:h};z&&(ee.q=N,ee.t=z),this.sendRequest("n",ee)}onDisconnectPut(h,C,N){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",h,C,N):this.onDisconnectRequestQueue_.push({pathString:h,action:"o",data:C,onComplete:N})}onDisconnectMerge(h,C,N){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",h,C,N):this.onDisconnectRequestQueue_.push({pathString:h,action:"om",data:C,onComplete:N})}onDisconnectCancel(h,C){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",h,null,C):this.onDisconnectRequestQueue_.push({pathString:h,action:"oc",data:null,onComplete:C})}sendOnDisconnect_(h,C,N,z){const ee={p:C,d:N};this.log_("onDisconnect "+h,ee),this.sendRequest(h,ee,be=>{z&&setTimeout(()=>{z(be.s,be.d)},Math.floor(0))})}put(h,C,N,z){this.putInternal("p",h,C,N,z)}merge(h,C,N,z){this.putInternal("m",h,C,N,z)}putInternal(h,C,N,z,ee){this.initConnection_();const be={p:C,d:N};void 0!==ee&&(be.h=ee),this.outstandingPuts_.push({action:h,request:be,onComplete:z}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+C)}sendPut_(h){const C=this.outstandingPuts_[h].action,N=this.outstandingPuts_[h].request,z=this.outstandingPuts_[h].onComplete;this.outstandingPuts_[h].queued=this.connected_,this.sendRequest(C,N,ee=>{this.log_(C+" response",ee),delete this.outstandingPuts_[h],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),z&&z(ee.s,ee.d)})}reportStats(h){if(this.connected_){const C={c:h};this.log_("reportStats",C),this.sendRequest("s",C,N=>{"ok"!==N.s&&this.log_("reportStats","Error sending stats: "+N.d)})}}onDataMessage_(h){if("r"in h){this.log_("from server: "+(0,ge.As)(h));const C=h.r,N=this.requestCBHash_[C];N&&(delete this.requestCBHash_[C],N(h.b))}else{if("error"in h)throw"A server-side error has occurred: "+h.error;"a"in h&&this.onDataPush_(h.a,h.b)}}onDataPush_(h,C){this.log_("handleServerMessage",h,C),"d"===h?this.onDataUpdate_(C.p,C.d,!1,C.t):"m"===h?this.onDataUpdate_(C.p,C.d,!0,C.t):"c"===h?this.onListenRevoked_(C.p,C.q):"ac"===h?this.onAuthRevoked_(C.s,C.d):"apc"===h?this.onAppCheckRevoked_(C.s,C.d):"sd"===h?this.onSecurityDebugPacket_(C):it("Unrecognized action received from server: "+(0,ge.As)(h)+"\nAre you using the latest client?")}onReady_(h,C){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(h),this.lastSessionId=C,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(h){(0,ge.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(h))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(h){h&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yr,this.realtime_||this.scheduleConnect_(0)),this.visible_=h}onOnline_(h){h?(this.log_("Browser went online."),this.reconnectDelay_=Yr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Yr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const h=(new Date).getTime()-this.lastConnectionAttemptTime_;let C=Math.max(0,this.reconnectDelay_-h);C=Math.random()*C,this.log_("Trying to reconnect in "+C+"ms"),this.scheduleConnect_(C),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var h=this;return(0,jt.A)(function*(){if(h.shouldReconnect_()){h.log_("Making a connection attempt"),h.lastConnectionAttemptTime_=(new Date).getTime(),h.lastConnectionEstablishedTime_=null;const C=h.onDataMessage_.bind(h),N=h.onReady_.bind(h),z=h.onRealtimeDisconnect_.bind(h),ee=h.id+":"+g.nextConnectionId_++,be=h.lastSessionId;let Pe=!1,qe=null;const Ut=function(){qe?qe.close():(Pe=!0,z())};h.realtime_={close:Ut,sendRequest:function(zn){(0,ge.vA)(qe,"sendRequest call when we're not connected not allowed."),qe.sendRequest(zn)}};const dn=h.forceTokenRefresh_;h.forceTokenRefresh_=!1;try{const[zn,mi]=yield Promise.all([h.authTokenProvider_.getToken(dn),h.appCheckTokenProvider_.getToken(dn)]);Pe?Ie("getToken() completed but was canceled"):(Ie("getToken() completed. Creating connection."),h.authToken_=zn&&zn.accessToken,h.appCheckToken_=mi&&mi.token,qe=new vo(ee,h.repoInfo_,h.applicationId_,h.appCheckToken_,h.authToken_,C,N,z,dr=>{On(dr+" ("+h.repoInfo_.toString()+")"),h.interrupt("server_kill")},be))}catch(zn){h.log_("Failed to get token: "+zn),Pe||(h.repoInfo_.nodeAdmin&&On(zn),Ut())}}})()}interrupt(h){Ie("Interrupting connection for reason: "+h),this.interruptReasons_[h]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(h){Ie("Resuming connection for reason: "+h),delete this.interruptReasons_[h],(0,ge.Im)(this.interruptReasons_)&&(this.reconnectDelay_=Yr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(h){const C=h-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:C})}cancelSentTransactions_(){for(let h=0;h<this.outstandingPuts_.length;h++){const C=this.outstandingPuts_[h];C&&"h"in C.request&&C.queued&&(C.onComplete&&C.onComplete("disconnect"),delete this.outstandingPuts_[h],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(h,C){let N;N=C?C.map(ee=>Ft(ee)).join("$"):"default";const z=this.removeListen_(h,N);z&&z.onComplete&&z.onComplete("permission_denied")}removeListen_(h,C){const N=new ir(h).toString();let z;if(this.listens.has(N)){const ee=this.listens.get(N);z=ee.get(C),ee.delete(C),0===ee.size&&this.listens.delete(N)}else z=void 0;return z}onAuthRevoked_(h,C){Ie("Auth token revoked: "+h+"/"+C),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===h||"permission_denied"===h)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(h,C){Ie("App check token revoked: "+h+"/"+C),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===h||"permission_denied"===h)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(h){this.securityDebugCallback_?this.securityDebugCallback_(h):"msg"in h&&console.log("FIREBASE: "+h.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const h of this.listens.values())for(const C of h.values())this.sendListen_(C);for(let h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){const h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(let h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)}sendConnectStats_(){const h={};let C="js";(0,ge.$g)()&&(C=this.repoInfo_.nodeAdmin?"admin_node":"node"),h["sdk."+C+"."+He.replace(/\./g,"-")]=1,(0,ge.jZ)()?h["framework.cordova"]=1:(0,ge.lV)()&&(h["framework.reactnative"]=1),this.reportStats(h)}shouldReconnect_(){const h=Si.getInstance().currentlyOnline();return(0,ge.Im)(this.interruptReasons_)&&h}}return g.nextPersistentConnectionId_=0,g.nextConnectionId_=0,g})();class Gi{constructor(d,h){this.name=d,this.node=h}static Wrap(d,h){return new Gi(d,h)}}class Gs{getCompare(){return this.compare.bind(this)}indexedValueChanged(d,h){const C=new Gi(cn,d),N=new Gi(cn,h);return 0!==this.compare(C,N)}minPost(){return Gi.MIN}}class ds extends Gs{static get __EMPTY_NODE(){return so}static set __EMPTY_NODE(d){so=d}compare(d,h){return tn(d.name,h.name)}isDefinedOn(d){throw(0,ge.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(d,h){return!1}minPost(){return Gi.MIN}maxPost(){return new Gi(hi,so)}makePost(d,h){return(0,ge.vA)("string"==typeof d,"KeyIndex indexValue must always be a string."),new Gi(d,so)}toString(){return".key"}}const hs=new ds;class da{constructor(d,h,C,N,z=null){this.isReverse_=N,this.resultGenerator_=z,this.nodeStack_=[];let ee=1;for(;!d.isEmpty();)if(ee=h?C(d.key,h):1,N&&(ee*=-1),ee<0)d=this.isReverse_?d.left:d.right;else{if(0===ee){this.nodeStack_.push(d);break}this.nodeStack_.push(d),d=this.isReverse_?d.right:d.left}}getNext(){if(0===this.nodeStack_.length)return null;let h,d=this.nodeStack_.pop();if(h=this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value},this.isReverse_)for(d=d.left;!d.isEmpty();)this.nodeStack_.push(d),d=d.right;else for(d=d.right;!d.isEmpty();)this.nodeStack_.push(d),d=d.left;return h}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const d=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value}}}let oo,Br=(()=>{class g{constructor(h,C,N,z,ee){this.key=h,this.value=C,this.color=N??g.RED,this.left=z??Dr.EMPTY_NODE,this.right=ee??Dr.EMPTY_NODE}copy(h,C,N,z,ee){return new g(h??this.key,C??this.value,N??this.color,z??this.left,ee??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(h){return this.left.inorderTraversal(h)||!!h(this.key,this.value)||this.right.inorderTraversal(h)}reverseTraversal(h){return this.right.reverseTraversal(h)||h(this.key,this.value)||this.left.reverseTraversal(h)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(h,C,N){let z=this;const ee=N(h,z.key);return z=ee<0?z.copy(null,null,null,z.left.insert(h,C,N),null):0===ee?z.copy(null,C,null,null,null):z.copy(null,null,null,null,z.right.insert(h,C,N)),z.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dr.EMPTY_NODE;let h=this;return!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.removeMin_(),null),h.fixUp_()}remove(h,C){let N,z;if(N=this,C(h,N.key)<0)!N.left.isEmpty()&&!N.left.isRed_()&&!N.left.left.isRed_()&&(N=N.moveRedLeft_()),N=N.copy(null,null,null,N.left.remove(h,C),null);else{if(N.left.isRed_()&&(N=N.rotateRight_()),!N.right.isEmpty()&&!N.right.isRed_()&&!N.right.left.isRed_()&&(N=N.moveRedRight_()),0===C(h,N.key)){if(N.right.isEmpty())return Dr.EMPTY_NODE;z=N.right.min_(),N=N.copy(z.key,z.value,null,null,N.right.removeMin_())}N=N.copy(null,null,null,null,N.right.remove(h,C))}return N.fixUp_()}isRed_(){return this.color}fixUp_(){let h=this;return h.right.isRed_()&&!h.left.isRed_()&&(h=h.rotateLeft_()),h.left.isRed_()&&h.left.left.isRed_()&&(h=h.rotateRight_()),h.left.isRed_()&&h.right.isRed_()&&(h=h.colorFlip_()),h}moveRedLeft_(){let h=this.colorFlip_();return h.right.left.isRed_()&&(h=h.copy(null,null,null,null,h.right.rotateRight_()),h=h.rotateLeft_(),h=h.colorFlip_()),h}moveRedRight_(){let h=this.colorFlip_();return h.left.left.isRed_()&&(h=h.rotateRight_(),h=h.colorFlip_()),h}rotateLeft_(){const h=this.copy(null,null,g.RED,null,this.right.left);return this.right.copy(null,null,this.color,h,null)}rotateRight_(){const h=this.copy(null,null,g.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,h)}colorFlip_(){const h=this.left.copy(null,null,!this.left.color,null,null),C=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,h,C)}checkMaxDepth_(){const h=this.check_();return Math.pow(2,h)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const h=this.left.check_();if(h!==this.right.check_())throw new Error("Black depths differ");return h+(this.isRed_()?0:1)}}return g.RED=!0,g.BLACK=!1,g})();class Dr{constructor(d,h=Dr.EMPTY_NODE){this.comparator_=d,this.root_=h}insert(d,h){return new Dr(this.comparator_,this.root_.insert(d,h,this.comparator_).copy(null,null,Br.BLACK,null,null))}remove(d){return new Dr(this.comparator_,this.root_.remove(d,this.comparator_).copy(null,null,Br.BLACK,null,null))}get(d){let h,C=this.root_;for(;!C.isEmpty();){if(h=this.comparator_(d,C.key),0===h)return C.value;h<0?C=C.left:h>0&&(C=C.right)}return null}getPredecessorKey(d){let h,C=this.root_,N=null;for(;!C.isEmpty();){if(h=this.comparator_(d,C.key),0===h){if(C.left.isEmpty())return N?N.key:null;for(C=C.left;!C.right.isEmpty();)C=C.right;return C.key}h<0?C=C.left:h>0&&(N=C,C=C.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(d){return this.root_.inorderTraversal(d)}reverseTraversal(d){return this.root_.reverseTraversal(d)}getIterator(d){return new da(this.root_,null,this.comparator_,!1,d)}getIteratorFrom(d,h){return new da(this.root_,d,this.comparator_,!1,h)}getReverseIteratorFrom(d,h){return new da(this.root_,d,this.comparator_,!0,h)}getReverseIterator(d){return new da(this.root_,null,this.comparator_,!0,d)}}function Po(g,d){return tn(g.name,d.name)}function Os(g,d){return tn(g,d)}Dr.EMPTY_NODE=new class Cl{copy(d,h,C,N,z){return this}insert(d,h,C){return new Br(d,h,null)}remove(d,h){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(d){return!1}reverseTraversal(d){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Qa=function(g){return"number"==typeof g?"number:"+Ve(g):"string:"+g},bo=function(g){if(g.isLeafNode()){const d=g.val();(0,ge.vA)("string"==typeof d||"number"==typeof d||"object"==typeof d&&(0,ge.gR)(d,".sv"),"Priority must be a string or number.")}else(0,ge.vA)(g===oo||g.isEmpty(),"priority of unexpected type.");(0,ge.vA)(g===oo||g.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ao,Qs,Va,ms=(()=>{class g{constructor(h,C=g.__childrenNodeConstructor.EMPTY_NODE){this.value_=h,this.priorityNode_=C,this.lazyHash_=null,(0,ge.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),bo(this.priorityNode_)}static set __childrenNodeConstructor(h){Ao=h}static get __childrenNodeConstructor(){return Ao}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(h){return new g(this.value_,h)}getImmediateChild(h){return".priority"===h?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE}getChild(h){return Ti(h)?this:".priority"===ar(h)?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(h,C){return null}updateImmediateChild(h,C){return".priority"===h?this.updatePriority(C):C.isEmpty()&&".priority"!==h?this:g.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(h,C).updatePriority(this.priorityNode_)}updateChild(h,C){const N=ar(h);return null===N?C:C.isEmpty()&&".priority"!==N?this:((0,ge.vA)(".priority"!==N||1===Hr(h),".priority must be the last token in a path"),this.updateImmediateChild(N,g.__childrenNodeConstructor.EMPTY_NODE.updateChild(Cr(h),C)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(h,C){return!1}val(h){return h&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let h="";this.priorityNode_.isEmpty()||(h+="priority:"+Qa(this.priorityNode_.val())+":");const C=typeof this.value_;h+=C+":",h+="number"===C?Ve(this.value_):this.value_,this.lazyHash_=En(h)}return this.lazyHash_}getValue(){return this.value_}compareTo(h){return h===g.__childrenNodeConstructor.EMPTY_NODE?1:h instanceof g.__childrenNodeConstructor?-1:((0,ge.vA)(h.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(h))}compareToLeafNode_(h){const C=typeof h.value_,N=typeof this.value_,z=g.VALUE_TYPE_ORDER.indexOf(C),ee=g.VALUE_TYPE_ORDER.indexOf(N);return(0,ge.vA)(z>=0,"Unknown leaf type: "+C),(0,ge.vA)(ee>=0,"Unknown leaf type: "+N),z===ee?"object"===N?0:this.value_<h.value_?-1:this.value_===h.value_?0:1:ee-z}withIndex(){return this}isIndexed(){return!0}equals(h){return h===this||!!h.isLeafNode()&&(this.value_===h.value_&&this.priorityNode_.equals(h.priorityNode_))}}return g.VALUE_TYPE_ORDER=["object","boolean","number","string"],g})();const kr=new class wo extends Gs{compare(d,h){const C=d.node.getPriority(),N=h.node.getPriority(),z=C.compareTo(N);return 0===z?tn(d.name,h.name):z}isDefinedOn(d){return!d.getPriority().isEmpty()}indexedValueChanged(d,h){return!d.getPriority().equals(h.getPriority())}minPost(){return Gi.MIN}maxPost(){return new Gi(hi,new ms("[PRIORITY-POST]",Va))}makePost(d,h){const C=Qs(d);return new Gi(h,new ms("[PRIORITY-POST]",C))}toString(){return".priority"}},Ts=Math.log(2);class fs{constructor(d){this.count=parseInt(Math.log(d+1)/Ts,10),this.current_=this.count-1;const N=(z=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=d+1&N}nextBitIsOne(){const d=!(this.bits_&1<<this.current_);return this.current_--,d}}const bi=function(g,d,h,C){g.sort(d);const N=function(Pe,qe){const Ut=qe-Pe;let Xt,dn;if(0===Ut)return null;if(1===Ut)return Xt=g[Pe],dn=h?h(Xt):Xt,new Br(dn,Xt.node,Br.BLACK,null,null);{const zn=parseInt(Ut/2,10)+Pe,mi=N(Pe,zn),dr=N(zn+1,qe);return Xt=g[zn],dn=h?h(Xt):Xt,new Br(dn,Xt.node,Br.BLACK,mi,dr)}},be=function(Pe){let qe=null,Ut=null,Xt=g.length;const dn=function(mi,dr){const $r=Xt-mi,Ho=Xt;Xt-=mi;const Go=N($r+1,Ho),Ul=g[$r],xu=h?h(Ul):Ul;zn(new Br(xu,Ul.node,dr,null,Go))},zn=function(mi){qe?(qe.left=mi,qe=mi):(Ut=mi,qe=mi)};for(let mi=0;mi<Pe.count;++mi){const dr=Pe.nextBitIsOne(),$r=Math.pow(2,Pe.count-(mi+1));dr?dn($r,Br.BLACK):(dn($r,Br.BLACK),dn($r,Br.RED))}return Ut}(new fs(g.length));return new Dr(C||d,be)};let Js;const Ro={};class Ws{constructor(d,h){this.indexes_=d,this.indexSet_=h}static get Default(){return(0,ge.vA)(Ro&&kr,"ChildrenNode.ts has not been loaded"),Js=Js||new Ws({".priority":Ro},{".priority":kr}),Js}get(d){const h=(0,ge.yw)(this.indexes_,d);if(!h)throw new Error("No index defined for "+d);return h instanceof Dr?h:null}hasIndex(d){return(0,ge.gR)(this.indexSet_,d.toString())}addIndex(d,h){(0,ge.vA)(d!==hs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const C=[];let N=!1;const z=h.getIterator(Gi.Wrap);let be,ee=z.getNext();for(;ee;)N=N||d.isDefinedOn(ee.node),C.push(ee),ee=z.getNext();be=N?bi(C,d.getCompare()):Ro;const Pe=d.toString(),qe=Object.assign({},this.indexSet_);qe[Pe]=d;const Ut=Object.assign({},this.indexes_);return Ut[Pe]=be,new Ws(Ut,qe)}addToIndexes(d,h){const C=(0,ge.kH)(this.indexes_,(N,z)=>{const ee=(0,ge.yw)(this.indexSet_,z);if((0,ge.vA)(ee,"Missing index implementation for "+z),N===Ro){if(ee.isDefinedOn(d.node)){const be=[],Pe=h.getIterator(Gi.Wrap);let qe=Pe.getNext();for(;qe;)qe.name!==d.name&&be.push(qe),qe=Pe.getNext();return be.push(d),bi(be,ee.getCompare())}return Ro}{const be=h.get(d.name);let Pe=N;return be&&(Pe=Pe.remove(new Gi(d.name,be))),Pe.insert(d,d.node)}});return new Ws(C,this.indexSet_)}removeFromIndexes(d,h){const C=(0,ge.kH)(this.indexes_,N=>{if(N===Ro)return N;{const z=h.get(d.name);return z?N.remove(new Gi(d.name,z)):N}});return new Ws(C,this.indexSet_)}}let $s,Bi=(()=>{class g{constructor(h,C,N){this.children_=h,this.priorityNode_=C,this.indexMap_=N,this.lazyHash_=null,this.priorityNode_&&bo(this.priorityNode_),this.children_.isEmpty()&&(0,ge.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return $s||($s=new g(new Dr(Os),null,Ws.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$s}updatePriority(h){return this.children_.isEmpty()?this:new g(this.children_,h,this.indexMap_)}getImmediateChild(h){if(".priority"===h)return this.getPriority();{const C=this.children_.get(h);return null===C?$s:C}}getChild(h){const C=ar(h);return null===C?this:this.getImmediateChild(C).getChild(Cr(h))}hasChild(h){return null!==this.children_.get(h)}updateImmediateChild(h,C){if((0,ge.vA)(C,"We should always be passing snapshot nodes"),".priority"===h)return this.updatePriority(C);{const N=new Gi(h,C);let z,ee;C.isEmpty()?(z=this.children_.remove(h),ee=this.indexMap_.removeFromIndexes(N,this.children_)):(z=this.children_.insert(h,C),ee=this.indexMap_.addToIndexes(N,this.children_));const be=z.isEmpty()?$s:this.priorityNode_;return new g(z,be,ee)}}updateChild(h,C){const N=ar(h);if(null===N)return C;{(0,ge.vA)(".priority"!==ar(h)||1===Hr(h),".priority must be the last token in a path");const z=this.getImmediateChild(N).updateChild(Cr(h),C);return this.updateImmediateChild(N,z)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(h){if(this.isEmpty())return null;const C={};let N=0,z=0,ee=!0;if(this.forEachChild(kr,(be,Pe)=>{C[be]=Pe.val(h),N++,ee&&g.INTEGER_REGEXP_.test(be)?z=Math.max(z,Number(be)):ee=!1}),!h&&ee&&z<2*N){const be=[];for(const Pe in C)be[Pe]=C[Pe];return be}return h&&!this.getPriority().isEmpty()&&(C[".priority"]=this.getPriority().val()),C}hash(){if(null===this.lazyHash_){let h="";this.getPriority().isEmpty()||(h+="priority:"+Qa(this.getPriority().val())+":"),this.forEachChild(kr,(C,N)=>{const z=N.hash();""!==z&&(h+=":"+C+":"+z)}),this.lazyHash_=""===h?"":En(h)}return this.lazyHash_}getPredecessorChildName(h,C,N){const z=this.resolveIndex_(N);if(z){const ee=z.getPredecessorKey(new Gi(h,C));return ee?ee.name:null}return this.children_.getPredecessorKey(h)}getFirstChildName(h){const C=this.resolveIndex_(h);if(C){const N=C.minKey();return N&&N.name}return this.children_.minKey()}getFirstChild(h){const C=this.getFirstChildName(h);return C?new Gi(C,this.children_.get(C)):null}getLastChildName(h){const C=this.resolveIndex_(h);if(C){const N=C.maxKey();return N&&N.name}return this.children_.maxKey()}getLastChild(h){const C=this.getLastChildName(h);return C?new Gi(C,this.children_.get(C)):null}forEachChild(h,C){const N=this.resolveIndex_(h);return N?N.inorderTraversal(z=>C(z.name,z.node)):this.children_.inorderTraversal(C)}getIterator(h){return this.getIteratorFrom(h.minPost(),h)}getIteratorFrom(h,C){const N=this.resolveIndex_(C);if(N)return N.getIteratorFrom(h,z=>z);{const z=this.children_.getIteratorFrom(h.name,Gi.Wrap);let ee=z.peek();for(;null!=ee&&C.compare(ee,h)<0;)z.getNext(),ee=z.peek();return z}}getReverseIterator(h){return this.getReverseIteratorFrom(h.maxPost(),h)}getReverseIteratorFrom(h,C){const N=this.resolveIndex_(C);if(N)return N.getReverseIteratorFrom(h,z=>z);{const z=this.children_.getReverseIteratorFrom(h.name,Gi.Wrap);let ee=z.peek();for(;null!=ee&&C.compare(ee,h)>0;)z.getNext(),ee=z.peek();return z}}compareTo(h){return this.isEmpty()?h.isEmpty()?0:-1:h.isLeafNode()||h.isEmpty()?1:h===xi?-1:0}withIndex(h){if(h===hs||this.indexMap_.hasIndex(h))return this;{const C=this.indexMap_.addIndex(h,this.children_);return new g(this.children_,this.priorityNode_,C)}}isIndexed(h){return h===hs||this.indexMap_.hasIndex(h)}equals(h){if(h===this)return!0;if(h.isLeafNode())return!1;{const C=h;if(this.getPriority().equals(C.getPriority())){if(this.children_.count()===C.children_.count()){const N=this.getIterator(kr),z=C.getIterator(kr);let ee=N.getNext(),be=z.getNext();for(;ee&&be;){if(ee.name!==be.name||!ee.node.equals(be.node))return!1;ee=N.getNext(),be=z.getNext()}return null===ee&&null===be}return!1}return!1}}resolveIndex_(h){return h===hs?null:this.indexMap_.get(h.toString())}}return g.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,g})();const xi=new class qr extends Bi{constructor(){super(new Dr(Os),Bi.EMPTY_NODE,Ws.Default)}compareTo(d){return d===this?0:1}equals(d){return d===this}getPriority(){return this}getImmediateChild(d){return Bi.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Gi,{MIN:{value:new Gi(cn,Bi.EMPTY_NODE)},MAX:{value:new Gi(hi,xi)}}),ds.__EMPTY_NODE=Bi.EMPTY_NODE,ms.__childrenNodeConstructor=Bi,function ha(g){oo=g}(xi),function Tl(g){Va=g}(xi);const wr=!0;function Nr(g,d=null){if(null===g)return Bi.EMPTY_NODE;if("object"==typeof g&&".priority"in g&&(d=g[".priority"]),(0,ge.vA)(null===d||"string"==typeof d||"number"==typeof d||"object"==typeof d&&".sv"in d,"Invalid priority type found: "+typeof d),"object"==typeof g&&".value"in g&&null!==g[".value"]&&(g=g[".value"]),"object"!=typeof g||".sv"in g)return new ms(g,Nr(d));if(g instanceof Array||!wr){let h=Bi.EMPTY_NODE;return Qe(g,(C,N)=>{if((0,ge.gR)(g,C)&&"."!==C.substring(0,1)){const z=Nr(N);(z.isLeafNode()||!z.isEmpty())&&(h=h.updateImmediateChild(C,z))}}),h.updatePriority(Nr(d))}{const h=[];let C=!1;if(Qe(g,(ee,be)=>{if("."!==ee.substring(0,1)){const Pe=Nr(be);Pe.isEmpty()||(C=C||!Pe.getPriority().isEmpty(),h.push(new Gi(ee,Pe)))}}),0===h.length)return Bi.EMPTY_NODE;const z=bi(h,Po,ee=>ee.name,Os);if(C){const ee=bi(h,kr.getCompare());return new Bi(z,Nr(d),new Ws({".priority":ee},{".priority":kr}))}return new Bi(z,Nr(d),Ws.Default)}}!function _s(g){Qs=g}(Nr);class ce extends Gs{constructor(d){super(),this.indexPath_=d,(0,ge.vA)(!Ti(d)&&".priority"!==ar(d),"Can't create PathIndex with empty path or .priority key")}extractChild(d){return d.getChild(this.indexPath_)}isDefinedOn(d){return!d.getChild(this.indexPath_).isEmpty()}compare(d,h){const C=this.extractChild(d.node),N=this.extractChild(h.node),z=C.compareTo(N);return 0===z?tn(d.name,h.name):z}makePost(d,h){const C=Nr(d),N=Bi.EMPTY_NODE.updateChild(this.indexPath_,C);return new Gi(h,N)}maxPost(){const d=Bi.EMPTY_NODE.updateChild(this.indexPath_,xi);return new Gi(hi,d)}toString(){return So(this.indexPath_,0).join("/")}}const Q=new class pe extends Gs{compare(d,h){const C=d.node.compareTo(h.node);return 0===C?tn(d.name,h.name):C}isDefinedOn(d){return!0}indexedValueChanged(d,h){return!d.equals(h)}minPost(){return Gi.MIN}maxPost(){return Gi.MAX}makePost(d,h){const C=Nr(d);return new Gi(h,C)}toString(){return".value"}};function De(g){return{type:"value",snapshotNode:g}}function lt(g,d){return{type:"child_added",snapshotNode:d,childName:g}}function ii(g,d){return{type:"child_removed",snapshotNode:d,childName:g}}function ji(g,d,h){return{type:"child_changed",snapshotNode:d,childName:g,oldSnap:h}}class fa{constructor(d){this.index_=d}updateChild(d,h,C,N,z,ee){(0,ge.vA)(d.isIndexed(this.index_),"A node must be indexed if only a child is updated");const be=d.getImmediateChild(h);return be.getChild(N).equals(C.getChild(N))&&be.isEmpty()===C.isEmpty()||(null!=ee&&(C.isEmpty()?d.hasChild(h)?ee.trackChildChange(ii(h,be)):(0,ge.vA)(d.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):be.isEmpty()?ee.trackChildChange(lt(h,C)):ee.trackChildChange(ji(h,C,be))),d.isLeafNode()&&C.isEmpty())?d:d.updateImmediateChild(h,C).withIndex(this.index_)}updateFullNode(d,h,C){return null!=C&&(d.isLeafNode()||d.forEachChild(kr,(N,z)=>{h.hasChild(N)||C.trackChildChange(ii(N,z))}),h.isLeafNode()||h.forEachChild(kr,(N,z)=>{if(d.hasChild(N)){const ee=d.getImmediateChild(N);ee.equals(z)||C.trackChildChange(ji(N,z,ee))}else C.trackChildChange(lt(N,z))})),h.withIndex(this.index_)}updatePriority(d,h){return d.isEmpty()?Bi.EMPTY_NODE:d.updatePriority(h)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class As{constructor(d){this.indexedFilter_=new fa(d.getIndex()),this.index_=d.getIndex(),this.startPost_=As.getStartPost_(d),this.endPost_=As.getEndPost_(d),this.startIsInclusive_=!d.startAfterSet_,this.endIsInclusive_=!d.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(d){const h=this.startIsInclusive_?this.index_.compare(this.getStartPost(),d)<=0:this.index_.compare(this.getStartPost(),d)<0,C=this.endIsInclusive_?this.index_.compare(d,this.getEndPost())<=0:this.index_.compare(d,this.getEndPost())<0;return h&&C}updateChild(d,h,C,N,z,ee){return this.matches(new Gi(h,C))||(C=Bi.EMPTY_NODE),this.indexedFilter_.updateChild(d,h,C,N,z,ee)}updateFullNode(d,h,C){h.isLeafNode()&&(h=Bi.EMPTY_NODE);let N=h.withIndex(this.index_);N=N.updatePriority(Bi.EMPTY_NODE);const z=this;return h.forEachChild(kr,(ee,be)=>{z.matches(new Gi(ee,be))||(N=N.updateImmediateChild(ee,Bi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(d,N,C)}updatePriority(d,h){return d}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(d){if(d.hasStart()){const h=d.getIndexStartName();return d.getIndex().makePost(d.getIndexStartValue(),h)}return d.getIndex().minPost()}static getEndPost_(d){if(d.hasEnd()){const h=d.getIndexEndName();return d.getIndex().makePost(d.getIndexEndValue(),h)}return d.getIndex().maxPost()}}class Sa{constructor(d){this.withinDirectionalStart=h=>this.reverse_?this.withinEndPost(h):this.withinStartPost(h),this.withinDirectionalEnd=h=>this.reverse_?this.withinStartPost(h):this.withinEndPost(h),this.withinStartPost=h=>{const C=this.index_.compare(this.rangedFilter_.getStartPost(),h);return this.startIsInclusive_?C<=0:C<0},this.withinEndPost=h=>{const C=this.index_.compare(h,this.rangedFilter_.getEndPost());return this.endIsInclusive_?C<=0:C<0},this.rangedFilter_=new As(d),this.index_=d.getIndex(),this.limit_=d.getLimit(),this.reverse_=!d.isViewFromLeft(),this.startIsInclusive_=!d.startAfterSet_,this.endIsInclusive_=!d.endBeforeSet_}updateChild(d,h,C,N,z,ee){return this.rangedFilter_.matches(new Gi(h,C))||(C=Bi.EMPTY_NODE),d.getImmediateChild(h).equals(C)?d:d.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(d,h,C,N,z,ee):this.fullLimitUpdateChild_(d,h,C,z,ee)}updateFullNode(d,h,C){let N;if(h.isLeafNode()||h.isEmpty())N=Bi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<h.numChildren()&&h.isIndexed(this.index_)){let z;N=Bi.EMPTY_NODE.withIndex(this.index_),z=this.reverse_?h.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let ee=0;for(;z.hasNext()&&ee<this.limit_;){const be=z.getNext();if(this.withinDirectionalStart(be)){if(!this.withinDirectionalEnd(be))break;N=N.updateImmediateChild(be.name,be.node),ee++}}}else{let z;N=h.withIndex(this.index_),N=N.updatePriority(Bi.EMPTY_NODE),z=this.reverse_?N.getReverseIterator(this.index_):N.getIterator(this.index_);let ee=0;for(;z.hasNext();){const be=z.getNext();ee<this.limit_&&this.withinDirectionalStart(be)&&this.withinDirectionalEnd(be)?ee++:N=N.updateImmediateChild(be.name,Bi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(d,N,C)}updatePriority(d,h){return d}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(d,h,C,N,z){let ee;if(this.reverse_){const Xt=this.index_.getCompare();ee=(dn,zn)=>Xt(zn,dn)}else ee=this.index_.getCompare();const be=d;(0,ge.vA)(be.numChildren()===this.limit_,"");const Pe=new Gi(h,C),qe=this.reverse_?be.getFirstChild(this.index_):be.getLastChild(this.index_),Ut=this.rangedFilter_.matches(Pe);if(be.hasChild(h)){const Xt=be.getImmediateChild(h);let dn=N.getChildAfterChild(this.index_,qe,this.reverse_);for(;null!=dn&&(dn.name===h||be.hasChild(dn.name));)dn=N.getChildAfterChild(this.index_,dn,this.reverse_);const zn=null==dn?1:ee(dn,Pe);if(Ut&&!C.isEmpty()&&zn>=0)return z?.trackChildChange(ji(h,C,Xt)),be.updateImmediateChild(h,C);{z?.trackChildChange(ii(h,Xt));const dr=be.updateImmediateChild(h,Bi.EMPTY_NODE);return null!=dn&&this.rangedFilter_.matches(dn)?(z?.trackChildChange(lt(dn.name,dn.node)),dr.updateImmediateChild(dn.name,dn.node)):dr}}return C.isEmpty()?d:Ut&&ee(qe,Pe)>=0?(null!=z&&(z.trackChildChange(ii(qe.name,qe.node)),z.trackChildChange(lt(h,C))),be.updateImmediateChild(h,C).updateImmediateChild(qe.name,Bi.EMPTY_NODE)):d}}class La{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ge.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ge.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ge.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ge.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ge.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===kr}copy(){const d=new La;return d.limitSet_=this.limitSet_,d.limit_=this.limit_,d.startSet_=this.startSet_,d.startAfterSet_=this.startAfterSet_,d.indexStartValue_=this.indexStartValue_,d.startNameSet_=this.startNameSet_,d.indexStartName_=this.indexStartName_,d.endSet_=this.endSet_,d.endBeforeSet_=this.endBeforeSet_,d.indexEndValue_=this.indexEndValue_,d.endNameSet_=this.endNameSet_,d.indexEndName_=this.indexEndName_,d.index_=this.index_,d.viewFrom_=this.viewFrom_,d}}function Il(g,d,h){const C=g.copy();return C.startSet_=!0,void 0===d&&(d=null),C.indexStartValue_=d,null!=h?(C.startNameSet_=!0,C.indexStartName_=h):(C.startNameSet_=!1,C.indexStartName_=""),C}function ta(g,d,h){const C=g.copy();return C.endSet_=!0,void 0===d&&(d=null),C.indexEndValue_=d,void 0!==h?(C.endNameSet_=!0,C.indexEndName_=h):(C.endNameSet_=!1,C.indexEndName_=""),C}function na(g,d){const h=g.copy();return h.index_=d,h}function Fo(g){const d={};if(g.isDefault())return d;let h;if(g.index_===kr?h="$priority":g.index_===Q?h="$value":g.index_===hs?h="$key":((0,ge.vA)(g.index_ instanceof ce,"Unrecognized index type!"),h=g.index_.toString()),d.orderBy=(0,ge.As)(h),g.startSet_){const C=g.startAfterSet_?"startAfter":"startAt";d[C]=(0,ge.As)(g.indexStartValue_),g.startNameSet_&&(d[C]+=","+(0,ge.As)(g.indexStartName_))}if(g.endSet_){const C=g.endBeforeSet_?"endBefore":"endAt";d[C]=(0,ge.As)(g.indexEndValue_),g.endNameSet_&&(d[C]+=","+(0,ge.As)(g.indexEndName_))}return g.limitSet_&&(g.isViewFromLeft()?d.limitToFirst=g.limit_:d.limitToLast=g.limit_),d}function ao(g){const d={};if(g.startSet_&&(d.sp=g.indexStartValue_,g.startNameSet_&&(d.sn=g.indexStartName_),d.sin=!g.startAfterSet_),g.endSet_&&(d.ep=g.indexEndValue_,g.endNameSet_&&(d.en=g.indexEndName_),d.ein=!g.endBeforeSet_),g.limitSet_){d.l=g.limit_;let h=g.viewFrom_;""===h&&(h=g.isViewFromLeft()?"l":"r"),d.vf=h}return g.index_!==kr&&(d.i=g.index_.toString()),d}class Za extends Ys{constructor(d,h,C,N){super(),this.repoInfo_=d,this.onDataUpdate_=h,this.authTokenProvider_=C,this.appCheckTokenProvider_=N,this.log_=Ke("p:rest:"),this.listens_={}}reportStats(d){throw new Error("Method not implemented.")}static getListenId_(d,h){return void 0!==h?"tag$"+h:((0,ge.vA)(d._queryParams.isDefault(),"should have a tag if it's not a default query."),d._path.toString())}listen(d,h,C,N){const z=d._path.toString();this.log_("Listen called for "+z+" "+d._queryIdentifier);const ee=Za.getListenId_(d,C),be={};this.listens_[ee]=be;const Pe=Fo(d._queryParams);this.restRequest_(z+".json",Pe,(qe,Ut)=>{let Xt=Ut;if(404===qe&&(Xt=null,qe=null),null===qe&&this.onDataUpdate_(z,Xt,!1,C),(0,ge.yw)(this.listens_,ee)===be){let dn;dn=qe?401===qe?"permission_denied":"rest_error:"+qe:"ok",N(dn,null)}})}unlisten(d,h){const C=Za.getListenId_(d,h);delete this.listens_[C]}get(d){const h=Fo(d._queryParams),C=d._path.toString(),N=new ge.cY;return this.restRequest_(C+".json",h,(z,ee)=>{let be=ee;404===z&&(be=null,z=null),null===z?(this.onDataUpdate_(C,be,!1,null),N.resolve(be)):N.reject(new Error(be))}),N.promise}refreshAuthToken(d){}restRequest_(d,h={},C){return h.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([N,z])=>{N&&N.accessToken&&(h.auth=N.accessToken),z&&z.token&&(h.ac=z.token);const ee=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+d+"?ns="+this.repoInfo_.namespace+(0,ge.Am)(h);this.log_("Sending REST request for "+ee);const be=new XMLHttpRequest;be.onreadystatechange=()=>{if(C&&4===be.readyState){this.log_("REST Response for "+ee+" received. status:",be.status,"response:",be.responseText);let Pe=null;if(be.status>=200&&be.status<300){try{Pe=(0,ge.$L)(be.responseText)}catch{On("Failed to parse JSON response for "+ee+": "+be.responseText)}C(null,Pe)}else 401!==be.status&&404!==be.status&&On("Got unsuccessful REST response for "+ee+" Status: "+be.status),C(be.status);C=null}},be.open("GET",ee,!0),be.send()})}}class pa{constructor(){this.rootNode_=Bi.EMPTY_NODE}getNode(d){return this.rootNode_.getChild(d)}updateSnapshot(d,h){this.rootNode_=this.rootNode_.updateChild(d,h)}}function ga(){return{value:null,children:new Map}}function lo(g,d,h){if(Ti(d))g.value=h,g.children.clear();else if(null!==g.value)g.value=g.value.updateChild(d,h);else{const C=ar(d);g.children.has(C)||g.children.set(C,ga()),lo(g.children.get(C),d=Cr(d),h)}}function Eo(g,d){if(Ti(d))return g.value=null,g.children.clear(),!0;if(null!==g.value){if(g.value.isLeafNode())return!1;{const h=g.value;return g.value=null,h.forEachChild(kr,(C,N)=>{lo(g,new ir(C),N)}),Eo(g,d)}}if(g.children.size>0){const h=ar(d);return d=Cr(d),g.children.has(h)&&Eo(g.children.get(h),d)&&g.children.delete(h),0===g.children.size}return!0}function Ji(g,d,h){null!==g.value?h(d,g.value):function ls(g,d){g.children.forEach((h,C)=>{d(C,h)})}(g,(C,N)=>{Ji(N,new ir(d.toString()+"/"+C),h)})}class Ir{constructor(d){this.collection_=d,this.last_=null}get(){const d=this.collection_.get(),h=Object.assign({},d);return this.last_&&Qe(this.last_,(C,N)=>{h[C]=h[C]-N}),this.last_=d,h}}class Ua{constructor(d,h){this.server_=h,this.statsToReport_={},this.statsListener_=new Ir(d);const C=1e4+2e4*Math.random();nr(this.reportStats_.bind(this),Math.floor(C))}reportStats_(){const d=this.statsListener_.get(),h={};let C=!1;Qe(d,(N,z)=>{z>0&&(0,ge.gR)(this.statsToReport_,N)&&(h[N]=z,C=!0)}),C&&this.server_.reportStats(h),nr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Rs=function(g){return g[g.OVERWRITE=0]="OVERWRITE",g[g.MERGE=1]="MERGE",g[g.ACK_USER_WRITE=2]="ACK_USER_WRITE",g[g.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",g}(Rs||{});function to(g){return{fromUser:!1,fromServer:!0,queryId:g,tagged:!0}}class Vo{constructor(d,h,C){this.path=d,this.affectedTree=h,this.revert=C,this.type=Rs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(d){if(Ti(this.path)){if(null!=this.affectedTree.value)return(0,ge.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const h=this.affectedTree.subtree(new ir(d));return new Vo(vr(),h,this.revert)}}return(0,ge.vA)(ar(this.path)===d,"operationForChild called for unrelated child."),new Vo(Cr(this.path),this.affectedTree,this.revert)}}class Aa{constructor(d,h){this.source=d,this.path=h,this.type=Rs.LISTEN_COMPLETE}operationForChild(d){return Ti(this.path)?new Aa(this.source,vr()):new Aa(this.source,Cr(this.path))}}class ma{constructor(d,h,C){this.source=d,this.path=h,this.snap=C,this.type=Rs.OVERWRITE}operationForChild(d){return Ti(this.path)?new ma(this.source,vr(),this.snap.getImmediateChild(d)):new ma(this.source,Cr(this.path),this.snap)}}class uo{constructor(d,h,C){this.source=d,this.path=h,this.children=C,this.type=Rs.MERGE}operationForChild(d){if(Ti(this.path)){const h=this.children.subtree(new ir(d));return h.isEmpty()?null:h.value?new ma(this.source,vr(),h.value):new uo(this.source,vr(),h)}return(0,ge.vA)(ar(this.path)===d,"Can't get a merge for a child not on the path of the operation"),new uo(this.source,Cr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ha{constructor(d,h,C){this.node_=d,this.fullyInitialized_=h,this.filtered_=C}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(d){if(Ti(d))return this.isFullyInitialized()&&!this.filtered_;const h=ar(d);return this.isCompleteForChild(h)}isCompleteForChild(d){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(d)}getNode(){return this.node_}}class ho{constructor(d){this.query_=d,this.index_=this.query_._queryParams.getIndex()}}function Ra(g,d,h,C,N,z){const ee=C.filter(be=>be.type===h);ee.sort((be,Pe)=>function ia(g,d,h){if(null==d.childName||null==h.childName)throw(0,ge.Hk)("Should only compare child_ events.");const C=new Gi(d.childName,d.snapshotNode),N=new Gi(h.childName,h.snapshotNode);return g.index_.compare(C,N)}(g,be,Pe)),ee.forEach(be=>{const Pe=function vc(g,d,h){return"value"===d.type||"child_removed"===d.type||(d.prevName=h.getPredecessorChildName(d.childName,d.snapshotNode,g.index_)),d}(g,be,z);N.forEach(qe=>{qe.respondsTo(be.type)&&d.push(qe.createEvent(Pe,g.query_))})})}function Ds(g,d){return{eventCache:g,serverCache:d}}function ra(g,d,h,C){return Ds(new Ha(d,h,C),g.serverCache)}function tl(g,d,h,C){return Ds(g.eventCache,new Ha(d,h,C))}function fo(g){return g.eventCache.isFullyInitialized()?g.eventCache.getNode():null}function Ui(g){return g.serverCache.isFullyInitialized()?g.serverCache.getNode():null}let dl;class Sr{constructor(d,h=(()=>(dl||(dl=new Dr(bt)),dl))()){this.value=d,this.children=h}static fromObject(d){let h=new Sr(null);return Qe(d,(C,N)=>{h=h.set(new ir(C),N)}),h}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(d,h){if(null!=this.value&&h(this.value))return{path:vr(),value:this.value};if(Ti(d))return null;{const C=ar(d),N=this.children.get(C);if(null!==N){const z=N.findRootMostMatchingPathAndValue(Cr(d),h);return null!=z?{path:Mr(new ir(C),z.path),value:z.value}:null}return null}}findRootMostValueAndPath(d){return this.findRootMostMatchingPathAndValue(d,()=>!0)}subtree(d){if(Ti(d))return this;{const h=ar(d),C=this.children.get(h);return null!==C?C.subtree(Cr(d)):new Sr(null)}}set(d,h){if(Ti(d))return new Sr(h,this.children);{const C=ar(d),z=(this.children.get(C)||new Sr(null)).set(Cr(d),h),ee=this.children.insert(C,z);return new Sr(this.value,ee)}}remove(d){if(Ti(d))return this.children.isEmpty()?new Sr(null):new Sr(null,this.children);{const h=ar(d),C=this.children.get(h);if(C){const N=C.remove(Cr(d));let z;return z=N.isEmpty()?this.children.remove(h):this.children.insert(h,N),null===this.value&&z.isEmpty()?new Sr(null):new Sr(this.value,z)}return this}}get(d){if(Ti(d))return this.value;{const h=ar(d),C=this.children.get(h);return C?C.get(Cr(d)):null}}setTree(d,h){if(Ti(d))return h;{const C=ar(d),z=(this.children.get(C)||new Sr(null)).setTree(Cr(d),h);let ee;return ee=z.isEmpty()?this.children.remove(C):this.children.insert(C,z),new Sr(this.value,ee)}}fold(d){return this.fold_(vr(),d)}fold_(d,h){const C={};return this.children.inorderTraversal((N,z)=>{C[N]=z.fold_(Mr(d,N),h)}),h(d,this.value,C)}findOnPath(d,h){return this.findOnPath_(d,vr(),h)}findOnPath_(d,h,C){const N=!!this.value&&C(h,this.value);if(N)return N;if(Ti(d))return null;{const z=ar(d),ee=this.children.get(z);return ee?ee.findOnPath_(Cr(d),Mr(h,z),C):null}}foreachOnPath(d,h){return this.foreachOnPath_(d,vr(),h)}foreachOnPath_(d,h,C){if(Ti(d))return this;{this.value&&C(h,this.value);const N=ar(d),z=this.children.get(N);return z?z.foreachOnPath_(Cr(d),Mr(h,N),C):new Sr(null)}}foreach(d){this.foreach_(vr(),d)}foreach_(d,h){this.children.inorderTraversal((C,N)=>{N.foreach_(Mr(d,C),h)}),this.value&&h(d,this.value)}foreachChild(d){this.children.inorderTraversal((h,C)=>{C.value&&d(h,C.value)})}}class V{constructor(d){this.writeTree_=d}static empty(){return new V(new Sr(null))}}function J(g,d,h){if(Ti(d))return new V(new Sr(h));{const C=g.writeTree_.findRootMostValueAndPath(d);if(null!=C){const N=C.path;let z=C.value;const ee=rr(N,d);return z=z.updateChild(ee,h),new V(g.writeTree_.set(N,z))}{const N=new Sr(h),z=g.writeTree_.setTree(d,N);return new V(z)}}}function R(g,d,h){let C=g;return Qe(h,(N,z)=>{C=J(C,Mr(d,N),z)}),C}function $(g,d){if(Ti(d))return V.empty();{const h=g.writeTree_.setTree(d,new Sr(null));return new V(h)}}function ne(g,d){return null!=ve(g,d)}function ve(g,d){const h=g.writeTree_.findRootMostValueAndPath(d);return null!=h?g.writeTree_.get(h.path).getChild(rr(h.path,d)):null}function We(g){const d=[],h=g.writeTree_.value;return null!=h?h.isLeafNode()||h.forEachChild(kr,(C,N)=>{d.push(new Gi(C,N))}):g.writeTree_.children.inorderTraversal((C,N)=>{null!=N.value&&d.push(new Gi(C,N.value))}),d}function dt(g,d){if(Ti(d))return g;{const h=ve(g,d);return new V(null!=h?new Sr(h):g.writeTree_.subtree(d))}}function an(g){return g.writeTree_.isEmpty()}function Dt(g,d){return ln(vr(),g.writeTree_,d)}function ln(g,d,h){if(null!=d.value)return h.updateChild(g,d.value);{let C=null;return d.children.inorderTraversal((N,z)=>{".priority"===N?((0,ge.vA)(null!==z.value,"Priority writes must always be leaf nodes"),C=z.value):h=ln(Mr(g,N),z,h)}),!h.getChild(g).isEmpty()&&null!==C&&(h=h.updateChild(Mr(g,".priority"),C)),h}}function Gn(g,d){return vs(d,g)}function te(g,d){if(g.snap)return Tr(g.path,d);for(const h in g.children)if(g.children.hasOwnProperty(h)&&Tr(Mr(g.path,h),d))return!0;return!1}function Ct(g){return g.visible}function Pt(g,d,h){let C=V.empty();for(let N=0;N<g.length;++N){const z=g[N];if(d(z)){const ee=z.path;let be;if(z.snap)Tr(h,ee)?(be=rr(h,ee),C=J(C,be,z.snap)):Tr(ee,h)&&(be=rr(ee,h),C=J(C,vr(),z.snap.getChild(be)));else{if(!z.children)throw(0,ge.Hk)("WriteRecord should have .snap or .children");if(Tr(h,ee))be=rr(h,ee),C=R(C,be,z.children);else if(Tr(ee,h))if(be=rr(ee,h),Ti(be))C=R(C,vr(),z.children);else{const Pe=(0,ge.yw)(z.children,ar(be));if(Pe){const qe=Pe.getChild(Cr(be));C=J(C,vr(),qe)}}}}}return C}function Sn(g,d,h,C,N){if(C||N){const z=dt(g.visibleWrites,d);return!N&&an(z)?h:N||null!=h||ne(z,vr())?Dt(Pt(g.allWrites,function(qe){return(qe.visible||N)&&(!C||!~C.indexOf(qe.writeId))&&(Tr(qe.path,d)||Tr(d,qe.path))},d),h||Bi.EMPTY_NODE):null}{const z=ve(g.visibleWrites,d);if(null!=z)return z;{const ee=dt(g.visibleWrites,d);return an(ee)?h:null!=h||ne(ee,vr())?Dt(ee,h||Bi.EMPTY_NODE):null}}}function Fn(g,d,h,C){return Sn(g.writeTree,g.treePath,d,h,C)}function In(g,d){return function Di(g,d,h){let C=Bi.EMPTY_NODE;const N=ve(g.visibleWrites,d);if(N)return N.isLeafNode()||N.forEachChild(kr,(z,ee)=>{C=C.updateImmediateChild(z,ee)}),C;if(h){const z=dt(g.visibleWrites,d);return h.forEachChild(kr,(ee,be)=>{const Pe=Dt(dt(z,new ir(ee)),be);C=C.updateImmediateChild(ee,Pe)}),We(z).forEach(ee=>{C=C.updateImmediateChild(ee.name,ee.node)}),C}return We(dt(g.visibleWrites,d)).forEach(ee=>{C=C.updateImmediateChild(ee.name,ee.node)}),C}(g.writeTree,g.treePath,d)}function _n(g,d,h,C){return function Ni(g,d,h,C,N){(0,ge.vA)(C||N,"Either existingEventSnap or existingServerSnap must exist");const z=Mr(d,h);if(ne(g.visibleWrites,z))return null;{const ee=dt(g.visibleWrites,z);return an(ee)?N.getChild(h):Dt(ee,N.getChild(h))}}(g.writeTree,g.treePath,d,h,C)}function Ln(g,d){return function Qn(g,d){return ve(g.visibleWrites,d)}(g.writeTree,Mr(g.treePath,d))}function is(g,d,h){return function sr(g,d,h,C){const N=Mr(d,h),z=ve(g.visibleWrites,N);return null!=z?z:C.isCompleteForChild(h)?Dt(dt(g.visibleWrites,N),C.getNode().getImmediateChild(h)):null}(g.writeTree,g.treePath,d,h)}function Gr(g,d){return vs(Mr(g.treePath,d),g.writeTree)}function vs(g,d){return{treePath:g,writeTree:d}}class rs{constructor(){this.changeMap=new Map}trackChildChange(d){const h=d.type,C=d.childName;(0,ge.vA)("child_added"===h||"child_changed"===h||"child_removed"===h,"Only child changes supported for tracking"),(0,ge.vA)(".priority"!==C,"Only non-priority child changes can be tracked.");const N=this.changeMap.get(C);if(N){const z=N.type;if("child_added"===h&&"child_removed"===z)this.changeMap.set(C,ji(C,d.snapshotNode,N.snapshotNode));else if("child_removed"===h&&"child_added"===z)this.changeMap.delete(C);else if("child_removed"===h&&"child_changed"===z)this.changeMap.set(C,ii(C,N.oldSnap));else if("child_changed"===h&&"child_added"===z)this.changeMap.set(C,lt(C,d.snapshotNode));else{if("child_changed"!==h||"child_changed"!==z)throw(0,ge.Hk)("Illegal combination of changes: "+d+" occurred after "+N);this.changeMap.set(C,ji(C,d.snapshotNode,N.oldSnap))}}else this.changeMap.set(C,d)}getChanges(){return Array.from(this.changeMap.values())}}const Hi=new class Xr{getCompleteChild(d){return null}getChildAfterChild(d,h,C){return null}};class Pi{constructor(d,h,C=null){this.writes_=d,this.viewCache_=h,this.optCompleteServerCache_=C}getCompleteChild(d){const h=this.viewCache_.eventCache;if(h.isCompleteForChild(d))return h.getNode().getImmediateChild(d);{const C=null!=this.optCompleteServerCache_?new Ha(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return is(this.writes_,d,C)}}getChildAfterChild(d,h,C){const N=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ui(this.viewCache_),z=function Lr(g,d,h,C,N,z){return function vi(g,d,h,C,N,z,ee){let be;const Pe=dt(g.visibleWrites,d),qe=ve(Pe,vr());if(null!=qe)be=qe;else{if(null==h)return[];be=Dt(Pe,h)}if(be=be.withIndex(ee),be.isEmpty()||be.isLeafNode())return[];{const Ut=[],Xt=ee.getCompare(),dn=z?be.getReverseIteratorFrom(C,ee):be.getIteratorFrom(C,ee);let zn=dn.getNext();for(;zn&&Ut.length<N;)0!==Xt(zn,C)&&Ut.push(zn),zn=dn.getNext();return Ut}}(g.writeTree,g.treePath,d,h,C,N,z)}(this.writes_,N,h,1,C,d);return 0===z.length?null:z[0]}}function ps(g,d,h,C,N,z){const ee=d.eventCache;if(null!=Ln(C,h))return d;{let be,Pe;if(Ti(h))if((0,ge.vA)(d.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),d.serverCache.isFiltered()){const qe=Ui(d),Xt=In(C,qe instanceof Bi?qe:Bi.EMPTY_NODE);be=g.filter.updateFullNode(d.eventCache.getNode(),Xt,z)}else{const qe=Fn(C,Ui(d));be=g.filter.updateFullNode(d.eventCache.getNode(),qe,z)}else{const qe=ar(h);if(".priority"===qe){(0,ge.vA)(1===Hr(h),"Can't have a priority with additional path components");const Ut=ee.getNode();Pe=d.serverCache.getNode();const Xt=_n(C,h,Ut,Pe);be=null!=Xt?g.filter.updatePriority(Ut,Xt):ee.getNode()}else{const Ut=Cr(h);let Xt;if(ee.isCompleteForChild(qe)){Pe=d.serverCache.getNode();const dn=_n(C,h,ee.getNode(),Pe);Xt=null!=dn?ee.getNode().getImmediateChild(qe).updateChild(Ut,dn):ee.getNode().getImmediateChild(qe)}else Xt=is(C,qe,d.serverCache);be=null!=Xt?g.filter.updateChild(ee.getNode(),qe,Xt,Ut,N,z):ee.getNode()}}return ra(d,be,ee.isFullyInitialized()||Ti(h),g.filter.filtersNodes())}}function Ga(g,d,h,C,N,z,ee,be){const Pe=d.serverCache;let qe;const Ut=ee?g.filter:g.filter.getIndexedFilter();if(Ti(h))qe=Ut.updateFullNode(Pe.getNode(),C,null);else if(Ut.filtersNodes()&&!Pe.isFiltered()){const zn=Pe.getNode().updateChild(h,C);qe=Ut.updateFullNode(Pe.getNode(),zn,null)}else{const zn=ar(h);if(!Pe.isCompleteForPath(h)&&Hr(h)>1)return d;const mi=Cr(h),$r=Pe.getNode().getImmediateChild(zn).updateChild(mi,C);qe=".priority"===zn?Ut.updatePriority(Pe.getNode(),$r):Ut.updateChild(Pe.getNode(),zn,$r,mi,Hi,null)}const Xt=tl(d,qe,Pe.isFullyInitialized()||Ti(h),Ut.filtersNodes());return ps(g,Xt,h,N,new Pi(N,Xt,z),be)}function ka(g,d,h,C,N,z,ee){const be=d.eventCache;let Pe,qe;const Ut=new Pi(N,d,z);if(Ti(h))qe=g.filter.updateFullNode(d.eventCache.getNode(),C,ee),Pe=ra(d,qe,!0,g.filter.filtersNodes());else{const Xt=ar(h);if(".priority"===Xt)qe=g.filter.updatePriority(d.eventCache.getNode(),C),Pe=ra(d,qe,be.isFullyInitialized(),be.isFiltered());else{const dn=Cr(h),zn=be.getNode().getImmediateChild(Xt);let mi;if(Ti(dn))mi=C;else{const dr=Ut.getCompleteChild(Xt);mi=null!=dr?".priority"===Qi(dn)&&dr.getChild(ki(dn)).isEmpty()?dr:dr.updateChild(dn,C):Bi.EMPTY_NODE}Pe=zn.equals(mi)?d:ra(d,g.filter.updateChild(be.getNode(),Xt,mi,dn,Ut,ee),be.isFullyInitialized(),g.filter.filtersNodes())}}return Pe}function Or(g,d){return g.eventCache.isCompleteForChild(d)}function Wa(g,d,h){return h.foreach((C,N)=>{d=d.updateChild(C,N)}),d}function _a(g,d,h,C,N,z,ee,be){if(d.serverCache.getNode().isEmpty()&&!d.serverCache.isFullyInitialized())return d;let qe,Pe=d;qe=Ti(h)?C:new Sr(null).setTree(h,C);const Ut=d.serverCache.getNode();return qe.children.inorderTraversal((Xt,dn)=>{if(Ut.hasChild(Xt)){const mi=Wa(0,d.serverCache.getNode().getImmediateChild(Xt),dn);Pe=Ga(g,Pe,new ir(Xt),mi,N,z,ee,be)}}),qe.children.inorderTraversal((Xt,dn)=>{const zn=!d.serverCache.isCompleteForChild(Xt)&&null===dn.value;if(!Ut.hasChild(Xt)&&!zn){const dr=Wa(0,d.serverCache.getNode().getImmediateChild(Xt),dn);Pe=Ga(g,Pe,new ir(Xt),dr,N,z,ee,be)}}),Pe}class yc{constructor(d,h){this.query_=d,this.eventRegistrations_=[];const C=this.query_._queryParams,N=new fa(C.getIndex()),z=function Ja(g){return g.loadsAllData()?new fa(g.getIndex()):g.hasLimit()?new Sa(g):new As(g)}(C);this.processor_=function Xi(g){return{filter:g}}(z);const ee=h.serverCache,be=h.eventCache,Pe=N.updateFullNode(Bi.EMPTY_NODE,ee.getNode(),null),qe=z.updateFullNode(Bi.EMPTY_NODE,be.getNode(),null),Ut=new Ha(Pe,ee.isFullyInitialized(),N.filtersNodes()),Xt=new Ha(qe,be.isFullyInitialized(),z.filtersNodes());this.viewCache_=Ds(Xt,Ut),this.eventGenerator_=new ho(this.query_)}get query(){return this.query_}}function hl(g,d){const h=Ui(g.viewCache_);return h&&(g.query._queryParams.loadsAllData()||!Ti(d)&&!h.getImmediateChild(ar(d)).isEmpty())?h.getChild(d):null}function nl(g){return 0===g.eventRegistrations_.length}function Gc(g,d,h){const C=[];if(h){(0,ge.vA)(null==d,"A cancel should cancel all event registrations.");const N=g.query._path;g.eventRegistrations_.forEach(z=>{const ee=z.createCancelEvent(h,N);ee&&C.push(ee)})}if(d){let N=[];for(let z=0;z<g.eventRegistrations_.length;++z){const ee=g.eventRegistrations_[z];if(ee.matches(d)){if(d.hasAnyCallback()){N=N.concat(g.eventRegistrations_.slice(z+1));break}}else N.push(ee)}g.eventRegistrations_=N}else g.eventRegistrations_=[];return C}function Co(g,d,h,C){d.type===Rs.MERGE&&null!==d.source.queryId&&((0,ge.vA)(Ui(g.viewCache_),"We should always have a full cache before handling merges"),(0,ge.vA)(fo(g.viewCache_),"Missing event cache, even though we have a server cache"));const N=g.viewCache_,z=function $l(g,d,h,C,N){const z=new rs;let ee,be;if(h.type===Rs.OVERWRITE){const qe=h;qe.source.fromUser?ee=ka(g,d,qe.path,qe.snap,C,N,z):((0,ge.vA)(qe.source.fromServer,"Unknown source."),be=qe.source.tagged||d.serverCache.isFiltered()&&!Ti(qe.path),ee=Ga(g,d,qe.path,qe.snap,C,N,be,z))}else if(h.type===Rs.MERGE){const qe=h;qe.source.fromUser?ee=function po(g,d,h,C,N,z,ee){let be=d;return C.foreach((Pe,qe)=>{const Ut=Mr(h,Pe);Or(d,ar(Ut))&&(be=ka(g,be,Ut,qe,N,z,ee))}),C.foreach((Pe,qe)=>{const Ut=Mr(h,Pe);Or(d,ar(Ut))||(be=ka(g,be,Ut,qe,N,z,ee))}),be}(g,d,qe.path,qe.children,C,N,z):((0,ge.vA)(qe.source.fromServer,"Unknown source."),be=qe.source.tagged||d.serverCache.isFiltered(),ee=_a(g,d,qe.path,qe.children,C,N,be,z))}else if(h.type===Rs.ACK_USER_WRITE){const qe=h;ee=qe.revert?function lr(g,d,h,C,N,z){let ee;if(null!=Ln(C,h))return d;{const be=new Pi(C,d,N),Pe=d.eventCache.getNode();let qe;if(Ti(h)||".priority"===ar(h)){let Ut;if(d.serverCache.isFullyInitialized())Ut=Fn(C,Ui(d));else{const Xt=d.serverCache.getNode();(0,ge.vA)(Xt instanceof Bi,"serverChildren would be complete if leaf node"),Ut=In(C,Xt)}qe=g.filter.updateFullNode(Pe,Ut,z)}else{const Ut=ar(h);let Xt=is(C,Ut,d.serverCache);null==Xt&&d.serverCache.isCompleteForChild(Ut)&&(Xt=Pe.getImmediateChild(Ut)),qe=null!=Xt?g.filter.updateChild(Pe,Ut,Xt,Cr(h),be,z):d.eventCache.getNode().hasChild(Ut)?g.filter.updateChild(Pe,Ut,Bi.EMPTY_NODE,Cr(h),be,z):Pe,qe.isEmpty()&&d.serverCache.isFullyInitialized()&&(ee=Fn(C,Ui(d)),ee.isLeafNode()&&(qe=g.filter.updateFullNode(qe,ee,z)))}return ee=d.serverCache.isFullyInitialized()||null!=Ln(C,vr()),ra(d,qe,ee,g.filter.filtersNodes())}}(g,d,qe.path,C,N,z):function Jr(g,d,h,C,N,z,ee){if(null!=Ln(N,h))return d;const be=d.serverCache.isFiltered(),Pe=d.serverCache;if(null!=C.value){if(Ti(h)&&Pe.isFullyInitialized()||Pe.isCompleteForPath(h))return Ga(g,d,h,Pe.getNode().getChild(h),N,z,be,ee);if(Ti(h)){let qe=new Sr(null);return Pe.getNode().forEachChild(hs,(Ut,Xt)=>{qe=qe.set(new ir(Ut),Xt)}),_a(g,d,h,qe,N,z,be,ee)}return d}{let qe=new Sr(null);return C.foreach((Ut,Xt)=>{const dn=Mr(h,Ut);Pe.isCompleteForPath(dn)&&(qe=qe.set(Ut,Pe.getNode().getChild(dn)))}),_a(g,d,h,qe,N,z,be,ee)}}(g,d,qe.path,qe.affectedTree,C,N,z)}else{if(h.type!==Rs.LISTEN_COMPLETE)throw(0,ge.Hk)("Unknown operation type: "+h.type);ee=function Kl(g,d,h,C,N){const z=d.serverCache;return ps(g,tl(d,z.getNode(),z.isFullyInitialized()||Ti(h),z.isFiltered()),h,C,Hi,N)}(g,d,h.path,C,z)}const Pe=z.getChanges();return function zl(g,d,h){const C=d.eventCache;if(C.isFullyInitialized()){const N=C.getNode().isLeafNode()||C.getNode().isEmpty(),z=fo(g);(h.length>0||!g.eventCache.isFullyInitialized()||N&&!C.getNode().equals(z)||!C.getNode().getPriority().equals(z.getPriority()))&&h.push(De(fo(d)))}}(d,ee,Pe),{viewCache:ee,changes:Pe}}(g.processor_,N,d,h,C);return function Ma(g,d){(0,ge.vA)(d.eventCache.getNode().isIndexed(g.filter.getIndex()),"Event snap not indexed"),(0,ge.vA)(d.serverCache.getNode().isIndexed(g.filter.getIndex()),"Server snap not indexed")}(g.processor_,z.viewCache),(0,ge.vA)(z.viewCache.serverCache.isFullyInitialized()||!N.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),g.viewCache_=z.viewCache,Al(g,z.changes,z.viewCache.eventCache.getNode(),null)}function Al(g,d,h,C){return function ic(g,d,h,C){const N=[],z=[];return d.forEach(ee=>{"child_changed"===ee.type&&g.index_.indexedValueChanged(ee.oldSnap,ee.snapshotNode)&&z.push(function ea(g,d){return{type:"child_moved",snapshotNode:d,childName:g}}(ee.childName,ee.snapshotNode))}),Ra(g,N,"child_removed",d,C,h),Ra(g,N,"child_added",d,C,h),Ra(g,N,"child_moved",z,C,h),Ra(g,N,"child_changed",d,C,h),Ra(g,N,"value",d,C,h),N}(g.eventGenerator_,d,h,C?[C]:g.eventRegistrations_)}let fl,Ce;class rc{constructor(){this.views=new Map}}function ru(g,d,h,C){const N=d.source.queryId;if(null!==N){const z=g.views.get(N);return(0,ge.vA)(null!=z,"SyncTree gave us an op for an invalid query."),Co(z,d,h,C)}{let z=[];for(const ee of g.views.values())z=z.concat(Co(ee,d,h,C));return z}}function va(g,d,h,C,N){const ee=g.views.get(d._queryIdentifier);if(!ee){let be=Fn(h,N?C:null),Pe=!1;be?Pe=!0:C instanceof Bi?(be=In(h,C),Pe=!1):(be=Bi.EMPTY_NODE,Pe=!1);const qe=Ds(new Ha(be,Pe,!1),new Ha(C,N,!1));return new yc(d,qe)}return ee}function bc(g){const d=[];for(const h of g.views.values())h.query._queryParams.loadsAllData()||d.push(h);return d}function P(g,d){let h=null;for(const C of g.views.values())h=h||hl(C,d);return h}function K(g,d){return d._queryParams.loadsAllData()?ae(g):g.views.get(d._queryIdentifier)}function j(g,d){return null!=K(g,d)}function Y(g){return null!=ae(g)}function ae(g){for(const d of g.views.values())if(d.query._queryParams.loadsAllData())return d;return null}let Kt=1;class fi{constructor(d){this.listenProvider_=d,this.syncPointTree_=new Sr(null),this.pendingWriteTree_=function ui(){return{visibleWrites:V.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function fr(g,d,h,C,N){return function di(g,d,h,C,N){(0,ge.vA)(C>g.lastWriteId,"Stacking an older write on top of newer ones"),void 0===N&&(N=!0),g.allWrites.push({path:d,snap:h,writeId:C,visible:N}),N&&(g.visibleWrites=J(g.visibleWrites,d,h)),g.lastWriteId=C}(g.pendingWriteTree_,d,h,C,N),N?Na(g,new ma({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,h)):[]}function ss(g,d,h=!1){const C=function de(g,d){for(let h=0;h<g.allWrites.length;h++){const C=g.allWrites[h];if(C.writeId===d)return C}return null}(g.pendingWriteTree_,d);if(function X(g,d){const h=g.allWrites.findIndex(be=>be.writeId===d);(0,ge.vA)(h>=0,"removeWrite called with nonexistent writeId.");const C=g.allWrites[h];g.allWrites.splice(h,1);let N=C.visible,z=!1,ee=g.allWrites.length-1;for(;N&&ee>=0;){const be=g.allWrites[ee];be.visible&&(ee>=h&&te(be,C.path)?N=!1:Tr(C.path,be.path)&&(z=!0)),ee--}return!!N&&(z?(function Ae(g){g.visibleWrites=Pt(g.allWrites,Ct,vr()),g.lastWriteId=g.allWrites.length>0?g.allWrites[g.allWrites.length-1].writeId:-1}(g),!0):(C.snap?g.visibleWrites=$(g.visibleWrites,C.path):Qe(C.children,Pe=>{g.visibleWrites=$(g.visibleWrites,Mr(C.path,Pe))}),!0))}(g.pendingWriteTree_,d)){let z=new Sr(null);return null!=C.snap?z=z.set(vr(),!0):Qe(C.children,ee=>{z=z.set(new ir(ee),!0)}),Na(g,new Vo(C.path,z,h))}return[]}function $a(g,d,h){return Na(g,new ma({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,h))}function Ml(g,d,h,C,N=!1){const z=d._path,ee=g.syncPointTree_.get(z);let be=[];if(ee&&("default"===d._queryIdentifier||j(ee,d))){const Pe=function su(g,d,h,C){const N=d._queryIdentifier,z=[];let ee=[];const be=Y(g);if("default"===N)for(const[Pe,qe]of g.views.entries())ee=ee.concat(Gc(qe,h,C)),nl(qe)&&(g.views.delete(Pe),qe.query._queryParams.loadsAllData()||z.push(qe.query));else{const Pe=g.views.get(N);Pe&&(ee=ee.concat(Gc(Pe,h,C)),nl(Pe)&&(g.views.delete(N),Pe.query._queryParams.loadsAllData()||z.push(Pe.query)))}return be&&!Y(g)&&z.push(new(function Rl(){return(0,ge.vA)(fl,"Reference.ts has not been loaded"),fl}())(d._repo,d._path)),{removed:z,events:ee}}(ee,d,h,C);(function iu(g){return 0===g.views.size})(ee)&&(g.syncPointTree_=g.syncPointTree_.remove(z));const qe=Pe.removed;if(be=Pe.events,!N){const Ut=-1!==qe.findIndex(dn=>dn._queryParams.loadsAllData()),Xt=g.syncPointTree_.findOnPath(z,(dn,zn)=>Y(zn));if(Ut&&!Xt){const dn=g.syncPointTree_.subtree(z);if(!dn.isEmpty()){const zn=function Cc(g){return g.fold((d,h,C)=>{if(h&&Y(h))return[ae(h)];{let N=[];return h&&(N=bc(h)),Qe(C,(z,ee)=>{N=N.concat(ee)}),N}})}(dn);for(let mi=0;mi<zn.length;++mi){const dr=zn[mi],$r=dr.query,Ho=vu(g,dr);g.listenProvider_.startListening(Yc($r),sc(g,$r),Ho.hashFn,Ho.onComplete)}}}!Xt&&qe.length>0&&!C&&(Ut?g.listenProvider_.stopListening(Yc(d),null):qe.forEach(dn=>{const zn=g.queryToTagMap.get(gl(dn));g.listenProvider_.stopListening(Yc(dn),zn)}))}!function ou(g,d){for(let h=0;h<d.length;++h){const C=d[h];if(!C._queryParams.loadsAllData()){const N=gl(C),z=g.queryToTagMap.get(N);g.queryToTagMap.delete(N),g.tagToQueryMap.delete(z)}}}(g,qe)}return be}function kl(g,d,h,C){const N=sa(g,C);if(null!=N){const z=il(N),ee=z.path,be=z.queryId,Pe=rr(ee,d);return Nl(g,ee,new ma(to(be),Pe,h))}return[]}function zc(g,d,h,C=!1){const N=d._path;let z=null,ee=!1;g.syncPointTree_.foreachOnPath(N,(dn,zn)=>{const mi=rr(dn,N);z=z||P(zn,mi),ee=ee||Y(zn)});let Pe,be=g.syncPointTree_.get(N);be?(ee=ee||Y(be),z=z||P(be,vr())):(be=new rc,g.syncPointTree_=g.syncPointTree_.set(N,be)),null!=z?Pe=!0:(Pe=!1,z=Bi.EMPTY_NODE,g.syncPointTree_.subtree(N).foreachChild((zn,mi)=>{const dr=P(mi,vr());dr&&(z=z.updateImmediateChild(zn,dr))}));const qe=j(be,d);if(!qe&&!d._queryParams.loadsAllData()){const dn=gl(d);(0,ge.vA)(!g.queryToTagMap.has(dn),"View does not exist, but we have a tag");const zn=function us(){return Kt++}();g.queryToTagMap.set(dn,zn),g.tagToQueryMap.set(zn,dn)}let Xt=function pl(g,d,h,C,N,z){const ee=va(g,d,C,N,z);return g.views.has(d._queryIdentifier)||g.views.set(d._queryIdentifier,ee),function go(g,d){g.eventRegistrations_.push(d)}(ee,h),function To(g,d){const h=g.viewCache_.eventCache,C=[];return h.getNode().isLeafNode()||h.getNode().forEachChild(kr,(z,ee)=>{C.push(lt(z,ee))}),h.isFullyInitialized()&&C.push(De(h.getNode())),Al(g,C,h.getNode(),d)}(ee,h)}(be,d,h,Gn(g.pendingWriteTree_,N),z,Pe);if(!qe&&!ee&&!C){const dn=K(be,d);Xt=Xt.concat(function Ol(g,d,h){const C=d._path,N=sc(g,d),z=vu(g,h),ee=g.listenProvider_.startListening(Yc(d),N,z.hashFn,z.onComplete),be=g.syncPointTree_.subtree(C);if(N)(0,ge.vA)(!Y(be.value),"If we're adding a query, it shouldn't be shadowed");else{const Pe=be.fold((qe,Ut,Xt)=>{if(!Ti(qe)&&Ut&&Y(Ut))return[ae(Ut).query];{let dn=[];return Ut&&(dn=dn.concat(bc(Ut).map(zn=>zn.query))),Qe(Xt,(zn,mi)=>{dn=dn.concat(mi)}),dn}});for(let qe=0;qe<Pe.length;++qe){const Ut=Pe[qe];g.listenProvider_.stopListening(Yc(Ut),sc(g,Ut))}}return ee}(g,d,dn))}return Xt}function _u(g,d,h){const N=g.pendingWriteTree_,z=g.syncPointTree_.findOnPath(d,(ee,be)=>{const qe=P(be,rr(ee,d));if(qe)return qe});return Sn(N,d,z,h,!0)}function Na(g,d){return Kc(d,g.syncPointTree_,null,Gn(g.pendingWriteTree_,vr()))}function Kc(g,d,h,C){if(Ti(g.path))return Id(g,d,h,C);{const N=d.get(vr());null==h&&null!=N&&(h=P(N,vr()));let z=[];const ee=ar(g.path),be=g.operationForChild(ee),Pe=d.children.get(ee);if(Pe&&be){const qe=h?h.getImmediateChild(ee):null,Ut=Gr(C,ee);z=z.concat(Kc(be,Pe,qe,Ut))}return N&&(z=z.concat(ru(N,g,C,h))),z}}function Id(g,d,h,C){const N=d.get(vr());null==h&&null!=N&&(h=P(N,vr()));let z=[];return d.children.inorderTraversal((ee,be)=>{const Pe=h?h.getImmediateChild(ee):null,qe=Gr(C,ee),Ut=g.operationForChild(ee);Ut&&(z=z.concat(Id(Ut,be,Pe,qe)))}),N&&(z=z.concat(ru(N,g,C,h))),z}function vu(g,d){const h=d.query,C=sc(g,h);return{hashFn:()=>(function Sl(g){return g.viewCache_.serverCache.getNode()}(d)||Bi.EMPTY_NODE).hash(),onComplete:N=>{if("ok"===N)return C?function $c(g,d,h){const C=sa(g,h);if(C){const N=il(C),z=N.path,ee=N.queryId,be=rr(z,d);return Nl(g,z,new Aa(to(ee),be))}return[]}(g,h._path,C):function Wc(g,d){return Na(g,new Aa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d))}(g,h._path);{const z=function Nn(g,d){let h="Unknown Error";"too_big"===g?h="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===g?h="Client doesn't have permission to access the desired data.":"unavailable"===g&&(h="The service is unavailable");const C=new Error(g+" at "+d._path.toString()+": "+h);return C.code=g.toUpperCase(),C}(N,h);return Ml(g,h,null,z)}}}}function sc(g,d){const h=gl(d);return g.queryToTagMap.get(h)}function gl(g){return g._path.toString()+"$"+g._queryIdentifier}function sa(g,d){return g.tagToQueryMap.get(d)}function il(g){const d=g.indexOf("$");return(0,ge.vA)(-1!==d&&d<g.length-1,"Bad queryKey."),{queryId:g.substr(d+1),path:new ir(g.substr(0,d))}}function Nl(g,d,h){const C=g.syncPointTree_.get(d);return(0,ge.vA)(C,"Missing sync point for query tag that we're tracking"),ru(C,h,Gn(g.pendingWriteTree_,d),null)}function Yc(g){return g._queryParams.loadsAllData()&&!g._queryParams.isDefault()?new(function nn(){return(0,ge.vA)(Ce,"Reference.ts has not been loaded"),Ce}())(g._repo,g._path):g}class xl{constructor(d){this.node_=d}getImmediateChild(d){const h=this.node_.getImmediateChild(d);return new xl(h)}node(){return this.node_}}class zo{constructor(d,h){this.syncTree_=d,this.path_=h}getImmediateChild(d){const h=Mr(this.path_,d);return new zo(this.syncTree_,h)}node(){return _u(this.syncTree_,this.path_)}}const yh=function(g){return(g=g||{}).timestamp=g.timestamp||(new Date).getTime(),g},Tc=function(g,d,h){return g&&"object"==typeof g?((0,ge.vA)(".sv"in g,"Unexpected leaf node or priority contents"),"string"==typeof g[".sv"]?Yl(g[".sv"],d,h):"object"==typeof g[".sv"]?rl(g[".sv"],d):void(0,ge.vA)(!1,"Unexpected server value: "+JSON.stringify(g,null,2))):g},Yl=function(g,d,h){if("timestamp"===g)return h.timestamp;(0,ge.vA)(!1,"Unexpected server value: "+g)},rl=function(g,d,h){g.hasOwnProperty("increment")||(0,ge.vA)(!1,"Unexpected server value: "+JSON.stringify(g,null,2));const C=g.increment;"number"!=typeof C&&(0,ge.vA)(!1,"Unexpected increment value: "+C);const N=d.node();if((0,ge.vA)(null!==N&&typeof N<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!N.isLeafNode())return C;const ee=N.getValue();return"number"!=typeof ee?C:ee+C},au=function(g,d,h,C){return ju(d,new zo(h,g),C)},Bu=function(g,d,h){return ju(g,new xl(d),h)};function ju(g,d,h){const C=g.getPriority().val(),N=Tc(C,d.getImmediateChild(".priority"),h);let z;if(g.isLeafNode()){const ee=g,be=Tc(ee.getValue(),d,h);return be!==ee.getValue()||N!==ee.getPriority().val()?new ms(be,Nr(N)):g}{const ee=g;return z=ee,N!==ee.getPriority().val()&&(z=z.updatePriority(new ms(N))),ee.forEachChild(kr,(be,Pe)=>{const qe=ju(Pe,d.getImmediateChild(be),h);qe!==Pe&&(z=z.updateImmediateChild(be,qe))}),z}}class Pl{constructor(d="",h=null,C={children:{},childCount:0}){this.name=d,this.parent=h,this.node=C}}function yu(g,d){let h=d instanceof ir?d:new ir(d),C=g,N=ar(h);for(;null!==N;){const z=(0,ge.yw)(C.node.children,N)||{children:{},childCount:0};C=new Pl(N,C,z),h=Cr(h),N=ar(h)}return C}function Xc(g){return g.node.value}function Dc(g,d){g.node.value=d,tr(g)}function Fl(g){return g.node.childCount>0}function sl(g,d){Qe(g.node.children,(h,C)=>{d(new Pl(h,g,C))})}function Uu(g,d,h,C){h&&!C&&d(g),sl(g,N=>{Uu(N,d,!0,C)}),h&&C&&d(g)}function ml(g){return new ir(null===g.parent?g.name:ml(g.parent)+"/"+g.name)}function tr(g){null!==g.parent&&function Hu(g,d,h){const C=function Ic(g){return void 0===Xc(g)&&!Fl(g)}(h),N=(0,ge.gR)(g.node.children,d);C&&N?(delete g.node.children[d],g.node.childCount--,tr(g)):!C&&!N&&(g.node.children[d]=h.node,g.node.childCount++,tr(g))}(g.parent,g.name,g)}const Yd=/[\[\].#$\/\u0000-\u001F\u007F]/,bu=/[\[\].#$\u0000-\u001F\u007F]/,wu=10485760,ya=function(g){return"string"==typeof g&&0!==g.length&&!Yd.test(g)},Ms=function(g){return"string"==typeof g&&0!==g.length&&!bu.test(g)},oc=function(g){return null===g||"string"==typeof g||"number"==typeof g&&!Vn(g)||g&&"object"==typeof g&&(0,ge.gR)(g,".sv")},Ko=function(g,d,h,C){C&&void 0===d||Gu((0,ge.dI)(g,"value"),d,h)},Gu=function(g,d,h){const C=h instanceof ir?new cl(h,g):h;if(void 0===d)throw new Error(g+"contains undefined "+ns(C));if("function"==typeof d)throw new Error(g+"contains a function "+ns(C)+" with contents = "+d.toString());if(Vn(d))throw new Error(g+"contains "+d.toString()+" "+ns(C));if("string"==typeof d&&d.length>wu/3&&(0,ge.OE)(d)>wu)throw new Error(g+"contains a string greater than "+wu+" utf8 bytes "+ns(C)+" ('"+d.substring(0,50)+"...')");if(d&&"object"==typeof d){let N=!1,z=!1;if(Qe(d,(ee,be)=>{if(".value"===ee)N=!0;else if(".priority"!==ee&&".sv"!==ee&&(z=!0,!ya(ee)))throw new Error(g+" contains an invalid key ("+ee+") "+ns(C)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ua(g,d){g.parts_.length>0&&(g.byteLength_+=1),g.parts_.push(d),g.byteLength_+=(0,ge.OE)(d),Fa(g)})(C,ee),Gu(g,be,C),function Wr(g){const d=g.parts_.pop();g.byteLength_-=(0,ge.OE)(d),g.parts_.length>0&&(g.byteLength_-=1)}(C)}),N&&z)throw new Error(g+' contains ".value" child '+ns(C)+" in addition to actual children.")}},Ac=function(g,d,h,C){if(C&&void 0===d)return;const N=(0,ge.dI)(g,"values");if(!d||"object"!=typeof d||Array.isArray(d))throw new Error(N+" must be an object containing the children to replace.");const z=[];Qe(d,(ee,be)=>{const Pe=new ir(ee);if(Gu(N,be,Mr(h,Pe)),".priority"===Qi(Pe)&&!oc(be))throw new Error(N+"contains an invalid value for '"+Pe.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");z.push(Pe)}),function(g,d){let h,C;for(h=0;h<d.length;h++){C=d[h];const z=So(C);for(let ee=0;ee<z.length;ee++)if((".priority"!==z[ee]||ee!==z.length-1)&&!ya(z[ee]))throw new Error(g+"contains an invalid key ("+z[ee]+") in path "+C.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}d.sort(xo);let N=null;for(h=0;h<d.length;h++){if(C=d[h],null!==N&&Tr(N,C))throw new Error(g+"contains a path "+N.toString()+" that is ancestor of another path "+C.toString());N=C}}(N,z)},pn=function(g,d,h){if(!h||void 0!==d){if(Vn(d))throw new Error((0,ge.dI)(g,"priority")+"is "+d.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!oc(d))throw new Error((0,ge.dI)(g,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},or=function(g,d,h,C){if(!(C&&void 0===h||ya(h)))throw new Error((0,ge.dI)(g,d)+'was an invalid key = "'+h+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Xl=function(g,d,h,C){if(!(C&&void 0===h||Ms(h)))throw new Error((0,ge.dI)(g,d)+'was an invalid path = "'+h+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Eu=function(g,d,h,C){h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),Xl(g,d,h,C)},Wi=function(g,d){if(".info"===ar(d))throw new Error(g+" failed = Can't modify data under /.info/")},Cu=function(g,d){const h=d.path.toString();if("string"!=typeof d.repoInfo.host||0===d.repoInfo.host.length||!ya(d.repoInfo.namespace)&&"localhost"!==d.repoInfo.host.split(":")[0]||0!==h.length&&!function(g){return g&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),Ms(g)}(h))throw new Error((0,ge.dI)(g,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ac{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function oa(g,d){let h=null;for(let C=0;C<d.length;C++){const N=d[C],z=N.getPath();null!==h&&!Xs(z,h.path)&&(g.eventLists_.push(h),h=null),null===h&&(h={events:[],path:z}),h.events.push(N)}h&&g.eventLists_.push(h)}function ql(g,d,h){oa(g,h),_l(g,C=>Xs(C,d))}function ks(g,d,h){oa(g,h),_l(g,C=>Tr(C,d)||Tr(d,C))}function _l(g,d){g.recursionDepth_++;let h=!0;for(let C=0;C<g.eventLists_.length;C++){const N=g.eventLists_[C];N&&(d(N.path)?($u(g.eventLists_[C]),g.eventLists_[C]=null):h=!1)}h&&(g.eventLists_=[]),g.recursionDepth_--}function $u(g){for(let d=0;d<g.events.length;d++){const h=g.events[d];if(null!==h){g.events[d]=null;const C=h.getEventRunner();mt&&Ie("event: "+h.toString()),Fi(C)}}}const Ql="repo_interrupt",Yo=25;class mo{constructor(d,h,C,N){this.repoInfo_=d,this.forceRestClient_=h,this.authTokenProvider_=C,this.appCheckProvider_=N,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ac,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ga(),this.transactionQueueTree_=new Pl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xo(g){const h=g.infoData_.getNode(new ir(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+h}function za(g){return yh({timestamp:Xo(g)})}function ld(g,d,h,C,N){g.dataUpdateCount++;const z=new ir(d);h=g.interceptServerDataCallback_?g.interceptServerDataCallback_(d,h):h;let ee=[];if(N)if(C){const Pe=(0,ge.kH)(h,qe=>Nr(qe));ee=function Ec(g,d,h,C){const N=sa(g,C);if(N){const z=il(N),ee=z.path,be=z.queryId,Pe=rr(ee,d),qe=Sr.fromObject(h);return Nl(g,ee,new uo(to(be),Pe,qe))}return[]}(g.serverSyncTree_,z,Pe,N)}else{const Pe=Nr(h);ee=kl(g.serverSyncTree_,z,Pe,N)}else if(C){const Pe=(0,ge.kH)(h,qe=>Nr(qe));ee=function wc(g,d,h){const C=Sr.fromObject(h);return Na(g,new uo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,C))}(g.serverSyncTree_,z,Pe)}else{const Pe=Nr(h);ee=$a(g.serverSyncTree_,z,Pe)}let be=z;ee.length>0&&(be=Ss(g,z)),ks(g.eventQueue_,be,ee)}function cd(g,d){zu(g,"connected",d),!1===d&&function S(g){Hn(g,"onDisconnectEvents");const d=za(g),h=ga();Ji(g.onDisconnect_,vr(),(N,z)=>{const ee=au(N,z,g.serverSyncTree_,d);lo(h,N,ee)});let C=[];Ji(h,vr(),(N,z)=>{C=C.concat($a(g.serverSyncTree_,N,z));const ee=jo(g,N);Ss(g,ee)}),g.onDisconnect_=ga(),ks(g.eventQueue_,vr(),C)}(g)}function zu(g,d,h){const C=new ir("/.info/"+d),N=Nr(h);g.infoData_.updateSnapshot(C,N);const z=$a(g.infoSyncTree_,C,N);ks(g.eventQueue_,C,z)}function Tu(g){return g.nextWriteId_++}function Du(g,d,h,C,N){Hn(g,"set",{path:d.toString(),value:h,priority:C});const z=za(g),ee=Nr(h,C),be=_u(g.serverSyncTree_,d),Pe=Bu(ee,be,z),qe=Tu(g),Ut=fr(g.serverSyncTree_,d,Pe,qe,!0);oa(g.eventQueue_,Ut),g.server_.put(d.toString(),ee.val(!0),(dn,zn)=>{const mi="ok"===dn;mi||On("set at "+d+" failed: "+dn);const dr=ss(g.serverSyncTree_,qe,!mi);ks(g.eventQueue_,d,dr),ci(0,N,dn,zn)});const Xt=jo(g,d);Ss(g,Xt),ks(g.eventQueue_,Xt,[])}function y(g,d,h){g.server_.onDisconnectCancel(d.toString(),(C,N)=>{"ok"===C&&Eo(g.onDisconnect_,d),ci(0,h,C,N)})}function F(g,d,h,C){const N=Nr(h);g.server_.onDisconnectPut(d.toString(),N.val(!0),(z,ee)=>{"ok"===z&&lo(g.onDisconnect_,d,N),ci(0,C,z,ee)})}function Je(g,d,h){let C;C=".info"===ar(d._path)?Ml(g.infoSyncTree_,d,h):Ml(g.serverSyncTree_,d,h),ql(g.eventQueue_,d._path,C)}function Vt(g){g.persistentConnection_&&g.persistentConnection_.interrupt(Ql)}function Hn(g,...d){let h="";g.persistentConnection_&&(h=g.persistentConnection_.id+":"),Ie(h,...d)}function ci(g,d,h,C){d&&Fi(()=>{if("ok"===h)d(null);else{const N=(h||"error").toUpperCase();let z=N;C&&(z+=": "+C);const ee=new Error(z);ee.code=N,d(ee)}})}function cr(g,d,h){return _u(g.serverSyncTree_,d,h)||Bi.EMPTY_NODE}function _i(g,d=g.transactionQueueTree_){if(d||Vl(g,d),Xc(d)){const h=no(g,d);(0,ge.vA)(h.length>0,"Sending zero length transaction queue"),h.every(N=>0===N.status)&&function br(g,d,h){const C=h.map(qe=>qe.currentWriteId),N=cr(g,d,C);let z=N;const ee=N.hash();for(let qe=0;qe<h.length;qe++){const Ut=h[qe];(0,ge.vA)(0===Ut.status,"tryToSendTransactionQueue_: items in queue should all be run."),Ut.status=1,Ut.retryCount++;const Xt=rr(d,Ut.path);z=z.updateChild(Xt,Ut.currentOutputSnapshotRaw)}const be=z.val(!0),Pe=d;g.server_.put(Pe.toString(),be,qe=>{Hn(g,"transaction put response",{path:Pe.toString(),status:qe});let Ut=[];if("ok"===qe){const Xt=[];for(let dn=0;dn<h.length;dn++)h[dn].status=2,Ut=Ut.concat(ss(g.serverSyncTree_,h[dn].currentWriteId)),h[dn].onComplete&&Xt.push(()=>h[dn].onComplete(null,!0,h[dn].currentOutputSnapshotResolved)),h[dn].unwatcher();Vl(g,yu(g.transactionQueueTree_,d)),_i(g,g.transactionQueueTree_),ks(g.eventQueue_,d,Ut);for(let dn=0;dn<Xt.length;dn++)Fi(Xt[dn])}else{if("datastale"===qe)for(let Xt=0;Xt<h.length;Xt++)h[Xt].status=3===h[Xt].status?4:0;else{On("transaction at "+Pe.toString()+" failed: "+qe);for(let Xt=0;Xt<h.length;Xt++)h[Xt].status=4,h[Xt].abortReason=qe}Ss(g,d)}},ee)}(g,ml(d),h)}else Fl(d)&&sl(d,h=>{_i(g,h)})}function Ss(g,d){const h=Bo(g,d),C=ml(h);return function Lo(g,d,h){if(0===d.length)return;const C=[];let N=[];const ee=d.filter(be=>0===be.status).map(be=>be.currentWriteId);for(let be=0;be<d.length;be++){const Pe=d[be],qe=rr(h,Pe.path);let Xt,Ut=!1;if((0,ge.vA)(null!==qe,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Pe.status)Ut=!0,Xt=Pe.abortReason,N=N.concat(ss(g.serverSyncTree_,Pe.currentWriteId,!0));else if(0===Pe.status)if(Pe.retryCount>=Yo)Ut=!0,Xt="maxretry",N=N.concat(ss(g.serverSyncTree_,Pe.currentWriteId,!0));else{const dn=cr(g,Pe.path,ee);Pe.currentInputSnapshot=dn;const zn=d[be].update(dn.val());if(void 0!==zn){Gu("transaction failed: Data returned ",zn,Pe.path);let mi=Nr(zn);"object"==typeof zn&&null!=zn&&(0,ge.gR)(zn,".priority")||(mi=mi.updatePriority(dn.getPriority()));const $r=Pe.currentWriteId,Ho=za(g),Go=Bu(mi,dn,Ho);Pe.currentOutputSnapshotRaw=mi,Pe.currentOutputSnapshotResolved=Go,Pe.currentWriteId=Tu(g),ee.splice(ee.indexOf($r),1),N=N.concat(fr(g.serverSyncTree_,Pe.path,Go,Pe.currentWriteId,Pe.applyLocally)),N=N.concat(ss(g.serverSyncTree_,$r,!0))}else Ut=!0,Xt="nodata",N=N.concat(ss(g.serverSyncTree_,Pe.currentWriteId,!0))}ks(g.eventQueue_,h,N),N=[],Ut&&(d[be].status=2,setTimeout(d[be].unwatcher,Math.floor(0)),d[be].onComplete&&C.push("nodata"===Xt?()=>d[be].onComplete(null,!1,d[be].currentInputSnapshot):()=>d[be].onComplete(new Error(Xt),!1,null)))}Vl(g,g.transactionQueueTree_);for(let be=0;be<C.length;be++)Fi(C[be]);_i(g,g.transactionQueueTree_)}(g,no(g,h),C),C}function Bo(g,d){let h,C=g.transactionQueueTree_;for(h=ar(d);null!==h&&void 0===Xc(C);)C=yu(C,h),h=ar(d=Cr(d));return C}function no(g,d){const h=[];return Ns(g,d,h),h.sort((C,N)=>C.order-N.order),h}function Ns(g,d,h){const C=Xc(d);if(C)for(let N=0;N<C.length;N++)h.push(C[N]);sl(d,N=>{Ns(g,N,h)})}function Vl(g,d){const h=Xc(d);if(h){let C=0;for(let N=0;N<h.length;N++)2!==h[N].status&&(h[C]=h[N],C++);h.length=C,Dc(d,h.length>0?h:void 0)}sl(d,C=>{Vl(g,C)})}function jo(g,d){const h=ml(Bo(g,d)),C=yu(g.transactionQueueTree_,d);return function od(g,d,h){let C=h?g:g.parent;for(;null!==C;){if(d(C))return!0;C=C.parent}}(C,N=>{Uo(g,N)}),Uo(g,C),Uu(C,N=>{Uo(g,N)}),h}function Uo(g,d){const h=Xc(d);if(h){const C=[];let N=[],z=-1;for(let ee=0;ee<h.length;ee++)3===h[ee].status||(1===h[ee].status?((0,ge.vA)(z===ee-1,"All SENT items should be at beginning of queue."),z=ee,h[ee].status=3,h[ee].abortReason="set"):((0,ge.vA)(0===h[ee].status,"Unexpected transaction status in abort"),h[ee].unwatcher(),N=N.concat(ss(g.serverSyncTree_,h[ee].currentWriteId,!0)),h[ee].onComplete&&C.push(h[ee].onComplete.bind(null,new Error("set"),!1,null))));-1===z?Dc(d,void 0):h.length=z+1,ks(g.eventQueue_,ml(d),N);for(let ee=0;ee<C.length;ee++)Fi(C[ee])}}const ba=function(g,d){const h=Mc(g),C=h.namespace;return"firebase.com"===h.domain&&ot(h.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!C||"undefined"===C)&&"localhost"!==h.domain&&ot("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),h.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&On("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ht(h.host,h.secure,C,"ws"===h.scheme||"wss"===h.scheme,d,"",C!==h.subdomain),path:new ir(h.pathString)}},Mc=function(g){let d="",h="",C="",N="",z="",ee=!0,be="https",Pe=443;if("string"==typeof g){let qe=g.indexOf("//");qe>=0&&(be=g.substring(0,qe-1),g=g.substring(qe+2));let Ut=g.indexOf("/");-1===Ut&&(Ut=g.length);let Xt=g.indexOf("?");-1===Xt&&(Xt=g.length),d=g.substring(0,Math.min(Ut,Xt)),Ut<Xt&&(N=function Mo(g){let d="";const h=g.split("/");for(let C=0;C<h.length;C++)if(h[C].length>0){let N=h[C];try{N=decodeURIComponent(N.replace(/\+/g," "))}catch{}d+="/"+N}return d}(g.substring(Ut,Xt)));const dn=function vl(g){const d={};"?"===g.charAt(0)&&(g=g.substring(1));for(const h of g.split("&")){if(0===h.length)continue;const C=h.split("=");2===C.length?d[decodeURIComponent(C[0])]=decodeURIComponent(C[1]):On(`Invalid query segment '${h}' in query '${g}'`)}return d}(g.substring(Math.min(g.length,Xt)));qe=d.indexOf(":"),qe>=0?(ee="https"===be||"wss"===be,Pe=parseInt(d.substring(qe+1),10)):qe=d.length;const zn=d.slice(0,qe);if("localhost"===zn.toLowerCase())h="localhost";else if(zn.split(".").length<=2)h=zn;else{const mi=d.indexOf(".");C=d.substring(0,mi).toLowerCase(),h=d.substring(mi+1),z=C}"ns"in dn&&(z=dn.ns)}return{host:d,port:Pe,domain:h,subdomain:C,secure:ee,scheme:be,pathString:N,namespace:z}},yl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Oa=function(){let g=0;const d=[];return function(h){const C=h===g;let N;g=h;const z=new Array(8);for(N=7;N>=0;N--)z[N]=yl.charAt(h%64),h=Math.floor(h/64);(0,ge.vA)(0===h,"Cannot push at time == 0");let ee=z.join("");if(C){for(N=11;N>=0&&63===d[N];N--)d[N]=0;d[N]++}else for(N=0;N<12;N++)d[N]=Math.floor(64*Math.random());for(N=0;N<12;N++)ee+=yl.charAt(d[N]);return(0,ge.vA)(20===ee.length,"nextPushId: Length should be 20."),ee}}();class Ll{constructor(d,h,C,N){this.eventType=d,this.eventRegistration=h,this.snapshot=C,this.prevName=N}getPath(){const d=this.snapshot.ref;return"value"===this.eventType?d._path:d.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ge.As)(this.snapshot.exportVal())}}class lc{constructor(d,h,C){this.eventRegistration=d,this.error=h,this.path=C}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ii{constructor(d,h){this.snapshotCallback=d,this.cancelCallback=h}onValue(d,h){this.snapshotCallback.call(null,d,h)}onCancel(d){return(0,ge.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,d)}get hasCancelCallback(){return!!this.cancelCallback}matches(d){return this.snapshotCallback===d.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===d.snapshotCallback.userCallback&&this.snapshotCallback.context===d.snapshotCallback.context}}class Zi{constructor(d,h){this._repo=d,this._path=h}cancel(){const d=new ge.cY;return y(this._repo,this._path,d.wrapCallback(()=>{})),d.promise}remove(){Wi("OnDisconnect.remove",this._path);const d=new ge.cY;return F(this._repo,this._path,null,d.wrapCallback(()=>{})),d.promise}set(d){Wi("OnDisconnect.set",this._path),Ko("OnDisconnect.set",d,this._path,!1);const h=new ge.cY;return F(this._repo,this._path,d,h.wrapCallback(()=>{})),h.promise}setWithPriority(d,h){Wi("OnDisconnect.setWithPriority",this._path),Ko("OnDisconnect.setWithPriority",d,this._path,!1),pn("OnDisconnect.setWithPriority",h,!1);const C=new ge.cY;return function U(g,d,h,C,N){const z=Nr(h,C);g.server_.onDisconnectPut(d.toString(),z.val(!0),(ee,be)=>{"ok"===ee&&lo(g.onDisconnect_,d,z),ci(0,N,ee,be)})}(this._repo,this._path,d,h,C.wrapCallback(()=>{})),C.promise}update(d){Wi("OnDisconnect.update",this._path),Ac("OnDisconnect.update",d,this._path,!1);const h=new ge.cY;return function he(g,d,h,C){if((0,ge.Im)(h))return Ie("onDisconnect().update() called with empty data.  Don't do anything."),void ci(0,C,"ok",void 0);g.server_.onDisconnectMerge(d.toString(),h,(N,z)=>{"ok"===N&&Qe(h,(ee,be)=>{const Pe=Nr(be);lo(g.onDisconnect_,Mr(d,ee),Pe)}),ci(0,C,N,z)})}(this._repo,this._path,d,h.wrapCallback(()=>{})),h.promise}}class Ri{constructor(d,h,C,N){this._repo=d,this._path=h,this._queryParams=C,this._orderByCalled=N}get key(){return Ti(this._path)?null:Qi(this._path)}get ref(){return new Ps(this._repo,this._path)}get _queryIdentifier(){const d=ao(this._queryParams),h=Ft(d);return"{}"===h?"default":h}get _queryObject(){return ao(this._queryParams)}isEqual(d){if(!((d=(0,ge.Ku)(d))instanceof Ri))return!1;const h=this._repo===d._repo,C=Xs(this._path,d._path);return h&&C&&this._queryIdentifier===d._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function yo(g){let d="";for(let h=g.pieceNum_;h<g.pieces_.length;h++)""!==g.pieces_[h]&&(d+="/"+encodeURIComponent(String(g.pieces_[h])));return d||"/"}(this._path)}}function pr(g,d){if(!0===g._orderByCalled)throw new Error(d+": You can't combine multiple orderBy calls.")}function xs(g){let d=null,h=null;if(g.hasStart()&&(d=g.getIndexStartValue()),g.hasEnd()&&(h=g.getIndexEndValue()),g.getIndex()===hs){const C="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",N="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(g.hasStart()){if(g.getIndexStartName()!==cn)throw new Error(C);if("string"!=typeof d)throw new Error(N)}if(g.hasEnd()){if(g.getIndexEndName()!==hi)throw new Error(C);if("string"!=typeof h)throw new Error(N)}}else if(g.getIndex()===kr){if(null!=d&&!oc(d)||null!=h&&!oc(h))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ge.vA)(g.getIndex()instanceof ce||g.getIndex()===Q,"unknown index type."),null!=d&&"object"==typeof d||null!=h&&"object"==typeof h)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ol(g){if(g.hasStart()&&g.hasEnd()&&g.hasLimit()&&!g.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ps extends Ri{constructor(d,h){super(d,h,new La,!1)}get parent(){const d=ki(this._path);return null===d?null:new Ps(this._repo,d)}get root(){let d=this;for(;null!==d.parent;)d=d.parent;return d}}class ko{constructor(d,h,C){this._node=d,this.ref=h,this._index=C}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(d){const h=new ir(d),C=Ka(this.ref,d);return new ko(this._node.getChild(h),C,kr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(d){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(C,N)=>d(new ko(N,Ka(this.ref,C),kr)))}hasChild(d){const h=new ir(d);return!this._node.getChild(h).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function zs(g,d){return(g=(0,ge.Ku)(g))._checkNotDeleted("ref"),void 0!==d?Ka(g._root,d):g._root}function lu(g,d){(g=(0,ge.Ku)(g))._checkNotDeleted("refFromURL");const h=ba(d,g._repo.repoInfo_.nodeAdmin);Cu("refFromURL",h);const C=h.repoInfo;return!g._repo.repoInfo_.isCustomHost()&&C.host!==g._repo.repoInfo_.host&&ot("refFromURL: Host name does not match the current database: (found "+C.host+" but expected "+g._repo.repoInfo_.host+")"),zs(g,h.path.toString())}function Ka(g,d){return null===ar((g=(0,ge.Ku)(g))._path)?Eu("child","path",d,!1):Xl("child","path",d,!1),new Ps(g._repo,Mr(g._path,d))}function Bl(g,d){g=(0,ge.Ku)(g),Wi("set",g._path),Ko("set",d,g._path,!1);const h=new ge.cY;return Du(g._repo,g._path,d,null,h.wrapCallback(()=>{})),h.promise}function wh(g,d){Ac("update",d,g._path,!1);const h=new ge.cY;return function W(g,d,h,C){Hn(g,"update",{path:d.toString(),value:h});let N=!0;const z=za(g),ee={};if(Qe(h,(be,Pe)=>{N=!1,ee[be]=au(Mr(d,be),Nr(Pe),g.serverSyncTree_,z)}),N)Ie("update() called with empty data.  Don't do anything."),ci(0,C,"ok",void 0);else{const be=Tu(g),Pe=function yr(g,d,h,C){!function x(g,d,h,C){(0,ge.vA)(C>g.lastWriteId,"Stacking an older merge on top of newer ones"),g.allWrites.push({path:d,children:h,writeId:C,visible:!0}),g.visibleWrites=R(g.visibleWrites,d,h),g.lastWriteId=C}(g.pendingWriteTree_,d,h,C);const N=Sr.fromObject(h);return Na(g,new uo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,N))}(g.serverSyncTree_,d,ee,be);oa(g.eventQueue_,Pe),g.server_.merge(d.toString(),h,(qe,Ut)=>{const Xt="ok"===qe;Xt||On("update at "+d+" failed: "+qe);const dn=ss(g.serverSyncTree_,be,!Xt),zn=dn.length>0?Ss(g,d):d;ks(g.eventQueue_,zn,dn),ci(0,C,qe,Ut)}),Qe(h,qe=>{const Ut=jo(g,Mr(d,qe));Ss(g,Ut)}),ks(g.eventQueue_,d,[])}}(g._repo,g._path,d,h.wrapCallback(()=>{})),h.promise}function Ku(g){g=(0,ge.Ku)(g);const d=new Ii(()=>{}),h=new cc(d);return function Rc(g,d,h){const C=function Kd(g,d){const h=d._path;let C=null;g.syncPointTree_.foreachOnPath(h,(qe,Ut)=>{const Xt=rr(qe,h);C=C||P(Ut,Xt)});let N=g.syncPointTree_.get(h);N?C=C||P(N,vr()):(N=new rc,g.syncPointTree_=g.syncPointTree_.set(h,N));const z=null!=C,ee=z?new Ha(C,!0,!1):null;return function cs(g){return fo(g.viewCache_)}(va(N,d,Gn(g.pendingWriteTree_,d._path),z?ee.getNode():Bi.EMPTY_NODE,z))}(g.serverSyncTree_,d);return null!=C?Promise.resolve(C):g.server_.get(d).then(N=>{const z=Nr(N).withIndex(d._queryParams.getIndex());let ee;if(zc(g.serverSyncTree_,d,h,!0),d._queryParams.loadsAllData())ee=$a(g.serverSyncTree_,d._path,z);else{const be=sc(g.serverSyncTree_,d);ee=kl(g.serverSyncTree_,d._path,z,be)}return ks(g.eventQueue_,d._path,ee),Ml(g.serverSyncTree_,d,h,null,!0),z},N=>(Hn(g,"get for query "+(0,ge.As)(d)+" failed: "+N),Promise.reject(new Error(N))))}(g._repo,g,h).then(C=>new ko(C,new Ps(g._repo,g._path),g._queryParams.getIndex()))}class cc{constructor(d){this.callbackContext=d}respondsTo(d){return"value"===d}createEvent(d,h){const C=h._queryParams.getIndex();return new Ll("value",this,new ko(d.snapshotNode,new Ps(h._repo,h._path),C))}getEventRunner(d){return"cancel"===d.getEventType()?()=>this.callbackContext.onCancel(d.error):()=>this.callbackContext.onValue(d.snapshot,null)}createCancelEvent(d,h){return this.callbackContext.hasCancelCallback?new lc(this,d,h):null}matches(d){return d instanceof cc&&(!d.callbackContext||!this.callbackContext||d.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class cu{constructor(d,h){this.eventType=d,this.callbackContext=h}respondsTo(d){let h="children_added"===d?"child_added":d;return h="children_removed"===h?"child_removed":h,this.eventType===h}createCancelEvent(d,h){return this.callbackContext.hasCancelCallback?new lc(this,d,h):null}createEvent(d,h){(0,ge.vA)(null!=d.childName,"Child events should have a childName.");const C=Ka(new Ps(h._repo,h._path),d.childName),N=h._queryParams.getIndex();return new Ll(d.type,this,new ko(d.snapshotNode,C,N),d.prevName)}getEventRunner(d){return"cancel"===d.getEventType()?()=>this.callbackContext.onCancel(d.error):()=>this.callbackContext.onValue(d.snapshot,d.prevName)}matches(d){return d instanceof cu&&this.eventType===d.eventType&&(!this.callbackContext||!d.callbackContext||this.callbackContext.matches(d.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Jl(g,d,h,C,N){let z;if("object"==typeof C&&(z=void 0,N=C),"function"==typeof C&&(z=C),N&&N.onlyOnce){const Pe=h,qe=(Ut,Xt)=>{Je(g._repo,g,be),Pe(Ut,Xt)};qe.userCallback=h.userCallback,qe.context=h.context,h=qe}const ee=new Ii(h,z||void 0),be="value"===d?new cc(ee):new cu(d,ee);return function Me(g,d,h){let C;C=".info"===ar(d._path)?zc(g.infoSyncTree_,d,h):zc(g.serverSyncTree_,d,h),ql(g.eventQueue_,d._path,C)}(g._repo,g,be),()=>Je(g._repo,g,be)}function Zl(g,d,h,C){return Jl(g,"value",d,h,C)}function uu(g,d,h,C){return Jl(g,"child_added",d,h,C)}function Su(g,d,h,C){return Jl(g,"child_changed",d,h,C)}function du(g,d,h,C){return Jl(g,"child_moved",d,h,C)}function Yu(g,d,h,C){return Jl(g,"child_removed",d,h,C)}function ud(g,d,h){let C=null;const N=h?new Ii(h):null;"value"===d?C=new cc(N):d&&(C=new cu(d,N)),Je(g._repo,g,C)}class Ya{}class Nc extends Ya{constructor(d,h){super(),this._value=d,this._key=h,this.type="endAt"}_apply(d){Ko("endAt",this._value,d._path,!0);const h=ta(d._queryParams,this._value,this._key);if(ol(h),xs(h),d._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ri(d._repo,d._path,h,d._orderByCalled)}}class Eh extends Ya{constructor(d,h){super(),this._value=d,this._key=h,this.type="endBefore"}_apply(d){Ko("endBefore",this._value,d._path,!1);const h=function Ba(g,d,h){let C;return C=ta(g,d,g.index_===hs||h?h:cn),C.endBeforeSet_=!0,C}(d._queryParams,this._value,this._key);if(ol(h),xs(h),d._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ri(d._repo,d._path,h,d._orderByCalled)}}class qc extends Ya{constructor(d,h){super(),this._value=d,this._key=h,this.type="startAt"}_apply(d){Ko("startAt",this._value,d._path,!0);const h=Il(d._queryParams,this._value,this._key);if(ol(h),xs(h),d._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ri(d._repo,d._path,h,d._orderByCalled)}}class Ru extends Ya{constructor(d,h){super(),this._value=d,this._key=h,this.type="startAfter"}_apply(d){Ko("startAfter",this._value,d._path,!1);const h=function ul(g,d,h){let C;return C=Il(g,d,g.index_===hs||h?h:hi),C.startAfterSet_=!0,C}(d._queryParams,this._value,this._key);if(ol(h),xs(h),d._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ri(d._repo,d._path,h,d._orderByCalled)}}class Ea extends Ya{constructor(d){super(),this._limit=d,this.type="limitToFirst"}_apply(d){if(d._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ri(d._repo,d._path,function Dl(g,d){const h=g.copy();return h.limitSet_=!0,h.limit_=d,h.viewFrom_="l",h}(d._queryParams,this._limit),d._orderByCalled)}}class hd extends Ya{constructor(d){super(),this._limit=d,this.type="limitToLast"}_apply(d){if(d._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ri(d._repo,d._path,function Qr(g,d){const h=g.copy();return h.limitSet_=!0,h.limit_=d,h.viewFrom_="r",h}(d._queryParams,this._limit),d._orderByCalled)}}class fd extends Ya{constructor(d){super(),this._path=d,this.type="orderByChild"}_apply(d){pr(d,"orderByChild");const h=new ir(this._path);if(Ti(h))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const C=new ce(h),N=na(d._queryParams,C);return xs(N),new Ri(d._repo,d._path,N,!0)}}class Ch extends Ya{constructor(){super(...arguments),this.type="orderByKey"}_apply(d){pr(d,"orderByKey");const h=na(d._queryParams,hs);return xs(h),new Ri(d._repo,d._path,h,!0)}}class fu extends Ya{constructor(){super(...arguments),this.type="orderByPriority"}_apply(d){pr(d,"orderByPriority");const h=na(d._queryParams,kr);return xs(h),new Ri(d._repo,d._path,h,!0)}}class Xd extends Ya{constructor(){super(...arguments),this.type="orderByValue"}_apply(d){pr(d,"orderByValue");const h=na(d._queryParams,Q);return xs(h),new Ri(d._repo,d._path,h,!0)}}class pd extends Ya{constructor(d,h){super(),this._value=d,this._key=h,this.type="equalTo"}_apply(d){if(Ko("equalTo",this._value,d._path,!1),d._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(d._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Nc(this._value,this._key)._apply(new qc(this._value,this._key)._apply(d))}}function Xa(g,...d){let h=(0,ge.Ku)(g);for(const C of d)h=C._apply(h);return h}(function Zr(g){(0,ge.vA)(!fl,"__referenceConstructor has already been defined"),fl=g})(Ps),function tt(g){(0,ge.vA)(!Ce,"__referenceConstructor has already been defined"),Ce=g}(Ps);const pu={};function Qd(g,d,h,C,N){let z=C||g.options.databaseURL;void 0===z&&(g.options.projectId||ot("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ie("Using default host for project ",g.options.projectId),z=`${g.options.projectId}-default-rtdb.firebaseio.com`);let Pe,qe,ee=ba(z,N),be=ee.repoInfo;typeof process<"u"&&process.env&&(qe=process.env.FIREBASE_DATABASE_EMULATOR_HOST),qe?(Pe=!0,z=`http://${qe}?ns=${be.namespace}`,ee=ba(z,N),be=ee.repoInfo):Pe=!ee.repoInfo.secure;const Ut=N&&Pe?new Pn(Pn.OWNER):new Kn(g.name,g.options,d);Cu("Invalid Firebase Database URL",ee),Ti(ee.path)||ot("Database URL must point to the root of a Firebase Database (not including a child path).");const Xt=function kd(g,d,h,C){let N=pu[d.name];N||(N={},pu[d.name]=N);let z=N[g.toURLString()];return z&&ot("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),z=new mo(g,false,h,C),N[g.toURLString()]=z,z}(be,g,Ut,new os(g.name,h));return new Nd(Xt,g)}class Nd{constructor(d,h){this._repoInternal=d,this.app=h,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ad(g,d,h){if(g.stats_=zt(g.repoInfo_),g.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)g.server_=new Za(g.repoInfo_,(C,N,z,ee)=>{ld(g,C,N,z,ee)},g.authTokenProvider_,g.appCheckProvider_),setTimeout(()=>cd(g,!0),0);else{if(typeof h<"u"&&null!==h){if("object"!=typeof h)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ge.As)(h)}catch(C){throw new Error("Invalid authOverride provided: "+C)}}g.persistentConnection_=new eo(g.repoInfo_,d,(C,N,z,ee)=>{ld(g,C,N,z,ee)},C=>{cd(g,C)},C=>{!function bh(g,d){Qe(d,(h,C)=>{zu(g,h,C)})}(g,C)},g.authTokenProvider_,g.appCheckProvider_,h),g.server_=g.persistentConnection_}g.authTokenProvider_.addTokenChangeListener(C=>{g.server_.refreshAuthToken(C)}),g.appCheckProvider_.addTokenChangeListener(C=>{g.server_.refreshAppCheckToken(C.token)}),g.statsReporter_=function Nt(g,d){const h=g.toString();return ut[h]||(ut[h]=d()),ut[h]}(g.repoInfo_,()=>new Ua(g.stats_,g.server_)),g.infoData_=new pa,g.infoSyncTree_=new fi({startListening:(C,N,z,ee)=>{let be=[];const Pe=g.infoData_.getNode(C._path);return Pe.isEmpty()||(be=$a(g.infoSyncTree_,C._path,Pe),setTimeout(()=>{ee("ok")},0)),be},stopListening:()=>{}}),zu(g,"connected",!1),g.serverSyncTree_=new fi({startListening:(C,N,z,ee)=>(g.server_.listen(C,z,N,(be,Pe)=>{const qe=ee(be,Pe);ks(g.eventQueue_,C._path,qe)}),[]),stopListening:(C,N)=>{g.server_.unlisten(C,N)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ps(this._repo,vr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Mu(g,d){const h=pu[d];(!h||h[g.key]!==g)&&ot(`Database ${d}(${g.repoInfo_}) has already been deleted.`),Vt(g),delete h[g.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(d){null===this._rootInternal&&ot("Cannot call "+d+" on a deleted database.")}}function Jd(){wi.IS_TRANSPORT_INITIALIZED&&On("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function zh(){Jd(),Zt.forceDisallow()}function Od(){Jd(),oi.forceDisallow(),Zt.forceAllow()}function dc(g,d){Ze(g,d)}const Kh={".sv":"timestamp"};class Zd{constructor(d,h){this.committed=d,this.snapshot=h}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}eo.prototype.simpleListen=function(g,d){this.sendRequest("q",{p:g},d)},eo.prototype.echo=function(g,d){this.sendRequest("echo",{d:g},d)},function gd(g){Se(wt.SDK_VERSION),(0,wt._registerComponent)(new Mn.uA("database",(d,{instanceIdentifier:h})=>Qd(d.getProvider("app").getImmediate(),d.getProvider("auth-internal"),d.getProvider("app-check-internal"),h),"PUBLIC").setMultipleInstances(!0)),(0,wt.registerVersion)(qt,"1.0.8",g),(0,wt.registerVersion)(qt,"1.0.8","esm2017")}();const Fd=new Tn.Vy("@firebase/database-compat"),bl=function(g){Fd.warn("FIREBASE WARNING: "+g)};class qu{constructor(d){this._delegate=d}cancel(d){(0,ge.od)("OnDisconnect.cancel",0,1,arguments.length),(0,ge.oD)("OnDisconnect.cancel","onComplete",d,!0);const h=this._delegate.cancel();return d&&h.then(()=>d(null),C=>d(C)),h}remove(d){(0,ge.od)("OnDisconnect.remove",0,1,arguments.length),(0,ge.oD)("OnDisconnect.remove","onComplete",d,!0);const h=this._delegate.remove();return d&&h.then(()=>d(null),C=>d(C)),h}set(d,h){(0,ge.od)("OnDisconnect.set",1,2,arguments.length),(0,ge.oD)("OnDisconnect.set","onComplete",h,!0);const C=this._delegate.set(d);return h&&C.then(()=>h(null),N=>h(N)),C}setWithPriority(d,h,C){(0,ge.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ge.oD)("OnDisconnect.setWithPriority","onComplete",C,!0);const N=this._delegate.setWithPriority(d,h);return C&&N.then(()=>C(null),z=>C(z)),N}update(d,h){if((0,ge.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(d)){const N={};for(let z=0;z<d.length;++z)N[""+z]=d[z];d=N,bl("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ge.oD)("OnDisconnect.update","onComplete",h,!0);const C=this._delegate.update(d);return h&&C.then(()=>h(null),N=>h(N)),C}}class eh{constructor(d,h){this.committed=d,this.snapshot=h}toJSON(){return(0,ge.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class xc{constructor(d,h){this._database=d,this._delegate=h}val(){return(0,ge.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ge.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ge.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ge.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(d){return(0,ge.od)("DataSnapshot.child",0,1,arguments.length),d=String(d),Xl("DataSnapshot.child","path",d,!1),new xc(this._database,this._delegate.child(d))}hasChild(d){return(0,ge.od)("DataSnapshot.hasChild",1,1,arguments.length),Xl("DataSnapshot.hasChild","path",d,!1),this._delegate.hasChild(d)}getPriority(){return(0,ge.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(d){return(0,ge.od)("DataSnapshot.forEach",1,1,arguments.length),(0,ge.oD)("DataSnapshot.forEach","action",d,!1),this._delegate.forEach(h=>d(new xc(this._database,h)))}hasChildren(){return(0,ge.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ge.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ge.od)("DataSnapshot.ref",0,0,arguments.length),new A(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class qo{constructor(d,h){this.database=d,this._delegate=h}on(d,h,C,N){var z;(0,ge.od)("Query.on",2,4,arguments.length),(0,ge.oD)("Query.on","callback",h,!1);const ee=qo.getCancelAndContextArgs_("Query.on",C,N),be=(qe,Ut)=>{h.call(ee.context,new xc(this.database,qe),Ut)};be.userCallback=h,be.context=ee.context;const Pe=null===(z=ee.cancel)||void 0===z?void 0:z.bind(ee.context);switch(d){case"value":return Zl(this._delegate,be,Pe),h;case"child_added":return uu(this._delegate,be,Pe),h;case"child_removed":return Yu(this._delegate,be,Pe),h;case"child_changed":return Su(this._delegate,be,Pe),h;case"child_moved":return du(this._delegate,be,Pe),h;default:throw new Error((0,ge.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(d,h,C){if((0,ge.od)("Query.off",0,3,arguments.length),function(g,d,h){if(void 0!==d)switch(d){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ge.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,d),(0,ge.oD)("Query.off","callback",h,!0),(0,ge.HN)("Query.off","context",C,!0),h){const N=()=>{};N.userCallback=h,N.context=C,ud(this._delegate,d,N)}else ud(this._delegate,d)}get(){return Ku(this._delegate).then(d=>new xc(this.database,d))}once(d,h,C,N){(0,ge.od)("Query.once",1,4,arguments.length),(0,ge.oD)("Query.once","callback",h,!0);const z=qo.getCancelAndContextArgs_("Query.once",C,N),ee=new ge.cY,be=(qe,Ut)=>{const Xt=new xc(this.database,qe);h&&h.call(z.context,Xt,Ut),ee.resolve(Xt)};be.userCallback=h,be.context=z.context;const Pe=qe=>{z.cancel&&z.cancel.call(z.context,qe),ee.reject(qe)};switch(d){case"value":Zl(this._delegate,be,Pe,{onlyOnce:!0});break;case"child_added":uu(this._delegate,be,Pe,{onlyOnce:!0});break;case"child_removed":Yu(this._delegate,be,Pe,{onlyOnce:!0});break;case"child_changed":Su(this._delegate,be,Pe,{onlyOnce:!0});break;case"child_moved":du(this._delegate,be,Pe,{onlyOnce:!0});break;default:throw new Error((0,ge.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return ee.promise}limitToFirst(d){return(0,ge.od)("Query.limitToFirst",1,1,arguments.length),new qo(this.database,Xa(this._delegate,function Sd(g){if("number"!=typeof g||Math.floor(g)!==g||g<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ea(g)}(d)))}limitToLast(d){return(0,ge.od)("Query.limitToLast",1,1,arguments.length),new qo(this.database,Xa(this._delegate,function Xu(g){if("number"!=typeof g||Math.floor(g)!==g||g<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new hd(g)}(d)))}orderByChild(d){return(0,ge.od)("Query.orderByChild",1,1,arguments.length),new qo(this.database,Xa(this._delegate,function hu(g){if("$key"===g)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===g)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===g)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Xl("orderByChild","path",g,!1),new fd(g)}(d)))}orderByKey(){return(0,ge.od)("Query.orderByKey",0,0,arguments.length),new qo(this.database,Xa(this._delegate,function Th(){return new Ch}()))}orderByPriority(){return(0,ge.od)("Query.orderByPriority",0,0,arguments.length),new qo(this.database,Xa(this._delegate,function Ad(){return new fu}()))}orderByValue(){return(0,ge.od)("Query.orderByValue",0,0,arguments.length),new qo(this.database,Xa(this._delegate,function $h(){return new Xd}()))}startAt(d=null,h){return(0,ge.od)("Query.startAt",0,2,arguments.length),new qo(this.database,Xa(this._delegate,function Qc(g=null,d){return or("startAt","key",d,!0),new qc(g,d)}(d,h)))}startAfter(d=null,h){return(0,ge.od)("Query.startAfter",0,2,arguments.length),new qo(this.database,Xa(this._delegate,function _o(g,d){return or("startAfter","key",d,!0),new Ru(g,d)}(d,h)))}endAt(d=null,h){return(0,ge.od)("Query.endAt",0,2,arguments.length),new qo(this.database,Xa(this._delegate,function Au(g,d){return or("endAt","key",d,!0),new Nc(g,d)}(d,h)))}endBefore(d=null,h){return(0,ge.od)("Query.endBefore",0,2,arguments.length),new qo(this.database,Xa(this._delegate,function dd(g,d){return or("endBefore","key",d,!0),new Eh(g,d)}(d,h)))}equalTo(d,h){return(0,ge.od)("Query.equalTo",1,2,arguments.length),new qo(this.database,Xa(this._delegate,function Rd(g,d){return or("equalTo","key",d,!0),new pd(g,d)}(d,h)))}toString(){return(0,ge.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ge.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(d){if((0,ge.od)("Query.isEqual",1,1,arguments.length),!(d instanceof qo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(d._delegate)}static getCancelAndContextArgs_(d,h,C){const N={cancel:void 0,context:void 0};if(h&&C)N.cancel=h,(0,ge.oD)(d,"cancel",N.cancel,!0),N.context=C,(0,ge.HN)(d,"context",N.context,!0);else if(h)if("object"==typeof h&&null!==h)N.context=h;else{if("function"!=typeof h)throw new Error((0,ge.dI)(d,"cancelOrContext")+" must either be a cancel callback or a context object.");N.cancel=h}return N}get ref(){return new A(this.database,new Ps(this._delegate._repo,this._delegate._path))}}class A extends qo{constructor(d,h){super(d,new Ri(h._repo,h._path,new La,!1)),this.database=d,this._delegate=h}getKey(){return(0,ge.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(d){return(0,ge.od)("Reference.child",1,1,arguments.length),"number"==typeof d&&(d=String(d)),new A(this.database,Ka(this._delegate,d))}getParent(){(0,ge.od)("Reference.parent",0,0,arguments.length);const d=this._delegate.parent;return d?new A(this.database,d):null}getRoot(){return(0,ge.od)("Reference.root",0,0,arguments.length),new A(this.database,this._delegate.root)}set(d,h){(0,ge.od)("Reference.set",1,2,arguments.length),(0,ge.oD)("Reference.set","onComplete",h,!0);const C=Bl(this._delegate,d);return h&&C.then(()=>h(null),N=>h(N)),C}update(d,h){if((0,ge.od)("Reference.update",1,2,arguments.length),Array.isArray(d)){const N={};for(let z=0;z<d.length;++z)N[""+z]=d[z];d=N,bl("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Wi("Reference.update",this._delegate._path),(0,ge.oD)("Reference.update","onComplete",h,!0);const C=wh(this._delegate,d);return h&&C.then(()=>h(null),N=>h(N)),C}setWithPriority(d,h,C){(0,ge.od)("Reference.setWithPriority",2,3,arguments.length),(0,ge.oD)("Reference.setWithPriority","onComplete",C,!0);const N=function jl(g,d,h){if(Wi("setWithPriority",g._path),Ko("setWithPriority",d,g._path,!1),pn("setWithPriority",h,!1),".length"===g.key||".keys"===g.key)throw"setWithPriority failed: "+g.key+" is a read-only object.";const C=new ge.cY;return Du(g._repo,g._path,d,h,C.wrapCallback(()=>{})),C.promise}(this._delegate,d,h);return C&&N.then(()=>C(null),z=>C(z)),N}remove(d){(0,ge.od)("Reference.remove",0,1,arguments.length),(0,ge.oD)("Reference.remove","onComplete",d,!0);const h=function wa(g){return Wi("remove",g._path),Bl(g,null)}(this._delegate);return d&&h.then(()=>d(null),C=>d(C)),h}transaction(d,h,C){(0,ge.od)("Reference.transaction",1,3,arguments.length),(0,ge.oD)("Reference.transaction","transactionUpdate",d,!1),(0,ge.oD)("Reference.transaction","onComplete",h,!0),function(g,d,h,C){if(void 0!==h&&"boolean"!=typeof h)throw new Error((0,ge.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,C);const N=function ec(g,d,h){var C;if(g=(0,ge.Ku)(g),Wi("Reference.transaction",g._path),".length"===g.key||".keys"===g.key)throw"Reference.transaction failed: "+g.key+" is a read-only object.";const N=null===(C=h?.applyLocally)||void 0===C||C,z=new ge.cY,be=Zl(g,()=>{});return function Vi(g,d,h,C,N,z){Hn(g,"transaction on "+d);const ee={path:d,update:h,onComplete:C,status:null,order:Zn(),applyLocally:z,retryCount:0,unwatcher:N,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},be=cr(g,d,void 0);ee.currentInputSnapshot=be;const Pe=ee.update(be.val());if(void 0===Pe)ee.unwatcher(),ee.currentOutputSnapshotRaw=null,ee.currentOutputSnapshotResolved=null,ee.onComplete&&ee.onComplete(null,!1,ee.currentInputSnapshot);else{Gu("transaction failed: Data returned ",Pe,ee.path),ee.status=0;const qe=yu(g.transactionQueueTree_,d),Ut=Xc(qe)||[];let Xt;Ut.push(ee),Dc(qe,Ut),"object"==typeof Pe&&null!==Pe&&(0,ge.gR)(Pe,".priority")?(Xt=(0,ge.yw)(Pe,".priority"),(0,ge.vA)(oc(Xt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Xt=(_u(g.serverSyncTree_,d)||Bi.EMPTY_NODE).getPriority().val();const dn=za(g),zn=Nr(Pe,Xt),mi=Bu(zn,be,dn);ee.currentOutputSnapshotRaw=zn,ee.currentOutputSnapshotResolved=mi,ee.currentWriteId=Tu(g);const dr=fr(g.serverSyncTree_,d,mi,ee.currentWriteId,ee.applyLocally);ks(g.eventQueue_,d,dr),_i(g,g.transactionQueueTree_)}}(g._repo,g._path,d,(Pe,qe,Ut)=>{let Xt=null;Pe?z.reject(Pe):(Xt=new ko(Ut,new Ps(g._repo,g._path),kr),z.resolve(new Zd(qe,Xt)))},be,N),z.promise}(this._delegate,d,{applyLocally:C}).then(z=>new eh(z.committed,new xc(this.database,z.snapshot)));return h&&N.then(z=>h(null,z.committed,z.snapshot),z=>h(z,!1,null)),N}setPriority(d,h){(0,ge.od)("Reference.setPriority",1,2,arguments.length),(0,ge.oD)("Reference.setPriority","onComplete",h,!0);const C=function Iu(g,d){g=(0,ge.Ku)(g),Wi("setPriority",g._path),pn("setPriority",d,!1);const h=new ge.cY;return Du(g._repo,Mr(g._path,".priority"),d,null,h.wrapCallback(()=>{})),h.promise}(this._delegate,d);return h&&C.then(()=>h(null),N=>h(N)),C}push(d,h){(0,ge.od)("Reference.push",0,2,arguments.length),(0,ge.oD)("Reference.push","onComplete",h,!0);const C=function kc(g,d){g=(0,ge.Ku)(g),Wi("push",g._path),Ko("push",d,g._path,!0);const h=Xo(g._repo),C=Oa(h),N=Ka(g,C),z=Ka(g,C);let ee;return ee=null!=d?Bl(z,d).then(()=>z):Promise.resolve(z),N.then=ee.then.bind(ee),N.catch=ee.then.bind(ee,void 0),N}(this._delegate,d),N=C.then(ee=>new A(this.database,ee));h&&N.then(()=>h(null),ee=>h(ee));const z=new A(this.database,C);return z.then=N.then.bind(N),z.catch=N.catch.bind(N,void 0),z}onDisconnect(){return Wi("Reference.onDisconnect",this._delegate._path),new qu(new Zi(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class _{constructor(d,h){this._delegate=d,this.app=h,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:zh,forceLongPolling:Od}}useEmulator(d,h,C={}){!function Dh(g,d,h,C={}){(g=(0,ge.Ku)(g))._checkNotDeleted("useEmulator"),g._instanceStarted&&ot("Cannot call useEmulator() after instance has already been initialized.");const N=g._repoInternal;let z;if(N.repoInfo_.nodeAdmin)C.mockUserToken&&ot('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),z=new Pn(Pn.OWNER);else if(C.mockUserToken){const ee="string"==typeof C.mockUserToken?C.mockUserToken:(0,ge.Fy)(C.mockUserToken,g.app.options.projectId);z=new Pn(ee)}!function Md(g,d,h,C){g.repoInfo_=new ht(`${d}:${h}`,!1,g.repoInfo_.namespace,g.repoInfo_.webSocketOnly,g.repoInfo_.nodeAdmin,g.repoInfo_.persistenceKey,g.repoInfo_.includeNamespaceInQueryParams,!0),C&&(g.authTokenProvider_=C)}(N,d,h,z)}(this._delegate,d,h,C)}ref(d){if((0,ge.od)("database.ref",0,1,arguments.length),d instanceof A){const h=lu(this._delegate,d.toString());return new A(this,h)}{const h=zs(this._delegate,d);return new A(this,h)}}refFromURL(d){(0,ge.od)("database.refFromURL",1,1,arguments.length);const C=lu(this._delegate,d);return new A(this,C)}goOffline(){return(0,ge.od)("database.goOffline",0,0,arguments.length),function Jc(g){(g=(0,ge.Ku)(g))._checkNotDeleted("goOffline"),Vt(g._repo)}(this._delegate)}goOnline(){return(0,ge.od)("database.goOnline",0,0,arguments.length),function Tf(g){(g=(0,ge.Ku)(g))._checkNotDeleted("goOnline"),function on(g){g.persistentConnection_&&g.persistentConnection_.resume(Ql)}(g._repo)}(this._delegate)}}_.ServerValue={TIMESTAMP:function Df(){return Kh}(),increment:g=>function xd(g){return{".sv":{increment:g}}}(g)};var O=Object.freeze({__proto__:null,initStandalone:function b({app:g,url:d,version:h,customAuthImpl:C,customAppCheckImpl:N,namespace:z,nodeAdmin:ee=!1}){Se(h);const be=new Mn.h1("database-standalone"),Pe=new Mn.Kq("auth-internal",be);let qe;return Pe.setComponent(new Mn.uA("auth-internal",()=>C,"PRIVATE")),N&&(qe=new Mn.Kq("app-check-internal",be),qe.setComponent(new Mn.uA("app-check-internal",()=>N,"PRIVATE"))),{instance:new _(Qd(g,Pe,qe,d,ee),g),namespace:z}}});const re=_.ServerValue;!function we(g){g.INTERNAL.registerComponent(new Mn.uA("database-compat",(d,{instanceIdentifier:h})=>{const C=d.getProvider("app-compat").getImmediate(),N=d.getProvider("database").getImmediate({identifier:h});return new _(N,C)},"PUBLIC").setServiceProps({Reference:A,Query:qo,Database:_,DataSnapshot:xc,enableLogging:dc,INTERNAL:O,ServerValue:re}).setMultipleInstances(!0)),g.registerVersion("@firebase/database-compat","1.0.8")}(Cn.A);var at=B(7935);function xt(g,d,h="on",C=Rt.E){return new Bt.c(N=>{let z=null;return z=g[h](d,(ee,be)=>{C.schedule(()=>{N.next({snapshot:ee,prevKey:be})}),"once"===h&&C.schedule(()=>N.complete())},ee=>{C.schedule(()=>N.error(ee))}),"on"===h?{unsubscribe(){null!=z&&g.off(d,z)}}:{unsubscribe(){}}}).pipe((0,Te.T)(N=>{const{snapshot:z,prevKey:ee}=N;let be=null;return z.exists()&&(be=z.key),{type:d,payload:z,prevKey:ee,key:be}}),(0,Ye.u)())}function Ei(g){return null==g}function Ci(g){return"function"==typeof g.set}function Fs(g,d){return Ci(d)?d:g.ref(d)}function Vs(g,d){if(function vn(g){return"string"==typeof g}(g))return d.stringCase();if(Ci(g))return d.firebaseCase();if(function Yn(g){return"function"==typeof g.exportVal}(g))return d.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof g)}function wl(g){return(Ei(g)||0===g.length)&&(g=["child_added","child_removed","child_changed","child_moved"]),g}function Qu(g,d,h){const C=(d=wl(d)).map(N=>xt(g,N,"on",h));return(0,fn.h)(...C)}function Ou(g,d){return function(C,N){return Vs(C,{stringCase:()=>g.child(C)[d](N),firebaseCase:()=>C[d](N),snapshotCase:()=>C.ref[d](N)})}}function Ld(g){return function(h){return h?Vs(h,{stringCase:()=>g.child(h).remove(),firebaseCase:()=>h.remove(),snapshotCase:()=>h.ref.remove()}):g.remove()}}function m(g,d){const h=g.length;for(let C=0;C<h;C++)if(g[C].payload.key===d)return C;return-1}function p(g,d){const{payload:h,prevKey:C,key:N}=d,z=m(g,N),ee=function L(g,d){if(Ei(d))return 0;{const h=m(g,d);return-1===h?g.length:h+1}}(g,C);switch(d.type){case"value":if(d.payload?.exists()){let be=null;d.payload.forEach(Pe=>{const qe={payload:Pe,type:"value",prevKey:be,key:Pe.key};return be=Pe.key,g=[...g,qe],!1})}return g;case"child_added":if(z>-1)(g[z-1]?.key||null)!==C&&(g=g.filter(Pe=>Pe.payload.key!==h.key)).splice(ee,0,d);else{if(null==C)return[d,...g];(g=g.slice()).splice(ee,0,d)}return g;case"child_removed":return g.filter(be=>be.payload.key!==h.key);case"child_changed":return g.map(be=>be.payload.key===N?d:be);case"child_moved":if(z>-1){const be=g.splice(z,1)[0];return(g=g.slice()).splice(ee,0,be),g}return g;default:return g}}function E(g,d,h){return function Bd(g,d,h){return xt(g,"value","once",h).pipe((0,st.n)(C=>{const N=[(0,Wt.of)(C)];return d.forEach(z=>N.push(xt(g,z,"on",h))),(0,fn.h)(...N).pipe((0,Oe.S)(p,[]))}),(0,It.F)())}(g,d=wl(d),h)}function oe(g,d){return function(){return xt(g,"value","on",d)}}const _t=new i.nKC("angularfire2.realtimeDatabaseURL"),kt=new i.nKC("angularfire2.database.use-emulator");let rn=(()=>{class g{schedulers;database;constructor(h,C,N,z,ee,be,Pe,qe,Ut,Xt,dn,zn,mi,dr,$r){this.schedulers=be;const Ho=Pe,Go=(0,_e.iB)(h,ee,C);qe&&(0,le.gF)(Go,ee,Ut,dn,zn,mi,Xt,dr),this.database=(0,_e.BM)(`${Go.name}.database.${N}`,"AngularFireDatabase",Go.name,()=>{const Ul=ee.runOutsideAngular(()=>Go.database(N||void 0));return Ho&&Ul.useEmulator(...Ho),Ul},[Ho])}list(h,C){const N=this.schedulers.ngZone.runOutsideAngular(()=>Fs(this.database,h));let z=N;return C&&(z=C(N)),function M(g,d){const h=d.schedulers.outsideAngular,C=d.schedulers.ngZone.run(()=>g.ref);return{query:g,update:Ou(C,"update"),set:Ou(C,"set"),push:N=>C.push(N),remove:Ld(C),snapshotChanges:N=>E(g,N,h).pipe(l.U0),stateChanges:N=>Qu(g,N,h).pipe(l.U0),auditTrail:N=>function Vd(g,d,h){return function md(g,d,h){return function Sh(g,d){return xt(g,"value","on",d).pipe((0,Te.T)(h=>{let C;return h.payload.forEach(N=>(C=N.key,!1)),{data:h,lastKeyToLoad:C}}))}(g,h).pipe((0,Xe.E)(d),(0,Te.T)(([N,z])=>{const ee=N.lastKeyToLoad,be=z.map(Pe=>Pe.key);return{actions:z,lastKeyToLoad:ee,loadedKeys:be}}),function Fe(g){return(0,et.N)((d,h)=>{let C=!1,N=0;d.subscribe((0,Ne._)(h,z=>(C||(C=!g(z,N++)))&&h.next(z)))})}(N=>-1===N.loadedKeys.indexOf(N.lastKeyToLoad)),(0,Te.T)(N=>N.actions))}(g,Qu(g,d).pipe((0,Oe.S)((N,z)=>[...N,z],[])),h)}(g,N,h).pipe(l.U0),valueChanges:(N,z)=>E(g,N,h).pipe((0,Te.T)(be=>be.map(Pe=>z&&z.idField?{...Pe.payload.val(),[z.idField]:Pe.key}:Pe.payload.val())),l.U0)}}(z,this)}object(h){return function ye(g,d){return{query:g,snapshotChanges:()=>oe(g,d.schedulers.outsideAngular)().pipe(l.U0),update:h=>g.ref.update(h),set:h=>g.ref.set(h),remove:()=>g.ref.remove(),valueChanges:()=>oe(g,d.schedulers.outsideAngular)().pipe(l.U0,(0,Te.T)(C=>C.payload.exists()?C.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Fs(this.database,h)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(C){return new(C||g)(i.KVO(_e.rx),i.KVO(_e.uP,8),i.KVO(_t,8),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(l.u0),i.KVO(kt,8),i.KVO(le.DS,8),i.KVO(le.CP,8),i.KVO(le.yy,8),i.KVO(le.ZP,8),i.KVO(le.$z,8),i.KVO(le.AU,8),i.KVO(le.UB,8),i.KVO(l.Jv,8))};static \u0275prov=i.jDH({token:g,factory:g.\u0275fac,providedIn:"any"})}return g})(),hn=(()=>{class g{constructor(){at.A.registerVersion("angularfire",l.xv.full,"rtdb-compat")}static \u0275fac=function(C){return new(C||g)};static \u0275mod=i.$C({type:g});static \u0275inj=i.G2t({providers:[rn]})}return g})()},4203:(un,nt,B)=>{"use strict";B.d(nt,{cM:()=>db});var qt,Mt,i=B(177),l=B(4438),_e=B(1825),le=B(9253),Te=B(1152),Ye=B(3236),Oe=B(1985),Xe=B(8455),et=B(7673),Ne=B(9172),Fe=B(3946),st=B(6354),It=B(1943),Rt=B(3294),Bt=B(5964),Wt=(B(7955),B(3345)),je=B(467),Cn=B(7852),Mn=B(1362),jt=B(8041),wt=B(1076),ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tn={};(function(){var c;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function f(Ot,ct,Et){Et||(Et=0);var Lt=Array(16);if("string"==typeof ct)for(var Ht=0;16>Ht;++Ht)Lt[Ht]=ct.charCodeAt(Et++)|ct.charCodeAt(Et++)<<8|ct.charCodeAt(Et++)<<16|ct.charCodeAt(Et++)<<24;else for(Ht=0;16>Ht;++Ht)Lt[Ht]=ct[Et++]|ct[Et++]<<8|ct[Et++]<<16|ct[Et++]<<24;var sn=Ot.g[3],yt=(ct=Ot.g[0])+(sn^(Et=Ot.g[1])&((Ht=Ot.g[2])^sn))+Lt[0]+3614090360&4294967295;yt=(Et=(Ht=(sn=(ct=(Et=(Ht=(sn=(ct=(Et=(Ht=(sn=(ct=(Et=(Ht=(sn=(ct=(Et=(Ht=(sn=(ct=(Et=(Ht=(sn=(ct=(Et=(Ht=(sn=(ct=(Et=(Ht=(sn=(ct=(Et=(Ht=(sn=(ct=(Et=(Ht=(sn=(ct=(Et=(Ht=(sn=(ct=(Et=(Ht=(sn=(ct=(Et=(Ht=(sn=(ct=(Et=(Ht=(sn=(ct=(Et=(Ht=(sn=(ct=Et+(yt<<7&4294967295|yt>>>25))+((yt=sn+(Ht^ct&(Et^Ht))+Lt[1]+3905402710&4294967295)<<12&4294967295|yt>>>20))+((yt=Ht+(Et^sn&(ct^Et))+Lt[2]+606105819&4294967295)<<17&4294967295|yt>>>15))+((yt=Et+(ct^Ht&(sn^ct))+Lt[3]+3250441966&4294967295)<<22&4294967295|yt>>>10))+((yt=ct+(sn^Et&(Ht^sn))+Lt[4]+4118548399&4294967295)<<7&4294967295|yt>>>25))+((yt=sn+(Ht^ct&(Et^Ht))+Lt[5]+1200080426&4294967295)<<12&4294967295|yt>>>20))+((yt=Ht+(Et^sn&(ct^Et))+Lt[6]+2821735955&4294967295)<<17&4294967295|yt>>>15))+((yt=Et+(ct^Ht&(sn^ct))+Lt[7]+4249261313&4294967295)<<22&4294967295|yt>>>10))+((yt=ct+(sn^Et&(Ht^sn))+Lt[8]+1770035416&4294967295)<<7&4294967295|yt>>>25))+((yt=sn+(Ht^ct&(Et^Ht))+Lt[9]+2336552879&4294967295)<<12&4294967295|yt>>>20))+((yt=Ht+(Et^sn&(ct^Et))+Lt[10]+4294925233&4294967295)<<17&4294967295|yt>>>15))+((yt=Et+(ct^Ht&(sn^ct))+Lt[11]+2304563134&4294967295)<<22&4294967295|yt>>>10))+((yt=ct+(sn^Et&(Ht^sn))+Lt[12]+1804603682&4294967295)<<7&4294967295|yt>>>25))+((yt=sn+(Ht^ct&(Et^Ht))+Lt[13]+4254626195&4294967295)<<12&4294967295|yt>>>20))+((yt=Ht+(Et^sn&(ct^Et))+Lt[14]+2792965006&4294967295)<<17&4294967295|yt>>>15))+((yt=Et+(ct^Ht&(sn^ct))+Lt[15]+1236535329&4294967295)<<22&4294967295|yt>>>10))+((yt=ct+(Ht^sn&(Et^Ht))+Lt[1]+4129170786&4294967295)<<5&4294967295|yt>>>27))+((yt=sn+(Et^Ht&(ct^Et))+Lt[6]+3225465664&4294967295)<<9&4294967295|yt>>>23))+((yt=Ht+(ct^Et&(sn^ct))+Lt[11]+643717713&4294967295)<<14&4294967295|yt>>>18))+((yt=Et+(sn^ct&(Ht^sn))+Lt[0]+3921069994&4294967295)<<20&4294967295|yt>>>12))+((yt=ct+(Ht^sn&(Et^Ht))+Lt[5]+3593408605&4294967295)<<5&4294967295|yt>>>27))+((yt=sn+(Et^Ht&(ct^Et))+Lt[10]+38016083&4294967295)<<9&4294967295|yt>>>23))+((yt=Ht+(ct^Et&(sn^ct))+Lt[15]+3634488961&4294967295)<<14&4294967295|yt>>>18))+((yt=Et+(sn^ct&(Ht^sn))+Lt[4]+3889429448&4294967295)<<20&4294967295|yt>>>12))+((yt=ct+(Ht^sn&(Et^Ht))+Lt[9]+568446438&4294967295)<<5&4294967295|yt>>>27))+((yt=sn+(Et^Ht&(ct^Et))+Lt[14]+3275163606&4294967295)<<9&4294967295|yt>>>23))+((yt=Ht+(ct^Et&(sn^ct))+Lt[3]+4107603335&4294967295)<<14&4294967295|yt>>>18))+((yt=Et+(sn^ct&(Ht^sn))+Lt[8]+1163531501&4294967295)<<20&4294967295|yt>>>12))+((yt=ct+(Ht^sn&(Et^Ht))+Lt[13]+2850285829&4294967295)<<5&4294967295|yt>>>27))+((yt=sn+(Et^Ht&(ct^Et))+Lt[2]+4243563512&4294967295)<<9&4294967295|yt>>>23))+((yt=Ht+(ct^Et&(sn^ct))+Lt[7]+1735328473&4294967295)<<14&4294967295|yt>>>18))+((yt=Et+(sn^ct&(Ht^sn))+Lt[12]+2368359562&4294967295)<<20&4294967295|yt>>>12))+((yt=ct+(Et^Ht^sn)+Lt[5]+4294588738&4294967295)<<4&4294967295|yt>>>28))+((yt=sn+(ct^Et^Ht)+Lt[8]+2272392833&4294967295)<<11&4294967295|yt>>>21))+((yt=Ht+(sn^ct^Et)+Lt[11]+1839030562&4294967295)<<16&4294967295|yt>>>16))+((yt=Et+(Ht^sn^ct)+Lt[14]+4259657740&4294967295)<<23&4294967295|yt>>>9))+((yt=ct+(Et^Ht^sn)+Lt[1]+2763975236&4294967295)<<4&4294967295|yt>>>28))+((yt=sn+(ct^Et^Ht)+Lt[4]+1272893353&4294967295)<<11&4294967295|yt>>>21))+((yt=Ht+(sn^ct^Et)+Lt[7]+4139469664&4294967295)<<16&4294967295|yt>>>16))+((yt=Et+(Ht^sn^ct)+Lt[10]+3200236656&4294967295)<<23&4294967295|yt>>>9))+((yt=ct+(Et^Ht^sn)+Lt[13]+681279174&4294967295)<<4&4294967295|yt>>>28))+((yt=sn+(ct^Et^Ht)+Lt[0]+3936430074&4294967295)<<11&4294967295|yt>>>21))+((yt=Ht+(sn^ct^Et)+Lt[3]+3572445317&4294967295)<<16&4294967295|yt>>>16))+((yt=Et+(Ht^sn^ct)+Lt[6]+76029189&4294967295)<<23&4294967295|yt>>>9))+((yt=ct+(Et^Ht^sn)+Lt[9]+3654602809&4294967295)<<4&4294967295|yt>>>28))+((yt=sn+(ct^Et^Ht)+Lt[12]+3873151461&4294967295)<<11&4294967295|yt>>>21))+((yt=Ht+(sn^ct^Et)+Lt[15]+530742520&4294967295)<<16&4294967295|yt>>>16))+((yt=Et+(Ht^sn^ct)+Lt[2]+3299628645&4294967295)<<23&4294967295|yt>>>9))+((yt=ct+(Ht^(Et|~sn))+Lt[0]+4096336452&4294967295)<<6&4294967295|yt>>>26))+((yt=sn+(Et^(ct|~Ht))+Lt[7]+1126891415&4294967295)<<10&4294967295|yt>>>22))+((yt=Ht+(ct^(sn|~Et))+Lt[14]+2878612391&4294967295)<<15&4294967295|yt>>>17))+((yt=Et+(sn^(Ht|~ct))+Lt[5]+4237533241&4294967295)<<21&4294967295|yt>>>11))+((yt=ct+(Ht^(Et|~sn))+Lt[12]+1700485571&4294967295)<<6&4294967295|yt>>>26))+((yt=sn+(Et^(ct|~Ht))+Lt[3]+2399980690&4294967295)<<10&4294967295|yt>>>22))+((yt=Ht+(ct^(sn|~Et))+Lt[10]+4293915773&4294967295)<<15&4294967295|yt>>>17))+((yt=Et+(sn^(Ht|~ct))+Lt[1]+2240044497&4294967295)<<21&4294967295|yt>>>11))+((yt=ct+(Ht^(Et|~sn))+Lt[8]+1873313359&4294967295)<<6&4294967295|yt>>>26))+((yt=sn+(Et^(ct|~Ht))+Lt[15]+4264355552&4294967295)<<10&4294967295|yt>>>22))+((yt=Ht+(ct^(sn|~Et))+Lt[6]+2734768916&4294967295)<<15&4294967295|yt>>>17))+((yt=Et+(sn^(Ht|~ct))+Lt[13]+1309151649&4294967295)<<21&4294967295|yt>>>11))+((sn=(ct=Et+((yt=ct+(Ht^(Et|~sn))+Lt[4]+4149444226&4294967295)<<6&4294967295|yt>>>26))+((yt=sn+(Et^(ct|~Ht))+Lt[11]+3174756917&4294967295)<<10&4294967295|yt>>>22))^((Ht=sn+((yt=Ht+(ct^(sn|~Et))+Lt[2]+718787259&4294967295)<<15&4294967295|yt>>>17))|~ct))+Lt[9]+3951481745&4294967295,Ot.g[0]=Ot.g[0]+ct&4294967295,Ot.g[1]=Ot.g[1]+(Ht+(yt<<21&4294967295|yt>>>11))&4294967295,Ot.g[2]=Ot.g[2]+Ht&4294967295,Ot.g[3]=Ot.g[3]+sn&4294967295}function I(Ot,ct){this.h=ct;for(var Et=[],Lt=!0,Ht=Ot.length-1;0<=Ht;Ht--){var sn=0|Ot[Ht];Lt&&sn==ct||(Et[Ht]=sn,Lt=!1)}this.g=Et}(function t(Ot,ct){function Et(){}Et.prototype=ct.prototype,Ot.D=ct.prototype,Ot.prototype=new Et,Ot.prototype.constructor=Ot,Ot.C=function(Lt,Ht,sn){for(var yt=Array(arguments.length-2),Vu=2;Vu<arguments.length;Vu++)yt[Vu-2]=arguments[Vu];return ct.prototype[Ht].apply(Lt,yt)}})(a,function r(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(Ot,ct){void 0===ct&&(ct=Ot.length);for(var Et=ct-this.blockSize,Lt=this.B,Ht=this.h,sn=0;sn<ct;){if(0==Ht)for(;sn<=Et;)f(this,Ot,sn),sn+=this.blockSize;if("string"==typeof Ot){for(;sn<ct;)if(Lt[Ht++]=Ot.charCodeAt(sn++),Ht==this.blockSize){f(this,Lt),Ht=0;break}}else for(;sn<ct;)if(Lt[Ht++]=Ot[sn++],Ht==this.blockSize){f(this,Lt),Ht=0;break}}this.h=Ht,this.o+=ct},a.prototype.v=function(){var Ot=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ot[0]=128;for(var ct=1;ct<Ot.length-8;++ct)Ot[ct]=0;var Et=8*this.o;for(ct=Ot.length-8;ct<Ot.length;++ct)Ot[ct]=255&Et,Et/=256;for(this.u(Ot),Ot=Array(16),ct=Et=0;4>ct;++ct)for(var Lt=0;32>Lt;Lt+=8)Ot[Et++]=this.g[ct]>>>Lt&255;return Ot};var G={};function q(Ot){return-128<=Ot&&128>Ot?function w(Ot,ct){var Et=G;return Object.prototype.hasOwnProperty.call(Et,Ot)?Et[Ot]:Et[Ot]=ct(Ot)}(Ot,function(ct){return new I([0|ct],0>ct?-1:0)}):new I([0|Ot],0>Ot?-1:0)}function ue(Ot){if(isNaN(Ot)||!isFinite(Ot))return Ue;if(0>Ot)return Bn(ue(-Ot));for(var ct=[],Et=1,Lt=0;Ot>=Et;Lt++)ct[Lt]=Ot/Et|0,Et*=4294967296;return new I(ct,0)}var Ue=q(0),ft=q(1),Jt=q(16777216);function An(Ot){if(0!=Ot.h)return!1;for(var ct=0;ct<Ot.g.length;ct++)if(0!=Ot.g[ct])return!1;return!0}function Jn(Ot){return-1==Ot.h}function Bn(Ot){for(var ct=Ot.g.length,Et=[],Lt=0;Lt<ct;Lt++)Et[Lt]=~Ot.g[Lt];return new I(Et,~Ot.h).add(ft)}function $i(Ot,ct){return Ot.add(Bn(ct))}function hr(Ot,ct){for(;(65535&Ot[ct])!=Ot[ct];)Ot[ct+1]+=Ot[ct]>>>16,Ot[ct]&=65535,ct++}function zi(Ot,ct){this.g=Ot,this.h=ct}function xr(Ot,ct){if(An(ct))throw Error("division by zero");if(An(Ot))return new zi(Ue,Ue);if(Jn(Ot))return ct=xr(Bn(Ot),ct),new zi(Bn(ct.g),Bn(ct.h));if(Jn(ct))return ct=xr(Ot,Bn(ct)),new zi(Bn(ct.g),ct.h);if(30<Ot.g.length){if(Jn(Ot)||Jn(ct))throw Error("slowDivide_ only works with positive integers.");for(var Et=ft,Lt=ct;0>=Lt.l(Ot);)Et=bs(Et),Lt=bs(Lt);var Ht=Kr(Et,1),sn=Kr(Lt,1);for(Lt=Kr(Lt,2),Et=Kr(Et,2);!An(Lt);){var yt=sn.add(Lt);0>=yt.l(Ot)&&(Ht=Ht.add(Et),sn=yt),Lt=Kr(Lt,1),Et=Kr(Et,1)}return ct=$i(Ot,Ht.j(ct)),new zi(Ht,ct)}for(Ht=Ue;0<=Ot.l(ct);){for(Et=Math.max(1,Math.floor(Ot.m()/ct.m())),Lt=48>=(Lt=Math.ceil(Math.log(Et)/Math.LN2))?1:Math.pow(2,Lt-48),yt=(sn=ue(Et)).j(ct);Jn(yt)||0<yt.l(Ot);)yt=(sn=ue(Et-=Lt)).j(ct);An(sn)&&(sn=ft),Ht=Ht.add(sn),Ot=$i(Ot,yt)}return new zi(Ht,Ot)}function bs(Ot){for(var ct=Ot.g.length+1,Et=[],Lt=0;Lt<ct;Lt++)Et[Lt]=Ot.i(Lt)<<1|Ot.i(Lt-1)>>>31;return new I(Et,Ot.h)}function Kr(Ot,ct){var Et=ct>>5;ct%=32;for(var Lt=Ot.g.length-Et,Ht=[],sn=0;sn<Lt;sn++)Ht[sn]=0<ct?Ot.i(sn+Et)>>>ct|Ot.i(sn+Et+1)<<32-ct:Ot.i(sn+Et);return new I(Ht,Ot.h)}(c=I.prototype).m=function(){if(Jn(this))return-Bn(this).m();for(var Ot=0,ct=1,Et=0;Et<this.g.length;Et++){var Lt=this.i(Et);Ot+=(0<=Lt?Lt:4294967296+Lt)*ct,ct*=4294967296}return Ot},c.toString=function(Ot){if(2>(Ot=Ot||10)||36<Ot)throw Error("radix out of range: "+Ot);if(An(this))return"0";if(Jn(this))return"-"+Bn(this).toString(Ot);for(var ct=ue(Math.pow(Ot,6)),Et=this,Lt="";;){var Ht=xr(Et,ct).g,sn=((0<(Et=$i(Et,Ht.j(ct))).g.length?Et.g[0]:Et.h)>>>0).toString(Ot);if(An(Et=Ht))return sn+Lt;for(;6>sn.length;)sn="0"+sn;Lt=sn+Lt}},c.i=function(Ot){return 0>Ot?0:Ot<this.g.length?this.g[Ot]:this.h},c.l=function(Ot){return Jn(Ot=$i(this,Ot))?-1:An(Ot)?0:1},c.abs=function(){return Jn(this)?Bn(this):this},c.add=function(Ot){for(var ct=Math.max(this.g.length,Ot.g.length),Et=[],Lt=0,Ht=0;Ht<=ct;Ht++){var sn=Lt+(65535&this.i(Ht))+(65535&Ot.i(Ht)),yt=(sn>>>16)+(this.i(Ht)>>>16)+(Ot.i(Ht)>>>16);Lt=yt>>>16,Et[Ht]=(yt&=65535)<<16|(sn&=65535)}return new I(Et,-2147483648&Et[Et.length-1]?-1:0)},c.j=function(Ot){if(An(this)||An(Ot))return Ue;if(Jn(this))return Jn(Ot)?Bn(this).j(Bn(Ot)):Bn(Bn(this).j(Ot));if(Jn(Ot))return Bn(this.j(Bn(Ot)));if(0>this.l(Jt)&&0>Ot.l(Jt))return ue(this.m()*Ot.m());for(var ct=this.g.length+Ot.g.length,Et=[],Lt=0;Lt<2*ct;Lt++)Et[Lt]=0;for(Lt=0;Lt<this.g.length;Lt++)for(var Ht=0;Ht<Ot.g.length;Ht++){var sn=this.i(Lt)>>>16,yt=65535&this.i(Lt),Vu=Ot.i(Ht)>>>16,Zf=65535&Ot.i(Ht);Et[2*Lt+2*Ht]+=yt*Zf,hr(Et,2*Lt+2*Ht),Et[2*Lt+2*Ht+1]+=sn*Zf,hr(Et,2*Lt+2*Ht+1),Et[2*Lt+2*Ht+1]+=yt*Vu,hr(Et,2*Lt+2*Ht+1),Et[2*Lt+2*Ht+2]+=sn*Vu,hr(Et,2*Lt+2*Ht+2)}for(Lt=0;Lt<ct;Lt++)Et[Lt]=Et[2*Lt+1]<<16|Et[2*Lt];for(Lt=ct;Lt<2*ct;Lt++)Et[Lt]=0;return new I(Et,0)},c.A=function(Ot){return xr(this,Ot).h},c.and=function(Ot){for(var ct=Math.max(this.g.length,Ot.g.length),Et=[],Lt=0;Lt<ct;Lt++)Et[Lt]=this.i(Lt)&Ot.i(Lt);return new I(Et,this.h&Ot.h)},c.or=function(Ot){for(var ct=Math.max(this.g.length,Ot.g.length),Et=[],Lt=0;Lt<ct;Lt++)Et[Lt]=this.i(Lt)|Ot.i(Lt);return new I(Et,this.h|Ot.h)},c.xor=function(Ot){for(var ct=Math.max(this.g.length,Ot.g.length),Et=[],Lt=0;Lt<ct;Lt++)Et[Lt]=this.i(Lt)^Ot.i(Lt);return new I(Et,this.h^Ot.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Mt=Tn.Md5=a,I.prototype.add=I.prototype.add,I.prototype.multiply=I.prototype.j,I.prototype.modulo=I.prototype.A,I.prototype.compare=I.prototype.l,I.prototype.toNumber=I.prototype.m,I.prototype.toString=I.prototype.toString,I.prototype.getBits=I.prototype.i,I.fromNumber=ue,I.fromString=function Ee(Ot,ct){if(0==Ot.length)throw Error("number format error: empty string");if(2>(ct=ct||10)||36<ct)throw Error("radix out of range: "+ct);if("-"==Ot.charAt(0))return Bn(Ee(Ot.substring(1),ct));if(0<=Ot.indexOf("-"))throw Error('number format error: interior "-" character');for(var Et=ue(Math.pow(ct,8)),Lt=Ue,Ht=0;Ht<Ot.length;Ht+=8){var sn=Math.min(8,Ot.length-Ht),yt=parseInt(Ot.substring(Ht,Ht+sn),ct);8>sn?(sn=ue(Math.pow(ct,sn)),Lt=Lt.j(sn).add(ue(yt))):Lt=(Lt=Lt.j(Et)).add(ue(yt))}return Lt},qt=Tn.Integer=I}).apply(typeof ge<"u"?ge:typeof self<"u"?self:typeof window<"u"?window:{});var Le,Rn,Xn,ai,$n,Zn,En,ri,He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se={};(function(){var c,t="function"==typeof Object.defineProperties?Object.defineProperty:function(T,Z,fe){return T==Array.prototype||T==Object.prototype||(T[Z]=fe.value),T},a=function r(T){T=["object"==typeof globalThis&&globalThis,T,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof He&&He];for(var Z=0;Z<T.length;++Z){var fe=T[Z];if(fe&&fe.Math==Math)return fe}throw Error("Cannot find global object")}(this);!function f(T,Z){if(Z)e:{var fe=a;T=T.split(".");for(var ke=0;ke<T.length-1;ke++){var Yt=T[ke];if(!(Yt in fe))break e;fe=fe[Yt]}(Z=Z(ke=fe[T=T[T.length-1]]))!=ke&&null!=Z&&t(fe,T,{configurable:!0,writable:!0,value:Z})}}("Array.prototype.values",function(T){return T||function(){return function w(T,Z){T instanceof String&&(T+="");var fe=0,ke=!1,Yt={next:function(){if(!ke&&fe<T.length){var mn=fe++;return{value:Z(mn,T[mn]),done:!1}}return ke=!0,{done:!0,value:void 0}}};return Yt[Symbol.iterator]=function(){return Yt},Yt}(this,function(Z,fe){return fe})}});var I=I||{},G=this||self;function q(T){var Z=typeof T;return"array"==(Z="object"!=Z?Z:T?Array.isArray(T)?"array":Z:"null")||"object"==Z&&"number"==typeof T.length}function ue(T){var Z=typeof T;return"object"==Z&&null!=T||"function"==Z}function Ee(T,Z,fe){return T.call.apply(T.bind,arguments)}function Ue(T,Z,fe){if(!T)throw Error();if(2<arguments.length){var ke=Array.prototype.slice.call(arguments,2);return function(){var Yt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Yt,ke),T.apply(Z,Yt)}}return function(){return T.apply(Z,arguments)}}function ft(T,Z,fe){return(ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ee:Ue).apply(null,arguments)}function Jt(T,Z){var fe=Array.prototype.slice.call(arguments,1);return function(){var ke=fe.slice();return ke.push.apply(ke,arguments),T.apply(this,ke)}}function An(T,Z){function fe(){}fe.prototype=Z.prototype,T.aa=Z.prototype,T.prototype=new fe,T.prototype.constructor=T,T.Qb=function(ke,Yt,mn){for(var yi=Array(arguments.length-2),$o=2;$o<arguments.length;$o++)yi[$o-2]=arguments[$o];return Z.prototype[Yt].apply(ke,yi)}}function Jn(T){const Z=T.length;if(0<Z){const fe=Array(Z);for(let ke=0;ke<Z;ke++)fe[ke]=T[ke];return fe}return[]}function Bn(T,Z){for(let fe=1;fe<arguments.length;fe++){const ke=arguments[fe];if(q(ke)){const Yt=T.length||0,mn=ke.length||0;T.length=Yt+mn;for(let yi=0;yi<mn;yi++)T[Yt+yi]=ke[yi]}else T.push(ke)}}function hr(T){return/^[\s\xa0]*$/.test(T)}function zi(){var T=G.navigator;return T&&(T=T.userAgent)?T:""}function xr(T){return xr[" "](T),T}xr[" "]=function(){};var bs=!(-1==zi().indexOf("Gecko")||-1!=zi().toLowerCase().indexOf("webkit")&&-1==zi().indexOf("Edge")||-1!=zi().indexOf("Trident")||-1!=zi().indexOf("MSIE")||-1!=zi().indexOf("Edge"));function Kr(T,Z,fe){for(const ke in T)Z.call(fe,T[ke],ke,T)}function ct(T){const Z={};for(const fe in T)Z[fe]=T[fe];return Z}const Et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lt(T,Z){let fe,ke;for(let Yt=1;Yt<arguments.length;Yt++){for(fe in ke=arguments[Yt],ke)T[fe]=ke[fe];for(let mn=0;mn<Et.length;mn++)fe=Et[mn],Object.prototype.hasOwnProperty.call(ke,fe)&&(T[fe]=ke[fe])}}function Ht(T){var Z=1;T=T.split(":");const fe=[];for(;0<Z&&T.length;)fe.push(T.shift()),Z--;return T.length&&fe.push(T.join(":")),fe}function sn(T){G.setTimeout(()=>{throw T},0)}function yt(){var T=tp;let Z=null;return T.g&&(Z=T.g,T.g=T.g.next,T.g||(T.h=null),Z.next=null),Z}var Zf=new class $i{constructor(Z,fe){this.i=Z,this.j=fe,this.h=0,this.g=null}get(){let Z;return 0<this.h?(this.h--,Z=this.g,this.g=Z.next,Z.next=null):Z=this.i(),Z}}(()=>new hb,T=>T.reset());class hb{constructor(){this.next=this.g=this.h=null}set(Z,fe){this.h=Z,this.g=fe,this.next=null}reset(){this.next=this.g=this.h=null}}let ep,jp=!1,tp=new class Vu{constructor(){this.h=this.g=null}add(Z,fe){const ke=Zf.get();ke.set(Z,fe),this.h?this.h.next=ke:this.g=ke,this.h=ke}},Jv=()=>{const T=G.Promise.resolve(void 0);ep=()=>{T.then(fb)}};var fb=()=>{for(var T;T=yt();){try{T.h.call(T.g)}catch(fe){sn(fe)}var Z=Zf;Z.j(T),100>Z.h&&(Z.h++,T.next=Z.g,Z.g=T)}jp=!1};function Fh(){this.s=this.s,this.C=this.C}function jc(T,Z){this.type=T,this.g=this.target=Z,this.defaultPrevented=!1}Fh.prototype.s=!1,Fh.prototype.ma=function(){this.s||(this.s=!0,this.N())},Fh.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},jc.prototype.h=function(){this.defaultPrevented=!0};var pb=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var T=!1,Z=Object.defineProperty({},"passive",{get:function(){T=!0}});try{const fe=()=>{};G.addEventListener("test",fe,Z),G.removeEventListener("test",fe,Z)}catch{}return T}();function _f(T,Z){if(jc.call(this,T?T.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,T){var fe=this.type=T.type,ke=T.changedTouches&&T.changedTouches.length?T.changedTouches[0]:null;if(this.target=T.target||T.srcElement,this.g=Z,Z=T.relatedTarget){if(bs){e:{try{xr(Z.nodeName);var Yt=!0;break e}catch{}Yt=!1}Yt||(Z=null)}}else"mouseover"==fe?Z=T.fromElement:"mouseout"==fe&&(Z=T.toElement);this.relatedTarget=Z,ke?(this.clientX=void 0!==ke.clientX?ke.clientX:ke.pageX,this.clientY=void 0!==ke.clientY?ke.clientY:ke.pageY,this.screenX=ke.screenX||0,this.screenY=ke.screenY||0):(this.clientX=void 0!==T.clientX?T.clientX:T.pageX,this.clientY=void 0!==T.clientY?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0),this.button=T.button,this.key=T.key||"",this.ctrlKey=T.ctrlKey,this.altKey=T.altKey,this.shiftKey=T.shiftKey,this.metaKey=T.metaKey,this.pointerId=T.pointerId||0,this.pointerType="string"==typeof T.pointerType?T.pointerType:Up[T.pointerType]||"",this.state=T.state,this.i=T,T.defaultPrevented&&_f.aa.h.call(this)}}An(_f,jc);var Up={2:"touch",3:"pen",4:"mouse"};_f.prototype.h=function(){_f.aa.h.call(this);var T=this.i;T.preventDefault?T.preventDefault():T.returnValue=!1};var Hp="closure_listenable_"+(1e6*Math.random()|0),Wg=0;function $g(T,Z,fe,ke,Yt){this.listener=T,this.proxy=null,this.src=Z,this.type=fe,this.capture=!!ke,this.ha=Yt,this.key=++Wg,this.da=this.fa=!1}function v_(T){T.da=!0,T.listener=null,T.proxy=null,T.src=null,T.ha=null}function zg(T){this.src=T,this.g={},this.h=0}function y_(T,Z){var fe=Z.type;if(fe in T.g){var mn,ke=T.g[fe],Yt=Array.prototype.indexOf.call(ke,Z,void 0);(mn=0<=Yt)&&Array.prototype.splice.call(ke,Yt,1),mn&&(v_(Z),0==T.g[fe].length&&(delete T.g[fe],T.h--))}}function Gp(T,Z,fe,ke){for(var Yt=0;Yt<T.length;++Yt){var mn=T[Yt];if(!mn.da&&mn.listener==Z&&mn.capture==!!fe&&mn.ha==ke)return Yt}return-1}zg.prototype.add=function(T,Z,fe,ke,Yt){var mn=T.toString();(T=this.g[mn])||(T=this.g[mn]=[],this.h++);var yi=Gp(T,Z,ke,Yt);return-1<yi?(Z=T[yi],fe||(Z.fa=!1)):((Z=new $g(Z,this.src,mn,!!ke,Yt)).fa=fe,T.push(Z)),Z};var b_="closure_lm_"+(1e6*Math.random()|0),Kg={};function Zv(T,Z,fe,ke,Yt){if(ke&&ke.once)return ny(T,Z,fe,ke,Yt);if(Array.isArray(Z)){for(var mn=0;mn<Z.length;mn++)Zv(T,Z[mn],fe,ke,Yt);return null}return fe=Xg(fe),T&&T[Hp]?T.K(Z,fe,ue(ke)?!!ke.capture:!!ke,Yt):ey(T,Z,fe,!1,ke,Yt)}function ey(T,Z,fe,ke,Yt,mn){if(!Z)throw Error("Invalid event type");var yi=ue(Yt)?!!Yt.capture:!!Yt,$o=Yg(T);if($o||(T[b_]=$o=new zg(T)),(fe=$o.add(Z,fe,ke,yi,mn)).proxy)return fe;if(ke=function ty(){const Z=gb;return function T(fe){return Z.call(T.src,T.listener,fe)}}(),fe.proxy=ke,ke.src=T,ke.listener=fe,T.addEventListener)pb||(Yt=yi),void 0===Yt&&(Yt=!1),T.addEventListener(Z.toString(),ke,Yt);else if(T.attachEvent)T.attachEvent(Wp(Z.toString()),ke);else{if(!T.addListener||!T.removeListener)throw Error("addEventListener and attachEvent are unavailable.");T.addListener(ke)}return fe}function ny(T,Z,fe,ke,Yt){if(Array.isArray(Z)){for(var mn=0;mn<Z.length;mn++)ny(T,Z[mn],fe,ke,Yt);return null}return fe=Xg(fe),T&&T[Hp]?T.L(Z,fe,ue(ke)?!!ke.capture:!!ke,Yt):ey(T,Z,fe,!0,ke,Yt)}function iy(T,Z,fe,ke,Yt){if(Array.isArray(Z))for(var mn=0;mn<Z.length;mn++)iy(T,Z[mn],fe,ke,Yt);else ke=ue(ke)?!!ke.capture:!!ke,fe=Xg(fe),T&&T[Hp]?(T=T.i,(Z=String(Z).toString())in T.g&&-1<(fe=Gp(mn=T.g[Z],fe,ke,Yt))&&(v_(mn[fe]),Array.prototype.splice.call(mn,fe,1),0==mn.length&&(delete T.g[Z],T.h--))):T&&(T=Yg(T))&&(Z=T.g[Z.toString()],T=-1,Z&&(T=Gp(Z,fe,ke,Yt)),(fe=-1<T?Z[T]:null)&&Vh(fe))}function Vh(T){if("number"!=typeof T&&T&&!T.da){var Z=T.src;if(Z&&Z[Hp])y_(Z.i,T);else{var fe=T.type,ke=T.proxy;Z.removeEventListener?Z.removeEventListener(fe,ke,T.capture):Z.detachEvent?Z.detachEvent(Wp(fe),ke):Z.addListener&&Z.removeListener&&Z.removeListener(ke),(fe=Yg(Z))?(y_(fe,T),0==fe.h&&(fe.src=null,Z[b_]=null)):v_(T)}}}function Wp(T){return T in Kg?Kg[T]:Kg[T]="on"+T}function gb(T,Z){if(T.da)T=!0;else{Z=new _f(Z,this);var fe=T.listener,ke=T.ha||T.src;T.fa&&Vh(T),T=fe.call(ke,Z)}return T}function Yg(T){return(T=T[b_])instanceof zg?T:null}var w_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xg(T){return"function"==typeof T?T:(T[w_]||(T[w_]=function(Z){return T.handleEvent(Z)}),T[w_])}function eu(){Fh.call(this),this.i=new zg(this),this.M=this,this.F=null}function tu(T,Z){var fe,ke=T.F;if(ke)for(fe=[];ke;ke=ke.F)fe.push(ke);if(T=T.M,ke=Z.type||Z,"string"==typeof Z)Z=new jc(Z,T);else if(Z instanceof jc)Z.target=Z.target||T;else{var Yt=Z;Lt(Z=new jc(ke,T),Yt)}if(Yt=!0,fe)for(var mn=fe.length-1;0<=mn;mn--){var yi=Z.g=fe[mn];Yt=Lh(yi,ke,!0,Z)&&Yt}if(Yt=Lh(yi=Z.g=T,ke,!0,Z)&&Yt,Yt=Lh(yi,ke,!1,Z)&&Yt,fe)for(mn=0;mn<fe.length;mn++)Yt=Lh(yi=Z.g=fe[mn],ke,!1,Z)&&Yt}function Lh(T,Z,fe,ke){if(!(Z=T.i.g[String(Z)]))return!0;Z=Z.concat();for(var Yt=!0,mn=0;mn<Z.length;++mn){var yi=Z[mn];if(yi&&!yi.da&&yi.capture==fe){var $o=yi.listener,tc=yi.ha||yi.src;yi.fa&&y_(T.i,yi),Yt=!1!==$o.call(tc,ke)&&Yt}}return Yt&&!ke.defaultPrevented}function E_(T,Z,fe){if("function"==typeof T)fe&&(T=ft(T,fe));else{if(!T||"function"!=typeof T.handleEvent)throw Error("Invalid listener argument");T=ft(T.handleEvent,T)}return 2147483647<Number(Z)?-1:G.setTimeout(T,Z||0)}function ry(T){T.g=E_(()=>{T.g=null,T.i&&(T.i=!1,ry(T))},T.l);const Z=T.h;T.h=null,T.m.apply(null,Z)}An(eu,Fh),eu.prototype[Hp]=!0,eu.prototype.removeEventListener=function(T,Z,fe,ke){iy(this,T,Z,fe,ke)},eu.prototype.N=function(){if(eu.aa.N.call(this),this.i){var Z,T=this.i;for(Z in T.g){for(var fe=T.g[Z],ke=0;ke<fe.length;ke++)v_(fe[ke]);delete T.g[Z],T.h--}}this.F=null},eu.prototype.K=function(T,Z,fe,ke){return this.i.add(String(T),Z,!1,fe,ke)},eu.prototype.L=function(T,Z,fe,ke){return this.i.add(String(T),Z,!0,fe,ke)};class mb extends Fh{constructor(Z,fe){super(),this.m=Z,this.l=fe,this.h=null,this.i=!1,this.g=null}j(Z){this.h=arguments,this.g?this.i=!0:ry(this)}N(){super.N(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $p(T){Fh.call(this),this.h=T,this.g={}}An($p,Fh);var qg=[];function _b(T){Kr(T.g,function(Z,fe){this.g.hasOwnProperty(fe)&&Vh(Z)},T),T.g={}}$p.prototype.N=function(){$p.aa.N.call(this),_b(this)},$p.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qg=G.JSON.stringify,Cd=G.JSON.parse,sy=class{stringify(T){return G.JSON.stringify(T,void 0)}parse(T){return G.JSON.parse(T,void 0)}};function C_(){}function al(){}C_.prototype.h=null;var zp={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kp(){jc.call(this,"d")}function T_(){jc.call(this,"c")}An(Kp,jc),An(T_,jc);var vf={},Jg=null;function Yp(){return Jg=Jg||new eu}function D_(T){jc.call(this,vf.La,T)}function np(T){const Z=Yp();tu(Z,new D_(Z))}function oy(T,Z){jc.call(this,vf.STAT_EVENT,T),this.stat=Z}function nu(T){const Z=Yp();tu(Z,new oy(Z,T))}function Bh(T,Z){jc.call(this,vf.Ma,T),this.size=Z}function ip(T,Z){if("function"!=typeof T)throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){T()},Z)}function yf(){this.g=!0}function bf(T,Z,fe,ke){T.info(function(){return"XMLHTTP TEXT ("+Z+"): "+function Xp(T,Z){if(!T.g)return Z;if(!Z)return null;try{var fe=JSON.parse(Z);if(fe)for(T=0;T<fe.length;T++)if(Array.isArray(fe[T])){var ke=fe[T];if(!(2>ke.length)){var Yt=ke[1];if(Array.isArray(Yt)&&!(1>Yt.length)){var mn=Yt[0];if("noop"!=mn&&"stop"!=mn&&"close"!=mn)for(var yi=1;yi<Yt.length;yi++)Yt[yi]=""}}}return Qg(fe)}catch{return Z}}(T,fe)+(ke?" "+ke:"")})}vf.La="serverreachability",An(D_,jc),vf.STAT_EVENT="statevent",An(oy,jc),vf.Ma="timingevent",An(Bh,jc),yf.prototype.xa=function(){this.g=!1},yf.prototype.info=function(){};var sp,rp={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function qp(){}function td(T,Z,fe,ke){this.j=T,this.i=Z,this.l=fe,this.R=ke||1,this.U=new $p(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cy}function cy(){this.i=null,this.g="",this.h=!1}An(qp,C_),qp.prototype.g=function(){return new XMLHttpRequest},qp.prototype.i=function(){return{}},sp=new qp;var uy={},Qp={};function Zg(T,Z,fe){T.L=1,T.v=eg($d(Z)),T.m=fe,T.P=!0,hh(T,null)}function hh(T,Z){T.F=Date.now(),wf(T),T.A=$d(T.v);var fe=T.A,ke=T.R;Array.isArray(ke)||(ke=[String(ke)]),O_(fe.i,"t",ke),T.C=0,fe=T.j.J,T.h=new cy,T.g=Ob(T.j,fe?Z:null,!T.m),0<T.O&&(T.M=new mb(ft(T.Y,T,T.g),T.O)),Z=T.U,fe=T.g,ke=T.ca;var Yt="readystatechange";Array.isArray(Yt)||(Yt&&(qg[0]=Yt.toString()),Yt=qg);for(var mn=0;mn<Yt.length;mn++){var yi=Zv(fe,Yt[mn],ke||Z.handleEvent,!1,Z.h||Z);if(!yi)break;Z.g[yi.key]=yi}Z=T.H?ct(T.H):{},T.m?(T.u||(T.u="POST"),Z["Content-Type"]="application/x-www-form-urlencoded",T.g.ea(T.A,T.u,T.m,Z)):(T.u="GET",T.g.ea(T.A,T.u,null,Z)),np(),function yb(T,Z,fe,ke,Yt,mn){T.info(function(){if(T.g)if(mn)for(var yi="",$o=mn.split("&"),tc=0;tc<$o.length;tc++){var js=$o[tc].split("=");if(1<js.length){var Uc=js[0];js=js[1];var Hc=Uc.split("_");yi=2<=Hc.length&&"type"==Hc[1]?yi+(Uc+"=")+js+"&":yi+(Uc+"=redacted&")}}else yi=null;else yi=mn;return"XMLHTTP REQ ("+ke+") [attempt "+Yt+"]: "+Z+"\n"+fe+"\n"+yi})}(T.i,T.u,T.A,T.l,T.R,T.m)}function op(T){return!!T.g&&"GET"==T.u&&2!=T.L&&T.j.Ca}function iw(T,Z){var fe=T.C,ke=Z.indexOf("\n",fe);return-1==ke?Qp:(fe=Number(Z.substring(fe,ke)),isNaN(fe)?uy:(ke+=1)+fe>Z.length?Qp:(Z=Z.slice(ke,ke+fe),T.C=ke+fe,Z))}function wf(T){T.S=Date.now()+T.I,I_(T,T.I)}function I_(T,Z){if(null!=T.B)throw Error("WatchDog timer not null");T.B=ip(ft(T.ba,T),Z)}function em(T){T.B&&(G.clearTimeout(T.B),T.B=null)}function Jp(T){0==T.j.G||T.J||Nb(T.j,T)}function Wd(T){em(T);var Z=T.M;Z&&"function"==typeof Z.ma&&Z.ma(),T.M=null,_b(T.U),T.g&&(Z=T.g,T.g=null,Z.abort(),Z.ma())}function Ef(T,Z){try{var fe=T.j;if(0!=fe.G&&(fe.g==T||S_(fe.h,T)))if(!T.K&&S_(fe.h,T)&&3==fe.G){try{var ke=fe.Da.g.parse(Z)}catch{ke=null}if(Array.isArray(ke)&&3==ke.length){var Yt=ke;if(0==Yt[0]){e:if(!fe.u){if(fe.g){if(!(fe.g.F+3e3<T.F))break e;U_(fe),j_(fe)}Ay(fe),nu(18)}}else fe.za=Yt[1],0<fe.za-fe.T&&37500>Yt[2]&&fe.F&&0==fe.v&&!fe.C&&(fe.C=ip(ft(fe.Za,fe),6e3));if(1>=fy(fe.h)&&fe.ca){try{fe.ca()}catch{}fe.ca=void 0}}else nd(fe,11)}else if((T.K||fe.g==T)&&U_(fe),!hr(Z))for(Yt=fe.Da.g.parse(Z),Z=0;Z<Yt.length;Z++){let js=Yt[Z];if(fe.T=js[0],js=js[1],2==fe.G)if("c"==js[0]){fe.K=js[1],fe.ia=js[2];const Uc=js[3];null!=Uc&&(fe.la=Uc,fe.j.info("VER="+fe.la));const Hc=js[4];null!=Hc&&(fe.Aa=Hc,fe.j.info("SVER="+fe.Aa));const gh=js[5];null!=gh&&"number"==typeof gh&&0<gh&&(fe.L=ke=1.5*gh,fe.j.info("backChannelRequestTimeoutMs_="+ke)),ke=fe;const Td=T.g;if(Td){const um=Td.g?Td.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(um){var mn=ke.h;mn.g||-1==um.indexOf("spdy")&&-1==um.indexOf("quic")&&-1==um.indexOf("h2")||(mn.j=mn.l,mn.g=new Set,mn.h&&(A_(mn,mn.h),mn.h=null))}if(ke.D){const G_=Td.g?Td.g.getResponseHeader("X-HTTP-Session-Id"):null;G_&&(ke.ya=G_,Qo(ke.I,ke.D,G_))}}fe.G=3,fe.l&&fe.l.ua(),fe.ba&&(fe.R=Date.now()-T.F,fe.j.info("Handshake RTT: "+fe.R+"ms"));var yi=T;if((ke=fe).qa=ky(ke,ke.J?ke.ia:null,ke.W),yi.K){py(ke.h,yi);var $o=yi,tc=ke.L;tc&&($o.I=tc),$o.B&&(em($o),wf($o)),ke.g=yi}else Mb(ke);0<fe.i.length&&og(fe)}else"stop"!=js[0]&&"close"!=js[0]||nd(fe,7);else 3==fe.G&&("stop"==js[0]||"close"==js[0]?"stop"==js[0]?nd(fe,7):Iy(fe):"noop"!=js[0]&&fe.l&&fe.l.ta(js),fe.v=0)}np()}catch{}}td.prototype.ca=function(T){T=T.target;const Z=this.M;Z&&3==Hh(T)?Z.j():this.Y(T)},td.prototype.Y=function(T){try{if(T==this.g)e:{const Hc=Hh(this.g);var Z=this.g.Ba();if(this.g.Z(),!(3>Hc)&&(3!=Hc||this.g&&(this.h.h||this.g.oa()||Db(this.g)))){this.J||4!=Hc||7==Z||np(),em(this);var fe=this.g.Z();this.X=fe;t:if(op(this)){var ke=Db(this.g);T="";var Yt=ke.length,mn=4==Hh(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wd(this),Jp(this);var yi="";break t}this.h.i=new G.TextDecoder}for(Z=0;Z<Yt;Z++)this.h.h=!0,T+=this.h.i.decode(ke[Z],{stream:!(mn&&Z==Yt-1)});ke.length=0,this.h.g+=T,this.C=0,yi=this.h.g}else yi=this.g.oa();if(this.o=200==fe,function ay(T,Z,fe,ke,Yt,mn,yi){T.info(function(){return"XMLHTTP RESP ("+ke+") [ attempt "+Yt+"]: "+Z+"\n"+fe+"\n"+mn+" "+yi})}(this.i,this.u,this.A,this.l,this.R,Hc,fe),this.o){if(this.T&&!this.K){t:{if(this.g){var $o,tc=this.g;if(($o=tc.g?tc.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hr($o)){var js=$o;break t}}js=null}if(!(fe=js)){this.o=!1,this.s=3,nu(12),Wd(this),Jp(this);break e}bf(this.i,this.l,fe,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ef(this,fe)}if(this.P){let Td;for(fe=!0;!this.J&&this.C<yi.length;){if(Td=iw(this,yi),Td==Qp){4==Hc&&(this.s=4,nu(14),fe=!1),bf(this.i,this.l,null,"[Incomplete Response]");break}if(Td==uy){this.s=4,nu(15),bf(this.i,this.l,yi,"[Invalid Chunk]"),fe=!1;break}bf(this.i,this.l,Td,null),Ef(this,Td)}if(op(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Hc||0!=yi.length||this.h.h||(this.s=1,nu(16),fe=!1),this.o=this.o&&fe,fe){if(0<yi.length&&!this.W){this.W=!0;var Uc=this.j;Uc.g==this&&Uc.ba&&!Uc.M&&(Uc.j.info("Great, no buffering proxy detected. Bytes received: "+yi.length),Ry(Uc),Uc.M=!0,nu(11))}}else bf(this.i,this.l,yi,"[Invalid Chunked Response]"),Wd(this),Jp(this)}else bf(this.i,this.l,yi,null),Ef(this,yi);4==Hc&&Wd(this),this.o&&!this.J&&(4==Hc?Nb(this.j,this):(this.o=!1,wf(this)))}else(function rw(T){const Z={};T=(T.g&&2<=Hh(T)&&T.g.getAllResponseHeaders()||"").split("\r\n");for(let ke=0;ke<T.length;ke++){if(hr(T[ke]))continue;var fe=Ht(T[ke]);const Yt=fe[0];if("string"!=typeof(fe=fe[1]))continue;fe=fe.trim();const mn=Z[Yt]||[];Z[Yt]=mn,mn.push(fe)}!function Ot(T,Z){for(const fe in T)Z.call(void 0,T[fe],fe,T)}(Z,function(ke){return ke.join(", ")})})(this.g),400==fe&&0<yi.indexOf("Unknown SID")?(this.s=3,nu(12)):(this.s=0,nu(13)),Wd(this),Jp(this)}}}catch{}},td.prototype.cancel=function(){this.J=!0,Wd(this)},td.prototype.ba=function(){this.B=null;const T=Date.now();0<=T-this.S?(function ly(T,Z){T.info(function(){return"TIMEOUT: "+Z})}(this.i,this.A),2!=this.L&&(np(),nu(17)),Wd(this),this.s=2,Jp(this)):I_(this,this.S-T)};var bb=class{constructor(T,Z){this.g=T,this.map=Z}};function dy(T){this.l=T||10,T=G.PerformanceNavigationTiming?0<(T=G.performance.getEntriesByType("navigation")).length&&("hq"==T[0].nextHopProtocol||"h2"==T[0].nextHopProtocol):!!(G.chrome&&G.chrome.loadTimes&&G.chrome.loadTimes()&&G.chrome.loadTimes().wasFetchedViaSpdy),this.j=T?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hy(T){return!!T.h||!!T.g&&T.g.size>=T.j}function fy(T){return T.h?1:T.g?T.g.size:0}function S_(T,Z){return T.h?T.h==Z:!!T.g&&T.g.has(Z)}function A_(T,Z){T.g?T.g.add(Z):T.h=Z}function py(T,Z){T.h&&T.h==Z?T.h=null:T.g&&T.g.has(Z)&&T.g.delete(Z)}function gy(T){if(null!=T.h)return T.i.concat(T.h.D);if(null!=T.g&&0!==T.g.size){let Z=T.i;for(const fe of T.g.values())Z=Z.concat(fe.D);return Z}return Jn(T.i)}function my(T,Z){if(T.forEach&&"function"==typeof T.forEach)T.forEach(Z,void 0);else if(q(T)||"string"==typeof T)Array.prototype.forEach.call(T,Z,void 0);else for(var fe=function wb(T){if(T.na&&"function"==typeof T.na)return T.na();if(!T.V||"function"!=typeof T.V){if(typeof Map<"u"&&T instanceof Map)return Array.from(T.keys());if(!(typeof Set<"u"&&T instanceof Set)){if(q(T)||"string"==typeof T){var Z=[];T=T.length;for(var fe=0;fe<T;fe++)Z.push(fe);return Z}Z=[],fe=0;for(const ke in T)Z[fe++]=ke;return Z}}}(T),ke=function tm(T){if(T.V&&"function"==typeof T.V)return T.V();if(typeof Map<"u"&&T instanceof Map||typeof Set<"u"&&T instanceof Set)return Array.from(T.values());if("string"==typeof T)return T.split("");if(q(T)){for(var Z=[],fe=T.length,ke=0;ke<fe;ke++)Z.push(T[ke]);return Z}for(ke in Z=[],fe=0,T)Z[fe++]=T[ke];return Z}(T),Yt=ke.length,mn=0;mn<Yt;mn++)Z.call(void 0,ke[mn],fe&&fe[mn],T)}dy.prototype.cancel=function(){if(this.i=gy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const T of this.g.values())T.cancel();this.g.clear()}};var R_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fh(T){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,T instanceof fh){this.h=T.h,nm(this,T.j),this.o=T.o,this.g=T.g,Zp(this,T.s),this.l=T.l;var Z=T.i,fe=new ig;fe.i=Z.i,Z.g&&(fe.g=new Map(Z.g),fe.h=Z.h),im(this,fe),this.m=T.m}else T&&(Z=String(T).match(R_))?(this.h=!1,nm(this,Z[1]||"",!0),this.o=tg(Z[2]||""),this.g=tg(Z[3]||"",!0),Zp(this,Z[4]),this.l=tg(Z[5]||"",!0),im(this,Z[6]||"",!0),this.m=tg(Z[7]||"")):(this.h=!1,this.i=new ig(null,this.h))}function $d(T){return new fh(T)}function nm(T,Z,fe){T.j=fe?tg(Z,!0):Z,T.j&&(T.j=T.j.replace(/:$/,""))}function Zp(T,Z){if(Z){if(Z=Number(Z),isNaN(Z)||0>Z)throw Error("Bad port number "+Z);T.s=Z}else T.s=null}function im(T,Z,fe){Z instanceof ig?(T.i=Z,function x_(T,Z){Z&&!T.j&&(jh(T),T.i=null,T.g.forEach(function(fe,ke){var Yt=ke.toLowerCase();ke!=Yt&&(yy(this,ke),O_(this,Yt,fe))},T)),T.j=Z}(T.i,T.h)):(fe||(Z=ng(Z,k_)),T.i=new ig(Z,T.h))}function Qo(T,Z,fe){T.i.set(Z,fe)}function eg(T){return Qo(T,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),T}function tg(T,Z){return T?Z?decodeURI(T.replace(/%25/g,"%2525")):decodeURIComponent(T):""}function ng(T,Z,fe){return"string"==typeof T?(T=encodeURI(T).replace(Z,Eb),fe&&(T=T.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T):null}function Eb(T){return"%"+((T=T.charCodeAt(0))>>4&15).toString(16)+(15&T).toString(16)}fh.prototype.toString=function(){var T=[],Z=this.j;Z&&T.push(ng(Z,rm,!0),":");var fe=this.g;return(fe||"file"==Z)&&(T.push("//"),(Z=this.o)&&T.push(ng(Z,rm,!0),"@"),T.push(encodeURIComponent(String(fe)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(fe=this.s)&&T.push(":",String(fe))),(fe=this.l)&&(this.g&&"/"!=fe.charAt(0)&&T.push("/"),T.push(ng(fe,"/"==fe.charAt(0)?vy:M_,!0))),(fe=this.i.toString())&&T.push("?",fe),(fe=this.m)&&T.push("#",ng(fe,N_)),T.join("")};var rm=/[#\/\?@]/g,M_=/[#\?:]/g,vy=/[#\?]/g,k_=/[#\?@]/g,N_=/#/g;function ig(T,Z){this.h=this.g=null,this.i=T||null,this.j=!!Z}function jh(T){T.g||(T.g=new Map,T.h=0,T.i&&function _y(T,Z){if(T){T=T.split("&");for(var fe=0;fe<T.length;fe++){var ke=T[fe].indexOf("="),Yt=null;if(0<=ke){var mn=T[fe].substring(0,ke);Yt=T[fe].substring(ke+1)}else mn=T[fe];Z(mn,Yt?decodeURIComponent(Yt.replace(/\+/g," ")):"")}}}(T.i,function(Z,fe){T.add(decodeURIComponent(Z.replace(/\+/g," ")),fe)}))}function yy(T,Z){jh(T),Z=Uh(T,Z),T.g.has(Z)&&(T.i=null,T.h-=T.g.get(Z).length,T.g.delete(Z))}function by(T,Z){return jh(T),Z=Uh(T,Z),T.g.has(Z)}function O_(T,Z,fe){yy(T,Z),0<fe.length&&(T.i=null,T.g.set(Uh(T,Z),Jn(fe)),T.h+=fe.length)}function Uh(T,Z){return Z=String(Z),T.j&&(Z=Z.toLowerCase()),Z}function ph(T,Z,fe,ke,Yt){try{Yt&&(Yt.onload=null,Yt.onerror=null,Yt.onabort=null,Yt.ontimeout=null),ke(fe)}catch{}}function Cb(){this.g=new sy}function Cy(T,Z,fe){const ke=fe||"";try{my(T,function(Yt,mn){let yi=Yt;ue(Yt)&&(yi=Qg(Yt)),Z.push(ke+mn+"="+encodeURIComponent(yi))})}catch(Yt){throw Z.push(ke+"type="+encodeURIComponent("_badmap")),Yt}}function rg(T){this.l=T.Ub||null,this.j=T.eb||!1}function ap(T,Z){eu.call(this),this.D=T,this.o=Z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function P_(T){T.j.read().then(T.Pa.bind(T)).catch(T.ga.bind(T))}function Cf(T){T.readyState=4,T.l=null,T.j=null,T.v=null,sm(T)}function sm(T){T.onreadystatechange&&T.onreadystatechange.call(T)}function Tb(T){let Z="";return Kr(T,function(fe,ke){Z+=ke,Z+=":",Z+=fe,Z+="\r\n"}),Z}function om(T,Z,fe){e:{for(ke in fe){var ke=!1;break e}ke=!0}ke||(fe=Tb(fe),"string"==typeof T?null!=fe&&encodeURIComponent(String(fe)):Qo(T,Z,fe))}function xa(T){eu.call(this),this.headers=new Map,this.o=T||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=ig.prototype).add=function(T,Z){jh(this),this.i=null,T=Uh(this,T);var fe=this.g.get(T);return fe||this.g.set(T,fe=[]),fe.push(Z),this.h+=1,this},c.forEach=function(T,Z){jh(this),this.g.forEach(function(fe,ke){fe.forEach(function(Yt){T.call(Z,Yt,ke,this)},this)},this)},c.na=function(){jh(this);const T=Array.from(this.g.values()),Z=Array.from(this.g.keys()),fe=[];for(let ke=0;ke<Z.length;ke++){const Yt=T[ke];for(let mn=0;mn<Yt.length;mn++)fe.push(Z[ke])}return fe},c.V=function(T){jh(this);let Z=[];if("string"==typeof T)by(this,T)&&(Z=Z.concat(this.g.get(Uh(this,T))));else{T=Array.from(this.g.values());for(let fe=0;fe<T.length;fe++)Z=Z.concat(T[fe])}return Z},c.set=function(T,Z){return jh(this),this.i=null,by(this,T=Uh(this,T))&&(this.h-=this.g.get(T).length),this.g.set(T,[Z]),this.h+=1,this},c.get=function(T,Z){return T&&0<(T=this.V(T)).length?String(T[0]):Z},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const T=[],Z=Array.from(this.g.keys());for(var fe=0;fe<Z.length;fe++){var ke=Z[fe];const mn=encodeURIComponent(String(ke)),yi=this.V(ke);for(ke=0;ke<yi.length;ke++){var Yt=mn;""!==yi[ke]&&(Yt+="="+encodeURIComponent(String(yi[ke]))),T.push(Yt)}}return this.i=T.join("&")},An(rg,C_),rg.prototype.g=function(){return new ap(this.l,this.j)},rg.prototype.i=function(T){return function(){return T}}({}),An(ap,eu),(c=ap.prototype).open=function(T,Z){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=T,this.A=Z,this.readyState=1,sm(this)},c.send=function(T){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};T&&(Z.body=T),(this.D||G).fetch(new Request(this.A,Z)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cf(this)),this.readyState=0},c.Sa=function(T){if(this.g&&(this.l=T,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=T.headers,this.readyState=2,sm(this)),this.g&&(this.readyState=3,sm(this),this.g)))if("arraybuffer"===this.responseType)T.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof G.ReadableStream<"u"&&"body"in T){if(this.j=T.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;P_(this)}else T.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(T){if(this.g){if(this.o&&T.value)this.response.push(T.value);else if(!this.o){var Z=T.value?T.value:new Uint8Array(0);(Z=this.v.decode(Z,{stream:!T.done}))&&(this.response=this.responseText+=Z)}T.done?Cf(this):sm(this),3==this.readyState&&P_(this)}},c.Ra=function(T){this.g&&(this.response=this.responseText=T,Cf(this))},c.Qa=function(T){this.g&&(this.response=T,Cf(this))},c.ga=function(){this.g&&Cf(this)},c.setRequestHeader=function(T,Z){this.u.append(T,Z)},c.getResponseHeader=function(T){return this.h&&this.h.get(T.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const T=[],Z=this.h.entries();for(var fe=Z.next();!fe.done;)T.push((fe=fe.value)[0]+": "+fe[1]),fe=Z.next();return T.join("\r\n")},Object.defineProperty(ap.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(T){this.m=T?"include":"same-origin"}}),An(xa,eu);var Ty=/^https?$/i,F_=["POST","PUT"];function V_(T,Z){T.h=!1,T.g&&(T.j=!0,T.g.abort(),T.j=!1),T.l=Z,T.m=5,L_(T),sg(T)}function L_(T){T.A||(T.A=!0,tu(T,"complete"),tu(T,"error"))}function B_(T){if(T.h&&typeof I<"u"&&(!T.v[1]||4!=Hh(T)||2!=T.Z()))if(T.u&&4==Hh(T))E_(T.Ea,0,T);else if(tu(T,"readystatechange"),4==Hh(T)){T.h=!1;try{const yi=T.Z();e:switch(yi){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Z=!0;break e;default:Z=!1}var fe;if(!(fe=Z)){var ke;if(ke=0===yi){var Yt=String(T.D).match(R_)[1]||null;!Yt&&G.self&&G.self.location&&(Yt=G.self.location.protocol.slice(0,-1)),ke=!Ty.test(Yt?Yt.toLowerCase():"")}fe=ke}if(fe)tu(T,"complete"),tu(T,"success");else{T.m=6;try{var mn=2<Hh(T)?T.g.statusText:""}catch{mn=""}T.l=mn+" ["+T.Z()+"]",L_(T)}}finally{sg(T)}}}function sg(T,Z){if(T.g){Dy(T);const fe=T.g,ke=T.v[0]?()=>{}:null;T.g=null,T.v=null,Z||tu(T,"ready");try{fe.onreadystatechange=ke}catch{}}}function Dy(T){T.I&&(G.clearTimeout(T.I),T.I=null)}function Hh(T){return T.g?T.g.readyState:0}function Db(T){try{if(!T.g)return null;if("response"in T.g)return T.g.response;switch(T.H){case"":case"text":return T.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in T.g)return T.g.mozResponseArrayBuffer}return null}catch{return null}}function am(T,Z,fe){return fe&&fe.internalChannelParams&&fe.internalChannelParams[T]||Z}function Ib(T){this.Aa=0,this.i=[],this.j=new yf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=am("failFast",!1,T),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=am("baseRetryDelayMs",5e3,T),this.cb=am("retryDelaySeedMs",1e4,T),this.Wa=am("forwardChannelMaxRetries",2,T),this.wa=am("forwardChannelRequestTimeoutMs",2e4,T),this.pa=T&&T.xmlHttpFactory||void 0,this.Xa=T&&T.Tb||void 0,this.Ca=T&&T.useFetchStreams||!1,this.L=void 0,this.J=T&&T.supportsCrossDomainXhr||!1,this.K="",this.h=new dy(T&&T.concurrentRequestLimit),this.Da=new Cb,this.P=T&&T.fastHandshake||!1,this.O=T&&T.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=T&&T.Rb||!1,T&&T.xa&&this.j.xa(),T&&T.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&T&&T.detectBufferingProxy||!1,this.ja=void 0,T&&T.longPollingTimeout&&0<T.longPollingTimeout&&(this.ja=T.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Iy(T){if(Sb(T),3==T.G){var Z=T.U++,fe=$d(T.I);if(Qo(fe,"SID",T.K),Qo(fe,"RID",Z),Qo(fe,"TYPE","terminate"),lm(T,fe),(Z=new td(T,T.j,Z)).L=2,Z.v=eg($d(fe)),fe=!1,G.navigator&&G.navigator.sendBeacon)try{fe=G.navigator.sendBeacon(Z.v.toString(),"")}catch{}!fe&&G.Image&&((new Image).src=Z.v,fe=!0),fe||(Z.g=Ob(Z.j,null),Z.g.ea(Z.v)),Z.F=Date.now(),wf(Z)}lp(T)}function j_(T){T.g&&(Ry(T),T.g.cancel(),T.g=null)}function Sb(T){j_(T),T.u&&(G.clearTimeout(T.u),T.u=null),U_(T),T.h.cancel(),T.s&&("number"==typeof T.s&&G.clearTimeout(T.s),T.s=null)}function og(T){if(!hy(T.h)&&!T.s){T.s=!0;var Z=T.Ga;ep||Jv(),jp||(ep(),jp=!0),tp.add(Z,T),T.B=0}}function Ab(T,Z){var fe;fe=Z?Z.l:T.U++;const ke=$d(T.I);Qo(ke,"SID",T.K),Qo(ke,"RID",fe),Qo(ke,"AID",T.T),lm(T,ke),T.m&&T.o&&om(ke,T.m,T.o),fe=new td(T,T.j,fe,T.B+1),null===T.m&&(fe.H=T.o),Z&&(T.i=Z.D.concat(T.i)),Z=Rb(T,fe,1e3),fe.I=Math.round(.5*T.wa)+Math.round(.5*T.wa*Math.random()),A_(T.h,fe),Zg(fe,ke,Z)}function lm(T,Z){T.H&&Kr(T.H,function(fe,ke){Qo(Z,ke,fe)}),T.l&&my({},function(fe,ke){Qo(Z,ke,fe)})}function Rb(T,Z,fe){fe=Math.min(T.i.length,fe);var ke=T.l?ft(T.l.Na,T.l,T):null;e:{var Yt=T.i;let mn=-1;for(;;){const yi=["count="+fe];-1==mn?0<fe?(mn=Yt[0].g,yi.push("ofs="+mn)):mn=0:yi.push("ofs="+mn);let $o=!0;for(let tc=0;tc<fe;tc++){let js=Yt[tc].g;const Uc=Yt[tc].map;if(js-=mn,0>js)mn=Math.max(0,Yt[tc].g-100),$o=!1;else try{Cy(Uc,yi,"req"+js+"_")}catch{ke&&ke(Uc)}}if($o){ke=yi.join("&");break e}}}return T=T.i.splice(0,fe),Z.D=T,ke}function Mb(T){if(!T.g&&!T.u){T.Y=1;var Z=T.Fa;ep||Jv(),jp||(ep(),jp=!0),tp.add(Z,T),T.v=0}}function Ay(T){return!(T.g||T.u||3<=T.v||(T.Y++,T.u=ip(ft(T.Fa,T),My(T,T.v)),T.v++,0))}function Ry(T){null!=T.A&&(G.clearTimeout(T.A),T.A=null)}function kb(T){T.g=new td(T,T.j,"rpc",T.Y),null===T.m&&(T.g.H=T.o),T.g.O=0;var Z=$d(T.qa);Qo(Z,"RID","rpc"),Qo(Z,"SID",T.K),Qo(Z,"AID",T.T),Qo(Z,"CI",T.F?"0":"1"),!T.F&&T.ja&&Qo(Z,"TO",T.ja),Qo(Z,"TYPE","xmlhttp"),lm(T,Z),T.m&&T.o&&om(Z,T.m,T.o),T.L&&(T.g.I=T.L);var fe=T.g;T=T.ia,fe.L=1,fe.v=eg($d(Z)),fe.m=null,fe.P=!0,hh(fe,T)}function U_(T){null!=T.C&&(G.clearTimeout(T.C),T.C=null)}function Nb(T,Z){var fe=null;if(T.g==Z){U_(T),Ry(T),T.g=null;var ke=2}else{if(!S_(T.h,Z))return;fe=Z.D,py(T.h,Z),ke=1}if(0!=T.G)if(Z.o)if(1==ke){fe=Z.m?Z.m.length:0,Z=Date.now()-Z.F;var Yt=T.B;tu(ke=Yp(),new Bh(ke,fe)),og(T)}else Mb(T);else if(3==(Yt=Z.s)||0==Yt&&0<Z.X||!(1==ke&&function Sy(T,Z){return!(fy(T.h)>=T.h.j-(T.s?1:0)||(T.s?(T.i=Z.D.concat(T.i),0):1==T.G||2==T.G||T.B>=(T.Va?0:T.Wa)||(T.s=ip(ft(T.Ga,T,Z),My(T,T.B)),T.B++,0)))}(T,Z)||2==ke&&Ay(T)))switch(fe&&0<fe.length&&(Z=T.h,Z.i=Z.i.concat(fe)),Yt){case 1:nd(T,5);break;case 4:nd(T,10);break;case 3:nd(T,6);break;default:nd(T,2)}}function My(T,Z){let fe=T.Ta+Math.floor(Math.random()*T.cb);return T.isActive()||(fe*=2),fe*Z}function nd(T,Z){if(T.j.info("Error code "+Z),2==Z){var fe=ft(T.fb,T),ke=T.Xa;const Yt=!ke;ke=new fh(ke||"//www.google.com/images/cleardot.gif"),G.location&&"http"==G.location.protocol||nm(ke,"https"),eg(ke),Yt?function wy(T,Z){const fe=new yf;if(G.Image){const ke=new Image;ke.onload=Jt(ph,fe,"TestLoadImage: loaded",!0,Z,ke),ke.onerror=Jt(ph,fe,"TestLoadImage: error",!1,Z,ke),ke.onabort=Jt(ph,fe,"TestLoadImage: abort",!1,Z,ke),ke.ontimeout=Jt(ph,fe,"TestLoadImage: timeout",!1,Z,ke),G.setTimeout(function(){ke.ontimeout&&ke.ontimeout()},1e4),ke.src=T}else Z(!1)}(ke.toString(),fe):function Ey(T,Z){new yf;const ke=new AbortController,Yt=setTimeout(()=>{ke.abort(),ph(0,0,!1,Z)},1e4);fetch(T,{signal:ke.signal}).then(mn=>{clearTimeout(Yt),ph(0,0,!!mn.ok,Z)}).catch(()=>{clearTimeout(Yt),ph(0,0,!1,Z)})}(ke.toString(),fe)}else nu(2);T.G=0,T.l&&T.l.sa(Z),lp(T),Sb(T)}function lp(T){if(T.G=0,T.ka=[],T.l){const Z=gy(T.h);(0!=Z.length||0!=T.i.length)&&(Bn(T.ka,Z),Bn(T.ka,T.i),T.h.i.length=0,Jn(T.i),T.i.length=0),T.l.ra()}}function ky(T,Z,fe){var ke=fe instanceof fh?$d(fe):new fh(fe);if(""!=ke.g)Z&&(ke.g=Z+"."+ke.g),Zp(ke,ke.s);else{var Yt=G.location;ke=Yt.protocol,Z=Z?Z+"."+Yt.hostname:Yt.hostname,Yt=+Yt.port;var mn=new fh(null);ke&&nm(mn,ke),Z&&(mn.g=Z),Yt&&Zp(mn,Yt),fe&&(mn.l=fe),ke=mn}return Z=T.ya,(fe=T.D)&&Z&&Qo(ke,fe,Z),Qo(ke,"VER",T.la),lm(T,ke),ke}function Ob(T,Z,fe){if(Z&&!T.J)throw Error("Can't create secondary domain capable XhrIo object.");return(Z=new xa(T.Ca&&!T.pa?new rg({eb:fe}):T.pa)).Ha(T.J),Z}function H_(){}function cm(){}function id(T,Z){eu.call(this),this.g=new Ib(Z),this.l=T,this.h=Z&&Z.messageUrlParams||null,T=Z&&Z.messageHeaders||null,Z&&Z.clientProtocolHeaderRequired&&(T?T["X-Client-Protocol"]="webchannel":T={"X-Client-Protocol":"webchannel"}),this.g.o=T,T=Z&&Z.initMessageHeaders||null,Z&&Z.messageContentType&&(T?T["X-WebChannel-Content-Type"]=Z.messageContentType:T={"X-WebChannel-Content-Type":Z.messageContentType}),Z&&Z.va&&(T?T["X-WebChannel-Client-Profile"]=Z.va:T={"X-WebChannel-Client-Profile":Z.va}),this.g.S=T,(T=Z&&Z.Sb)&&!hr(T)&&(this.g.m=T),this.v=Z&&Z.supportsCrossDomainXhr||!1,this.u=Z&&Z.sendRawJson||!1,(Z=Z&&Z.httpSessionIdParam)&&!hr(Z)&&(this.g.D=Z,null!==(T=this.h)&&Z in T&&Z in(T=this.h)&&delete T[Z]),this.j=new cp(this)}function Ny(T){Kp.call(this),T.__headers__&&(this.headers=T.__headers__,this.statusCode=T.__status__,delete T.__headers__,delete T.__status__);var Z=T.__sm__;if(Z){e:{for(const fe in Z){T=fe;break e}T=void 0}(this.i=T)&&(T=this.i,Z=null!==Z&&T in Z?Z[T]:void 0),this.data=Z}else this.data=T}function Oy(){T_.call(this),this.status=1}function cp(T){this.g=T}(c=xa.prototype).Ha=function(T){this.J=T},c.ea=function(T,Z,fe,ke){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+T);Z=Z?Z.toUpperCase():"GET",this.D=T,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sp.g(),this.v=function vb(T){return T.h||(T.h=T.i())}(this.o?this.o:sp),this.g.onreadystatechange=ft(this.Ea,this);try{this.B=!0,this.g.open(Z,String(T),!0),this.B=!1}catch(mn){return void V_(this,mn)}if(T=fe||"",fe=new Map(this.headers),ke)if(Object.getPrototypeOf(ke)===Object.prototype)for(var Yt in ke)fe.set(Yt,ke[Yt]);else{if("function"!=typeof ke.keys||"function"!=typeof ke.get)throw Error("Unknown input type for opt_headers: "+String(ke));for(const mn of ke.keys())fe.set(mn,ke.get(mn))}ke=Array.from(fe.keys()).find(mn=>"content-type"==mn.toLowerCase()),Yt=G.FormData&&T instanceof G.FormData,!(0<=Array.prototype.indexOf.call(F_,Z,void 0))||ke||Yt||fe.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[mn,yi]of fe)this.g.setRequestHeader(mn,yi);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dy(this),this.u=!0,this.g.send(T),this.u=!1}catch(mn){V_(this,mn)}},c.abort=function(T){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=T||7,tu(this,"complete"),tu(this,"abort"),sg(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sg(this,!0)),xa.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?B_(this):this.bb())},c.bb=function(){B_(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<Hh(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(T){if(this.g){var Z=this.g.responseText;return T&&0==Z.indexOf(T)&&(Z=Z.substring(T.length)),Cd(Z)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=Ib.prototype).la=8,c.G=1,c.connect=function(T,Z,fe,ke){nu(0),this.W=T,this.H=Z||{},fe&&void 0!==ke&&(this.H.OSID=fe,this.H.OAID=ke),this.F=this.X,this.I=ky(this,null,this.W),og(this)},c.Ga=function(T){if(this.s)if(this.s=null,1==this.G){if(!T){this.U=Math.floor(1e5*Math.random()),T=this.U++;const Yt=new td(this,this.j,T);let mn=this.o;if(this.S&&(mn?(mn=ct(mn),Lt(mn,this.S)):mn=this.S),null!==this.m||this.O||(Yt.H=mn,mn=null),this.P)e:{for(var Z=0,fe=0;fe<this.i.length;fe++){var ke=this.i[fe];if(void 0===(ke="__data__"in ke.map&&"string"==typeof(ke=ke.map.__data__)?ke.length:void 0))break;if(4096<(Z+=ke)){Z=fe;break e}if(4096===Z||fe===this.i.length-1){Z=fe+1;break e}}Z=1e3}else Z=1e3;Z=Rb(this,Yt,Z),Qo(fe=$d(this.I),"RID",T),Qo(fe,"CVER",22),this.D&&Qo(fe,"X-HTTP-Session-Id",this.D),lm(this,fe),mn&&(this.O?Z="headers="+encodeURIComponent(String(Tb(mn)))+"&"+Z:this.m&&om(fe,this.m,mn)),A_(this.h,Yt),this.Ua&&Qo(fe,"TYPE","init"),this.P?(Qo(fe,"$req",Z),Qo(fe,"SID","null"),Yt.T=!0,Zg(Yt,fe,null)):Zg(Yt,fe,Z),this.G=2}}else 3==this.G&&(T?Ab(this,T):0==this.i.length||hy(this.h)||Ab(this))},c.Fa=function(){if(this.u=null,kb(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var T=2*this.R;this.j.info("BP detection timer enabled: "+T),this.A=ip(ft(this.ab,this),T)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nu(10),j_(this),kb(this))},c.Za=function(){null!=this.C&&(this.C=null,j_(this),Ay(this),nu(19))},c.fb=function(T){T?(this.j.info("Successfully pinged google.com"),nu(2)):(this.j.info("Failed to ping google.com"),nu(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=H_.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},cm.prototype.g=function(T,Z){return new id(T,Z)},An(id,eu),id.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},id.prototype.close=function(){Iy(this.g)},id.prototype.o=function(T){var Z=this.g;if("string"==typeof T){var fe={};fe.__data__=T,T=fe}else this.u&&((fe={}).__data__=Qg(T),T=fe);Z.i.push(new bb(Z.Ya++,T)),3==Z.G&&og(Z)},id.prototype.N=function(){this.g.l=null,delete this.j,Iy(this.g),delete this.g,id.aa.N.call(this)},An(Ny,Kp),An(Oy,T_),An(cp,H_),cp.prototype.ua=function(){tu(this.g,"a")},cp.prototype.ta=function(T){tu(this.g,new Ny(T))},cp.prototype.sa=function(T){tu(this.g,new Oy)},cp.prototype.ra=function(){tu(this.g,"b")},cm.prototype.createWebChannel=cm.prototype.g,id.prototype.send=id.prototype.o,id.prototype.open=id.prototype.m,id.prototype.close=id.prototype.close,ri=Se.createWebChannelTransport=function(){return new cm},En=Se.getStatEventTarget=function(){return Yp()},Zn=Se.Event=vf,$n=Se.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rp.NO_ERROR=0,rp.TIMEOUT=8,rp.HTTP_ERROR=6,ai=Se.ErrorCode=rp,dh.COMPLETE="complete",Xn=Se.EventType=dh,al.EventType=zp,zp.OPEN="a",zp.CLOSE="b",zp.ERROR="c",zp.MESSAGE="d",eu.prototype.listen=eu.prototype.K,Rn=Se.WebChannel=al,Se.FetchXmlHttpFactory=rg,xa.prototype.listenOnce=xa.prototype.L,xa.prototype.getLastError=xa.prototype.Ka,xa.prototype.getLastErrorCode=xa.prototype.Ba,xa.prototype.getStatus=xa.prototype.Z,xa.prototype.getResponseJson=xa.prototype.Oa,xa.prototype.getResponseText=xa.prototype.oa,xa.prototype.send=xa.prototype.ea,xa.prototype.setWithCredentials=xa.prototype.Ha,Le=Se.XhrIo=xa}).apply(typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{});const mt="@firebase/firestore";class Be{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");let Ze="10.14.0";const Ie=new jt.Vy("@firebase/firestore");function Ke(){return Ie.logLevel}function ot(c,...t){if(Ie.logLevel<=jt.$b.DEBUG){const r=t.map(Vn);Ie.debug(`Firestore (${Ze}): ${c}`,...r)}}function On(c,...t){if(Ie.logLevel<=jt.$b.ERROR){const r=t.map(Vn);Ie.error(`Firestore (${Ze}): ${c}`,...r)}}function ei(c,...t){if(Ie.logLevel<=jt.$b.WARN){const r=t.map(Vn);Ie.warn(`Firestore (${Ze}): ${c}`,...r)}}function Vn(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function en(c="Unexpected state"){const t=`FIRESTORE (${Ze}) INTERNAL ASSERTION FAILED: `+c;throw On(t),new Error(t)}function cn(c,t){c||en()}function tn(c,t){return c}const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends wt.g{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ft{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}class ie{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Qe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Be.UNAUTHENTICATED))}shutdown(){}}class Ve{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class pt{constructor(t){this.t=t,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){var a=this;cn(void 0===this.o);let f=this.i;const w=ue=>this.i!==f?(f=this.i,r(ue)):Promise.resolve();let I=new Ft;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new Ft,t.enqueueRetryable(()=>w(this.currentUser))};const G=()=>{const ue=I;t.enqueueRetryable((0,je.A)(function*(){yield ue.promise,yield w(a.currentUser)}))},q=ue=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ue,this.o&&(this.auth.addAuthTokenListener(this.o),G())};this.t.onInit(ue=>q(ue)),setTimeout(()=>{if(!this.auth){const ue=this.t.getImmediate({optional:!0});ue?q(ue):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new Ft)}},0),G()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(cn("string"==typeof a.accessToken),new ie(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return cn(null===t||"string"==typeof t),new Be(t)}}class bn{constructor(t,r,a){this.l=t,this.h=r,this.P=a,this.type="FirstParty",this.user=Be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Nn{constructor(t,r,a){this.l=t,this.h=r,this.P=a}getToken(){return Promise.resolve(new bn(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dn{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jn{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){cn(void 0===this.o);const a=w=>{null!=w.error&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${w.error.message}`);const I=w.token!==this.R;return this.R=w.token,ot("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?r(w.token):Promise.resolve()};this.o=w=>{t.enqueueRetryable(()=>a(w))};const f=w=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=w,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(w=>f(w)),setTimeout(()=>{if(!this.appCheck){const w=this.A.getImmediate({optional:!0});w?f(w):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(cn("string"==typeof r.token),this.R=r.token,new Dn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ki(c){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(c);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let a=0;a<c;a++)r[a]=Math.floor(256*Math.random());return r}class Fi{static newId(){const r=62*Math.floor(256/62);let a="";for(;a.length<20;){const f=Ki(40);for(let w=0;w<f.length;++w)a.length<20&&f[w]<r&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(f[w]%62))}return a}}function si(c,t){return c<t?-1:c>t?1:0}function nr(c,t,r){return c.length===t.length&&c.every((a,f)=>r(a,t[f]))}function os(c){return c+"\0"}class Kn{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new xe(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new xe(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new xe(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xe(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Kn.fromMillis(Date.now())}static fromDate(t){return Kn.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),a=Math.floor(1e6*(t-1e3*r));return new Kn(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?si(this.nanoseconds,t.nanoseconds):si(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Pn(t)}static min(){return new Pn(new Kn(0,0))}static max(){return new Pn(new Kn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class er{constructor(t,r,a){void 0===r?r=0:r>t.length&&en(),void 0===a?a=t.length-r:a>t.length-r&&en(),this.segments=t,this.offset=r,this.len=a}get length(){return this.len}isEqual(t){return 0===er.comparator(this,t)}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof er?t.forEach(a=>{r.push(a)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,a=this.limit();r<a;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const a=Math.min(t.length,r.length);for(let f=0;f<a;f++){const w=t.get(f),I=r.get(f);if(w<I)return-1;if(w>I)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class Wn extends er{construct(t,r,a){return new Wn(t,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const a of t){if(a.indexOf("//")>=0)throw new xe(bt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(f=>f.length>0))}return new Wn(r)}static emptyPath(){return new Wn([])}}const ws=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ni extends er{construct(t,r,a){return new ni(t,r,a)}static isValidIdentifier(t){return ws.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ni.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ni(["__name__"])}static fromServerFormat(t){const r=[];let a="",f=0;const w=()=>{if(0===a.length)throw new xe(bt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let I=!1;for(;f<t.length;){const G=t[f];if("\\"===G){if(f+1===t.length)throw new xe(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const q=t[f+1];if("\\"!==q&&"."!==q&&"`"!==q)throw new xe(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=q,f+=2}else"`"===G?(I=!I,f++):"."!==G||I?(a+=G,f++):(w(),f++)}if(w(),I)throw new xe(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ni(r)}static emptyPath(){return new ni([])}}class gn{constructor(t){this.path=t}static fromPath(t){return new gn(Wn.fromString(t))}static fromName(t){return new gn(Wn.fromString(t).popFirst(5))}static empty(){return new gn(Wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Wn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,r){return Wn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gn(new Wn(t.slice()))}}class Fr{constructor(t,r,a,f){this.indexId=t,this.collectionGroup=r,this.fields=a,this.indexState=f}}function Es(c){return c.fields.find(t=>2===t.kind)}function Rr(c){return c.fields.filter(t=>2!==t.kind)}Fr.UNKNOWN_ID=-1;class Tt{constructor(t,r){this.fieldPath=t,this.kind=r}}class ht{constructor(t,r){this.sequenceNumber=t,this.offset=r}static empty(){return new ht(0,Ge.min())}}function yn(c,t){const r=c.toTimestamp().seconds,a=c.toTimestamp().nanoseconds+1,f=Pn.fromTimestamp(1e9===a?new Kn(r+1,0):new Kn(r,a));return new Ge(f,gn.empty(),t)}function Un(c){return new Ge(c.readTime,c.key,-1)}class Ge{constructor(t,r,a){this.readTime=t,this.documentKey=r,this.largestBatchId=a}static min(){return new Ge(Pn.min(),gn.empty(),-1)}static max(){return new Ge(Pn.max(),gn.empty(),-1)}}function ze(c,t){let r=c.readTime.compareTo(t.readTime);return 0!==r?r:(r=gn.comparator(c.documentKey,t.documentKey),0!==r?r:si(c.largestBatchId,t.largestBatchId))}const ut="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Nt(c){return kn.apply(this,arguments)}function kn(){return(kn=(0,je.A)(function*(c){if(c.code!==bt.FAILED_PRECONDITION||c.message!==ut)throw c;ot("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new rt((a,f)=>{this.nextCallback=w=>{this.wrapSuccess(t,w).next(a,f)},this.catchCallback=w=>{this.wrapFailure(r,w).next(a,f)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof rt?r:rt.resolve(r)}catch(r){return rt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):rt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):rt.reject(r)}static resolve(t){return new rt((r,a)=>{r(t)})}static reject(t){return new rt((r,a)=>{a(t)})}static waitFor(t){return new rt((r,a)=>{let f=0,w=0,I=!1;t.forEach(G=>{++f,G.next(()=>{++w,I&&w===f&&r()},q=>a(q))}),I=!0,w===f&&r()})}static or(t){let r=rt.resolve(!1);for(const a of t)r=r.next(f=>f?rt.resolve(f):a());return r}static forEach(t,r){const a=[];return t.forEach((f,w)=>{a.push(r.call(this,f,w))}),this.waitFor(a)}static mapArray(t,r){return new rt((a,f)=>{const w=t.length,I=new Array(w);let G=0;for(let q=0;q<w;q++){const ue=q;r(t[ue]).next(Ee=>{I[ue]=Ee,++G,G===w&&a(I)},Ee=>f(Ee))}})}static doWhile(t,r){return new rt((a,f)=>{const w=()=>{!0===t()?r().next(()=>{w()},f):a()};w()})}}class Oi{constructor(t,r){this.action=t,this.transaction=r,this.aborted=!1,this.V=new Ft,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new qi(t,r.error)):this.V.resolve()},this.transaction.onerror=a=>{const f=mr(a.target.error);this.V.reject(new qi(t,f))}}static open(t,r,a,f){try{return new Oi(r,t.transaction(f,a))}catch(w){throw new qi(r,w)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(ot("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const r=this.transaction.objectStore(t);return new Us(r)}}class gr{constructor(t,r,a){this.name=t,this.version=r,this.p=a,12.2===gr.S((0,wt.ZQ)())&&On("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ot("SimpleDb","Removing database:",t),Do(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,wt.zW)())return!1;if(gr.v())return!0;const t=(0,wt.ZQ)(),r=gr.S(t),a=0<r&&r<10,f=Ai(t),w=0<f&&f<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||a||w)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,r){return t.store(r)}static S(t){const r=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(t){var r=this;return(0,je.A)(function*(){return r.db||(ot("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,f)=>{const w=indexedDB.open(r.name,r.version);w.onsuccess=I=>{a(I.target.result)},w.onblocked=()=>{f(new qi(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},w.onerror=I=>{const G=I.target.error;f("VersionError"===G.name?new xe(bt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===G.name?new xe(bt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+G):new qi(t,G))},w.onupgradeneeded=I=>{ot("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',I.oldVersion),r.p.O(I.target.result,w.transaction,I.oldVersion,r.version).next(()=>{ot("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=a=>r.N(a)),r.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=r=>t(r))}runTransaction(t,r,a,f){var w=this;return(0,je.A)(function*(){const I="readonly"===r;let G=0;for(;;){++G;try{w.db=yield w.M(t);const q=Oi.open(w.db,t,I?"readonly":"readwrite",a),ue=f(q).next(Ee=>(q.g(),Ee)).catch(Ee=>(q.abort(Ee),rt.reject(Ee))).toPromise();return ue.catch(()=>{}),yield q.m,ue}catch(q){const ue=q,Ee="FirebaseError"!==ue.name&&G<3;if(ot("SimpleDb","Transaction failed with error:",ue.message,"Retrying:",Ee),w.close(),!Ee)return Promise.reject(ue)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Ai(c){const t=c.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class li{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return Do(this.B.delete())}}class qi extends xe{constructor(t,r){super(bt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Ur(c){return"IndexedDbTransactionError"===c.name}class Us{constructor(t){this.store=t}put(t,r){let a;return void 0!==r?(ot("SimpleDb","PUT",this.store.name,t,r),a=this.store.put(r,t)):(ot("SimpleDb","PUT",this.store.name,"<auto-key>",t),a=this.store.put(t)),Do(a)}add(t){return ot("SimpleDb","ADD",this.store.name,t,t),Do(this.store.add(t))}get(t){return Do(this.store.get(t)).next(r=>(void 0===r&&(r=null),ot("SimpleDb","GET",this.store.name,t,r),r))}delete(t){return ot("SimpleDb","DELETE",this.store.name,t),Do(this.store.delete(t))}count(){return ot("SimpleDb","COUNT",this.store.name),Do(this.store.count())}U(t,r){const a=this.options(t,r),f=a.index?this.store.index(a.index):this.store;if("function"==typeof f.getAll){const w=f.getAll(a.range);return new rt((I,G)=>{w.onerror=q=>{G(q.target.error)},w.onsuccess=q=>{I(q.target.result)}})}{const w=this.cursor(a),I=[];return this.W(w,(G,q)=>{I.push(q)}).next(()=>I)}}G(t,r){const a=this.store.getAll(t,null===r?void 0:r);return new rt((f,w)=>{a.onerror=I=>{w(I.target.error)},a.onsuccess=I=>{f(I.target.result)}})}j(t,r){ot("SimpleDb","DELETE ALL",this.store.name);const a=this.options(t,r);a.H=!1;const f=this.cursor(a);return this.W(f,(w,I,G)=>G.delete())}J(t,r){let a;r?a=t:(a={},r=t);const f=this.cursor(a);return this.W(f,r)}Y(t){const r=this.cursor({});return new rt((a,f)=>{r.onerror=w=>{const I=mr(w.target.error);f(I)},r.onsuccess=w=>{const I=w.target.result;I?t(I.primaryKey,I.value).next(G=>{G?I.continue():a()}):a()}})}W(t,r){const a=[];return new rt((f,w)=>{t.onerror=I=>{w(I.target.error)},t.onsuccess=I=>{const G=I.target.result;if(!G)return void f();const q=new li(G),ue=r(G.primaryKey,G.value,q);if(ue instanceof rt){const Ee=ue.catch(Ue=>(q.done(),rt.reject(Ue)));a.push(Ee)}q.isDone?f():null===q.K?G.continue():G.continue(q.K)}}).next(()=>rt.waitFor(a))}options(t,r){let a;return void 0!==t&&("string"==typeof t?a=t:r=t),{index:a,range:r}}cursor(t){let r="next";if(t.reverse&&(r="prev"),t.index){const a=this.store.index(t.index);return t.H?a.openKeyCursor(t.range,r):a.openCursor(t.range,r)}return this.store.openCursor(t.range,r)}}function Do(c){return new rt((t,r)=>{c.onsuccess=a=>{t(a.target.result)},c.onerror=a=>{const f=mr(a.target.error);r(f)}})}let Da=!1;function mr(c){const t=gr.S((0,wt.ZQ)());if(t>=12.2&&t<13){const r="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(r)>=0){const a=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Da||(Da=!0,setTimeout(()=>{throw a},0)),a}}return c}class No{constructor(t,r){this.asyncQueue=t,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var r=this;ot("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,je.A)(function*(){r.task=null;try{ot("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(a){Ur(a)?ot("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield Nt(a)}yield r.X(6e4)}))}}class Zo{constructor(t,r){this.localStore=t,this.persistence=r}ee(t=50){var r=this;return(0,je.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>r.te(a,t))})()}te(t,r){const a=new Set;let f=r,w=!0;return rt.doWhile(()=>!0===w&&f>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(I=>{if(null!==I&&!a.has(I))return ot("IndexBackfiller",`Processing collection: ${I}`),this.ne(t,I,f).next(G=>{f-=G,a.add(I)});w=!1})).next(()=>r-f)}ne(t,r,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,r).next(f=>this.localStore.localDocuments.getNextDocuments(t,r,f,a).next(w=>{const I=w.changes;return this.localStore.indexManager.updateIndexEntries(t,I).next(()=>this.re(f,w)).next(G=>(ot("IndexBackfiller",`Updating offset: ${G}`),this.localStore.indexManager.updateCollectionGroup(t,r,G))).next(()=>I.size)}))}re(t,r){let a=t;return r.changes.forEach((f,w)=>{const I=Un(w);ze(I,a)>0&&(a=I)}),new Ge(a.readTime,a.documentKey,Math.max(r.batchId,t.largestBatchId))}}let es=(()=>{class c{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=f=>this.ie(f),this.se=f=>a.writeSequenceNumber(f))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return c.oe=-1,c})();function io(c){return null==c}function Gt(c){return 0===c&&1/c==-1/0}function St(c){return"number"==typeof c&&Number.isInteger(c)&&!Gt(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}function Zt(c){let t="";for(let r=0;r<c.length;r++)t.length>0&&(t=Mi(t)),t=qn(c.get(r),t);return Mi(t)}function qn(c,t){let r=t;const a=c.length;for(let f=0;f<a;f++){const w=c.charAt(f);switch(w){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=w}}return r}function Mi(c){return c+"\x01\x01"}function gi(c){const t=c.length;if(cn(t>=2),2===t)return cn("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),Wn.emptyPath();const r=t-2,a=[];let f="";for(let w=0;w<t;){const I=c.indexOf("\x01",w);switch((I<0||I>r)&&en(),c.charAt(I+1)){case"\x01":const G=c.substring(w,I);let q;0===f.length?q=G:(f+=G,q=f,f=""),a.push(q);break;case"\x10":f+=c.substring(w,I),f+="\0";break;case"\x11":f+=c.substring(w,I+1);break;default:en()}w=I+2}return new Wn(a)}const Yi=["userId","batchId"];function oi(c,t){return[c,Zt(t)]}function wi(c,t,r){return[c,Zt(t),r]}const as={},Er=["prefixPath","collectionGroup","readTime","documentId"],ts=["prefixPath","collectionGroup","documentId"],Cs=["collectionGroup","readTime","prefixPath","documentId"],Ks=["canonicalId","targetId"],Io=["targetId","path"],Ls=["path","targetId"],aa=["collectionId","parent"],nc=["indexId","uid"],la=["uid","sequenceNumber"],ca=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ll=["indexId","uid","orderedDocumentKey"],qa=["userId","collectionPath","documentId"],El=["userId","collectionPath","largestBatchId"],vo=["userId","collectionGroup","largestBatchId"],Ys=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Oo=[...Ys,"documentOverlays"],Si=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_r=Si,Pa=[..._r,"indexConfiguration","indexState","indexEntries"],ir=Pa,vr=[...Pa,"globals"];class ar extends zt{constructor(t,r){super(),this._e=t,this.currentSequenceNumber=r}}function Hr(c,t){const r=tn(c);return gr.F(r._e,t)}function Cr(c){let t=0;for(const r in c)Object.prototype.hasOwnProperty.call(c,r)&&t++;return t}function Qi(c,t){for(const r in c)Object.prototype.hasOwnProperty.call(c,r)&&t(r,c[r])}function So(c){for(const t in c)if(Object.prototype.hasOwnProperty.call(c,t))return!1;return!0}class ki{constructor(t,r){this.comparator=t,this.root=r||Ti.EMPTY}insert(t,r){return new ki(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(t){return new ki(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(t){let r=0,a=this.root;for(;!a.isEmpty();){const f=this.comparator(t,a.key);if(0===f)return r+a.left.size;f<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,a)=>(t(r,a),!1))}toString(){const t=[];return this.inorderTraversal((r,a)=>(t.push(`${r}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mr(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mr(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mr(this.root,t,this.comparator,!0)}}class Mr{constructor(t,r,a,f){this.isReverse=f,this.nodeStack=[];let w=1;for(;!t.isEmpty();)if(w=r?a(t.key,r):1,r&&f&&(w*=-1),w<0)t=this.isReverse?t.left:t.right;else{if(0===w){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ti{constructor(t,r,a,f,w){this.key=t,this.value=r,this.color=a??Ti.RED,this.left=f??Ti.EMPTY,this.right=w??Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,a,f,w){return new Ti(t??this.key,r??this.value,a??this.color,f??this.left,w??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,a){let f=this;const w=a(t,f.key);return f=w<0?f.copy(null,null,null,f.left.insert(t,r,a),null):0===w?f.copy(null,r,null,null,null):f.copy(null,null,null,null,f.right.insert(t,r,a)),f.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let a,f=this;if(r(t,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(t,r),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===r(t,f.key)){if(f.right.isEmpty())return Ti.EMPTY;a=f.right.min(),f=f.copy(a.key,a.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(t,r))}return f.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const t=this.left.check();if(t!==this.right.check())throw en();return t+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1,Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(t,r,a,f,w){return this}insert(t,r,a){return new Ti(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rr{constructor(t){this.comparator=t,this.data=new ki(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,a)=>(t(r),!1))}forEachInRange(t,r){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const f=a.getNext();if(this.comparator(f.key,t[1])>=0)return;r(f.key)}}forEachWhile(t,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new xo(this.data.getIterator())}getIteratorFrom(t){return new xo(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(a=>{r=r.add(a)}),r}isEqual(t){if(!(t instanceof rr)||this.size!==t.size)return!1;const r=this.data.getIterator(),a=t.data.getIterator();for(;r.hasNext();){const f=r.getNext().key,w=a.getNext().key;if(0!==this.comparator(f,w))return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new rr(this.comparator);return r.data=t,r}}class xo{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xs(c){return c.hasNext()?c.getNext():void 0}class Tr{constructor(t){this.fields=t,t.sort(ni.comparator)}static empty(){return new Tr([])}unionWith(t){let r=new rr(ni.comparator);for(const a of this.fields)r=r.add(a);for(const a of t)r=r.add(a);return new Tr(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return nr(this.fields,t.fields,(r,a)=>r.isEqual(a))}}class cl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wr{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(f){try{return atob(f)}catch(w){throw typeof DOMException<"u"&&w instanceof DOMException?new cl("Invalid base64 string: "+w):w}}(t);return new Wr(r)}static fromUint8Array(t){const r=function(f){let w="";for(let I=0;I<f.length;++I)w+=String.fromCharCode(f[I]);return w}(t);return new Wr(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let f=0;f<r.length;f++)a[f]=r.charCodeAt(f);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return si(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Wr.EMPTY_BYTE_STRING=new Wr("");const Fa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(c){if(cn(!!c),"string"==typeof c){let t=0;const r=Fa.exec(c);if(cn(!!r),r[1]){let f=r[1];f=(f+"000000000").substr(0,9),t=Number(f)}const a=new Date(c);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Vr(c.seconds),nanos:Vr(c.nanos)}}function Vr(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function Yr(c){return"string"==typeof c?Wr.fromBase64String(c):Wr.fromUint8Array(c)}function Ia(c){var t,r;return"server_timestamp"===(null===(r=((null===(t=c?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Ar(c){const t=c.mapValue.fields.__previous_value__;return Ia(t)?Ar(t):t}function qs(c){const t=ns(c.mapValue.fields.__local_write_time__.timestampValue);return new Kn(t.seconds,t.nanos)}class Li{constructor(t,r,a,f,w,I,G,q,ue){this.databaseId=t,this.appId=r,this.persistenceKey=a,this.host=f,this.ssl=w,this.forceLongPolling=I,this.autoDetectLongPolling=G,this.longPollingOptions=q,this.useFetchStreams=ue}}class Hs{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new Hs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Hs&&t.projectId===this.projectId&&t.database===this.database}}const ro={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},eo={nullValue:"NULL_VALUE"};function Gi(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?Ia(c)?4:Qs(c)?9007199254740991:Ao(c)?10:11:en()}function Gs(c,t){if(c===t)return!0;const r=Gi(c);if(r!==Gi(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===t.booleanValue;case 4:return qs(c).isEqual(qs(t));case 3:return function(f,w){if("string"==typeof f.timestampValue&&"string"==typeof w.timestampValue&&f.timestampValue.length===w.timestampValue.length)return f.timestampValue===w.timestampValue;const I=ns(f.timestampValue),G=ns(w.timestampValue);return I.seconds===G.seconds&&I.nanos===G.nanos}(c,t);case 5:return c.stringValue===t.stringValue;case 6:return w=t,Yr(c.bytesValue).isEqual(Yr(w.bytesValue));case 7:return c.referenceValue===t.referenceValue;case 8:return function(f,w){return Vr(f.geoPointValue.latitude)===Vr(w.geoPointValue.latitude)&&Vr(f.geoPointValue.longitude)===Vr(w.geoPointValue.longitude)}(c,t);case 2:return function(f,w){if("integerValue"in f&&"integerValue"in w)return Vr(f.integerValue)===Vr(w.integerValue);if("doubleValue"in f&&"doubleValue"in w){const I=Vr(f.doubleValue),G=Vr(w.doubleValue);return I===G?Gt(I)===Gt(G):isNaN(I)&&isNaN(G)}return!1}(c,t);case 9:return nr(c.arrayValue.values||[],t.arrayValue.values||[],Gs);case 10:case 11:return function(f,w){const I=f.mapValue.fields||{},G=w.mapValue.fields||{};if(Cr(I)!==Cr(G))return!1;for(const q in I)if(I.hasOwnProperty(q)&&(void 0===G[q]||!Gs(I[q],G[q])))return!1;return!0}(c,t);default:return en()}var w}function so(c,t){return void 0!==(c.values||[]).find(r=>Gs(r,t))}function ds(c,t){if(c===t)return 0;const r=Gi(c),a=Gi(t);if(r!==a)return si(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return si(c.booleanValue,t.booleanValue);case 2:return function(w,I){const G=Vr(w.integerValue||w.doubleValue),q=Vr(I.integerValue||I.doubleValue);return G<q?-1:G>q?1:G===q?0:isNaN(G)?isNaN(q)?0:-1:1}(c,t);case 3:return hs(c.timestampValue,t.timestampValue);case 4:return hs(qs(c),qs(t));case 5:return si(c.stringValue,t.stringValue);case 6:return function(w,I){const G=Yr(w),q=Yr(I);return G.compareTo(q)}(c.bytesValue,t.bytesValue);case 7:return function(w,I){const G=w.split("/"),q=I.split("/");for(let ue=0;ue<G.length&&ue<q.length;ue++){const Ee=si(G[ue],q[ue]);if(0!==Ee)return Ee}return si(G.length,q.length)}(c.referenceValue,t.referenceValue);case 8:return function(w,I){const G=si(Vr(w.latitude),Vr(I.latitude));return 0!==G?G:si(Vr(w.longitude),Vr(I.longitude))}(c.geoPointValue,t.geoPointValue);case 9:return da(c.arrayValue,t.arrayValue);case 10:return function(w,I){var G,q,ue,Ee;const Jt=null===(G=(w.fields||{}).value)||void 0===G?void 0:G.arrayValue,An=null===(q=(I.fields||{}).value)||void 0===q?void 0:q.arrayValue,Jn=si((null===(ue=Jt?.values)||void 0===ue?void 0:ue.length)||0,(null===(Ee=An?.values)||void 0===Ee?void 0:Ee.length)||0);return 0!==Jn?Jn:da(Jt,An)}(c.mapValue,t.mapValue);case 11:return function(w,I){if(w===ro.mapValue&&I===ro.mapValue)return 0;if(w===ro.mapValue)return 1;if(I===ro.mapValue)return-1;const G=w.fields||{},q=Object.keys(G),ue=I.fields||{},Ee=Object.keys(ue);q.sort(),Ee.sort();for(let Ue=0;Ue<q.length&&Ue<Ee.length;++Ue){const ft=si(q[Ue],Ee[Ue]);if(0!==ft)return ft;const Jt=ds(G[q[Ue]],ue[Ee[Ue]]);if(0!==Jt)return Jt}return si(q.length,Ee.length)}(c.mapValue,t.mapValue);default:throw en()}}function hs(c,t){if("string"==typeof c&&"string"==typeof t&&c.length===t.length)return si(c,t);const r=ns(c),a=ns(t),f=si(r.seconds,a.seconds);return 0!==f?f:si(r.nanos,a.nanos)}function da(c,t){const r=c.values||[],a=t.values||[];for(let f=0;f<r.length&&f<a.length;++f){const w=ds(r[f],a[f]);if(w)return w}return si(r.length,a.length)}function Br(c){return Cl(c)}function Cl(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(r){const a=ns(r);return`time(${a.seconds},${a.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?Yr(c.bytesValue).toBase64():"referenceValue"in c?gn.fromName(c.referenceValue).toString():"geoPointValue"in c?function(r){return`geo(${r.latitude},${r.longitude})`}(c.geoPointValue):"arrayValue"in c?function(r){let a="[",f=!0;for(const w of r.values||[])f?f=!1:a+=",",a+=Cl(w);return a+"]"}(c.arrayValue):"mapValue"in c?function(r){const a=Object.keys(r.fields||{}).sort();let f="{",w=!0;for(const I of a)w?w=!1:f+=",",f+=`${I}:${Cl(r.fields[I])}`;return f+"}"}(c.mapValue):en()}function Po(c,t){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${t.path.canonicalString()}`}}function Os(c){return!!c&&"integerValue"in c}function oo(c){return!!c&&"arrayValue"in c}function ha(c){return!!c&&"nullValue"in c}function Qa(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function bo(c){return!!c&&"mapValue"in c}function Ao(c){var t,r;return"__vector__"===(null===(r=((null===(t=c?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ms(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const t={mapValue:{fields:{}}};return Qi(c.mapValue.fields,(r,a)=>t.mapValue.fields[r]=ms(a)),t}if(c.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(c.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=ms(c.arrayValue.values[r]);return t}return Object.assign({},c)}function Qs(c){return"__max__"===(((c.mapValue||{}).fields||{}).__type__||{}).stringValue}const Va={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function _s(c){return"nullValue"in c?eo:"booleanValue"in c?{booleanValue:!1}:"integerValue"in c||"doubleValue"in c?{doubleValue:NaN}:"timestampValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in c?{stringValue:""}:"bytesValue"in c?{bytesValue:""}:"referenceValue"in c?Po(Hs.empty(),gn.empty()):"geoPointValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in c?{arrayValue:{}}:"mapValue"in c?Ao(c)?Va:{mapValue:{}}:en()}function Tl(c){return"nullValue"in c?{booleanValue:!1}:"booleanValue"in c?{doubleValue:NaN}:"integerValue"in c||"doubleValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in c?{stringValue:""}:"stringValue"in c?{bytesValue:""}:"bytesValue"in c?Po(Hs.empty(),gn.empty()):"referenceValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in c?{arrayValue:{}}:"arrayValue"in c?Va:"mapValue"in c?Ao(c)?{mapValue:{}}:ro:en()}function wo(c,t){const r=ds(c.value,t.value);return 0!==r?r:c.inclusive&&!t.inclusive?-1:!c.inclusive&&t.inclusive?1:0}function kr(c,t){const r=ds(c.value,t.value);return 0!==r?r:c.inclusive&&!t.inclusive?1:!c.inclusive&&t.inclusive?-1:0}class Ts{constructor(t){this.value=t}static empty(){return new Ts({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let a=0;a<t.length-1;++a)if(r=(r.mapValue.fields||{})[t.get(a)],!bo(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=ms(r)}setAll(t){let r=ni.emptyPath(),a={},f=[];t.forEach((I,G)=>{if(!r.isImmediateParentOf(G)){const q=this.getFieldsMap(r);this.applyChanges(q,a,f),a={},f=[],r=G.popLast()}I?a[G.lastSegment()]=ms(I):f.push(G.lastSegment())});const w=this.getFieldsMap(r);this.applyChanges(w,a,f)}delete(t){const r=this.field(t.popLast());bo(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Gs(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<t.length;++a){let f=r.mapValue.fields[t.get(a)];bo(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},r.mapValue.fields[t.get(a)]=f),r=f}return r.mapValue.fields}applyChanges(t,r,a){Qi(r,(f,w)=>t[f]=w);for(const f of a)delete t[f]}clone(){return new Ts(ms(this.value))}}function fs(c){const t=[];return Qi(c.fields,(r,a)=>{const f=new ni([r]);if(bo(a)){const w=fs(a.mapValue).fields;if(0===w.length)t.push(f);else for(const I of w)t.push(f.child(I))}else t.push(f)}),new Tr(t)}class bi{constructor(t,r,a,f,w,I,G){this.key=t,this.documentType=r,this.version=a,this.readTime=f,this.createTime=w,this.data=I,this.documentState=G}static newInvalidDocument(t){return new bi(t,0,Pn.min(),Pn.min(),Pn.min(),Ts.empty(),0)}static newFoundDocument(t,r,a,f){return new bi(t,1,r,Pn.min(),a,f,0)}static newNoDocument(t,r){return new bi(t,2,r,Pn.min(),Pn.min(),Ts.empty(),0)}static newUnknownDocument(t,r){return new bi(t,3,r,Pn.min(),Pn.min(),Ts.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Pn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ts.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof bi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Js{constructor(t,r){this.position=t,this.inclusive=r}}function Ro(c,t,r){let a=0;for(let f=0;f<c.position.length;f++){const w=t[f],I=c.position[f];if(a=w.field.isKeyField()?gn.comparator(gn.fromName(I.referenceValue),r.key):ds(I,r.data.field(w.field)),"desc"===w.dir&&(a*=-1),0!==a)break}return a}function Ws(c,t){if(null===c)return null===t;if(null===t||c.inclusive!==t.inclusive||c.position.length!==t.position.length)return!1;for(let r=0;r<c.position.length;r++)if(!Gs(c.position[r],t.position[r]))return!1;return!0}class $s{constructor(t,r="asc"){this.field=t,this.dir=r}}function Bi(c,t){return c.dir===t.dir&&c.field.isEqual(t.field)}class qr{}class xi extends qr{constructor(t,r,a){super(),this.field=t,this.op=r,this.value=a}static create(t,r,a){return t.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(t,r,a):new ea(t,r,a):"array-contains"===r?new La(t,a):"in"===r?new Ja(t,a):"not-in"===r?new Dl(t,a):"array-contains-any"===r?new Qr(t,a):new xi(t,r,a)}static createKeyFieldInFilter(t,r,a){return"in"===r?new fa(t,a):new As(t,a)}matches(t){const r=t.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(ds(r,this.value)):null!==r&&Gi(this.value)===Gi(r)&&this.matchesComparison(ds(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return en()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends qr{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new wr(t,r)}matches(t){return Nr(this)?void 0===this.filters.find(r=>!r.matches(t)):void 0!==this.filters.find(r=>r.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Nr(c){return"and"===c.op}function ce(c){return"or"===c.op}function pe(c){return Q(c)&&Nr(c)}function Q(c){for(const t of c.filters)if(t instanceof wr)return!1;return!0}function De(c){if(c instanceof xi)return c.field.canonicalString()+c.op.toString()+Br(c.value);if(pe(c))return c.filters.map(t=>De(t)).join(",");{const t=c.filters.map(r=>De(r)).join(",");return`${c.op}(${t})`}}function lt(c,t){return c instanceof xi?(a=c,(f=t)instanceof xi&&a.op===f.op&&a.field.isEqual(f.field)&&Gs(a.value,f.value)):c instanceof wr?function(a,f){return f instanceof wr&&a.op===f.op&&a.filters.length===f.filters.length&&a.filters.reduce((w,I,G)=>w&&lt(I,f.filters[G]),!0)}(c,t):void en();var a,f}function ii(c,t){const r=c.filters.concat(t);return wr.create(r,c.op)}function ji(c){return c instanceof xi?`${(r=c).field.canonicalString()} ${r.op} ${Br(r.value)}`:c instanceof wr?function(r){return r.op.toString()+" {"+r.getFilters().map(ji).join(" ,")+"}"}(c):"Filter";var r}class ea extends xi{constructor(t,r,a){super(t,r,a),this.key=gn.fromName(a.referenceValue)}matches(t){const r=gn.comparator(t.key,this.key);return this.matchesComparison(r)}}class fa extends xi{constructor(t,r){super(t,"in",r),this.keys=Sa(0,r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class As extends xi{constructor(t,r){super(t,"not-in",r),this.keys=Sa(0,r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function Sa(c,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>gn.fromName(a.referenceValue))}class La extends xi{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return oo(r)&&so(r.arrayValue,this.value)}}class Ja extends xi{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return null!==r&&so(this.value.arrayValue,r)}}class Dl extends xi{constructor(t,r){super(t,"not-in",r)}matches(t){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return null!==r&&!so(this.value.arrayValue,r)}}class Qr extends xi{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!oo(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>so(this.value.arrayValue,a))}}class Il{constructor(t,r=null,a=[],f=[],w=null,I=null,G=null){this.path=t,this.collectionGroup=r,this.orderBy=a,this.filters=f,this.limit=w,this.startAt=I,this.endAt=G,this.ue=null}}function ul(c,t=null,r=[],a=[],f=null,w=null,I=null){return new Il(c,t,r,a,f,w,I)}function ta(c){const t=tn(c);if(null===t.ue){let r=t.path.canonicalString();null!==t.collectionGroup&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(a=>De(a)).join(","),r+="|ob:",r+=t.orderBy.map(a=>{return(w=a).field.canonicalString()+w.dir;var w}).join(","),io(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Br(a)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Br(a)).join(",")),t.ue=r}return t.ue}function Ba(c,t){if(c.limit!==t.limit||c.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<c.orderBy.length;r++)if(!Bi(c.orderBy[r],t.orderBy[r]))return!1;if(c.filters.length!==t.filters.length)return!1;for(let r=0;r<c.filters.length;r++)if(!lt(c.filters[r],t.filters[r]))return!1;return c.collectionGroup===t.collectionGroup&&!!c.path.isEqual(t.path)&&!!Ws(c.startAt,t.startAt)&&Ws(c.endAt,t.endAt)}function na(c){return gn.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}function Fo(c,t){return c.filters.filter(r=>r instanceof xi&&r.field.isEqual(t))}function ao(c,t,r){let a=eo,f=!0;for(const w of Fo(c,t)){let I=eo,G=!0;switch(w.op){case"<":case"<=":I=_s(w.value);break;case"==":case"in":case">=":I=w.value;break;case">":I=w.value,G=!1;break;case"!=":case"not-in":I=eo}wo({value:a,inclusive:f},{value:I,inclusive:G})<0&&(a=I,f=G)}if(null!==r)for(let w=0;w<c.orderBy.length;++w)if(c.orderBy[w].field.isEqual(t)){const I=r.position[w];wo({value:a,inclusive:f},{value:I,inclusive:r.inclusive})<0&&(a=I,f=r.inclusive);break}return{value:a,inclusive:f}}function Za(c,t,r){let a=ro,f=!0;for(const w of Fo(c,t)){let I=ro,G=!0;switch(w.op){case">=":case">":I=Tl(w.value),G=!1;break;case"==":case"in":case"<=":I=w.value;break;case"<":I=w.value,G=!1;break;case"!=":case"not-in":I=ro}kr({value:a,inclusive:f},{value:I,inclusive:G})>0&&(a=I,f=G)}if(null!==r)for(let w=0;w<c.orderBy.length;++w)if(c.orderBy[w].field.isEqual(t)){const I=r.position[w];kr({value:a,inclusive:f},{value:I,inclusive:r.inclusive})>0&&(a=I,f=r.inclusive);break}return{value:a,inclusive:f}}class pa{constructor(t,r=null,a=[],f=[],w=null,I="F",G=null,q=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=f,this.limit=w,this.limitType=I,this.startAt=G,this.endAt=q,this.ce=null,this.le=null,this.he=null}}function ga(c,t,r,a,f,w,I,G){return new pa(c,t,r,a,f,w,I,G)}function lo(c){return new pa(c)}function Eo(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function Ji(c){return null!==c.collectionGroup}function ls(c){const t=tn(c);if(null===t.ce){t.ce=[];const r=new Set;for(const w of t.explicitOrderBy)t.ce.push(w),r.add(w.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(I){let G=new rr(ni.comparator);return I.filters.forEach(q=>{q.getFlattenedFilters().forEach(ue=>{ue.isInequality()&&(G=G.add(ue.field))})}),G})(t).forEach(w=>{r.has(w.canonicalString())||w.isKeyField()||t.ce.push(new $s(w,a))}),r.has(ni.keyField().canonicalString())||t.ce.push(new $s(ni.keyField(),a))}return t.ce}function Ir(c){const t=tn(c);return t.le||(t.le=function Bs(c,t){if("F"===c.limitType)return ul(c.path,c.collectionGroup,t,c.filters,c.limit,c.startAt,c.endAt);{t=t.map(f=>new $s(f.field,"desc"===f.dir?"asc":"desc"));const r=c.endAt?new Js(c.endAt.position,c.endAt.inclusive):null,a=c.startAt?new Js(c.startAt.position,c.startAt.inclusive):null;return ul(c.path,c.collectionGroup,t,c.filters,c.limit,r,a)}}(t,ls(c))),t.le}function ja(c,t){const r=c.filters.concat([t]);return new pa(c.path,c.collectionGroup,c.explicitOrderBy.slice(),r,c.limit,c.limitType,c.startAt,c.endAt)}function Ua(c,t,r){return new pa(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),t,r,c.startAt,c.endAt)}function Rs(c,t){return Ba(Ir(c),Ir(t))&&c.limitType===t.limitType}function _c(c){return`${ta(Ir(c))}|lt:${c.limitType}`}function el(c){return`Query(target=${function(r){let a=r.path.canonicalString();return null!==r.collectionGroup&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(f=>ji(f)).join(", ")}]`),io(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(f=>{return`${(I=f).field.canonicalString()} (${I.dir})`;var I}).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(f=>Br(f)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(f=>Br(f)).join(",")),`Target(${a})`}(Ir(c))}; limitType=${c.limitType})`}function to(c,t){return t.isFoundDocument()&&function(a,f){const w=f.key.path;return null!==a.collectionGroup?f.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(w):gn.isDocumentKey(a.path)?a.path.isEqual(w):a.path.isImmediateParentOf(w)}(c,t)&&function(a,f){for(const w of ls(a))if(!w.field.isKeyField()&&null===f.data.field(w.field))return!1;return!0}(c,t)&&function(a,f){for(const w of a.filters)if(!w.matches(f))return!1;return!0}(c,t)&&(f=t,!((a=c).startAt&&!function(I,G,q){const ue=Ro(I,G,q);return I.inclusive?ue<=0:ue<0}(a.startAt,ls(a),f)||a.endAt&&!function(I,G,q){const ue=Ro(I,G,q);return I.inclusive?ue>=0:ue>0}(a.endAt,ls(a),f)));var a,f}function Vo(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}function Aa(c){return(t,r)=>{let a=!1;for(const f of ls(c)){const w=ma(f,t,r);if(0!==w)return w;a=a||f.field.isKeyField()}return 0}}function ma(c,t,r){const a=c.field.isKeyField()?gn.comparator(t.key,r.key):function(w,I,G){const q=I.data.field(w),ue=G.data.field(w);return null!==q&&null!==ue?ds(q,ue):en()}(c.field,t,r);switch(c.dir){case"asc":return a;case"desc":return-1*a;default:return en()}}class uo{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),a=this.inner[r];if(void 0!==a)for(const[f,w]of a)if(this.equalsFn(f,t))return w}has(t){return void 0!==this.get(t)}set(t,r){const a=this.mapKeyFn(t),f=this.inner[a];if(void 0===f)return this.inner[a]=[[t,r]],void this.innerSize++;for(let w=0;w<f.length;w++)if(this.equalsFn(f[w][0],t))return void(f[w]=[t,r]);f.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),a=this.inner[r];if(void 0===a)return!1;for(let f=0;f<a.length;f++)if(this.equalsFn(a[f][0],t))return 1===a.length?delete this.inner[r]:a.splice(f,1),this.innerSize--,!0;return!1}forEach(t){Qi(this.inner,(r,a)=>{for(const[f,w]of a)t(f,w)})}isEmpty(){return So(this.inner)}size(){return this.innerSize}}const Ha=new ki(gn.comparator);function ho(){return Ha}const ic=new ki(gn.comparator);function Ra(...c){let t=ic;for(const r of c)t=t.insert(r.key,r);return t}function vc(c){let t=ic;return c.forEach((r,a)=>t=t.insert(r,a.overlayedDocument)),t}function ia(){return ra()}function Ds(){return ra()}function ra(){return new uo(c=>c.toString(),(c,t)=>c.isEqual(t))}const tl=new ki(gn.comparator),fo=new rr(gn.comparator);function Ui(...c){let t=fo;for(const r of c)t=t.add(r);return t}const dl=new rr(si);function Is(){return dl}function Sr(c,t){if(c.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gt(t)?"-0":t}}function V(c){return{integerValue:""+c}}function J(c,t){return St(t)?V(t):Sr(c,t)}class R{constructor(){this._=void 0}}function $(c,t,r){return c instanceof We?function(f,w){const I={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:f.seconds,nanos:f.nanoseconds}}}};return w&&Ia(w)&&(w=Ar(w)),w&&(I.fields.__previous_value__=w),{mapValue:I}}(r,t):c instanceof dt?an(c,t):c instanceof Dt?ln(c,t):function(f,w){const I=ve(f,w),G=di(I)+di(f.Pe);return Os(I)&&Os(f.Pe)?V(G):Sr(f.serializer,G)}(c,t)}function ne(c,t,r){return c instanceof dt?an(c,t):c instanceof Dt?ln(c,t):r}function ve(c,t){return c instanceof Gn?Os(a=t)||(w=a)&&"doubleValue"in w?t:{integerValue:0}:null;var a,w}class We extends R{}class dt extends R{constructor(t){super(),this.elements=t}}function an(c,t){const r=x(t);for(const a of c.elements)r.some(f=>Gs(f,a))||r.push(a);return{arrayValue:{values:r}}}class Dt extends R{constructor(t){super(),this.elements=t}}function ln(c,t){let r=x(t);for(const a of c.elements)r=r.filter(f=>!Gs(f,a));return{arrayValue:{values:r}}}class Gn extends R{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function di(c){return Vr(c.integerValue||c.doubleValue)}function x(c){return oo(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class de{constructor(t,r){this.field=t,this.transform=r}}class te{constructor(t,r){this.version=t,this.transformResults=r}}class Ae{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Ae}static exists(t){return new Ae(void 0,t)}static updateTime(t){return new Ae(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ct(c,t){return void 0!==c.updateTime?t.isFoundDocument()&&t.version.isEqual(c.updateTime):void 0===c.exists||c.exists===t.isFoundDocument()}class Pt{}function Sn(c,t){if(!c.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return c.isNoDocument()?new Ln(c.key,Ae.none()):new vi(c.key,c.data,Ae.none());{const r=c.data,a=Ts.empty();let f=new rr(ni.comparator);for(let w of t.fields)if(!f.has(w)){let I=r.field(w);null===I&&w.length>1&&(w=w.popLast(),I=r.field(w)),null===I?a.delete(w):a.set(w,I),f=f.add(w)}return new ui(c.key,a,new Tr(f.toArray()),Ae.none())}}function Di(c,t,r){c instanceof vi?function(f,w,I){const G=f.value.clone(),q=In(f.fieldTransforms,w,I.transformResults);G.setAll(q),w.convertToFoundDocument(I.version,G).setHasCommittedMutations()}(c,t,r):c instanceof ui?function(f,w,I){if(!Ct(f.precondition,w))return void w.convertToUnknownDocument(I.version);const G=In(f.fieldTransforms,w,I.transformResults),q=w.data;q.setAll(Fn(f)),q.setAll(G),w.convertToFoundDocument(I.version,q).setHasCommittedMutations()}(c,t,r):t.convertToNoDocument(r.version).setHasCommittedMutations()}function Ni(c,t,r,a){return c instanceof vi?function(w,I,G,q){if(!Ct(w.precondition,I))return G;const ue=w.value.clone(),Ee=_n(w.fieldTransforms,q,I);return ue.setAll(Ee),I.convertToFoundDocument(I.version,ue).setHasLocalMutations(),null}(c,t,r,a):c instanceof ui?function(w,I,G,q){if(!Ct(w.precondition,I))return G;const ue=_n(w.fieldTransforms,q,I),Ee=I.data;return Ee.setAll(Fn(w)),Ee.setAll(ue),I.convertToFoundDocument(I.version,Ee).setHasLocalMutations(),null===G?null:G.unionWith(w.fieldMask.fields).unionWith(w.fieldTransforms.map(Ue=>Ue.field))}(c,t,r,a):(G=r,Ct(c.precondition,I=t)?(I.convertToNoDocument(I.version).setHasLocalMutations(),null):G);var I,G}function sr(c,t){let r=null;for(const a of c.fieldTransforms){const f=t.data.field(a.field),w=ve(a.transform,f||null);null!=w&&(null===r&&(r=Ts.empty()),r.set(a.field,w))}return r||null}function Qn(c,t){return c.type===t.type&&!!c.key.isEqual(t.key)&&!!c.precondition.isEqual(t.precondition)&&(f=t.fieldTransforms,!!(void 0===(a=c.fieldTransforms)&&void 0===f||a&&f&&nr(a,f,(w,I)=>function X(c,t){return c.field.isEqual(t.field)&&(f=t.transform,(a=c.transform)instanceof dt&&f instanceof dt||a instanceof Dt&&f instanceof Dt?nr(a.elements,f.elements,Gs):a instanceof Gn&&f instanceof Gn?Gs(a.Pe,f.Pe):a instanceof We&&f instanceof We);var a,f}(w,I))))&&(0===c.type?c.value.isEqual(t.value):1!==c.type||c.data.isEqual(t.data)&&c.fieldMask.isEqual(t.fieldMask));var a,f}class vi extends Pt{constructor(t,r,a,f=[]){super(),this.key=t,this.value=r,this.precondition=a,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class ui extends Pt{constructor(t,r,a,f,w=[]){super(),this.key=t,this.data=r,this.fieldMask=a,this.precondition=f,this.fieldTransforms=w,this.type=1}getFieldMask(){return this.fieldMask}}function Fn(c){const t=new Map;return c.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=c.data.field(r);t.set(r,a)}}),t}function In(c,t,r){const a=new Map;cn(c.length===r.length);for(let f=0;f<r.length;f++){const w=c[f],I=w.transform,G=t.data.field(w.field);a.set(w.field,ne(I,G,r[f]))}return a}function _n(c,t,r){const a=new Map;for(const f of c){const w=f.transform,I=r.data.field(f.field);a.set(f.field,$(w,I,t))}return a}class Ln extends Pt{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lr extends Pt{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class is{constructor(t,r,a,f){this.batchId=t,this.localWriteTime=r,this.baseMutations=a,this.mutations=f}applyToRemoteDocument(t,r){const a=r.mutationResults;for(let f=0;f<this.mutations.length;f++){const w=this.mutations[f];w.key.isEqual(t.key)&&Di(w,t,a[f])}}applyToLocalView(t,r){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(r=Ni(a,t,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(r=Ni(a,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const a=Ds();return this.mutations.forEach(f=>{const w=t.get(f.key),I=w.overlayedDocument;let G=this.applyToLocalView(I,w.mutatedFields);G=r.has(f.key)?null:G;const q=Sn(I,G);null!==q&&a.set(f.key,q),I.isValidDocument()||I.convertToNoDocument(Pn.min())}),a}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Ui())}isEqual(t){return this.batchId===t.batchId&&nr(this.mutations,t.mutations,(r,a)=>Qn(r,a))&&nr(this.baseMutations,t.baseMutations,(r,a)=>Qn(r,a))}}class Gr{constructor(t,r,a,f){this.batch=t,this.commitVersion=r,this.mutationResults=a,this.docVersions=f}static from(t,r,a){cn(t.mutations.length===a.length);let f=function(){return tl}();const w=t.mutations;for(let I=0;I<w.length;I++)f=f.insert(w[I].key,a[I].version);return new Gr(t,r,a,f)}}class vs{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xr{constructor(t,r){this.count=t,this.unchangedNames=r}}var Hi,Pi;function Xi(c){switch(c){default:return en();case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0}}function Ma(c){if(void 0===c)return On("GRPC error has no .code"),bt.UNKNOWN;switch(c){case Hi.OK:return bt.OK;case Hi.CANCELLED:return bt.CANCELLED;case Hi.UNKNOWN:return bt.UNKNOWN;case Hi.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case Hi.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case Hi.INTERNAL:return bt.INTERNAL;case Hi.UNAVAILABLE:return bt.UNAVAILABLE;case Hi.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case Hi.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case Hi.NOT_FOUND:return bt.NOT_FOUND;case Hi.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case Hi.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case Hi.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case Hi.ABORTED:return bt.ABORTED;case Hi.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case Hi.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case Hi.DATA_LOSS:return bt.DATA_LOSS;default:return en()}}(Pi=Hi||(Hi={}))[Pi.OK=0]="OK",Pi[Pi.CANCELLED=1]="CANCELLED",Pi[Pi.UNKNOWN=2]="UNKNOWN",Pi[Pi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pi[Pi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pi[Pi.NOT_FOUND=5]="NOT_FOUND",Pi[Pi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pi[Pi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pi[Pi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pi[Pi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pi[Pi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pi[Pi.ABORTED=10]="ABORTED",Pi[Pi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pi[Pi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pi[Pi.INTERNAL=13]="INTERNAL",Pi[Pi.UNAVAILABLE=14]="UNAVAILABLE",Pi[Pi.DATA_LOSS=15]="DATA_LOSS";function zl(){return new TextEncoder}const ps=new qt([4294967295,4294967295],0);function Ga(c){const t=zl().encode(c),r=new Mt;return r.update(t),new Uint8Array(r.digest())}function ka(c){const t=new DataView(c.buffer),r=t.getUint32(0,!0),a=t.getUint32(4,!0),f=t.getUint32(8,!0),w=t.getUint32(12,!0);return[new qt([r,a],0),new qt([f,w],0)]}class Or{constructor(t,r,a){if(this.bitmap=t,this.padding=r,this.hashCount=a,r<0||r>=8)throw new po(`Invalid padding: ${r}`);if(a<0)throw new po(`Invalid hash count: ${a}`);if(t.length>0&&0===this.hashCount)throw new po(`Invalid hash count: ${a}`);if(0===t.length&&0!==r)throw new po(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*t.length-r,this.Te=qt.fromNumber(this.Ie)}Ee(t,r,a){let f=t.add(r.multiply(qt.fromNumber(a)));return 1===f.compare(ps)&&(f=new qt([f.getBits(0),f.getBits(1)],0)),f.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const r=Ga(t),[a,f]=ka(r);for(let w=0;w<this.hashCount;w++){const I=this.Ee(a,f,w);if(!this.de(I))return!1}return!0}static create(t,r,a){const f=t%8==0?0:8-t%8,w=new Uint8Array(Math.ceil(t/8)),I=new Or(w,f,r);return a.forEach(G=>I.insert(G)),I}insert(t){if(0===this.Ie)return;const r=Ga(t),[a,f]=ka(r);for(let w=0;w<this.hashCount;w++){const I=this.Ee(a,f,w);this.Ae(I)}}Ae(t){const r=Math.floor(t/8);this.bitmap[r]|=1<<t%8}}class po extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wa{constructor(t,r,a,f,w){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=f,this.resolvedLimboDocuments=w}static createSynthesizedRemoteEventForCurrentChange(t,r,a){const f=new Map;return f.set(t,_a.createSynthesizedTargetChangeForCurrentChange(t,r,a)),new Wa(Pn.min(),f,new ki(si),ho(),Ui())}}class _a{constructor(t,r,a,f,w){this.resumeToken=t,this.current=r,this.addedDocuments=a,this.modifiedDocuments=f,this.removedDocuments=w}static createSynthesizedTargetChangeForCurrentChange(t,r,a){return new _a(a,r,Ui(),Ui(),Ui())}}class Jr{constructor(t,r,a,f){this.Re=t,this.removedTargetIds=r,this.key=a,this.Ve=f}}class Kl{constructor(t,r){this.targetId=t,this.me=r}}class lr{constructor(t,r,a=Wr.EMPTY_BYTE_STRING,f=null){this.state=t,this.targetIds=r,this.resumeToken=a,this.cause=f}}class yc{constructor(){this.fe=0,this.ge=hl(),this.pe=Wr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Ui(),r=Ui(),a=Ui();return this.ge.forEach((f,w)=>{switch(w){case 0:t=t.add(f);break;case 2:r=r.add(f);break;case 1:a=a.add(f);break;default:en()}}),new _a(this.pe,this.ye,t,r,a)}Ce(){this.we=!1,this.ge=hl()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,cn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Sl{constructor(t){this.Le=t,this.Be=new Map,this.ke=ho(),this.qe=cs(),this.Qe=new ki(si)}Ke(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(r,t.Ve):this.Ue(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.Ue(r,t.key,t.Ve)}We(t){this.forEachTarget(t,r=>{const a=this.Ge(r);switch(t.state){case 0:this.ze(r)&&a.De(t.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(t.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(a.Ne(),a.De(t.resumeToken));break;case 4:this.ze(r)&&(this.je(r),a.De(t.resumeToken));break;default:en()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((a,f)=>{this.ze(f)&&r(f)})}He(t){const r=t.targetId,a=t.me.count,f=this.Je(r);if(f){const w=f.target;if(na(w))if(0===a){const I=new gn(w.path);this.Ue(r,I,bi.newNoDocument(I,Pn.min()))}else cn(1===a);else{const I=this.Ye(r);if(I!==a){const G=this.Ze(t),q=G?this.Xe(G,t,I):1;0!==q&&(this.je(r),this.Qe=this.Qe.insert(r,2===q?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:f=0},hashCount:w=0}=r;let I,G;try{I=Yr(a).toUint8Array()}catch(q){if(q instanceof cl)return ei("Decoding the base64 bloom filter in existence filter failed ("+q.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw q}try{G=new Or(I,f,w)}catch(q){return ei(q instanceof po?"BloomFilter error: ":"Applying bloom filter failed: ",q),null}return 0===G.Ie?null:G}Xe(t,r,a){return r.me.count===a-this.nt(t,r.targetId)?0:2}nt(t,r){const a=this.Le.getRemoteKeysForTarget(r);let f=0;return a.forEach(w=>{const I=this.Le.tt(),G=`projects/${I.projectId}/databases/${I.database}/documents/${w.path.canonicalString()}`;t.mightContain(G)||(this.Ue(r,w,null),f++)}),f}rt(t){const r=new Map;this.Be.forEach((w,I)=>{const G=this.Je(I);if(G){if(w.current&&na(G.target)){const q=new gn(G.target.path);null!==this.ke.get(q)||this.it(I,q)||this.Ue(I,q,bi.newNoDocument(q,t))}w.be&&(r.set(I,w.ve()),w.Ce())}});let a=Ui();this.qe.forEach((w,I)=>{let G=!0;I.forEachWhile(q=>{const ue=this.Je(q);return!ue||"TargetPurposeLimboResolution"===ue.purpose||(G=!1,!1)}),G&&(a=a.add(w))}),this.ke.forEach((w,I)=>I.setReadTime(t));const f=new Wa(t,r,this.Qe,this.ke,a);return this.ke=ho(),this.qe=cs(),this.Qe=new ki(si),f}$e(t,r){if(!this.ze(t))return;const a=this.it(t,r.key)?2:0;this.Ge(t).Fe(r.key,a),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t))}Ue(t,r,a){if(!this.ze(t))return;const f=this.Ge(t);this.it(t,r)?f.Fe(r,1):f.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(t)),a&&(this.ke=this.ke.insert(r,a))}removeTarget(t){this.Be.delete(t)}Ye(t){const r=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let r=this.Be.get(t);return r||(r=new yc,this.Be.set(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new rr(si),this.qe=this.qe.insert(t,r)),r}ze(t){const r=null!==this.Je(t);return r||ot("WatchChangeAggregator","Detected inactive target",t),r}Je(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new yc),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.Ue(t,r,null)})}it(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function cs(){return new ki(gn.comparator)}function hl(){return new ki(gn.comparator)}const nl={asc:"ASCENDING",desc:"DESCENDING"},go={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gc={and:"AND",or:"OR"};class Co{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function To(c,t){return c.useProto3Json||io(t)?t:{value:t}}function Al(c,t){return c.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fl(c,t){return c.useProto3Json?t.toBase64():t.toUint8Array()}function rc(c,t){return Al(c,t.toTimestamp())}function Zr(c){return cn(!!c),Pn.fromTimestamp(function(r){const a=ns(r);return new Kn(a.seconds,a.nanos)}(c))}function Rl(c,t){return iu(c,t).canonicalString()}function iu(c,t){const r=(f=c,new Wn(["projects",f.projectId,"databases",f.database])).child("documents");var f;return void 0===t?r:r.child(t)}function ru(c){const t=Wn.fromString(c);return cn(Kd(t)),t}function va(c,t){return Rl(c.databaseId,t.path)}function pl(c,t){const r=ru(t);if(r.get(1)!==c.databaseId.projectId)throw new xe(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+c.databaseId.projectId);if(r.get(3)!==c.databaseId.database)throw new xe(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+c.databaseId.database);return new gn(K(r))}function su(c,t){return Rl(c.databaseId,t)}function bc(c){const t=ru(c);return 4===t.length?Wn.emptyPath():K(t)}function P(c){return new Wn(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function K(c){return cn(c.length>4&&"documents"===c.get(4)),c.popFirst(5)}function j(c,t,r){return{name:va(c,t),fields:r.value.mapValue.fields}}function Y(c,t,r){const a=pl(c,t.name),f=Zr(t.updateTime),w=t.createTime?Zr(t.createTime):Pn.min(),I=new Ts({mapValue:{fields:t.fields}}),G=bi.newFoundDocument(a,f,w,I);return r&&G.setHasCommittedMutations(),r?G.setHasCommittedMutations():G}function tt(c,t){let r;if(t instanceof vi)r={update:j(c,t.key,t.value)};else if(t instanceof Ln)r={delete:va(c,t.key)};else if(t instanceof ui)r={update:j(c,t.key,t.data),updateMask:_u(t.fieldMask)};else{if(!(t instanceof Lr))return en();r={verify:va(c,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(a=>function(w,I){const G=I.transform;if(G instanceof We)return{fieldPath:I.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(G instanceof dt)return{fieldPath:I.field.canonicalString(),appendMissingElements:{values:G.elements}};if(G instanceof Dt)return{fieldPath:I.field.canonicalString(),removeAllFromArray:{values:G.elements}};if(G instanceof Gn)return{fieldPath:I.field.canonicalString(),increment:G.Pe};throw en()}(0,a))),t.precondition.isNone||(r.currentDocument=void 0!==(w=t.precondition).updateTime?{updateTime:rc(c,w.updateTime)}:void 0!==w.exists?{exists:w.exists}:en()),r;var w}function nn(c,t){const r=t.currentDocument?void 0!==(w=t.currentDocument).updateTime?Ae.updateTime(Zr(w.updateTime)):void 0!==w.exists?Ae.exists(w.exists):Ae.none():Ae.none(),a=t.updateTransforms?t.updateTransforms.map(f=>function(I,G){let q=null;"setToServerValue"in G?(cn("REQUEST_TIME"===G.setToServerValue),q=new We):"appendMissingElements"in G?q=new dt(G.appendMissingElements.values||[]):"removeAllFromArray"in G?q=new Dt(G.removeAllFromArray.values||[]):"increment"in G?q=new Gn(I,G.increment):en();const ue=ni.fromServerFormat(G.fieldPath);return new de(ue,q)}(c,f)):[];var w;if(t.update){const f=pl(c,t.update.name),w=new Ts({mapValue:{fields:t.update.fields}});if(t.updateMask){const I=new Tr((t.updateMask.fieldPaths||[]).map(Ee=>ni.fromServerFormat(Ee)));return new ui(f,w,I,r,a)}return new vi(f,w,r,a)}if(t.delete){const f=pl(c,t.delete);return new Ln(f,r)}if(t.verify){const f=pl(c,t.verify);return new Lr(f,r)}return en()}function fi(c,t){return{documents:[su(c,t.path)]}}function fr(c,t){const r={structuredQuery:{}},a=t.path;let f;null!==t.collectionGroup?(f=a,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(f=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=su(c,f);const w=function(ue){if(0!==ue.length)return zc(wr.create(ue,"and"))}(t.filters);w&&(r.structuredQuery.where=w);const I=function(ue){if(0!==ue.length)return ue.map(Ee=>{return{field:kl((ft=Ee).field),direction:Wc(ft.dir)};var ft})}(t.orderBy);I&&(r.structuredQuery.orderBy=I);const G=To(c,t.limit);return null!==G&&(r.structuredQuery.limit=G),t.startAt&&(r.structuredQuery.startAt={before:(ue=t.startAt).inclusive,values:ue.position}),t.endAt&&(r.structuredQuery.endAt=function(ue){return{before:!ue.inclusive,values:ue.position}}(t.endAt)),{_t:r,parent:f};var ue}function ss(c){let t=bc(c.parent);const r=c.structuredQuery,a=r.from?r.from.length:0;let f=null;if(a>0){cn(1===a);const Ee=r.from[0];Ee.allDescendants?f=Ee.collectionId:t=t.child(Ee.collectionId)}let w=[];r.where&&(w=function(Ue){const ft=wc(Ue);return ft instanceof wr&&pe(ft)?ft.getFilters():[ft]}(r.where));let I=[];r.orderBy&&(I=r.orderBy.map(ft=>{return new $s(Ec((An=ft).field),function(Bn){switch(Bn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(An.direction));var An}));let G=null;r.limit&&(G=function(Ue){let ft;return ft="object"==typeof Ue?Ue.value:Ue,io(ft)?null:ft}(r.limit));let q=null;var Ue;r.startAt&&(q=new Js((Ue=r.startAt).values||[],!!Ue.before));let ue=null;return r.endAt&&(ue=function(Ue){return new Js(Ue.values||[],!Ue.before)}(r.endAt)),ga(t,f,I,w,G,"F",q,ue)}function wc(c){return void 0!==c.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Ec(r.unaryFilter.field);return xi.create(a,"==",{doubleValue:NaN});case"IS_NULL":const f=Ec(r.unaryFilter.field);return xi.create(f,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const w=Ec(r.unaryFilter.field);return xi.create(w,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const I=Ec(r.unaryFilter.field);return xi.create(I,"!=",{nullValue:"NULL_VALUE"});default:return en()}}(c):void 0!==c.fieldFilter?xi.create(Ec((r=c).fieldFilter.field),function(f){switch(f){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==c.compositeFilter?function(r){return wr.create(r.compositeFilter.filters.map(a=>wc(a)),function(f){switch(f){case"AND":return"and";case"OR":return"or";default:return en()}}(r.compositeFilter.op))}(c):en();var r}function Wc(c){return nl[c]}function $c(c){return go[c]}function Ml(c){return Gc[c]}function kl(c){return{fieldPath:c.canonicalString()}}function Ec(c){return ni.fromServerFormat(c.fieldPath)}function zc(c){return c instanceof xi?function(r){if("=="===r.op){if(Qa(r.value))return{unaryFilter:{field:kl(r.field),op:"IS_NAN"}};if(ha(r.value))return{unaryFilter:{field:kl(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Qa(r.value))return{unaryFilter:{field:kl(r.field),op:"IS_NOT_NAN"}};if(ha(r.value))return{unaryFilter:{field:kl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kl(r.field),op:$c(r.op),value:r.value}}}(c):c instanceof wr?function(r){const a=r.getFilters().map(f=>zc(f));return 1===a.length?a[0]:{compositeFilter:{op:Ml(r.op),filters:a}}}(c):en()}function _u(c){const t=[];return c.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Kd(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class Na{constructor(t,r,a,f,w=Pn.min(),I=Pn.min(),G=Wr.EMPTY_BYTE_STRING,q=null){this.target=t,this.targetId=r,this.purpose=a,this.sequenceNumber=f,this.snapshotVersion=w,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=G,this.expectedCount=q}withSequenceNumber(t){return new Na(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Kc{constructor(t){this.ct=t}}function vu(c,t){const r=t.key,a={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:sc(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())a.document={name:va(w=c.ct,(I=t).key),fields:I.data.value.mapValue.fields,updateTime:Al(w,I.version.toTimestamp()),createTime:Al(w,I.createTime.toTimestamp())};else if(t.isNoDocument())a.noDocument={path:r.path.toArray(),readTime:gl(t.version)};else{if(!t.isUnknownDocument())return en();a.unknownDocument={path:r.path.toArray(),version:gl(t.version)}}var w,I;return a}function sc(c){const t=c.toTimestamp();return[t.seconds,t.nanoseconds]}function gl(c){const t=c.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function sa(c){const t=new Kn(c.seconds,c.nanoseconds);return Pn.fromTimestamp(t)}function il(c,t){const r=(t.baseMutations||[]).map(w=>nn(c.ct,w));for(let w=0;w<t.mutations.length-1;++w)w+1<t.mutations.length&&void 0!==t.mutations[w+1].transform&&(t.mutations[w].updateTransforms=t.mutations[w+1].transform.fieldTransforms,t.mutations.splice(w+1,1),++w);const a=t.mutations.map(w=>nn(c.ct,w)),f=Kn.fromMillis(t.localWriteTimeMs);return new is(t.batchId,f,r,a)}function Nl(c){const t=sa(c.readTime),r=void 0!==c.lastLimboFreeSnapshotVersion?sa(c.lastLimboFreeSnapshotVersion):Pn.min();let a;return a=void 0!==c.query.documents?(cn(1===(w=c.query).documents.length),Ir(lo(bc(w.documents[0])))):function(w){return Ir(ss(w))}(c.query),new Na(a,c.targetId,"TargetPurposeListen",c.lastListenSequenceNumber,t,r,Wr.fromBase64String(c.resumeToken));var w}function Cc(c,t){const r=gl(t.snapshotVersion),a=gl(t.lastLimboFreeSnapshotVersion);let f;f=na(t.target)?fi(c.ct,t.target):fr(c.ct,t.target)._t;const w=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ta(t.target),readTime:r,resumeToken:w,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:f}}function Yc(c){const t=ss({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?Ua(t,t.limit,"L"):t}function ou(c,t){return new vs(t.largestBatchId,nn(c.ct,t.overlayMutation))}function us(c,t){const r=t.path.lastSegment();return[c,Zt(t.path.popLast()),r]}function Ol(c,t,r,a){return{indexId:c,uid:t,sequenceNumber:r,readTime:gl(a.readTime),documentKey:Zt(a.documentKey.path),largestBatchId:a.largestBatchId}}class xl{getBundleMetadata(t,r){return zo(t).get(r).next(a=>{if(a)return{id:(w=a).bundleId,createTime:sa(w.createTime),version:w.version};var w})}saveBundleMetadata(t,r){return zo(t).put({bundleId:(f=r).id,createTime:gl(Zr(f.createTime)),version:f.version});var f}getNamedQuery(t,r){return yh(t).get(r).next(a=>{if(a)return{name:(w=a).name,query:Yc(w.bundledQuery),readTime:sa(w.readTime)};var w})}saveNamedQuery(t,r){return yh(t).put({name:(f=r).name,readTime:gl(Zr(f.readTime)),bundledQuery:f.bundledQuery});var f}}function zo(c){return Hr(c,"bundles")}function yh(c){return Hr(c,"namedQueries")}class Tc{constructor(t,r){this.serializer=t,this.userId=r}static lt(t,r){return new Tc(t,r.uid||"")}getOverlay(t,r){return Yl(t).get(us(this.userId,r)).next(a=>a?ou(this.serializer,a):null)}getOverlays(t,r){const a=ia();return rt.forEach(r,f=>this.getOverlay(t,f).next(w=>{null!==w&&a.set(f,w)})).next(()=>a)}saveOverlays(t,r,a){const f=[];return a.forEach((w,I)=>{const G=new vs(r,I);f.push(this.ht(t,G))}),rt.waitFor(f)}removeOverlaysForBatchId(t,r,a){const f=new Set;r.forEach(I=>f.add(Zt(I.getCollectionPath())));const w=[];return f.forEach(I=>{const G=IDBKeyRange.bound([this.userId,I,a],[this.userId,I,a+1],!1,!0);w.push(Yl(t).j("collectionPathOverlayIndex",G))}),rt.waitFor(w)}getOverlaysForCollection(t,r,a){const f=ia(),w=Zt(r),I=IDBKeyRange.bound([this.userId,w,a],[this.userId,w,Number.POSITIVE_INFINITY],!0);return Yl(t).U("collectionPathOverlayIndex",I).next(G=>{for(const q of G){const ue=ou(this.serializer,q);f.set(ue.getKey(),ue)}return f})}getOverlaysForCollectionGroup(t,r,a,f){const w=ia();let I;const G=IDBKeyRange.bound([this.userId,r,a],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Yl(t).J({index:"collectionGroupOverlayIndex",range:G},(q,ue,Ee)=>{const Ue=ou(this.serializer,ue);w.size()<f||Ue.largestBatchId===I?(w.set(Ue.getKey(),Ue),I=Ue.largestBatchId):Ee.done()}).next(()=>w)}ht(t,r){return Yl(t).put(function(f,w,I){const[G,q,ue]=us(w,I.mutation.key);return{userId:w,collectionPath:q,documentId:ue,collectionGroup:I.mutation.key.getCollectionGroup(),largestBatchId:I.largestBatchId,overlayMutation:tt(f.ct,I.mutation)}}(this.serializer,this.userId,r))}}function Yl(c){return Hr(c,"documentOverlays")}class rl{Pt(t){return Hr(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(r=>{const a=r?.value;return a?Wr.fromUint8Array(a):Wr.EMPTY_BYTE_STRING})}setSessionToken(t,r){return this.Pt(t).put({name:"sessionToken",value:r.toUint8Array()})}}class au{constructor(){}It(t,r){this.Tt(t,r),r.Et()}Tt(t,r){if("nullValue"in t)this.dt(r,5);else if("booleanValue"in t)this.dt(r,10),r.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(r,15),r.At(Vr(t.integerValue));else if("doubleValue"in t){const a=Vr(t.doubleValue);isNaN(a)?this.dt(r,13):(this.dt(r,15),Gt(a)?r.At(0):r.At(a))}else if("timestampValue"in t){let a=t.timestampValue;this.dt(r,20),"string"==typeof a&&(a=ns(a)),r.Rt(`${a.seconds||""}`),r.At(a.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,r),this.ft(r);else if("bytesValue"in t)this.dt(r,30),r.gt(Yr(t.bytesValue)),this.ft(r);else if("referenceValue"in t)this.yt(t.referenceValue,r);else if("geoPointValue"in t){const a=t.geoPointValue;this.dt(r,45),r.At(a.latitude||0),r.At(a.longitude||0)}else"mapValue"in t?Qs(t)?this.dt(r,Number.MAX_SAFE_INTEGER):Ao(t)?this.wt(t.mapValue,r):(this.St(t.mapValue,r),this.ft(r)):"arrayValue"in t?(this.bt(t.arrayValue,r),this.ft(r)):en()}Vt(t,r){this.dt(r,25),this.Dt(t,r)}Dt(t,r){r.Rt(t)}St(t,r){const a=t.fields||{};this.dt(r,55);for(const f of Object.keys(a))this.Vt(f,r),this.Tt(a[f],r)}wt(t,r){var a,f;const w=t.fields||{};this.dt(r,53);const I="value",G=(null===(f=null===(a=w[I].arrayValue)||void 0===a?void 0:a.values)||void 0===f?void 0:f.length)||0;this.dt(r,15),r.At(Vr(G)),this.Vt(I,r),this.Tt(w[I],r)}bt(t,r){const a=t.values||[];this.dt(r,50);for(const f of a)this.Tt(f,r)}yt(t,r){this.dt(r,37),gn.fromName(t).path.forEach(a=>{this.dt(r,60),this.Dt(a,r)})}dt(t,r){t.At(r)}ft(t){t.At(2)}}function Bu(c){if(0===c)return 8;let t=0;return!(c>>4)&&(t+=4,c<<=4),!(c>>6)&&(t+=2,c<<=2),!(c>>7)&&(t+=1),t}function ju(c){const t=64-function(a){let f=0;for(let w=0;w<8;++w){const I=Bu(255&a[w]);if(f+=I,8!==I)break}return f}(c);return Math.ceil(t/8)}au.vt=new au;class Pl{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const r=t[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ft(a.value),a=r.next();this.Mt()}xt(t){const r=t[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ot(a.value),a=r.next();this.Nt()}Lt(t){for(const r of t){const a=r.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const f=r.codePointAt(0);this.Ft(240|f>>>18),this.Ft(128|63&f>>>12),this.Ft(128|63&f>>>6),this.Ft(128|63&f)}}this.Mt()}Bt(t){for(const r of t){const a=r.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const f=r.codePointAt(0);this.Ot(240|f>>>18),this.Ot(128|63&f>>>12),this.Ot(128|63&f>>>6),this.Ot(128|63&f)}}this.Nt()}kt(t){const r=this.qt(t),a=ju(r);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let f=r.length-a;f<r.length;++f)this.buffer[this.position++]=255&r[f]}Kt(t){const r=this.qt(t),a=ju(r);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let f=r.length-a;f<r.length;++f)this.buffer[this.position++]=~(255&r[f])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const r=function(w){const I=new DataView(new ArrayBuffer(8));return I.setFloat64(0,w,!1),new Uint8Array(I.buffer)}(t),a=!!(128&r[0]);r[0]^=a?255:128;for(let f=1;f<r.length;++f)r[f]^=a?255:0;return r}Ft(t){const r=255&t;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(t){const r=255&t;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const r=t+this.position;if(r<=this.buffer.length)return;let a=2*this.buffer.length;a<r&&(a=r);const f=new Uint8Array(a);f.set(this.buffer),this.buffer=f}}class yu{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class Xc{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class Dc{constructor(){this.jt=new Pl,this.Ht=new yu(this.jt),this.Jt=new Xc(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Fl{constructor(t,r,a,f){this.indexId=t,this.documentKey=r,this.arrayValue=a,this.directionalValue=f}Zt(){const t=this.directionalValue.length,r=0===t||255===this.directionalValue[t-1]?t+1:t,a=new Uint8Array(r);return a.set(this.directionalValue,0),r!==t?a.set([0],this.directionalValue.length):++a[a.length-1],new Fl(this.indexId,this.documentKey,this.arrayValue,a)}}function Ic(c,t){let r=c.indexId-t.indexId;return 0!==r?r:(r=sl(c.arrayValue,t.arrayValue),0!==r?r:(r=sl(c.directionalValue,t.directionalValue),0!==r?r:gn.comparator(c.documentKey,t.documentKey)))}function sl(c,t){for(let r=0;r<c.length&&r<t.length;++r){const a=c[r]-t[r];if(0!==a)return a}return c.length-t.length}class Uu{constructor(t){this.Xt=new rr((r,a)=>ni.comparator(r.field,a.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const r of t.filters){const a=r;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(t){if(cn(t.collectionGroup===this.collectionId),this.nn)return!1;const r=Es(t);if(void 0!==r&&!this.sn(r))return!1;const a=Rr(t);let f=new Set,w=0,I=0;for(;w<a.length&&this.sn(a[w]);++w)f=f.add(a[w].fieldPath.canonicalString());if(w===a.length)return!0;if(this.Xt.size>0){const G=this.Xt.getIterator().getNext();if(!f.has(G.field.canonicalString())){const q=a[w];if(!this.on(G,q)||!this._n(this.en[I++],q))return!1}++w}for(;w<a.length;++w)if(I>=this.en.length||!this._n(this.en[I++],a[w]))return!1;return!0}an(){if(this.nn)return null;let t=new rr(ni.comparator);const r=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)r.push(new Tt(a.field,2));else{if(t.has(a.field))continue;t=t.add(a.field),r.push(new Tt(a.field,0))}for(const a of this.en)a.field.isKeyField()||t.has(a.field)||(t=t.add(a.field),r.push(new Tt(a.field,"asc"===a.dir?0:1)));return new Fr(Fr.UNKNOWN_ID,this.collectionId,r,ht.empty())}sn(t){for(const r of this.tn)if(this.on(r,t))return!0;return!1}on(t,r){return!(void 0===t||!t.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,r){return!!t.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===t.dir||1===r.kind&&"desc"===t.dir)}}function od(c){var t,r;if(cn(c instanceof xi||c instanceof wr),c instanceof xi){if(c instanceof Ja){const f=(null===(r=null===(t=c.value.arrayValue)||void 0===t?void 0:t.values)||void 0===r?void 0:r.map(w=>xi.create(c.field,"==",w)))||[];return wr.create(f,"or")}return c}const a=c.filters.map(f=>od(f));return wr.create(a,c.op)}function ml(c){if(0===c.getFilters().length)return[];const t=bu(od(c));return cn(Yd(t)),tr(t)||Hu(t)?[t]:t.getFilters()}function tr(c){return c instanceof xi}function Hu(c){return c instanceof wr&&pe(c)}function Yd(c){return tr(c)||Hu(c)||function(r){if(r instanceof wr&&ce(r)){for(const a of r.getFilters())if(!tr(a)&&!Hu(a))return!1;return!0}return!1}(c)}function bu(c){if(cn(c instanceof xi||c instanceof wr),c instanceof xi)return c;if(1===c.filters.length)return bu(c.filters[0]);const t=c.filters.map(a=>bu(a));let r=wr.create(t,c.op);return r=Ms(r),Yd(r)?r:(cn(r instanceof wr),cn(Nr(r)),cn(r.filters.length>1),r.filters.reduce((a,f)=>wu(a,f)))}function wu(c,t){let r;return cn(c instanceof xi||c instanceof wr),cn(t instanceof xi||t instanceof wr),r=c instanceof xi?t instanceof xi?wr.create([c,t],"and"):ya(c,t):t instanceof xi?ya(t,c):function(f,w){if(cn(f.filters.length>0&&w.filters.length>0),Nr(f)&&Nr(w))return ii(f,w.getFilters());const I=ce(f)?f:w,G=ce(f)?w:f,q=I.filters.map(ue=>wu(ue,G));return wr.create(q,"or")}(c,t),Ms(r)}function ya(c,t){if(Nr(t))return ii(t,c.getFilters());{const r=t.filters.map(a=>wu(c,a));return wr.create(r,"or")}}function Ms(c){if(cn(c instanceof xi||c instanceof wr),c instanceof xi)return c;const t=c.getFilters();if(1===t.length)return Ms(t[0]);if(Q(c))return c;const r=t.map(f=>Ms(f)),a=[];return r.forEach(f=>{f instanceof xi?a.push(f):f instanceof wr&&(f.op===c.op?a.push(...f.filters):a.push(f))}),1===a.length?a[0]:wr.create(a,c.op)}class Sc{constructor(){this.un=new oc}addToCollectionParentIndex(t,r){return this.un.add(r),rt.resolve()}getCollectionParents(t,r){return rt.resolve(this.un.getEntries(r))}addFieldIndex(t,r){return rt.resolve()}deleteFieldIndex(t,r){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,r){return rt.resolve()}getDocumentsMatchingTarget(t,r){return rt.resolve(null)}getIndexType(t,r){return rt.resolve(0)}getFieldIndexes(t,r){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,r){return rt.resolve(Ge.min())}getMinOffsetFromCollectionGroup(t,r){return rt.resolve(Ge.min())}updateCollectionGroup(t,r,a){return rt.resolve()}updateIndexEntries(t,r){return rt.resolve()}}class oc{constructor(){this.index={}}add(t){const r=t.lastSegment(),a=t.popLast(),f=this.index[r]||new rr(Wn.comparator),w=!f.has(a);return this.index[r]=f.add(a),w}has(t){const r=t.lastSegment(),a=t.popLast(),f=this.index[r];return f&&f.has(a)}getEntries(t){return(this.index[t]||new rr(Wn.comparator)).toArray()}}const Ko=new Uint8Array(0);class Gu{constructor(t,r){this.databaseId=r,this.cn=new oc,this.ln=new uo(a=>ta(a),(a,f)=>Ba(a,f)),this.uid=t.uid||""}addToCollectionParentIndex(t,r){if(!this.cn.has(r)){const a=r.lastSegment(),f=r.popLast();t.addOnCommittedListener(()=>{this.cn.add(r)});const w={collectionId:a,parent:Zt(f)};return Wu(t).put(w)}return rt.resolve()}getCollectionParents(t,r){const a=[],f=IDBKeyRange.bound([r,""],[os(r),""],!1,!0);return Wu(t).U(f).next(w=>{for(const I of w){if(I.collectionId!==r)break;a.push(gi(I.parent))}return a})}addFieldIndex(t,r){const a=pn(t),f={indexId:(G=r).indexId,collectionGroup:G.collectionGroup,fields:G.fields.map(q=>[q.fieldPath.canonicalString(),q.kind])};var G;delete f.indexId;const w=a.add(f);if(r.indexState){const I=or(t);return w.next(G=>{I.put(Ol(G,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return w.next()}deleteFieldIndex(t,r){const a=pn(t),f=or(t),w=Ac(t);return a.delete(r.indexId).next(()=>f.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>w.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const r=pn(t),a=Ac(t),f=or(t);return r.j().next(()=>a.j()).next(()=>f.j())}createTargetIndexes(t,r){return rt.forEach(this.hn(r),a=>this.getIndexType(t,a).next(f=>{if(0===f||1===f){const w=new Uu(a).an();if(null!=w)return this.addFieldIndex(t,w)}}))}getDocumentsMatchingTarget(t,r){const a=Ac(t);let f=!0;const w=new Map;return rt.forEach(this.hn(r),I=>this.Pn(t,I).next(G=>{f&&(f=!!G),w.set(I,G)})).next(()=>{if(f){let I=Ui();const G=[];return rt.forEach(w,(q,ue)=>{var zi;ot("IndexedDbIndexManager",`Using index ${zi=q,`id=${zi.indexId}|cg=${zi.collectionGroup}|f=${zi.fields.map(xr=>`${xr.fieldPath}:${xr.kind}`).join(",")}`} to execute ${ta(r)}`);const Ee=function(zi,xr){const bs=Es(xr);if(void 0===bs)return null;for(const Kr of Fo(zi,bs.fieldPath))switch(Kr.op){case"array-contains-any":return Kr.value.arrayValue.values||[];case"array-contains":return[Kr.value]}return null}(ue,q),Ue=function(zi,xr){const bs=new Map;for(const Kr of Rr(xr))for(const Ot of Fo(zi,Kr.fieldPath))switch(Ot.op){case"==":case"in":bs.set(Kr.fieldPath.canonicalString(),Ot.value);break;case"not-in":case"!=":return bs.set(Kr.fieldPath.canonicalString(),Ot.value),Array.from(bs.values())}return null}(ue,q),ft=function(zi,xr){const bs=[];let Kr=!0;for(const Ot of Rr(xr)){const ct=0===Ot.kind?ao(zi,Ot.fieldPath,zi.startAt):Za(zi,Ot.fieldPath,zi.startAt);bs.push(ct.value),Kr&&(Kr=ct.inclusive)}return new Js(bs,Kr)}(ue,q),Jt=function(zi,xr){const bs=[];let Kr=!0;for(const Ot of Rr(xr)){const ct=0===Ot.kind?Za(zi,Ot.fieldPath,zi.endAt):ao(zi,Ot.fieldPath,zi.endAt);bs.push(ct.value),Kr&&(Kr=ct.inclusive)}return new Js(bs,Kr)}(ue,q),An=this.In(q,ue,ft),Jn=this.In(q,ue,Jt),Bn=this.Tn(q,ue,Ue),$i=this.En(q.indexId,Ee,An,ft.inclusive,Jn,Jt.inclusive,Bn);return rt.forEach($i,hr=>a.G(hr,r.limit).next(zi=>{zi.forEach(xr=>{const bs=gn.fromSegments(xr.documentKey);I.has(bs)||(I=I.add(bs),G.push(bs))})}))}).next(()=>G)}return rt.resolve(null)})}hn(t){let r=this.ln.get(t);return r||(r=0===t.filters.length?[t]:ml(wr.create(t.filters,"and")).map(a=>ul(t.path,t.collectionGroup,t.orderBy,a.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,r),r)}En(t,r,a,f,w,I,G){const q=(null!=r?r.length:1)*Math.max(a.length,w.length),ue=q/(null!=r?r.length:1),Ee=[];for(let Ue=0;Ue<q;++Ue){const ft=r?this.dn(r[Ue/ue]):Ko,Jt=this.An(t,ft,a[Ue%ue],f),An=this.Rn(t,ft,w[Ue%ue],I),Jn=G.map(Bn=>this.An(t,ft,Bn,!0));Ee.push(...this.createRange(Jt,An,Jn))}return Ee}An(t,r,a,f){const w=new Fl(t,gn.empty(),r,a);return f?w:w.Zt()}Rn(t,r,a,f){const w=new Fl(t,gn.empty(),r,a);return f?w.Zt():w}Pn(t,r){const a=new Uu(r),f=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(t,f).next(w=>{let I=null;for(const G of w)a.rn(G)&&(!I||G.fields.length>I.fields.length)&&(I=G);return I})}getIndexType(t,r){let a=2;const f=this.hn(r);return rt.forEach(f,w=>this.Pn(t,w).next(I=>{I?0!==a&&I.fields.length<function(q){let ue=new rr(ni.comparator),Ee=!1;for(const Ue of q.filters)for(const ft of Ue.getFlattenedFilters())ft.field.isKeyField()||("array-contains"===ft.op||"array-contains-any"===ft.op?Ee=!0:ue=ue.add(ft.field));for(const Ue of q.orderBy)Ue.field.isKeyField()||(ue=ue.add(Ue.field));return ue.size+(Ee?1:0)}(w)&&(a=1):a=0})).next(()=>null!==r.limit&&f.length>1&&2===a?1:a)}Vn(t,r){const a=new Dc;for(const f of Rr(t)){const w=r.data.field(f.fieldPath);if(null==w)return null;const I=a.Yt(f.kind);au.vt.It(w,I)}return a.zt()}dn(t){const r=new Dc;return au.vt.It(t,r.Yt(0)),r.zt()}mn(t,r){const a=new Dc;return au.vt.It(Po(this.databaseId,r),a.Yt(function(w){const I=Rr(w);return 0===I.length?0:I[I.length-1].kind}(t))),a.zt()}Tn(t,r,a){if(null===a)return[];let f=[];f.push(new Dc);let w=0;for(const I of Rr(t)){const G=a[w++];for(const q of f)if(this.fn(r,I.fieldPath)&&oo(G))f=this.gn(f,I,G);else{const ue=q.Yt(I.kind);au.vt.It(G,ue)}}return this.pn(f)}In(t,r,a){return this.Tn(t,r,a.position)}pn(t){const r=[];for(let a=0;a<t.length;++a)r[a]=t[a].zt();return r}gn(t,r,a){const f=[...t],w=[];for(const I of a.arrayValue.values||[])for(const G of f){const q=new Dc;q.seed(G.zt()),au.vt.It(I,q.Yt(r.kind)),w.push(q)}return w}fn(t,r){return!!t.filters.find(a=>a instanceof xi&&a.field.isEqual(r)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(t,r){const a=pn(t),f=or(t);return(r?a.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):a.U()).next(w=>{const I=[];return rt.forEach(w,G=>f.get([G.indexId,this.uid]).next(q=>{I.push(function(Ee,Ue){const ft=Ue?new ht(Ue.sequenceNumber,new Ge(sa(Ue.readTime),new gn(gi(Ue.documentKey)),Ue.largestBatchId)):ht.empty(),Jt=Ee.fields.map(([An,Jn])=>new Tt(ni.fromServerFormat(An),Jn));return new Fr(Ee.indexId,Ee.collectionGroup,Jt,ft)}(G,q))})).next(()=>I)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(r=>0===r.length?null:(r.sort((a,f)=>{const w=a.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==w?w:si(a.collectionGroup,f.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(t,r,a){const f=pn(t),w=or(t);return this.yn(t).next(I=>f.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(G=>rt.forEach(G,q=>w.put(Ol(q.indexId,this.uid,I,a)))))}updateIndexEntries(t,r){const a=new Map;return rt.forEach(r,(f,w)=>{const I=a.get(f.collectionGroup);return(I?rt.resolve(I):this.getFieldIndexes(t,f.collectionGroup)).next(G=>(a.set(f.collectionGroup,G),rt.forEach(G,q=>this.wn(t,f,q).next(ue=>{const Ee=this.Sn(w,q);return ue.isEqual(Ee)?rt.resolve():this.bn(t,w,q,ue,Ee)}))))})}Dn(t,r,a,f){return Ac(t).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.mn(a,r.key),documentKey:r.key.path.toArray()})}vn(t,r,a,f){return Ac(t).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.mn(a,r.key),r.key.path.toArray()])}wn(t,r,a){const f=Ac(t);let w=new rr(Ic);return f.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,r)])},(I,G)=>{w=w.add(new Fl(a.indexId,r,G.arrayValue,G.directionalValue))}).next(()=>w)}Sn(t,r){let a=new rr(Ic);const f=this.Vn(r,t);if(null==f)return a;const w=Es(r);if(null!=w){const I=t.data.field(w.fieldPath);if(oo(I))for(const G of I.arrayValue.values||[])a=a.add(new Fl(r.indexId,t.key,this.dn(G),f))}else a=a.add(new Fl(r.indexId,t.key,Ko,f));return a}bn(t,r,a,f,w){ot("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const I=[];return function(q,ue,Ee,Ue,ft){const Jt=q.getIterator(),An=ue.getIterator();let Jn=Xs(Jt),Bn=Xs(An);for(;Jn||Bn;){let $i=!1,hr=!1;if(Jn&&Bn){const zi=Ee(Jn,Bn);zi<0?hr=!0:zi>0&&($i=!0)}else null!=Jn?hr=!0:$i=!0;$i?(Ue(Bn),Bn=Xs(An)):hr?(ft(Jn),Jn=Xs(Jt)):(Jn=Xs(Jt),Bn=Xs(An))}}(f,w,Ic,G=>{I.push(this.Dn(t,r,a,G))},G=>{I.push(this.vn(t,r,a,G))}),rt.waitFor(I)}yn(t){let r=1;return or(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,f,w)=>{w.done(),r=f.sequenceNumber+1}).next(()=>r)}createRange(t,r,a){a=a.sort((I,G)=>Ic(I,G)).filter((I,G,q)=>!G||0!==Ic(I,q[G-1]));const f=[];f.push(t);for(const I of a){const G=Ic(I,t),q=Ic(I,r);if(0===G)f[0]=t.Zt();else if(G>0&&q<0)f.push(I),f.push(I.Zt());else if(q>0)break}f.push(r);const w=[];for(let I=0;I<f.length;I+=2){if(this.Cn(f[I],f[I+1]))return[];w.push(IDBKeyRange.bound([f[I].indexId,this.uid,f[I].arrayValue,f[I].directionalValue,Ko,[]],[f[I+1].indexId,this.uid,f[I+1].arrayValue,f[I+1].directionalValue,Ko,[]]))}return w}Cn(t,r){return Ic(t,r)>0}getMinOffsetFromCollectionGroup(t,r){return this.getFieldIndexes(t,r).next(Xl)}getMinOffset(t,r){return rt.mapArray(this.hn(r),a=>this.Pn(t,a).next(f=>f||en())).next(Xl)}}function Wu(c){return Hr(c,"collectionParents")}function Ac(c){return Hr(c,"indexEntries")}function pn(c){return Hr(c,"indexConfiguration")}function or(c){return Hr(c,"indexState")}function Xl(c){cn(0!==c.length);let t=c[0].indexState.offset,r=t.largestBatchId;for(let a=1;a<c.length;a++){const f=c[a].indexState.offset;ze(f,t)<0&&(t=f),r<f.largestBatchId&&(r=f.largestBatchId)}return new Ge(t.readTime,t.documentKey,r)}const Eu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wi{constructor(t,r,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(t){return new Wi(t,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Cu(c,t,r){const a=c.store("mutations"),f=c.store("documentMutations"),w=[],I=IDBKeyRange.only(r.batchId);let G=0;const q=a.J({range:I},(Ee,Ue,ft)=>(G++,ft.delete()));w.push(q.next(()=>{cn(1===G)}));const ue=[];for(const Ee of r.mutations){const Ue=wi(t,Ee.key.path,r.batchId);w.push(f.delete(Ue)),ue.push(Ee.key)}return rt.waitFor(w).next(()=>ue)}function ac(c){if(!c)return 0;let t;if(c.document)t=c.document;else if(c.unknownDocument)t=c.unknownDocument;else{if(!c.noDocument)throw en();t=c.noDocument}return JSON.stringify(t).length}Wi.DEFAULT_COLLECTION_PERCENTILE=10,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wi.DEFAULT=new Wi(41943040,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wi.DISABLED=new Wi(-1,0,0);class oa{constructor(t,r,a,f){this.userId=t,this.serializer=r,this.indexManager=a,this.referenceDelegate=f,this.Fn={}}static lt(t,r,a,f){cn(""!==t.uid);const w=t.isAuthenticated()?t.uid:"";return new oa(w,r,a,f)}checkEmpty(t){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ks(t).J({index:"userMutationsIndex",range:a},(f,w,I)=>{r=!1,I.done()}).next(()=>r)}addMutationBatch(t,r,a,f){const w=_l(t),I=ks(t);return I.add({}).next(G=>{cn("number"==typeof G);const q=new is(G,r,a,f),ue=function(Jt,An,Jn){const Bn=Jn.baseMutations.map(hr=>tt(Jt.ct,hr)),$i=Jn.mutations.map(hr=>tt(Jt.ct,hr));return{userId:An,batchId:Jn.batchId,localWriteTimeMs:Jn.localWriteTime.toMillis(),baseMutations:Bn,mutations:$i}}(this.serializer,this.userId,q),Ee=[];let Ue=new rr((ft,Jt)=>si(ft.canonicalString(),Jt.canonicalString()));for(const ft of f){const Jt=wi(this.userId,ft.key.path,G);Ue=Ue.add(ft.key.path.popLast()),Ee.push(I.put(ue)),Ee.push(w.put(Jt,as))}return Ue.forEach(ft=>{Ee.push(this.indexManager.addToCollectionParentIndex(t,ft))}),t.addOnCommittedListener(()=>{this.Fn[G]=q.keys()}),rt.waitFor(Ee).next(()=>q)})}lookupMutationBatch(t,r){return ks(t).get(r).next(a=>a?(cn(a.userId===this.userId),il(this.serializer,a)):null)}Mn(t,r){return this.Fn[r]?rt.resolve(this.Fn[r]):this.lookupMutationBatch(t,r).next(a=>{if(a){const f=a.keys();return this.Fn[r]=f,f}return null})}getNextMutationBatchAfterBatchId(t,r){const a=r+1,f=IDBKeyRange.lowerBound([this.userId,a]);let w=null;return ks(t).J({index:"userMutationsIndex",range:f},(I,G,q)=>{G.userId===this.userId&&(cn(G.batchId>=a),w=il(this.serializer,G)),q.done()}).next(()=>w)}getHighestUnacknowledgedBatchId(t){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return ks(t).J({index:"userMutationsIndex",range:r,reverse:!0},(f,w,I)=>{a=w.batchId,I.done()}).next(()=>a)}getAllMutationBatches(t){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ks(t).U("userMutationsIndex",r).next(a=>a.map(f=>il(this.serializer,f)))}getAllMutationBatchesAffectingDocumentKey(t,r){const a=oi(this.userId,r.path),f=IDBKeyRange.lowerBound(a),w=[];return _l(t).J({range:f},(I,G,q)=>{const[ue,Ee,Ue]=I,ft=gi(Ee);if(ue===this.userId&&r.path.isEqual(ft))return ks(t).get(Ue).next(Jt=>{if(!Jt)throw en();cn(Jt.userId===this.userId),w.push(il(this.serializer,Jt))});q.done()}).next(()=>w)}getAllMutationBatchesAffectingDocumentKeys(t,r){let a=new rr(si);const f=[];return r.forEach(w=>{const I=oi(this.userId,w.path),G=IDBKeyRange.lowerBound(I),q=_l(t).J({range:G},(ue,Ee,Ue)=>{const[ft,Jt,An]=ue,Jn=gi(Jt);ft===this.userId&&w.path.isEqual(Jn)?a=a.add(An):Ue.done()});f.push(q)}),rt.waitFor(f).next(()=>this.xn(t,a))}getAllMutationBatchesAffectingQuery(t,r){const a=r.path,f=a.length+1,w=oi(this.userId,a),I=IDBKeyRange.lowerBound(w);let G=new rr(si);return _l(t).J({range:I},(q,ue,Ee)=>{const[Ue,ft,Jt]=q,An=gi(ft);Ue===this.userId&&a.isPrefixOf(An)?An.length===f&&(G=G.add(Jt)):Ee.done()}).next(()=>this.xn(t,G))}xn(t,r){const a=[],f=[];return r.forEach(w=>{f.push(ks(t).get(w).next(I=>{if(null===I)throw en();cn(I.userId===this.userId),a.push(il(this.serializer,I))}))}),rt.waitFor(f).next(()=>a)}removeMutationBatch(t,r){return Cu(t._e,this.userId,r).next(a=>(t.addOnCommittedListener(()=>{this.On(r.batchId)}),rt.forEach(a,f=>this.referenceDelegate.markPotentiallyOrphaned(t,f))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(r=>{if(!r)return rt.resolve();const a=IDBKeyRange.lowerBound(function(I){return[I]}(this.userId)),f=[];return _l(t).J({range:a},(w,I,G)=>{if(w[0]===this.userId){const q=gi(w[1]);f.push(q)}else G.done()}).next(()=>{cn(0===f.length)})})}containsKey(t,r){return ql(t,this.userId,r)}Nn(t){return $u(t).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ql(c,t,r){const a=oi(t,r.path),f=a[1],w=IDBKeyRange.lowerBound(a);let I=!1;return _l(c).J({range:w,H:!0},(G,q,ue)=>{const[Ee,Ue,ft]=G;Ee===t&&Ue===f&&(I=!0),ue.done()}).next(()=>I)}function ks(c){return Hr(c,"mutations")}function _l(c){return Hr(c,"documentMutations")}function $u(c){return Hr(c,"mutationQueues")}class Ql{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ql(0)}static kn(){return new Ql(-1)}}class Yo{constructor(t,r){this.referenceDelegate=t,this.serializer=r}allocateTargetId(t){return this.qn(t).next(r=>{const a=new Ql(r.highestTargetId);return r.highestTargetId=a.next(),this.Qn(t,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(r=>Pn.fromTimestamp(new Kn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(t,r,a){return this.qn(t).next(f=>(f.highestListenSequenceNumber=r,a&&(f.lastRemoteSnapshotVersion=a.toTimestamp()),r>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=r),this.Qn(t,f)))}addTargetData(t,r){return this.Kn(t,r).next(()=>this.qn(t).next(a=>(a.targetCount+=1,this.$n(r,a),this.Qn(t,a))))}updateTargetData(t,r){return this.Kn(t,r)}removeTargetData(t,r){return this.removeMatchingKeysForTargetId(t,r.targetId).next(()=>mo(t).delete(r.targetId)).next(()=>this.qn(t)).next(a=>(cn(a.targetCount>0),a.targetCount-=1,this.Qn(t,a)))}removeTargets(t,r,a){let f=0;const w=[];return mo(t).J((I,G)=>{const q=Nl(G);q.sequenceNumber<=r&&null===a.get(q.targetId)&&(f++,w.push(this.removeTargetData(t,q)))}).next(()=>rt.waitFor(w)).next(()=>f)}forEachTarget(t,r){return mo(t).J((a,f)=>{const w=Nl(f);r(w)})}qn(t){return ad(t).get("targetGlobalKey").next(r=>(cn(null!==r),r))}Qn(t,r){return ad(t).put("targetGlobalKey",r)}Kn(t,r){return mo(t).put(Cc(this.serializer,r))}$n(t,r){let a=!1;return t.targetId>r.highestTargetId&&(r.highestTargetId=t.targetId,a=!0),t.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t.sequenceNumber,a=!0),a}getTargetCount(t){return this.qn(t).next(r=>r.targetCount)}getTargetData(t,r){const a=ta(r),f=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let w=null;return mo(t).J({range:f,index:"queryTargetsIndex"},(I,G,q)=>{const ue=Nl(G);Ba(r,ue.target)&&(w=ue,q.done())}).next(()=>w)}addMatchingKeys(t,r,a){const f=[],w=Xo(t);return r.forEach(I=>{const G=Zt(I.path);f.push(w.put({targetId:a,path:G})),f.push(this.referenceDelegate.addReference(t,a,I))}),rt.waitFor(f)}removeMatchingKeys(t,r,a){const f=Xo(t);return rt.forEach(r,w=>{const I=Zt(w.path);return rt.waitFor([f.delete([a,I]),this.referenceDelegate.removeReference(t,a,w)])})}removeMatchingKeysForTargetId(t,r){const a=Xo(t),f=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(f)}getMatchingKeysForTargetId(t,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),f=Xo(t);let w=Ui();return f.J({range:a,H:!0},(I,G,q)=>{const ue=gi(I[1]),Ee=new gn(ue);w=w.add(Ee)}).next(()=>w)}containsKey(t,r){const a=Zt(r.path),f=IDBKeyRange.bound([a],[os(a)],!1,!0);let w=0;return Xo(t).J({index:"documentTargetsIndex",H:!0,range:f},([I,G],q,ue)=>{0!==I&&(w++,ue.done())}).next(()=>w>0)}ot(t,r){return mo(t).get(r).next(a=>a?Nl(a):null)}}function mo(c){return Hr(c,"targets")}function ad(c){return Hr(c,"targetGlobal")}function Xo(c){return Hr(c,"targetDocuments")}function za([c,t],[r,a]){const f=si(c,r);return 0===f?si(t,a):f}class ld{constructor(t){this.Un=t,this.buffer=new rr(za),this.Wn=0}Gn(){return++this.Wn}zn(t){const r=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();za(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class cd{constructor(t,r,a){this.garbageCollector=t,this.asyncQueue=r,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var r=this;ot("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,je.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(a){Ur(a)?ot("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Nt(a)}yield r.Hn(3e5)}))}}class bh{constructor(t,r){this.Jn=t,this.params=r}calculateTargetCount(t,r){return this.Jn.Yn(t).next(a=>Math.floor(r/100*a))}nthSequenceNumber(t,r){if(0===r)return rt.resolve(es.oe);const a=new ld(r);return this.Jn.forEachTarget(t,f=>a.zn(f.sequenceNumber)).next(()=>this.Jn.Zn(t,f=>a.zn(f))).next(()=>a.maxValue)}removeTargets(t,r,a){return this.Jn.removeTargets(t,r,a)}removeOrphanedDocuments(t,r){return this.Jn.removeOrphanedDocuments(t,r)}collect(t,r){return-1===this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(Eu)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eu):this.Xn(t,r))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,r){let a,f,w,I,G,q,ue;const Ee=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Ue=>(Ue>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ue}`),f=this.params.maximumSequenceNumbersToCollect):f=Ue,I=Date.now(),this.nthSequenceNumber(t,f))).next(Ue=>(a=Ue,G=Date.now(),this.removeTargets(t,a,r))).next(Ue=>(w=Ue,q=Date.now(),this.removeOrphanedDocuments(t,a))).next(Ue=>(ue=Date.now(),Ke()<=jt.$b.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-Ee}ms\n\tDetermined least recently used ${f} in `+(G-I)+`ms\n\tRemoved ${w} targets in `+(q-G)+`ms\n\tRemoved ${Ue} documents in `+(ue-q)+`ms\nTotal Duration: ${ue-Ee}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:w,documentsRemoved:Ue})))}}class Tu{constructor(t,r){this.db=t,this.garbageCollector=function zu(c,t){return new bh(c,t)}(this,r)}Yn(t){const r=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(a=>r.next(f=>a+f))}er(t){let r=0;return this.Zn(t,a=>{r++}).next(()=>r)}forEachTarget(t,r){return this.db.getTargetCache().forEachTarget(t,r)}Zn(t,r){return this.tr(t,(a,f)=>r(f))}addReference(t,r,a){return Rc(t,a)}removeReference(t,r,a){return Rc(t,a)}removeTargets(t,r,a){return this.db.getTargetCache().removeTargets(t,r,a)}markPotentiallyOrphaned(t,r){return Rc(t,r)}nr(t,r){return function(f,w){let I=!1;return $u(f).Y(G=>ql(f,G,w).next(q=>(q&&(I=!0),rt.resolve(!q)))).next(()=>I)}(t,r)}removeOrphanedDocuments(t,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let w=0;return this.tr(t,(I,G)=>{if(G<=r){const q=this.nr(t,I).next(ue=>{if(!ue)return w++,a.getEntry(t,I).next(()=>(a.removeEntry(I,Pn.min()),Xo(t).delete([0,Zt(I.path)])))});f.push(q)}}).next(()=>rt.waitFor(f)).next(()=>a.apply(t)).next(()=>w)}removeTarget(t,r){const a=r.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,a)}updateLimboDocument(t,r){return Rc(t,r)}tr(t,r){const a=Xo(t);let f,w=es.oe;return a.J({index:"documentTargetsIndex"},([I,G],{path:q,sequenceNumber:ue})=>{0===I?(w!==es.oe&&r(new gn(gi(f)),w),w=ue,f=q):w=es.oe}).next(()=>{w!==es.oe&&r(new gn(gi(f)),w)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Rc(c,t){return Xo(c).put((f=c.currentSequenceNumber,{targetId:0,path:Zt(t.path),sequenceNumber:f}));var f}class Du{constructor(){this.changes=new uo(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,bi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?rt.resolve(a):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class W{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,r,a){return U(t).put(a)}removeEntry(t,r,a){return U(t).delete(function(w,I){const G=w.path.toArray();return[G.slice(0,G.length-2),G[G.length-2],sc(I),G[G.length-1]]}(r,a))}updateMetadata(t,r){return this.getMetadata(t).next(a=>(a.byteSize+=r,this.rr(t,a)))}getEntry(t,r){let a=bi.newInvalidDocument(r);return U(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(he(r))},(f,w)=>{a=this.ir(r,w)}).next(()=>a)}sr(t,r){let a={size:0,document:bi.newInvalidDocument(r)};return U(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(he(r))},(f,w)=>{a={document:this.ir(r,w),size:ac(w)}}).next(()=>a)}getEntries(t,r){let a=ho();return this._r(t,r,(f,w)=>{const I=this.ir(f,w);a=a.insert(f,I)}).next(()=>a)}ar(t,r){let a=ho(),f=new ki(gn.comparator);return this._r(t,r,(w,I)=>{const G=this.ir(w,I);a=a.insert(w,G),f=f.insert(w,ac(I))}).next(()=>({documents:a,ur:f}))}_r(t,r,a){if(r.isEmpty())return rt.resolve();let f=new rr(Je);r.forEach(q=>f=f.add(q));const w=IDBKeyRange.bound(he(f.first()),he(f.last())),I=f.getIterator();let G=I.getNext();return U(t).J({index:"documentKeyIndex",range:w},(q,ue,Ee)=>{const Ue=gn.fromSegments([...ue.prefixPath,ue.collectionGroup,ue.documentId]);for(;G&&Je(G,Ue)<0;)a(G,null),G=I.getNext();G&&G.isEqual(Ue)&&(a(G,ue),G=I.hasNext()?I.getNext():null),G?Ee.$(he(G)):Ee.done()}).next(()=>{for(;G;)a(G,null),G=I.hasNext()?I.getNext():null})}getDocumentsMatchingQuery(t,r,a,f,w){const I=r.path,G=[I.popLast().toArray(),I.lastSegment(),sc(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],q=[I.popLast().toArray(),I.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return U(t).U(IDBKeyRange.bound(G,q,!0)).next(ue=>{w?.incrementDocumentReadCount(ue.length);let Ee=ho();for(const Ue of ue){const ft=this.ir(gn.fromSegments(Ue.prefixPath.concat(Ue.collectionGroup,Ue.documentId)),Ue);ft.isFoundDocument()&&(to(r,ft)||f.has(ft.key))&&(Ee=Ee.insert(ft.key,ft))}return Ee})}getAllFromCollectionGroup(t,r,a,f){let w=ho();const I=Me(r,a),G=Me(r,Ge.max());return U(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(I,G,!0)},(q,ue,Ee)=>{const Ue=this.ir(gn.fromSegments(ue.prefixPath.concat(ue.collectionGroup,ue.documentId)),ue);w=w.insert(Ue.key,Ue),w.size===f&&Ee.done()}).next(()=>w)}newChangeBuffer(t){return new y(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(r=>r.byteSize)}getMetadata(t){return F(t).get("remoteDocumentGlobalKey").next(r=>(cn(!!r),r))}rr(t,r){return F(t).put("remoteDocumentGlobalKey",r)}ir(t,r){if(r){const a=function Id(c,t){let r;if(t.document)r=Y(c.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const a=gn.fromSegments(t.noDocument.path),f=sa(t.noDocument.readTime);r=bi.newNoDocument(a,f),t.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!t.unknownDocument)return en();{const a=gn.fromSegments(t.unknownDocument.path),f=sa(t.unknownDocument.version);r=bi.newUnknownDocument(a,f)}}return t.readTime&&r.setReadTime(function(f){const w=new Kn(f[0],f[1]);return Pn.fromTimestamp(w)}(t.readTime)),r}(this.serializer,r);if(!a.isNoDocument()||!a.version.isEqual(Pn.min()))return a}return bi.newInvalidDocument(t)}}function S(c){return new W(c)}class y extends Du{constructor(t,r){super(),this.cr=t,this.trackRemovals=r,this.lr=new uo(a=>a.toString(),(a,f)=>a.isEqual(f))}applyChanges(t){const r=[];let a=0,f=new rr((w,I)=>si(w.canonicalString(),I.canonicalString()));return this.changes.forEach((w,I)=>{const G=this.lr.get(w);if(r.push(this.cr.removeEntry(t,w,G.readTime)),I.isValidDocument()){const q=vu(this.cr.serializer,I);f=f.add(w.path.popLast());const ue=ac(q);a+=ue-G.size,r.push(this.cr.addEntry(t,w,q))}else if(a-=G.size,this.trackRemovals){const q=vu(this.cr.serializer,I.convertToNoDocument(Pn.min()));r.push(this.cr.addEntry(t,w,q))}}),f.forEach(w=>{r.push(this.cr.indexManager.addToCollectionParentIndex(t,w))}),r.push(this.cr.updateMetadata(t,a)),rt.waitFor(r)}getFromCache(t,r){return this.cr.sr(t,r).next(a=>(this.lr.set(r,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(t,r){return this.cr.ar(t,r).next(({documents:a,ur:f})=>(f.forEach((w,I)=>{this.lr.set(w,{size:I,readTime:a.get(w).readTime})}),a))}}function F(c){return Hr(c,"remoteDocumentGlobal")}function U(c){return Hr(c,"remoteDocumentsV14")}function he(c){const t=c.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Me(c,t){const r=t.documentKey.path.toArray();return[c,sc(t.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Je(c,t){const r=c.path.toArray(),a=t.path.toArray();let f=0;for(let w=0;w<r.length-2&&w<a.length-2;++w)if(f=si(r[w],a[w]),f)return f;return f=si(r.length,a.length),f||(f=si(r[r.length-2],a[a.length-2]),f||si(r[r.length-1],a[a.length-1]))}class Vt{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class on{constructor(t,r,a,f){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=f}getDocument(t,r){let a=null;return this.documentOverlayCache.getOverlay(t,r).next(f=>(a=f,this.remoteDocumentCache.getEntry(t,r))).next(f=>(null!==a&&Ni(a.mutation,f,Tr.empty(),Kn.now()),f))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.getLocalViewOfDocuments(t,a,Ui()).next(()=>a))}getLocalViewOfDocuments(t,r,a=Ui()){const f=ia();return this.populateOverlays(t,f,r).next(()=>this.computeViews(t,r,f,a).next(w=>{let I=Ra();return w.forEach((G,q)=>{I=I.insert(G,q.overlayedDocument)}),I}))}getOverlayedDocuments(t,r){const a=ia();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,Ui()))}populateOverlays(t,r,a){const f=[];return a.forEach(w=>{r.has(w)||f.push(w)}),this.documentOverlayCache.getOverlays(t,f).next(w=>{w.forEach((I,G)=>{r.set(I,G)})})}computeViews(t,r,a,f){let w=ho();const I=ra(),G=ra();return r.forEach((q,ue)=>{const Ee=a.get(ue.key);f.has(ue.key)&&(void 0===Ee||Ee.mutation instanceof ui)?w=w.insert(ue.key,ue):void 0!==Ee?(I.set(ue.key,Ee.mutation.getFieldMask()),Ni(Ee.mutation,ue,Ee.mutation.getFieldMask(),Kn.now())):I.set(ue.key,Tr.empty())}),this.recalculateAndSaveOverlays(t,w).next(q=>(q.forEach((ue,Ee)=>I.set(ue,Ee)),r.forEach((ue,Ee)=>{var Ue;return G.set(ue,new Vt(Ee,null!==(Ue=I.get(ue))&&void 0!==Ue?Ue:null))}),G))}recalculateAndSaveOverlays(t,r){const a=ra();let f=new ki((I,G)=>I-G),w=Ui();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(I=>{for(const G of I)G.keys().forEach(q=>{const ue=r.get(q);if(null===ue)return;let Ee=a.get(q)||Tr.empty();Ee=G.applyToLocalView(ue,Ee),a.set(q,Ee);const Ue=(f.get(G.batchId)||Ui()).add(q);f=f.insert(G.batchId,Ue)})}).next(()=>{const I=[],G=f.getReverseIterator();for(;G.hasNext();){const q=G.getNext(),ue=q.key,Ee=q.value,Ue=Ds();Ee.forEach(ft=>{if(!w.has(ft)){const Jt=Sn(r.get(ft),a.get(ft));null!==Jt&&Ue.set(ft,Jt),w=w.add(ft)}}),I.push(this.documentOverlayCache.saveOverlays(t,ue,Ue))}return rt.waitFor(I)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,r,a,f){return gn.isDocumentKey((I=r).path)&&null===I.collectionGroup&&0===I.filters.length?this.getDocumentsMatchingDocumentQuery(t,r.path):Ji(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,a,f):this.getDocumentsMatchingCollectionQuery(t,r,a,f);var I}getNextDocuments(t,r,a,f){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,a,f).next(w=>{const I=f-w.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,a.largestBatchId,f-w.size):rt.resolve(ia());let G=-1,q=w;return I.next(ue=>rt.forEach(ue,(Ee,Ue)=>(G<Ue.largestBatchId&&(G=Ue.largestBatchId),w.get(Ee)?rt.resolve():this.remoteDocumentCache.getEntry(t,Ee).next(ft=>{q=q.insert(Ee,ft)}))).next(()=>this.populateOverlays(t,ue,w)).next(()=>this.computeViews(t,q,ue,Ui())).next(Ee=>({batchId:G,changes:vc(Ee)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new gn(r)).next(a=>{let f=Ra();return a.isFoundDocument()&&(f=f.insert(a.key,a)),f})}getDocumentsMatchingCollectionGroupQuery(t,r,a,f){const w=r.collectionGroup;let I=Ra();return this.indexManager.getCollectionParents(t,w).next(G=>rt.forEach(G,q=>{const ue=(Ue=r,ft=q.child(w),new pa(ft,null,Ue.explicitOrderBy.slice(),Ue.filters.slice(),Ue.limit,Ue.limitType,Ue.startAt,Ue.endAt));var Ue,ft;return this.getDocumentsMatchingCollectionQuery(t,ue,a,f).next(Ee=>{Ee.forEach((Ue,ft)=>{I=I.insert(Ue,ft)})})}).next(()=>I))}getDocumentsMatchingCollectionQuery(t,r,a,f){let w;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,a.largestBatchId).next(I=>(w=I,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,a,w,f))).next(I=>{w.forEach((q,ue)=>{const Ee=ue.getKey();null===I.get(Ee)&&(I=I.insert(Ee,bi.newInvalidDocument(Ee)))});let G=Ra();return I.forEach((q,ue)=>{const Ee=w.get(q);void 0!==Ee&&Ni(Ee.mutation,ue,Tr.empty(),Kn.now()),to(r,ue)&&(G=G.insert(q,ue))}),G})}}class Hn{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,r){return rt.resolve(this.hr.get(r))}saveBundleMetadata(t,r){return this.hr.set(r.id,{id:(f=r).id,version:f.version,createTime:Zr(f.createTime)}),rt.resolve();var f}getNamedQuery(t,r){return rt.resolve(this.Pr.get(r))}saveNamedQuery(t,r){return this.Pr.set(r.name,{name:(f=r).name,query:Yc(f.bundledQuery),readTime:Zr(f.readTime)}),rt.resolve();var f}}class ci{constructor(){this.overlays=new ki(gn.comparator),this.Ir=new Map}getOverlay(t,r){return rt.resolve(this.overlays.get(r))}getOverlays(t,r){const a=ia();return rt.forEach(r,f=>this.getOverlay(t,f).next(w=>{null!==w&&a.set(f,w)})).next(()=>a)}saveOverlays(t,r,a){return a.forEach((f,w)=>{this.ht(t,r,w)}),rt.resolve()}removeOverlaysForBatchId(t,r,a){const f=this.Ir.get(a);return void 0!==f&&(f.forEach(w=>this.overlays=this.overlays.remove(w)),this.Ir.delete(a)),rt.resolve()}getOverlaysForCollection(t,r,a){const f=ia(),w=r.length+1,I=new gn(r.child("")),G=this.overlays.getIteratorFrom(I);for(;G.hasNext();){const q=G.getNext().value,ue=q.getKey();if(!r.isPrefixOf(ue.path))break;ue.path.length===w&&q.largestBatchId>a&&f.set(q.getKey(),q)}return rt.resolve(f)}getOverlaysForCollectionGroup(t,r,a,f){let w=new ki((ue,Ee)=>ue-Ee);const I=this.overlays.getIterator();for(;I.hasNext();){const ue=I.getNext().value;if(ue.getKey().getCollectionGroup()===r&&ue.largestBatchId>a){let Ee=w.get(ue.largestBatchId);null===Ee&&(Ee=ia(),w=w.insert(ue.largestBatchId,Ee)),Ee.set(ue.getKey(),ue)}}const G=ia(),q=w.getIterator();for(;q.hasNext()&&(q.getNext().value.forEach((ue,Ee)=>G.set(ue,Ee)),!(G.size()>=f)););return rt.resolve(G)}ht(t,r,a){const f=this.overlays.get(a.key);if(null!==f){const I=this.Ir.get(f.largestBatchId).delete(a.key);this.Ir.set(f.largestBatchId,I)}this.overlays=this.overlays.insert(a.key,new vs(r,a));let w=this.Ir.get(r);void 0===w&&(w=Ui(),this.Ir.set(r,w)),this.Ir.set(r,w.add(a.key))}}class Vi{constructor(){this.sessionToken=Wr.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,rt.resolve()}}class cr{constructor(){this.Tr=new rr(_i.Er),this.dr=new rr(_i.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,r){const a=new _i(t,r);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(t,r){t.forEach(a=>this.addReference(a,r))}removeReference(t,r){this.Vr(new _i(t,r))}mr(t,r){t.forEach(a=>this.removeReference(a,r))}gr(t){const r=new gn(new Wn([])),a=new _i(r,t),f=new _i(r,t+1),w=[];return this.dr.forEachInRange([a,f],I=>{this.Vr(I),w.push(I.key)}),w}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const r=new gn(new Wn([])),a=new _i(r,t),f=new _i(r,t+1);let w=Ui();return this.dr.forEachInRange([a,f],I=>{w=w.add(I.key)}),w}containsKey(t){const r=new _i(t,0),a=this.Tr.firstAfterOrEqual(r);return null!==a&&t.isEqual(a.key)}}class _i{constructor(t,r){this.key=t,this.wr=r}static Er(t,r){return gn.comparator(t.key,r.key)||si(t.wr,r.wr)}static Ar(t,r){return si(t.wr,r.wr)||gn.comparator(t.key,r.key)}}class br{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new rr(_i.Er)}checkEmpty(t){return rt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,r,a,f){const w=this.Sr;this.Sr++;const I=new is(w,r,a,f);this.mutationQueue.push(I);for(const G of f)this.br=this.br.add(new _i(G.key,w)),this.indexManager.addToCollectionParentIndex(t,G.key.path.popLast());return rt.resolve(I)}lookupMutationBatch(t,r){return rt.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(t,r){const f=this.vr(r+1),w=f<0?0:f;return rt.resolve(this.mutationQueue.length>w?this.mutationQueue[w]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const a=new _i(r,0),f=new _i(r,Number.POSITIVE_INFINITY),w=[];return this.br.forEachInRange([a,f],I=>{const G=this.Dr(I.wr);w.push(G)}),rt.resolve(w)}getAllMutationBatchesAffectingDocumentKeys(t,r){let a=new rr(si);return r.forEach(f=>{const w=new _i(f,0),I=new _i(f,Number.POSITIVE_INFINITY);this.br.forEachInRange([w,I],G=>{a=a.add(G.wr)})}),rt.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(t,r){const a=r.path,f=a.length+1;let w=a;gn.isDocumentKey(w)||(w=w.child(""));const I=new _i(new gn(w),0);let G=new rr(si);return this.br.forEachWhile(q=>{const ue=q.key.path;return!!a.isPrefixOf(ue)&&(ue.length===f&&(G=G.add(q.wr)),!0)},I),rt.resolve(this.Cr(G))}Cr(t){const r=[];return t.forEach(a=>{const f=this.Dr(a);null!==f&&r.push(f)}),r}removeMutationBatch(t,r){cn(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return rt.forEach(r.mutations,f=>{const w=new _i(f.key,r.batchId);return a=a.delete(w),this.referenceDelegate.markPotentiallyOrphaned(t,f.key)}).next(()=>{this.br=a})}On(t){}containsKey(t,r){const a=new _i(r,0),f=this.br.firstAfterOrEqual(a);return rt.resolve(r.isEqual(f&&f.key))}performConsistencyCheck(t){return rt.resolve()}Fr(t,r){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const r=this.vr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Ss{constructor(t){this.Mr=t,this.docs=new ki(gn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const a=r.key,f=this.docs.get(a),w=f?f.size:0,I=this.Mr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:I}),this.size+=I-w,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const a=this.docs.get(r);return rt.resolve(a?a.document.mutableCopy():bi.newInvalidDocument(r))}getEntries(t,r){let a=ho();return r.forEach(f=>{const w=this.docs.get(f);a=a.insert(f,w?w.document.mutableCopy():bi.newInvalidDocument(f))}),rt.resolve(a)}getDocumentsMatchingQuery(t,r,a,f){let w=ho();const I=r.path,G=new gn(I.child("")),q=this.docs.getIteratorFrom(G);for(;q.hasNext();){const{key:ue,value:{document:Ee}}=q.getNext();if(!I.isPrefixOf(ue.path))break;ue.path.length>I.length+1||ze(Un(Ee),a)<=0||(f.has(Ee.key)||to(r,Ee))&&(w=w.insert(Ee.key,Ee.mutableCopy()))}return rt.resolve(w)}getAllFromCollectionGroup(t,r,a,f){en()}Or(t,r){return rt.forEach(this.docs,a=>r(a))}newChangeBuffer(t){return new Lo(this)}getSize(t){return rt.resolve(this.size)}}class Lo extends Du{constructor(t){super(),this.cr=t}applyChanges(t){const r=[];return this.changes.forEach((a,f)=>{f.isValidDocument()?r.push(this.cr.addEntry(t,f)):this.cr.removeEntry(a)}),rt.waitFor(r)}getFromCache(t,r){return this.cr.getEntry(t,r)}getAllFromCache(t,r){return this.cr.getEntries(t,r)}}class Bo{constructor(t){this.persistence=t,this.Nr=new uo(r=>ta(r),Ba),this.lastRemoteSnapshotVersion=Pn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new cr,this.targetCount=0,this.kr=Ql.Bn()}forEachTarget(t,r){return this.Nr.forEach((a,f)=>r(f)),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Lr&&(this.Lr=r),rt.resolve()}Kn(t){this.Nr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.kr=new Ql(r),this.highestTargetId=r),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,r){return this.Kn(r),this.targetCount+=1,rt.resolve()}updateTargetData(t,r){return this.Kn(r),rt.resolve()}removeTargetData(t,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,r,a){let f=0;const w=[];return this.Nr.forEach((I,G)=>{G.sequenceNumber<=r&&null===a.get(G.targetId)&&(this.Nr.delete(I),w.push(this.removeMatchingKeysForTargetId(t,G.targetId)),f++)}),rt.waitFor(w).next(()=>f)}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,r){const a=this.Nr.get(r)||null;return rt.resolve(a)}addMatchingKeys(t,r,a){return this.Br.Rr(r,a),rt.resolve()}removeMatchingKeys(t,r,a){this.Br.mr(r,a);const f=this.persistence.referenceDelegate,w=[];return f&&r.forEach(I=>{w.push(f.markPotentiallyOrphaned(t,I))}),rt.waitFor(w)}removeMatchingKeysForTargetId(t,r){return this.Br.gr(r),rt.resolve()}getMatchingKeysForTargetId(t,r){const a=this.Br.yr(r);return rt.resolve(a)}containsKey(t,r){return rt.resolve(this.Br.containsKey(r))}}class no{constructor(t,r){this.qr={},this.overlays={},this.Qr=new es(0),this.Kr=!1,this.Kr=!0,this.$r=new Vi,this.referenceDelegate=t(this),this.Ur=new Bo(this),this.indexManager=new Sc,this.remoteDocumentCache=new Ss(a=>this.referenceDelegate.Wr(a)),this.serializer=new Kc(r),this.Gr=new Hn(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new ci,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let a=this.qr[t.toKey()];return a||(a=new br(r,this.referenceDelegate),this.qr[t.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,r,a){ot("MemoryPersistence","Starting transaction:",t);const f=new Ns(this.Qr.next());return this.referenceDelegate.zr(),a(f).next(w=>this.referenceDelegate.jr(f).next(()=>w)).toPromise().then(w=>(f.raiseOnCommittedEvent(),w))}Hr(t,r){return rt.or(Object.values(this.qr).map(a=>()=>a.containsKey(t,r)))}}class Ns extends zt{constructor(t){super(),this.currentSequenceNumber=t}}class Vl{constructor(t){this.persistence=t,this.Jr=new cr,this.Yr=null}static Zr(t){return new Vl(t)}get Xr(){if(this.Yr)return this.Yr;throw en()}addReference(t,r,a){return this.Jr.addReference(a,r),this.Xr.delete(a.toString()),rt.resolve()}removeReference(t,r,a){return this.Jr.removeReference(a,r),this.Xr.add(a.toString()),rt.resolve()}markPotentiallyOrphaned(t,r){return this.Xr.add(r.toString()),rt.resolve()}removeTarget(t,r){this.Jr.gr(r.targetId).forEach(f=>this.Xr.add(f.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,r.targetId).next(f=>{f.forEach(w=>this.Xr.add(w.toString()))}).next(()=>a.removeTargetData(t,r))}zr(){this.Yr=new Set}jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.Xr,a=>{const f=gn.fromPath(a);return this.ei(t,f).next(w=>{w||r.removeEntry(f,Pn.min())})}).next(()=>(this.Yr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ei(t,r).next(a=>{a?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(t){return 0}ei(t,r){return rt.or([()=>rt.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Hr(t,r)])}}class Uo{constructor(t){this.serializer=t}O(t,r,a,f){const w=new Oi("createOrUpgrade",r);var q;a<1&&f>=1&&(t.createObjectStore("owner"),(q=t).createObjectStore("mutationQueues",{keyPath:"userId"}),q.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yi,{unique:!0}),q.createObjectStore("documentMutations"),Mo(t),function(q){q.createObjectStore("remoteDocuments")}(t));let I=rt.resolve();return a<3&&f>=3&&(0!==a&&(function(q){q.deleteObjectStore("targetDocuments"),q.deleteObjectStore("targets"),q.deleteObjectStore("targetGlobal")}(t),Mo(t)),I=I.next(()=>function(q){const ue=q.store("targetGlobal"),Ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pn.min().toTimestamp(),targetCount:0};return ue.put("targetGlobalKey",Ee)}(w))),a<4&&f>=4&&(0!==a&&(I=I.next(()=>function(q,ue){return ue.store("mutations").U().next(Ee=>{q.deleteObjectStore("mutations"),q.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yi,{unique:!0});const Ue=ue.store("mutations"),ft=Ee.map(Jt=>Ue.put(Jt));return rt.waitFor(ft)})}(t,w))),I=I.next(()=>{!function(q){q.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),a<5&&f>=5&&(I=I.next(()=>this.ni(w))),a<6&&f>=6&&(I=I.next(()=>(function(q){q.createObjectStore("remoteDocumentGlobal")}(t),this.ri(w)))),a<7&&f>=7&&(I=I.next(()=>this.ii(w))),a<8&&f>=8&&(I=I.next(()=>this.si(t,w))),a<9&&f>=9&&(I=I.next(()=>{!function(q){q.objectStoreNames.contains("remoteDocumentChanges")&&q.deleteObjectStore("remoteDocumentChanges")}(t)})),a<10&&f>=10&&(I=I.next(()=>this.oi(w))),a<11&&f>=11&&(I=I.next(()=>{(function(q){q.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(q){q.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),a<12&&f>=12&&(I=I.next(()=>{!function(q){const ue=q.createObjectStore("documentOverlays",{keyPath:qa});ue.createIndex("collectionPathOverlayIndex",El,{unique:!1}),ue.createIndex("collectionGroupOverlayIndex",vo,{unique:!1})}(t)})),a<13&&f>=13&&(I=I.next(()=>function(q){const ue=q.createObjectStore("remoteDocumentsV14",{keyPath:Er});ue.createIndex("documentKeyIndex",ts),ue.createIndex("collectionGroupIndex",Cs)}(t)).next(()=>this._i(t,w)).next(()=>t.deleteObjectStore("remoteDocuments"))),a<14&&f>=14&&(I=I.next(()=>this.ai(t,w))),a<15&&f>=15&&(I=I.next(()=>function(q){q.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),q.createObjectStore("indexState",{keyPath:nc}).createIndex("sequenceNumberIndex",la,{unique:!1}),q.createObjectStore("indexEntries",{keyPath:ca}).createIndex("documentKeyIndex",ll,{unique:!1})}(t))),a<16&&f>=16&&(I=I.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),a<17&&f>=17&&(I=I.next(()=>{!function(q){q.createObjectStore("globals",{keyPath:"name"})}(t)})),I}ri(t){let r=0;return t.store("remoteDocuments").J((a,f)=>{r+=ac(f)}).next(()=>{const a={byteSize:r};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(t){const r=t.store("mutationQueues"),a=t.store("mutations");return r.U().next(f=>rt.forEach(f,w=>{const I=IDBKeyRange.bound([w.userId,-1],[w.userId,w.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",I).next(G=>rt.forEach(G,q=>{cn(q.userId===w.userId);const ue=il(this.serializer,q);return Cu(t,w.userId,ue).next(()=>{})}))}))}ii(t){const r=t.store("targetDocuments"),a=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(f=>{const w=[];return a.J((I,G)=>{const q=new Wn(I),ue=[0,Zt(q)];w.push(r.get(ue).next(Ee=>Ee?rt.resolve():r.put({targetId:0,path:Zt(q),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>rt.waitFor(w))})}si(t,r){t.createObjectStore("collectionParents",{keyPath:aa});const a=r.store("collectionParents"),f=new oc,w=I=>{if(f.add(I)){const G=I.lastSegment(),q=I.popLast();return a.put({collectionId:G,parent:Zt(q)})}};return r.store("remoteDocuments").J({H:!0},(I,G)=>{const q=new Wn(I);return w(q.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([I,G,q],ue)=>{const Ee=gi(G);return w(Ee.popLast())}))}oi(t){const r=t.store("targets");return r.J((a,f)=>{const w=Nl(f),I=Cc(this.serializer,w);return r.put(I)})}_i(t,r){const a=r.store("remoteDocuments"),f=[];return a.J((w,I)=>{const G=r.store("remoteDocumentsV14"),q=(Ue=I,Ue.document?new gn(Wn.fromString(Ue.document.name).popFirst(5)):Ue.noDocument?gn.fromSegments(Ue.noDocument.path):Ue.unknownDocument?gn.fromSegments(Ue.unknownDocument.path):en()).path.toArray(),ue={prefixPath:q.slice(0,q.length-2),collectionGroup:q[q.length-2],documentId:q[q.length-1],readTime:I.readTime||[0,0],unknownDocument:I.unknownDocument,noDocument:I.noDocument,document:I.document,hasCommittedMutations:!!I.hasCommittedMutations};var Ue;f.push(G.put(ue))}).next(()=>rt.waitFor(f))}ai(t,r){const a=r.store("mutations"),f=S(this.serializer),w=new no(Vl.Zr,this.serializer.ct);return a.U().next(I=>{const G=new Map;return I.forEach(q=>{var ue;let Ee=null!==(ue=G.get(q.userId))&&void 0!==ue?ue:Ui();il(this.serializer,q).keys().forEach(Ue=>Ee=Ee.add(Ue)),G.set(q.userId,Ee)}),rt.forEach(G,(q,ue)=>{const Ee=new Be(ue),Ue=Tc.lt(this.serializer,Ee),ft=w.getIndexManager(Ee),Jt=oa.lt(Ee,this.serializer,ft,w.referenceDelegate);return new on(f,Jt,Ue,ft).recalculateAndSaveOverlaysForDocumentKeys(new ar(r,es.oe),q).next()})})}}function Mo(c){c.createObjectStore("targetDocuments",{keyPath:Io}).createIndex("documentTargetsIndex",Ls,{unique:!0}),c.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ks,{unique:!0}),c.createObjectStore("targetGlobal")}const vl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ba{constructor(t,r,a,f,w,I,G,q,ue,Ee,Ue=17){if(this.allowTabSynchronization=t,this.persistenceKey=r,this.clientId=a,this.ui=w,this.window=I,this.document=G,this.ci=ue,this.li=Ee,this.hi=Ue,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=ft=>Promise.resolve(),!ba.D())throw new xe(bt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tu(this,f),this.Ai=r+"main",this.serializer=new Kc(q),this.Ri=new gr(this.Ai,this.hi,new Uo(this.serializer)),this.$r=new rl,this.Ur=new Yo(this.referenceDelegate,this.serializer),this.remoteDocumentCache=S(this.serializer),this.Gr=new xl,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===Ee&&On("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(bt.FAILED_PRECONDITION,vl);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new es(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var r=this;return this.di=function(){var a=(0,je.A)(function*(f){if(r.started)return t(f)});return function(f){return a.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var r=(0,je.A)(function*(a){null===a.newVersion&&(yield t())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(t){var r=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,je.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>yl(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(r=>this.isPrimary&&!r?this.bi(t).next(()=>!1):!!r&&this.Di(t).next(()=>!0))).catch(t=>{if(Ur(t))return ot("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ot("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return Mc(t).get("owner").next(r=>rt.resolve(this.vi(r)))}Ci(t){return yl(t).delete(this.clientId)}Fi(){var t=this;return(0,je.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const r=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const f=Hr(a,"clientMetadata");return f.U().next(w=>{const I=t.xi(w,18e5),G=w.filter(q=>-1===I.indexOf(q));return rt.forEach(G,q=>f.delete(q.clientId)).next(()=>G)})}).catch(()=>[]);if(t.Vi)for(const a of r)t.Vi.removeItem(t.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?rt.resolve(!0):Mc(t).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new xe(bt.FAILED_PRECONDITION,vl);return!1}}return!(!this.networkEnabled||!this.inForeground)||yl(t).U().next(a=>void 0===this.xi(a,5e3).find(f=>!(this.clientId===f.clientId||!(!this.networkEnabled&&f.networkEnabled||!this.inForeground&&f.inForeground&&this.networkEnabled===f.networkEnabled))))}).next(r=>(this.isPrimary!==r&&ot("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var t=this;return(0,je.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const a=new ar(r,es.oe);return t.bi(a).next(()=>t.Ci(a))}),t.Ri.close(),t.qi()})()}xi(t,r){return t.filter(a=>this.Mi(a.updateTimeMs,r)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>yl(t).U().next(r=>this.xi(r,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,r){return oa.lt(t,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Gu(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return Tc.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,r,a){ot("IndexedDbPersistence","Starting transaction:",t);const f="readonly"===r?"readonly":"readwrite",w=17===(q=this.hi)?vr:16===q?ir:15===q?Pa:14===q?_r:13===q?Si:12===q?Oo:11===q?Ys:void en();var q;let I;return this.Ri.runTransaction(t,f,w,G=>(I=new ar(G,this.Qr?this.Qr.next():es.oe),"readwrite-primary"===r?this.wi(I).next(q=>!!q||this.Si(I)).next(q=>{if(!q)throw On(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new xe(bt.FAILED_PRECONDITION,ut);return a(I)}).next(q=>this.Di(I).next(()=>q)):this.Ki(I).next(()=>a(I)))).then(G=>(I.raiseOnCommittedEvent(),G))}Ki(t){return Mc(t).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new xe(bt.FAILED_PRECONDITION,vl)})}Di(t){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Mc(t).put("owner",r)}static D(){return gr.D()}bi(t){const r=Mc(t);return r.get("owner").next(a=>this.vi(a)?(ot("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):rt.resolve())}Mi(t,r){const a=Date.now();return!(t<a-r||t>a&&(On(`Detected an update time that is in the future: ${t} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,wt.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var r;try{const a=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(t)));return ot("IndexedDbPersistence",`Client '${t}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return On("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){On("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Mc(c){return Hr(c,"owner")}function yl(c){return Hr(c,"clientMetadata")}function Oa(c,t){let r=c.projectId;return c.isDefaultDatabase||(r+="."+c.database),"firestore/"+t+"/"+r+"/"}class Ll{constructor(t,r,a,f){this.targetId=t,this.fromCache=r,this.$i=a,this.Ui=f}static Wi(t,r){let a=Ui(),f=Ui();for(const w of r.docChanges)switch(w.type){case 0:a=a.add(w.doc.key);break;case 1:f=f.add(w.doc.key)}return new Ll(t,r.fromCache,a,f)}}class lc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Ii{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,wt.nr)()?8:Ai((0,wt.ZQ)())>0?6:4}initialize(t,r){this.Ji=t,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(t,r,a,f){const w={result:null};return this.Yi(t,r).next(I=>{w.result=I}).next(()=>{if(!w.result)return this.Zi(t,r,f,a).next(I=>{w.result=I})}).next(()=>{if(w.result)return;const I=new lc;return this.Xi(t,r,I).next(G=>{if(w.result=G,this.zi)return this.es(t,r,I,G.size)})}).next(()=>w.result)}es(t,r,a,f){return a.documentReadCount<this.ji?(Ke()<=jt.$b.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",el(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),rt.resolve()):(Ke()<=jt.$b.DEBUG&&ot("QueryEngine","Query:",el(r),"scans",a.documentReadCount,"local documents and returns",f,"documents as results."),a.documentReadCount>this.Hi*f?(Ke()<=jt.$b.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",el(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ir(r))):rt.resolve())}Yi(t,r){if(Eo(r))return rt.resolve(null);let a=Ir(r);return this.indexManager.getIndexType(t,a).next(f=>0===f?null:(null!==r.limit&&1===f&&(r=Ua(r,null,"F"),a=Ir(r)),this.indexManager.getDocumentsMatchingTarget(t,a).next(w=>{const I=Ui(...w);return this.Ji.getDocuments(t,I).next(G=>this.indexManager.getMinOffset(t,a).next(q=>{const ue=this.ts(r,G);return this.ns(r,ue,I,q.readTime)?this.Yi(t,Ua(r,null,"F")):this.rs(t,ue,r,q)}))})))}Zi(t,r,a,f){return Eo(r)||f.isEqual(Pn.min())?rt.resolve(null):this.Ji.getDocuments(t,a).next(w=>{const I=this.ts(r,w);return this.ns(r,I,a,f)?rt.resolve(null):(Ke()<=jt.$b.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),el(r)),this.rs(t,I,r,yn(f,-1)).next(G=>G))})}ts(t,r){let a=new rr(Aa(t));return r.forEach((f,w)=>{to(t,w)&&(a=a.add(w))}),a}ns(t,r,a,f){if(null===t.limit)return!1;if(a.size!==r.size)return!0;const w="F"===t.limitType?r.last():r.first();return!!w&&(w.hasPendingWrites||w.version.compareTo(f)>0)}Xi(t,r,a){return Ke()<=jt.$b.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",el(r)),this.Ji.getDocumentsMatchingQuery(t,r,Ge.min(),a)}rs(t,r,a,f){return this.Ji.getDocumentsMatchingQuery(t,a,f).next(w=>(r.forEach(I=>{w=w.insert(I.key,I)}),w))}}class Zi{constructor(t,r,a,f){this.persistence=t,this.ss=r,this.serializer=f,this.os=new ki(si),this._s=new uo(w=>ta(w),Ba),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(a)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new on(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.os))}}function Ri(c,t,r,a){return new Zi(c,t,r,a)}function pr(c,t){return xs.apply(this,arguments)}function xs(){return(xs=(0,je.A)(function*(c,t){const r=tn(c);return yield r.persistence.runTransaction("Handle user change","readonly",a=>{let f;return r.mutationQueue.getAllMutationBatches(a).next(w=>(f=w,r.ls(t),r.mutationQueue.getAllMutationBatches(a))).next(w=>{const I=[],G=[];let q=Ui();for(const ue of f){I.push(ue.batchId);for(const Ee of ue.mutations)q=q.add(Ee.key)}for(const ue of w){G.push(ue.batchId);for(const Ee of ue.mutations)q=q.add(Ee.key)}return r.localDocuments.getDocuments(a,q).next(ue=>({hs:ue,removedBatchIds:I,addedBatchIds:G}))})})})).apply(this,arguments)}function Ps(c){const t=tn(c);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Ur.getLastRemoteSnapshotVersion(r))}function zs(c,t,r){let a=Ui(),f=Ui();return r.forEach(w=>a=a.add(w)),t.getEntries(c,a).next(w=>{let I=ho();return r.forEach((G,q)=>{const ue=w.get(G);q.isFoundDocument()!==ue.isFoundDocument()&&(f=f.add(G)),q.isNoDocument()&&q.version.isEqual(Pn.min())?(t.removeEntry(G,q.readTime),I=I.insert(G,q)):!ue.isValidDocument()||q.version.compareTo(ue.version)>0||0===q.version.compareTo(ue.version)&&ue.hasPendingWrites?(t.addEntry(q),I=I.insert(G,q)):ot("LocalStore","Ignoring outdated watch update for ",G,". Current version:",ue.version," Watch version:",q.version)}),{Ps:I,Is:f}})}function lu(c,t){const r=tn(c);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===t&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function Ka(c,t){const r=tn(c);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let f;return r.Ur.getTargetData(a,t).next(w=>w?(f=w,rt.resolve(f)):r.Ur.allocateTargetId(a).next(I=>(f=new Na(t,I,"TargetPurposeListen",a.currentSequenceNumber),r.Ur.addTargetData(a,f).next(()=>f))))}).then(a=>{const f=r.os.get(a.targetId);return(null===f||a.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(r.os=r.os.insert(a.targetId,a),r._s.set(t,a.targetId)),a})}function gs(c,t,r){return kc.apply(this,arguments)}function kc(){return(kc=(0,je.A)(function*(c,t,r){const a=tn(c),f=a.os.get(t),w=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",w,I=>a.persistence.referenceDelegate.removeTarget(I,f)))}catch(I){if(!Ur(I))throw I;ot("LocalStore",`Failed to update sequence numbers for target ${t}: ${I}`)}a.os=a.os.remove(t),a._s.delete(f.target)})).apply(this,arguments)}function wa(c,t,r){const a=tn(c);let f=Pn.min(),w=Ui();return a.persistence.runTransaction("Execute query","readwrite",I=>function(q,ue,Ee){const Ue=tn(q),ft=Ue._s.get(Ee);return void 0!==ft?rt.resolve(Ue.os.get(ft)):Ue.Ur.getTargetData(ue,Ee)}(a,I,Ir(t)).next(G=>{if(G)return f=G.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(I,G.targetId).next(q=>{w=q})}).next(()=>a.ss.getDocumentsMatchingQuery(I,t,r?f:Pn.min(),r?w:Ui())).next(G=>(jl(a,Vo(t),G),{documents:G,Ts:w})))}function Bl(c,t){const r=tn(c),a=tn(r.Ur),f=r.os.get(t);return f?Promise.resolve(f.target):r.persistence.runTransaction("Get target data","readonly",w=>a.ot(w,t).next(I=>I?I.target:null))}function Iu(c,t){const r=tn(c),a=r.us.get(t)||Pn.min();return r.persistence.runTransaction("Get new document changes","readonly",f=>r.cs.getAllFromCollectionGroup(f,t,yn(a,-1),Number.MAX_SAFE_INTEGER)).then(f=>(jl(r,t,f),f))}function jl(c,t,r){let a=c.us.get(t)||Pn.min();r.forEach((f,w)=>{w.readTime.compareTo(a)>0&&(a=w.readTime)}),c.us.set(t,a)}function Ku(){return(Ku=(0,je.A)(function*(c,t,r,a){const f=tn(c);let w=Ui(),I=ho();for(const ue of r){const Ee=t.Es(ue.metadata.name);ue.document&&(w=w.add(Ee));const Ue=t.ds(ue);Ue.setReadTime(t.As(ue.metadata.readTime)),I=I.insert(Ee,Ue)}const G=f.cs.newChangeBuffer({trackRemovals:!0}),q=yield Ka(f,(Ee=a,Ir(lo(Wn.fromString(`__bundle__/docs/${Ee}`)))));var Ee;return f.persistence.runTransaction("Apply bundle documents","readwrite",ue=>zs(ue,G,I).next(Ee=>(G.apply(ue),Ee)).next(Ee=>f.Ur.removeMatchingKeysForTargetId(ue,q.targetId).next(()=>f.Ur.addMatchingKeys(ue,w,q.targetId)).next(()=>f.localDocuments.getLocalViewOfDocuments(ue,Ee.Ps,Ee.Is)).next(()=>Ee.Ps)))})).apply(this,arguments)}function cc(c,t){return cu.apply(this,arguments)}function cu(){return(cu=(0,je.A)(function*(c,t,r=Ui()){const a=yield Ka(c,Ir(Yc(t.bundledQuery))),f=tn(c);return f.persistence.runTransaction("Save named query","readwrite",w=>{const I=Zr(t.readTime);if(a.snapshotVersion.compareTo(I)>=0)return f.Gr.saveNamedQuery(w,t);const G=a.withResumeToken(Wr.EMPTY_BYTE_STRING,I);return f.os=f.os.insert(G.targetId,G),f.Ur.updateTargetData(w,G).next(()=>f.Ur.removeMatchingKeysForTargetId(w,a.targetId)).next(()=>f.Ur.addMatchingKeys(w,r,a.targetId)).next(()=>f.Gr.saveNamedQuery(w,t))})})).apply(this,arguments)}function Jl(c,t){return`firestore_clients_${c}_${t}`}function Zl(c,t,r){let a=`firestore_mutations_${c}_${r}`;return t.isAuthenticated()&&(a+=`_${t.uid}`),a}function uu(c,t){return`firestore_targets_${c}_${t}`}class Su{constructor(t,r,a,f){this.user=t,this.batchId=r,this.state=a,this.error=f}static Rs(t,r,a){const f=JSON.parse(a);let w,I="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return I&&f.error&&(I="string"==typeof f.error.message&&"string"==typeof f.error.code,I&&(w=new xe(f.error.code,f.error.message))),I?new Su(t,r,f.state,w):(On("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class du{constructor(t,r,a){this.targetId=t,this.state=r,this.error=a}static Rs(t,r){const a=JSON.parse(r);let f,w="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return w&&a.error&&(w="string"==typeof a.error.message&&"string"==typeof a.error.code,w&&(f=new xe(a.error.code,a.error.message))),w?new du(t,a.state,f):(On("SharedClientState",`Failed to parse target state for ID '${t}': ${r}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Yu{constructor(t,r){this.clientId=t,this.activeTargetIds=r}static Rs(t,r){const a=JSON.parse(r);let f="object"==typeof a&&a.activeTargetIds instanceof Array,w=Is();for(let I=0;f&&I<a.activeTargetIds.length;++I)f=St(a.activeTargetIds[I]),w=w.add(a.activeTargetIds[I]);return f?new Yu(t,w):(On("SharedClientState",`Failed to parse client data for instance '${t}': ${r}`),null)}}class ud{constructor(t,r){this.clientId=t,this.onlineState=r}static Rs(t){const r=JSON.parse(t);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new ud(r.clientId,r.onlineState):(On("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Ya{constructor(){this.activeTargetIds=Is()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Nc{constructor(t,r,a,f,w){this.window=t,this.ui=r,this.persistenceKey=a,this.ps=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ki(si),this.started=!1,this.bs=[];const I=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=w,this.Ds=Jl(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Ya),this.Cs=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(q){return`firestore_bundle_loaded_v2_${q}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,je.A)(function*(){const r=yield t.syncEngine.Qi();for(const f of r){if(f===t.ps)continue;const w=t.getItem(Jl(t.persistenceKey,f));if(w){const I=Yu.Rs(f,w);I&&(t.Ss=t.Ss.insert(I.clientId,I))}}t.Ns();const a=t.storage.getItem(t.xs);if(a){const f=t.Ls(a);f&&t.Bs(f)}for(const f of t.bs)t.ws(f);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let r=!1;return this.Ss.forEach((a,f)=>{f.activeTargetIds.has(t)&&(r=!0)}),r}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,r,a){this.qs(t,r,a),this.Qs(t)}addLocalQueryTarget(t,r=!0){let a="not-current";if(this.isActiveQueryTarget(t)){const f=this.storage.getItem(uu(this.persistenceKey,t));if(f){const w=du.Rs(t,f);w&&(a=w.state)}}return r&&this.Ks.fs(t),this.Ns(),a}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(uu(this.persistenceKey,t))}updateQueryState(t,r,a){this.$s(t,r,a)}handleUserChange(t,r,a){r.forEach(f=>{this.Qs(f)}),this.currentUser=t,a.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const r=this.storage.getItem(t);return ot("SharedClientState","READ",t,r),r}setItem(t,r){ot("SharedClientState","SET",t,r),this.storage.setItem(t,r)}removeItem(t){ot("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var r=this;const a=t;if(a.storageArea===this.storage){if(ot("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void On("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,je.A)(function*(){if(r.started){if(null!==a.key)if(r.Cs.test(a.key)){if(null==a.newValue){const f=r.Gs(a.key);return r.zs(f,null)}{const f=r.js(a.key,a.newValue);if(f)return r.zs(f.clientId,f)}}else if(r.Fs.test(a.key)){if(null!==a.newValue){const f=r.Hs(a.key,a.newValue);if(f)return r.Js(f)}}else if(r.Ms.test(a.key)){if(null!==a.newValue){const f=r.Ys(a.key,a.newValue);if(f)return r.Zs(f)}}else if(a.key===r.xs){if(null!==a.newValue){const f=r.Ls(a.newValue);if(f)return r.Bs(f)}}else if(a.key===r.vs){const f=function(I){let G=es.oe;if(null!=I)try{const q=JSON.parse(I);cn("number"==typeof q),G=q}catch(q){On("SharedClientState","Failed to read sequence number from WebStorage",q)}return G}(a.newValue);f!==es.oe&&r.sequenceNumberHandler(f)}else if(a.key===r.Os){const f=r.Xs(a.newValue);yield Promise.all(f.map(w=>r.syncEngine.eo(w)))}}else r.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,r,a){const f=new Su(this.currentUser,t,r,a),w=Zl(this.persistenceKey,this.currentUser,t);this.setItem(w,f.Vs())}Qs(t){const r=Zl(this.persistenceKey,this.currentUser,t);this.removeItem(r)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,r,a){const f=uu(this.persistenceKey,t),w=new du(t,r,a);this.setItem(f,w.Vs())}Ws(t){const r=JSON.stringify(Array.from(t));this.setItem(this.Os,r)}Gs(t){const r=this.Cs.exec(t);return r?r[1]:null}js(t,r){const a=this.Gs(t);return Yu.Rs(a,r)}Hs(t,r){const a=this.Fs.exec(t),f=Number(a[1]);return Su.Rs(new Be(void 0!==a[2]?a[2]:null),f,r)}Ys(t,r){const a=this.Ms.exec(t),f=Number(a[1]);return du.Rs(f,r)}Ls(t){return ud.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var r=this;return(0,je.A)(function*(){if(t.user.uid===r.currentUser.uid)return r.syncEngine.no(t.batchId,t.state,t.error);ot("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,r){const a=r?this.Ss.insert(t,r):this.Ss.remove(t),f=this.ks(this.Ss),w=this.ks(a),I=[],G=[];return w.forEach(q=>{f.has(q)||I.push(q)}),f.forEach(q=>{w.has(q)||G.push(q)}),this.syncEngine.io(I,G).then(()=>{this.Ss=a})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let r=Is();return t.forEach((a,f)=>{r=r.unionWith(f.activeTargetIds)}),r}}class Au{constructor(){this.so=new Ya,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,a){}addLocalQueryTarget(t,r=!0){return r&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,r,a){this.oo[t]=r}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Ya,Promise.resolve()}handleUserChange(t,r,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Eh{_o(t){}shutdown(){}}class dd{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qc=null;function Qc(){return null===qc?qc=268435456+Math.round(2147483648*Math.random()):qc++,"0x"+qc.toString(16)}const Ru={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _o{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const Ea="WebChannelConnection";class Sd extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const a=r.ssl?"https":"http",f=encodeURIComponent(this.databaseId.projectId),w=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+r.host,this.vo=`projects/${f}/databases/${w}`,this.Co="(default)"===this.databaseId.database?`project_id=${f}`:`project_id=${f}&database_id=${w}`}get Fo(){return!1}Mo(r,a,f,w,I){const G=Qc(),q=this.xo(r,a.toUriEncodedString());ot("RestConnection",`Sending RPC '${r}' ${G}:`,q,f);const ue={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(ue,w,I),this.No(r,q,ue,f).then(Ee=>(ot("RestConnection",`Received RPC '${r}' ${G}: `,Ee),Ee),Ee=>{throw ei("RestConnection",`RPC '${r}' ${G} failed with error: `,Ee,"url: ",q,"request:",f),Ee})}Lo(r,a,f,w,I,G){return this.Mo(r,a,f,w,I)}Oo(r,a,f){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ze,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((w,I)=>r[I]=w),f&&f.headers.forEach((w,I)=>r[I]=w)}xo(r,a){return`${this.Do}/v1/${a}:${Ru[r]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,r,a,f){const w=Qc();return new Promise((I,G)=>{const q=new Le;q.setWithCredentials(!0),q.listenOnce(Xn.COMPLETE,()=>{try{switch(q.getLastErrorCode()){case ai.NO_ERROR:const Ee=q.getResponseJson();ot(Ea,`XHR for RPC '${t}' ${w} received:`,JSON.stringify(Ee)),I(Ee);break;case ai.TIMEOUT:ot(Ea,`RPC '${t}' ${w} timed out`),G(new xe(bt.DEADLINE_EXCEEDED,"Request time out"));break;case ai.HTTP_ERROR:const Ue=q.getStatus();if(ot(Ea,`RPC '${t}' ${w} failed with status:`,Ue,"response text:",q.getResponseText()),Ue>0){let ft=q.getResponseJson();Array.isArray(ft)&&(ft=ft[0]);const Jt=ft?.error;if(Jt&&Jt.status&&Jt.message){const An=function(Bn){const $i=Bn.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf($i)>=0?$i:bt.UNKNOWN}(Jt.status);G(new xe(An,Jt.message))}else G(new xe(bt.UNKNOWN,"Server responded with status "+q.getStatus()))}else G(new xe(bt.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{ot(Ea,`RPC '${t}' ${w} completed.`)}});const ue=JSON.stringify(f);ot(Ea,`RPC '${t}' ${w} sending request:`,f),q.send(r,"POST",ue,a,15)})}Bo(t,r,a){const f=Qc(),w=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],I=ri(),G=En(),q={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ue=this.longPollingOptions.timeoutSeconds;void 0!==ue&&(q.longPollingTimeout=Math.round(1e3*ue)),this.useFetchStreams&&(q.useFetchStreams=!0),this.Oo(q.initMessageHeaders,r,a),q.encodeInitMessageHeaders=!0;const Ee=w.join("");ot(Ea,`Creating RPC '${t}' stream ${f}: ${Ee}`,q);const Ue=I.createWebChannel(Ee,q);let ft=!1,Jt=!1;const An=new _o({Io:Bn=>{Jt?ot(Ea,`Not sending because RPC '${t}' stream ${f} is closed:`,Bn):(ft||(ot(Ea,`Opening RPC '${t}' stream ${f} transport.`),Ue.open(),ft=!0),ot(Ea,`RPC '${t}' stream ${f} sending:`,Bn),Ue.send(Bn))},To:()=>Ue.close()}),Jn=(Bn,$i,hr)=>{Bn.listen($i,zi=>{try{hr(zi)}catch(xr){setTimeout(()=>{throw xr},0)}})};return Jn(Ue,Rn.EventType.OPEN,()=>{Jt||(ot(Ea,`RPC '${t}' stream ${f} transport opened.`),An.yo())}),Jn(Ue,Rn.EventType.CLOSE,()=>{Jt||(Jt=!0,ot(Ea,`RPC '${t}' stream ${f} transport closed`),An.So())}),Jn(Ue,Rn.EventType.ERROR,Bn=>{Jt||(Jt=!0,ei(Ea,`RPC '${t}' stream ${f} transport errored:`,Bn),An.So(new xe(bt.UNAVAILABLE,"The operation could not be completed")))}),Jn(Ue,Rn.EventType.MESSAGE,Bn=>{var $i;if(!Jt){const hr=Bn.data[0];cn(!!hr);const xr=hr.error||(null===($i=hr[0])||void 0===$i?void 0:$i.error);if(xr){ot(Ea,`RPC '${t}' stream ${f} received error:`,xr);const bs=xr.status;let Kr=function(Et){const Lt=Hi[Et];if(void 0!==Lt)return Ma(Lt)}(bs),Ot=xr.message;void 0===Kr&&(Kr=bt.INTERNAL,Ot="Unknown error status: "+bs+" with message "+xr.message),Jt=!0,An.So(new xe(Kr,Ot)),Ue.close()}else ot(Ea,`RPC '${t}' stream ${f} received:`,hr),An.bo(hr)}}),Jn(G,Zn.STAT_EVENT,Bn=>{Bn.stat===$n.PROXY?ot(Ea,`RPC '${t}' stream ${f} detected buffering proxy`):Bn.stat===$n.NOPROXY&&ot(Ea,`RPC '${t}' stream ${f} detected no buffering proxy`)}),setTimeout(()=>{An.wo()},0),An}}function hd(){return typeof window<"u"?window:null}function Xu(){return typeof document<"u"?document:null}function fd(c){return new Co(c,!0)}class hu{constructor(t,r,a=1e3,f=1.5,w=6e4){this.ui=t,this.timerId=r,this.ko=a,this.qo=f,this.Qo=w,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const r=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),f=Math.max(0,r-a);f>0&&ot("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,f,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Ch{constructor(t,r,a,f,w,I,G,q){this.ui=t,this.Ho=a,this.Jo=f,this.connection=w,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=G,this.listener=q,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hu(t,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,je.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,je.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,r){var a=this;return(0,je.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==t?a.t_.reset():r&&r.code===bt.RESOURCE_EXHAUSTED?(On(r.toString()),On("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):r&&r.code===bt.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=t,yield a.listener.mo(r)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,f])=>{this.Yo===r&&this.P_(a,f)},a=>{t(()=>{const f=new xe(bt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(f)})})}P_(t,r){const a=this.h_(this.Yo);this.stream=this.T_(t,r),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(f=>{a(()=>this.I_(f))}),this.stream.onMessage(f=>{a(()=>1==++this.e_?this.E_(f):this.onNext(f))})}i_(){var t=this;this.state=5,this.t_.Go((0,je.A)(function*(){t.state=0,t.start()}))}I_(t){return ot("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return r=>{this.ui.enqueueAndForget(()=>this.Yo===t?r():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Th extends Ch{constructor(t,r,a,f,w,I){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,f,I),this.serializer=w}T_(t,r){return this.connection.Bo("Listen",t,r)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const r=function Ce(c,t){let r;if("targetChange"in t){const a="NO_CHANGE"===(ue=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ue?1:"REMOVE"===ue?2:"CURRENT"===ue?3:"RESET"===ue?4:en(),f=t.targetChange.targetIds||[],w=function(ue,Ee){return ue.useProto3Json?(cn(void 0===Ee||"string"==typeof Ee),Wr.fromBase64String(Ee||"")):(cn(void 0===Ee||Ee instanceof Buffer||Ee instanceof Uint8Array),Wr.fromUint8Array(Ee||new Uint8Array))}(c,t.targetChange.resumeToken),I=t.targetChange.cause,G=I&&function(ue){const Ee=void 0===ue.code?bt.UNKNOWN:Ma(ue.code);return new xe(Ee,ue.message||"")}(I);r=new lr(a,f,w,G||null)}else if("documentChange"in t){const a=t.documentChange,f=pl(c,a.document.name),w=Zr(a.document.updateTime),I=a.document.createTime?Zr(a.document.createTime):Pn.min(),G=new Ts({mapValue:{fields:a.document.fields}}),q=bi.newFoundDocument(f,w,I,G);r=new Jr(a.targetIds||[],a.removedTargetIds||[],q.key,q)}else if("documentDelete"in t){const a=t.documentDelete,f=pl(c,a.document),w=a.readTime?Zr(a.readTime):Pn.min(),I=bi.newNoDocument(f,w);r=new Jr([],a.removedTargetIds||[],I.key,I)}else if("documentRemove"in t){const a=t.documentRemove,f=pl(c,a.document);r=new Jr([],a.removedTargetIds||[],f,null)}else{if(!("filter"in t))return en();{const a=t.filter,{count:f=0,unchangedNames:w}=a,I=new Xr(f,w);r=new Kl(a.targetId,I)}}var ue;return r}(this.serializer,t),a=function(w){if(!("targetChange"in w))return Pn.min();const I=w.targetChange;return I.targetIds&&I.targetIds.length?Pn.min():I.readTime?Zr(I.readTime):Pn.min()}(t);return this.listener.d_(r,a)}A_(t){const r={};r.database=P(this.serializer),r.addTarget=function(w,I){let G;const q=I.target;if(G=na(q)?{documents:fi(w,q)}:{query:fr(w,q)._t},G.targetId=I.targetId,I.resumeToken.approximateByteSize()>0){G.resumeToken=fl(w,I.resumeToken);const ue=To(w,I.expectedCount);null!==ue&&(G.expectedCount=ue)}else if(I.snapshotVersion.compareTo(Pn.min())>0){G.readTime=Al(w,I.snapshotVersion.toTimestamp());const ue=To(w,I.expectedCount);null!==ue&&(G.expectedCount=ue)}return G}(this.serializer,t);const a=function $a(c,t){const r=function(f){switch(f){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return en()}}(t.purpose);return null==r?null:{"goog-listen-tags":r}}(0,t);a&&(r.labels=a),this.a_(r)}R_(t){const r={};r.database=P(this.serializer),r.removeTarget=t,this.a_(r)}}class fu extends Ch{constructor(t,r,a,f,w,I){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,f,I),this.serializer=w}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,r){return this.connection.Bo("Write",t,r)}E_(t){return cn(!!t.streamToken),this.lastStreamToken=t.streamToken,cn(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){cn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const r=function Kt(c,t){return c&&c.length>0?(cn(void 0!==t),c.map(r=>function(f,w){let I=Zr(f.updateTime?f.updateTime:w);return I.isEqual(Pn.min())&&(I=Zr(w)),new te(I,f.transformResults||[])}(r,t))):[]}(t.writeResults,t.commitTime),a=Zr(t.commitTime);return this.listener.g_(a,r)}p_(){const t={};t.database=P(this.serializer),this.a_(t)}m_(t){const r={streamToken:this.lastStreamToken,writes:t.map(a=>tt(this.serializer,a))};this.a_(r)}}class Ad extends class{}{constructor(t,r,a,f){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=a,this.serializer=f,this.y_=!1}w_(){if(this.y_)throw new xe(bt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,r,a,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([w,I])=>this.connection.Mo(t,iu(r,a),f,w,I)).catch(w=>{throw"FirebaseError"===w.name?(w.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),w):new xe(bt.UNKNOWN,w.toString())})}Lo(t,r,a,f,w){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([I,G])=>this.connection.Lo(t,iu(r,a),f,I,G,w)).catch(I=>{throw"FirebaseError"===I.name?(I.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),I):new xe(bt.UNKNOWN,I.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Xd{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const r=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(On(r),this.D_=!1):ot("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class $h{constructor(t,r,a,f,w){var I=this;this.localStore=t,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=w,this.k_._o(G=>{a.enqueueAndForget((0,je.A)(function*(){var q;ys(I)&&(ot("RemoteStore","Restarting streams for network reachability change."),yield(q=(0,je.A)(function*(Ee){const Ue=tn(Ee);Ue.L_.add(4),yield Xa(Ue),Ue.q_.set("Unknown"),Ue.L_.delete(4),yield pd(Ue)}),function ue(Ee){return q.apply(this,arguments)})(I))}))}),this.q_=new Xd(a,f)}}function pd(c){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,je.A)(function*(c){if(ys(c))for(const t of c.B_)yield t(!0)})).apply(this,arguments)}function Xa(c){return qd.apply(this,arguments)}function qd(){return(qd=(0,je.A)(function*(c){for(const t of c.B_)yield t(!1)})).apply(this,arguments)}function pu(c,t){const r=tn(c);r.N_.has(t.targetId)||(r.N_.set(t.targetId,t),kd(r)?Mu(r):b(r).r_()&&Md(r,t))}function Oc(c,t){const r=tn(c),a=b(r);r.N_.delete(t),a.r_()&&Qd(r,t),0===r.N_.size&&(a.r_()?a.o_():ys(r)&&r.q_.set("Unknown"))}function Md(c,t){if(c.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pn.min())>0){const r=c.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}b(c).A_(t)}function Qd(c,t){c.Q_.xe(t),b(c).R_(t)}function Mu(c){c.Q_=new Sl({getRemoteKeysForTarget:t=>c.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>c.N_.get(t)||null,tt:()=>c.datastore.serializer.databaseId}),b(c).start(),c.q_.v_()}function kd(c){return ys(c)&&!b(c).n_()&&c.N_.size>0}function ys(c){return 0===tn(c).L_.size}function Nd(c){c.Q_=void 0}function Jd(c){return zh.apply(this,arguments)}function zh(){return(zh=(0,je.A)(function*(c){c.q_.set("Online")})).apply(this,arguments)}function Od(c){return uc.apply(this,arguments)}function uc(){return(uc=(0,je.A)(function*(c){c.N_.forEach((t,r)=>{Md(c,t)})})).apply(this,arguments)}function Dh(c,t){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,je.A)(function*(c,t){Nd(c),kd(c)?(c.q_.M_(t),Mu(c)):c.q_.set("Unknown")})).apply(this,arguments)}function Tf(c,t,r){return dc.apply(this,arguments)}function dc(){return dc=(0,je.A)(function*(c,t,r){if(c.q_.set("Online"),t instanceof lr&&2===t.state&&t.cause)try{yield(a=(0,je.A)(function*(w,I){const G=I.cause;for(const q of I.targetIds)w.N_.has(q)&&(yield w.remoteSyncer.rejectListen(q,G),w.N_.delete(q),w.Q_.removeTarget(q))}),function f(w,I){return a.apply(this,arguments)})(c,t)}catch(a){ot("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),a),yield gd(c,a)}else if(t instanceof Jr?c.Q_.Ke(t):t instanceof Kl?c.Q_.He(t):c.Q_.We(t),!r.isEqual(Pn.min()))try{const a=yield Ps(c.localStore);r.compareTo(a)>=0&&(yield function(w,I){const G=w.Q_.rt(I);return G.targetChanges.forEach((q,ue)=>{if(q.resumeToken.approximateByteSize()>0){const Ee=w.N_.get(ue);Ee&&w.N_.set(ue,Ee.withResumeToken(q.resumeToken,I))}}),G.targetMismatches.forEach((q,ue)=>{const Ee=w.N_.get(q);if(!Ee)return;w.N_.set(q,Ee.withResumeToken(Wr.EMPTY_BYTE_STRING,Ee.snapshotVersion)),Qd(w,q);const Ue=new Na(Ee.target,q,ue,Ee.sequenceNumber);Md(w,Ue)}),w.remoteSyncer.applyRemoteEvent(G)}(c,r))}catch(a){ot("RemoteStore","Failed to raise snapshot:",a),yield gd(c,a)}var a}),dc.apply(this,arguments)}function gd(c,t,r){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,je.A)(function*(c,t,r){if(!Ur(t))throw t;c.L_.add(1),yield Xa(c),c.q_.set("Offline"),r||(r=()=>Ps(c.localStore)),c.asyncQueue.enqueueRetryable((0,je.A)(function*(){ot("RemoteStore","Retrying IndexedDB access"),yield r(),c.L_.delete(1),yield pd(c)}))})).apply(this,arguments)}function Df(c,t){return t().catch(r=>gd(c,r,t))}function xd(c){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,je.A)(function*(c){const t=tn(c),r=O(t);let a=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;ec(t);)try{const f=yield lu(t.localStore,a);if(null===f){0===t.O_.length&&r.o_();break}a=f.batchId,Yh(t,f)}catch(f){yield gd(t,f)}ku(t)&&Pd(t)})).apply(this,arguments)}function ec(c){return ys(c)&&c.O_.length<10}function Yh(c,t){c.O_.push(t);const r=O(c);r.r_()&&r.V_&&r.m_(t.mutations)}function ku(c){return ys(c)&&!O(c).n_()&&c.O_.length>0}function Pd(c){O(c).start()}function hc(c){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,je.A)(function*(c){O(c).p_()})).apply(this,arguments)}function Fd(c){return bl.apply(this,arguments)}function bl(){return(bl=(0,je.A)(function*(c){const t=O(c);for(const r of c.O_)t.m_(r.mutations)})).apply(this,arguments)}function Ih(c,t,r){return gu.apply(this,arguments)}function gu(){return(gu=(0,je.A)(function*(c,t,r){const a=c.O_.shift(),f=Gr.from(a,t,r);yield Df(c,()=>c.remoteSyncer.applySuccessfulWrite(f)),yield xd(c)})).apply(this,arguments)}function qu(c,t){return eh.apply(this,arguments)}function eh(){return eh=(0,je.A)(function*(c,t){var r;t&&O(c).V_&&(yield(r=(0,je.A)(function*(f,w){if(Xi(G=w.code)&&G!==bt.ABORTED){const I=f.O_.shift();O(f).s_(),yield Df(f,()=>f.remoteSyncer.rejectFailedWrite(I.batchId,w)),yield xd(f)}var G}),function a(f,w){return r.apply(this,arguments)})(c,t)),ku(c)&&Pd(c)}),eh.apply(this,arguments)}function xc(c,t){return qo.apply(this,arguments)}function qo(){return(qo=(0,je.A)(function*(c,t){const r=tn(c);r.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const a=ys(r);r.L_.add(3),yield Xa(r),a&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(t),r.L_.delete(3),yield pd(r)})).apply(this,arguments)}function A(c,t){return _.apply(this,arguments)}function _(){return(_=(0,je.A)(function*(c,t){const r=tn(c);t?(r.L_.delete(2),yield pd(r)):t||(r.L_.add(2),yield Xa(r),r.q_.set("Unknown"))})).apply(this,arguments)}function b(c){return c.K_||(c.K_=function(r,a,f){const w=tn(r);return w.w_(),new Th(a,w.connection,w.authCredentials,w.appCheckCredentials,w.serializer,f)}(c.datastore,c.asyncQueue,{Eo:Jd.bind(null,c),Ro:Od.bind(null,c),mo:Dh.bind(null,c),d_:Tf.bind(null,c)}),c.B_.push(function(){var t=(0,je.A)(function*(r){r?(c.K_.s_(),kd(c)?Mu(c):c.q_.set("Unknown")):(yield c.K_.stop(),Nd(c))});return function(r){return t.apply(this,arguments)}}())),c.K_}function O(c){return c.U_||(c.U_=function(r,a,f){const w=tn(r);return w.w_(),new fu(a,w.connection,w.authCredentials,w.appCheckCredentials,w.serializer,f)}(c.datastore,c.asyncQueue,{Eo:()=>Promise.resolve(),Ro:hc.bind(null,c),mo:qu.bind(null,c),f_:Fd.bind(null,c),g_:Ih.bind(null,c)}),c.B_.push(function(){var t=(0,je.A)(function*(r){r?(c.U_.s_(),yield xd(c)):(yield c.U_.stop(),c.O_.length>0&&(ot("RemoteStore",`Stopping write stream with ${c.O_.length} pending writes`),c.O_=[]))});return function(r){return t.apply(this,arguments)}}())),c.U_}class re{constructor(t,r,a,f,w){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=a,this.op=f,this.removalCallback=w,this.deferred=new Ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,a,f,w){const I=Date.now()+a,G=new re(t,r,I,f,w);return G.start(a),G}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(bt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function we(c,t){if(On("AsyncQueue",`${t}: ${c}`),Ur(c))return new xe(bt.UNAVAILABLE,`${t}: ${c}`);throw c}class at{constructor(t){this.comparator=t?(r,a)=>t(r,a)||gn.comparator(r.key,a.key):(r,a)=>gn.comparator(r.key,a.key),this.keyedMap=Ra(),this.sortedSet=new ki(this.comparator)}static emptySet(t){return new at(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,a)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof at)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;r.hasNext();){const f=r.getNext().key,w=a.getNext().key;if(!f.isEqual(w))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,r){const a=new at;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=r,a}}class xt{constructor(){this.W_=new ki(gn.comparator)}track(t){const r=t.doc.key,a=this.W_.get(r);a?0!==t.type&&3===a.type?this.W_=this.W_.insert(r,t):3===t.type&&1!==a.type?this.W_=this.W_.insert(r,{type:a.type,doc:t.doc}):2===t.type&&2===a.type?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):2===t.type&&0===a.type?this.W_=this.W_.insert(r,{type:0,doc:t.doc}):1===t.type&&0===a.type?this.W_=this.W_.remove(r):1===t.type&&2===a.type?this.W_=this.W_.insert(r,{type:1,doc:a.doc}):0===t.type&&1===a.type?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):en():this.W_=this.W_.insert(r,t)}G_(){const t=[];return this.W_.inorderTraversal((r,a)=>{t.push(a)}),t}}class vn{constructor(t,r,a,f,w,I,G,q,ue){this.query=t,this.docs=r,this.oldDocs=a,this.docChanges=f,this.mutatedKeys=w,this.fromCache=I,this.syncStateChanged=G,this.excludesMetadataChanges=q,this.hasCachedResults=ue}static fromInitialDocuments(t,r,a,f,w){const I=[];return r.forEach(G=>{I.push({type:0,doc:G})}),new vn(t,r,at.emptySet(r),I,a,f,!0,!1,w)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rs(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,a=t.docChanges;if(r.length!==a.length)return!1;for(let f=0;f<r.length;f++)if(r[f].type!==a[f].type||!r[f].doc.isEqual(a[f].doc))return!1;return!0}}class Yn{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class Ei{constructor(){this.queries=Ci(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,a){const f=tn(r),w=f.queries;f.queries=Ci(),w.forEach((I,G)=>{for(const q of G.j_)q.onError(a)})}(this,new xe(bt.ABORTED,"Firestore shutting down"))}}function Ci(){return new uo(c=>_c(c),Rs)}function Fs(c,t){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,je.A)(function*(c,t){const r=tn(c);let a=3;const f=t.query;let w=r.queries.get(f);w?!w.H_()&&t.J_()&&(a=2):(w=new Yn,a=t.J_()?0:1);try{switch(a){case 0:w.z_=yield r.onListen(f,!0);break;case 1:w.z_=yield r.onListen(f,!1);break;case 2:yield r.onFirstRemoteStoreListen(f)}}catch(I){const G=we(I,`Initialization of query '${el(t.query)}' failed`);return void t.onError(G)}r.queries.set(f,w),w.j_.push(t),t.Z_(r.onlineState),w.z_&&t.X_(w.z_)&&md(r)})).apply(this,arguments)}function wl(c,t){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,je.A)(function*(c,t){const r=tn(c),a=t.query;let f=3;const w=r.queries.get(a);if(w){const I=w.j_.indexOf(t);I>=0&&(w.j_.splice(I,1),0===w.j_.length?f=t.J_()?0:1:!w.H_()&&t.J_()&&(f=2))}switch(f){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function Vd(c,t){const r=tn(c);let a=!1;for(const f of t){const I=r.queries.get(f.query);if(I){for(const G of I.j_)G.X_(f)&&(a=!0);I.z_=f}}a&&md(r)}function Sh(c,t,r){const a=tn(c),f=a.queries.get(t);if(f)for(const w of f.j_)w.onError(r);a.queries.delete(t)}function md(c){c.Y_.forEach(t=>{t.next()})}var Ou,Ld;(Ld=Ou||(Ou={})).ea="default",Ld.Cache="cache";class Bd{constructor(t,r,a){this.query=t,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(t){if(!this.options.includeMetadataChanges){const a=[];for(const f of t.docChanges)3!==f.type&&a.push(f);t=new vn(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.na?this.ia(t)&&(this.ta.next(t),r=!0):this.sa(t,this.onlineState)&&(this.oa(t),r=!0),this.ra=t,r}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),r=!0),r}sa(t,r){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===r)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=vn.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Ou.Cache}}class m{constructor(t,r){this.aa=t,this.byteLength=r}ua(){return"metadata"in this.aa}}class L{constructor(t){this.serializer=t}Es(t){return pl(this.serializer,t)}ds(t){return t.metadata.exists?Y(this.serializer,t.document,!1):bi.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return Zr(t)}}class p{constructor(t,r,a){this.ca=t,this.localStore=r,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=E(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let r=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++r;const a=Wn.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(t){const r=new Map,a=new L(this.serializer);for(const f of t)if(f.metadata.queries){const w=a.Es(f.metadata.name);for(const I of f.metadata.queries){const G=(r.get(I)||Ui()).add(w);r.set(I,G)}}return r}complete(){var t=this;return(0,je.A)(function*(){const r=yield function wh(c,t,r,a){return Ku.apply(this,arguments)}(t.localStore,new L(t.serializer),t.documents,t.ca.id),a=t.ha(t.documents);for(const f of t.queries)yield cc(t.localStore,f,a.get(f.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:r}})()}}function E(c){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}class M{constructor(t){this.key=t}}class oe{constructor(t){this.key=t}}class ye{constructor(t,r){this.query=t,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ui(),this.mutatedKeys=Ui(),this.Aa=Aa(t),this.Ra=new at(this.Aa)}get Va(){return this.Ta}ma(t,r){const a=r?r.fa:new xt,f=r?r.Ra:this.Ra;let w=r?r.mutatedKeys:this.mutatedKeys,I=f,G=!1;const q="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,ue="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(t.inorderTraversal((Ee,Ue)=>{const ft=f.get(Ee),Jt=to(this.query,Ue)?Ue:null,An=!!ft&&this.mutatedKeys.has(ft.key),Jn=!!Jt&&(Jt.hasLocalMutations||this.mutatedKeys.has(Jt.key)&&Jt.hasCommittedMutations);let Bn=!1;ft&&Jt?ft.data.isEqual(Jt.data)?An!==Jn&&(a.track({type:3,doc:Jt}),Bn=!0):this.ga(ft,Jt)||(a.track({type:2,doc:Jt}),Bn=!0,(q&&this.Aa(Jt,q)>0||ue&&this.Aa(Jt,ue)<0)&&(G=!0)):!ft&&Jt?(a.track({type:0,doc:Jt}),Bn=!0):ft&&!Jt&&(a.track({type:1,doc:ft}),Bn=!0,(q||ue)&&(G=!0)),Bn&&(Jt?(I=I.add(Jt),w=Jn?w.add(Ee):w.delete(Ee)):(I=I.delete(Ee),w=w.delete(Ee)))}),null!==this.query.limit)for(;I.size>this.query.limit;){const Ee="F"===this.query.limitType?I.last():I.first();I=I.delete(Ee.key),w=w.delete(Ee.key),a.track({type:1,doc:Ee})}return{Ra:I,fa:a,ns:G,mutatedKeys:w}}ga(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,a,f){const w=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const I=t.fa.G_();I.sort((Ee,Ue)=>function(Jt,An){const Jn=Bn=>{switch(Bn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return Jn(Jt)-Jn(An)}(Ee.type,Ue.type)||this.Aa(Ee.doc,Ue.doc)),this.pa(a),f=null!=f&&f;const G=r&&!f?this.ya():[],q=0===this.da.size&&this.current&&!f?1:0,ue=q!==this.Ea;return this.Ea=q,0!==I.length||ue?{snapshot:new vn(this.query,t.Ra,w,I,t.mutatedKeys,0===q,ue,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:G}:{wa:G}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new xt,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Ui(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const r=[];return t.forEach(a=>{this.da.has(a)||r.push(new oe(a))}),this.da.forEach(a=>{t.has(a)||r.push(new M(a))}),r}ba(t){this.Ta=t.Ts,this.da=Ui();const r=this.ma(t.documents);return this.applyChanges(r,!0)}Da(){return vn.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class _t{constructor(t,r,a){this.query=t,this.targetId=r,this.view=a}}class kt{constructor(t){this.key=t,this.va=!1}}class rn{constructor(t,r,a,f,w,I){this.localStore=t,this.remoteStore=r,this.eventManager=a,this.sharedClientState=f,this.currentUser=w,this.maxConcurrentLimboResolutions=I,this.Ca={},this.Fa=new uo(G=>_c(G),Rs),this.Ma=new Map,this.xa=new Set,this.Oa=new ki(gn.comparator),this.Na=new Map,this.La=new cr,this.Ba={},this.ka=new Map,this.qa=Ql.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function hn(c,t){return g.apply(this,arguments)}function g(){return(g=(0,je.A)(function*(c,t,r=!0){const a=bd(c);let f;const w=a.Fa.get(t);return w?(a.sharedClientState.addLocalQueryTarget(w.targetId),f=w.view.Da()):f=yield C(a,t,r,!0),f})).apply(this,arguments)}function d(c,t){return h.apply(this,arguments)}function h(){return(h=(0,je.A)(function*(c,t){const r=bd(c);yield C(r,t,!0,!1)})).apply(this,arguments)}function C(c,t,r,a){return N.apply(this,arguments)}function N(){return(N=(0,je.A)(function*(c,t,r,a){const f=yield Ka(c.localStore,Ir(t)),w=f.targetId,I=c.sharedClientState.addLocalQueryTarget(w,r);let G;return a&&(G=yield z(c,t,w,"current"===I,f.resumeToken)),c.isPrimaryClient&&r&&pu(c.remoteStore,f),G})).apply(this,arguments)}function z(c,t,r,a,f){return ee.apply(this,arguments)}function ee(){return ee=(0,je.A)(function*(c,t,r,a,f){c.Ka=(Ue,ft,Jt)=>{return(An=(0,je.A)(function*(Bn,$i,hr,zi){let xr=$i.view.ma(hr);xr.ns&&(xr=yield wa(Bn.localStore,$i.query,!1).then(({documents:ct})=>$i.view.ma(ct,xr)));const bs=zi&&zi.targetChanges.get($i.targetId),Kr=zi&&null!=zi.targetMismatches.get($i.targetId),Ot=$i.view.applyChanges(xr,Bn.isPrimaryClient,bs,Kr);return vd(Bn,$i.targetId,Ot.wa),Ot.snapshot}),function Jn(Bn,$i,hr,zi){return An.apply(this,arguments)})(c,Ue,ft,Jt);var An};const w=yield wa(c.localStore,t,!0),I=new ye(t,w.Ts),G=I.ma(w.documents),q=_a.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==c.onlineState,f),ue=I.applyChanges(G,c.isPrimaryClient,q);vd(c,r,ue.wa);const Ee=new _t(t,r,I);return c.Fa.set(t,Ee),c.Ma.has(r)?c.Ma.get(r).push(t):c.Ma.set(r,[t]),ue.snapshot}),ee.apply(this,arguments)}function be(c,t,r){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,je.A)(function*(c,t,r){const a=tn(c),f=a.Fa.get(t),w=a.Ma.get(f.targetId);if(w.length>1)return a.Ma.set(f.targetId,w.filter(I=>!Rs(I,t))),void a.Fa.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(f.targetId),a.sharedClientState.isActiveQueryTarget(f.targetId)||(yield gs(a.localStore,f.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(f.targetId),r&&Oc(a.remoteStore,f.targetId),th(a,f.targetId)}).catch(Nt))):(th(a,f.targetId),yield gs(a.localStore,f.targetId,!0))})).apply(this,arguments)}function qe(c,t){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,je.A)(function*(c,t){const r=tn(c),a=r.Fa.get(t),f=r.Ma.get(a.targetId);r.isPrimaryClient&&1===f.length&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),Oc(r.remoteStore,a.targetId))})).apply(this,arguments)}function dn(){return(dn=(0,je.A)(function*(c,t,r){const a=Zh(c);try{const f=yield function(I,G){const q=tn(I),ue=Kn.now(),Ee=G.reduce((Jt,An)=>Jt.add(An.key),Ui());let Ue,ft;return q.persistence.runTransaction("Locally write mutations","readwrite",Jt=>{let An=ho(),Jn=Ui();return q.cs.getEntries(Jt,Ee).next(Bn=>{An=Bn,An.forEach(($i,hr)=>{hr.isValidDocument()||(Jn=Jn.add($i))})}).next(()=>q.localDocuments.getOverlayedDocuments(Jt,An)).next(Bn=>{Ue=Bn;const $i=[];for(const hr of G){const zi=sr(hr,Ue.get(hr.key).overlayedDocument);null!=zi&&$i.push(new ui(hr.key,zi,fs(zi.value.mapValue),Ae.exists(!0)))}return q.mutationQueue.addMutationBatch(Jt,ue,$i,G)}).next(Bn=>{ft=Bn;const $i=Bn.applyToLocalDocumentSet(Ue,Jn);return q.documentOverlayCache.saveOverlays(Jt,Bn.batchId,$i)})}).then(()=>({batchId:ft.batchId,changes:vc(Ue)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(f.batchId),function(I,G,q){let ue=I.Ba[I.currentUser.toKey()];ue||(ue=new ki(si)),ue=ue.insert(G,q),I.Ba[I.currentUser.toKey()]=ue}(a,f.batchId,r),yield fc(a,f.changes),yield xd(a.remoteStore)}catch(f){const w=we(f,"Failed to persist write");r.reject(w)}})).apply(this,arguments)}function zn(c,t){return mi.apply(this,arguments)}function mi(){return(mi=(0,je.A)(function*(c,t){const r=tn(c);try{const a=yield function ko(c,t){const r=tn(c),a=t.snapshotVersion;let f=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",w=>{const I=r.cs.newChangeBuffer({trackRemovals:!0});f=r.os;const G=[];t.targetChanges.forEach((Ee,Ue)=>{const ft=f.get(Ue);if(!ft)return;G.push(r.Ur.removeMatchingKeys(w,Ee.removedDocuments,Ue).next(()=>r.Ur.addMatchingKeys(w,Ee.addedDocuments,Ue)));let Jt=ft.withSequenceNumber(w.currentSequenceNumber);var Jn,Bn,$i;null!==t.targetMismatches.get(Ue)?Jt=Jt.withResumeToken(Wr.EMPTY_BYTE_STRING,Pn.min()).withLastLimboFreeSnapshotVersion(Pn.min()):Ee.resumeToken.approximateByteSize()>0&&(Jt=Jt.withResumeToken(Ee.resumeToken,a)),f=f.insert(Ue,Jt),Bn=Jt,$i=Ee,(0===(Jn=ft).resumeToken.approximateByteSize()||Bn.snapshotVersion.toMicroseconds()-Jn.snapshotVersion.toMicroseconds()>=3e8||$i.addedDocuments.size+$i.modifiedDocuments.size+$i.removedDocuments.size>0)&&G.push(r.Ur.updateTargetData(w,Jt))});let q=ho(),ue=Ui();if(t.documentUpdates.forEach(Ee=>{t.resolvedLimboDocuments.has(Ee)&&G.push(r.persistence.referenceDelegate.updateLimboDocument(w,Ee))}),G.push(zs(w,I,t.documentUpdates).next(Ee=>{q=Ee.Ps,ue=Ee.Is})),!a.isEqual(Pn.min())){const Ee=r.Ur.getLastRemoteSnapshotVersion(w).next(Ue=>r.Ur.setTargetsMetadata(w,w.currentSequenceNumber,a));G.push(Ee)}return rt.waitFor(G).next(()=>I.apply(w)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,q,ue)).next(()=>q)}).then(w=>(r.os=f,w))}(r.localStore,t);t.targetChanges.forEach((f,w)=>{const I=r.Na.get(w);I&&(cn(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?I.va=!0:f.modifiedDocuments.size>0?cn(I.va):f.removedDocuments.size>0&&(cn(I.va),I.va=!1))}),yield fc(r,a,t)}catch(a){yield Nt(a)}})).apply(this,arguments)}function dr(c,t,r){const a=tn(c);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const f=[];a.Fa.forEach((w,I)=>{const G=I.view.Z_(t);G.snapshot&&f.push(G.snapshot)}),function(I,G){const q=tn(I);q.onlineState=G;let ue=!1;q.queries.forEach((Ee,Ue)=>{for(const ft of Ue.j_)ft.Z_(G)&&(ue=!0)}),ue&&md(q)}(a.eventManager,t),f.length&&a.Ca.d_(f),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}function $r(c,t,r){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,je.A)(function*(c,t,r){const a=tn(c);a.sharedClientState.updateQueryState(t,"rejected",r);const f=a.Na.get(t),w=f&&f.key;if(w){let I=new ki(gn.comparator);I=I.insert(w,bi.newNoDocument(w,Pn.min()));const G=Ui().add(w),q=new Wa(Pn.min(),new Map,new ki(si),I,G);yield zn(a,q),a.Oa=a.Oa.remove(w),a.Na.delete(t),mu(a)}else yield gs(a.localStore,t,!1).then(()=>th(a,t,r)).catch(Nt)})).apply(this,arguments)}function Go(c,t){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,je.A)(function*(c,t){const r=tn(c),a=t.batch.batchId;try{const f=yield function ol(c,t){const r=tn(c);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const f=t.batch.keys(),w=r.cs.newChangeBuffer({trackRemovals:!0});return function(G,q,ue,Ee){const Ue=ue.batch,ft=Ue.keys();let Jt=rt.resolve();return ft.forEach(An=>{Jt=Jt.next(()=>Ee.getEntry(q,An)).next(Jn=>{const Bn=ue.docVersions.get(An);cn(null!==Bn),Jn.version.compareTo(Bn)<0&&(Ue.applyToRemoteDocument(Jn,ue),Jn.isValidDocument()&&(Jn.setReadTime(ue.commitVersion),Ee.addEntry(Jn)))})}),Jt.next(()=>G.mutationQueue.removeMutationBatch(q,Ue))}(r,a,t,w).next(()=>w.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,f,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(G){let q=Ui();for(let ue=0;ue<G.mutationResults.length;++ue)G.mutationResults[ue].transformResults.length>0&&(q=q.add(G.batch.mutations[ue].key));return q}(t))).next(()=>r.localDocuments.getDocuments(a,f))})}(r.localStore,t);Rh(r,a,null),_d(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield fc(r,f)}catch(f){yield Nt(f)}})).apply(this,arguments)}function xu(c,t,r){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,je.A)(function*(c,t,r){const a=tn(c);try{const f=yield function(I,G){const q=tn(I);return q.persistence.runTransaction("Reject batch","readwrite-primary",ue=>{let Ee;return q.mutationQueue.lookupMutationBatch(ue,G).next(Ue=>(cn(null!==Ue),Ee=Ue.keys(),q.mutationQueue.removeMutationBatch(ue,Ue))).next(()=>q.mutationQueue.performConsistencyCheck(ue)).next(()=>q.documentOverlayCache.removeOverlaysForBatchId(ue,Ee,G)).next(()=>q.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ue,Ee)).next(()=>q.localDocuments.getDocuments(ue,Ee))})}(a.localStore,t);Rh(a,t,r),_d(a,t),a.sharedClientState.updateMutationState(t,"rejected",r),yield fc(a,f)}catch(f){yield Nt(f)}})).apply(this,arguments)}function Ah(){return(Ah=(0,je.A)(function*(c,t){const r=tn(c);ys(r.remoteStore)||ot("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(I){const G=tn(I);return G.persistence.runTransaction("Get highest unacknowledged batch id","readonly",q=>G.mutationQueue.getHighestUnacknowledgedBatchId(q))}(r.localStore);if(-1===a)return void t.resolve();const f=r.ka.get(a)||[];f.push(t),r.ka.set(a,f)}catch(a){const f=we(a,"Initialization of waitForPendingWrites() operation failed");t.reject(f)}})).apply(this,arguments)}function _d(c,t){(c.ka.get(t)||[]).forEach(r=>{r.resolve()}),c.ka.delete(t)}function Rh(c,t,r){const a=tn(c);let f=a.Ba[a.currentUser.toKey()];if(f){const w=f.get(t);w&&(r?w.reject(r):w.resolve(),f=f.remove(t)),a.Ba[a.currentUser.toKey()]=f}}function th(c,t,r=null){c.sharedClientState.removeLocalQueryTarget(t);for(const a of c.Ma.get(t))c.Fa.delete(a),r&&c.Ca.$a(a,r);c.Ma.delete(t),c.isPrimaryClient&&c.La.gr(t).forEach(a=>{c.La.containsKey(a)||Xh(c,a)})}function Xh(c,t){c.xa.delete(t.path.canonicalString());const r=c.Oa.get(t);null!==r&&(Oc(c.remoteStore,r),c.Oa=c.Oa.remove(t),c.Na.delete(r),mu(c))}function vd(c,t,r){for(const a of r)a instanceof M?(c.La.addReference(a.key,t),Mh(c,a)):a instanceof oe?(ot("SyncEngine","Document no longer in limbo: "+a.key),c.La.removeReference(a.key,t),c.La.containsKey(a.key)||Xh(c,a.key)):en()}function Mh(c,t){const r=t.key,a=r.path.canonicalString();c.Oa.get(r)||c.xa.has(a)||(ot("SyncEngine","New document in limbo: "+r),c.xa.add(a),mu(c))}function mu(c){for(;c.xa.size>0&&c.Oa.size<c.maxConcurrentLimboResolutions;){const t=c.xa.values().next().value;c.xa.delete(t);const r=new gn(Wn.fromString(t)),a=c.qa.next();c.Na.set(a,new kt(r)),c.Oa=c.Oa.insert(r,a),pu(c.remoteStore,new Na(Ir(lo(r.path)),a,"TargetPurposeLimboResolution",es.oe))}}function fc(c,t,r){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,je.A)(function*(c,t,r){const a=tn(c),f=[],w=[],I=[];var G;a.Fa.isEmpty()||(a.Fa.forEach((G,q)=>{I.push(a.Ka(q,t,r).then(ue=>{var Ee;if((ue||r)&&a.isPrimaryClient){const Ue=ue?!ue.fromCache:null===(Ee=r?.targetChanges.get(q.targetId))||void 0===Ee?void 0:Ee.current;a.sharedClientState.updateQueryState(q.targetId,Ue?"current":"not-current")}if(ue){f.push(ue);const Ue=Ll.Wi(q.targetId,ue);w.push(Ue)}}))}),yield Promise.all(I),a.Ca.d_(f),yield(G=(0,je.A)(function*(ue,Ee){const Ue=tn(ue);try{yield Ue.persistence.runTransaction("notifyLocalViewChanges","readwrite",ft=>rt.forEach(Ee,Jt=>rt.forEach(Jt.$i,An=>Ue.persistence.referenceDelegate.addReference(ft,Jt.targetId,An)).next(()=>rt.forEach(Jt.Ui,An=>Ue.persistence.referenceDelegate.removeReference(ft,Jt.targetId,An)))))}catch(ft){if(!Ur(ft))throw ft;ot("LocalStore","Failed to update sequence numbers: "+ft)}for(const ft of Ee){const Jt=ft.targetId;if(!ft.fromCache){const An=Ue.os.get(Jt),Bn=An.withLastLimboFreeSnapshotVersion(An.snapshotVersion);Ue.os=Ue.os.insert(Jt,Bn)}}}),function q(ue,Ee){return G.apply(this,arguments)})(a.localStore,w))}),Fu.apply(this,arguments)}function yd(c,t){return nh.apply(this,arguments)}function nh(){return(nh=(0,je.A)(function*(c,t){const r=tn(c);if(!r.currentUser.isEqual(t)){ot("SyncEngine","User change. New user:",t.toKey());const a=yield pr(r.localStore,t);r.currentUser=t,(w=r).ka.forEach(G=>{G.forEach(q=>{q.reject(new xe(bt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),w.ka.clear(),r.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),yield fc(r,a.hs)}var w})).apply(this,arguments)}function qh(c,t){const r=tn(c),a=r.Na.get(t);if(a&&a.va)return Ui().add(a.key);{let f=Ui();const w=r.Ma.get(t);if(!w)return f;for(const I of w){const G=r.Fa.get(I);f=f.unionWith(G.view.Va)}return f}}function kh(c,t){return jd.apply(this,arguments)}function jd(){return(jd=(0,je.A)(function*(c,t){const r=tn(c),a=yield wa(r.localStore,t.query,!0),f=t.view.ba(a);return r.isPrimaryClient&&vd(r,t.targetId,f.wa),f})).apply(this,arguments)}function If(c,t){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,je.A)(function*(c,t){const r=tn(c);return Iu(r.localStore,t).then(a=>fc(r,a))})).apply(this,arguments)}function Sf(c,t,r,a){return pp.apply(this,arguments)}function pp(){return(pp=(0,je.A)(function*(c,t,r,a){const f=tn(c),w=yield function(G,q){const ue=tn(G),Ee=tn(ue.mutationQueue);return ue.persistence.runTransaction("Lookup mutation documents","readonly",Ue=>Ee.Mn(Ue,q).next(ft=>ft?ue.localDocuments.getDocuments(Ue,ft):rt.resolve(null)))}(f.localStore,t);var q;null!==w?("pending"===r?yield xd(f.remoteStore):"acknowledged"===r||"rejected"===r?(Rh(f,t,a||null),_d(f,t),q=t,tn(tn(f.localStore).mutationQueue).On(q)):en(),yield fc(f,w)):ot("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function ih(){return(ih=(0,je.A)(function*(c,t){const r=tn(c);if(bd(r),Zh(r),!0===t&&!0!==r.Qa){const a=r.sharedClientState.getAllActiveQueryTargets(),f=yield fg(r,a.toArray());r.Qa=!0,yield A(r.remoteStore,!0);for(const w of f)pu(r.remoteStore,w)}else if(!1===t&&!1!==r.Qa){const a=[];let f=Promise.resolve();r.Ma.forEach((w,I)=>{r.sharedClientState.isLocalQueryTarget(I)?a.push(I):f=f.then(()=>(th(r,I),gs(r.localStore,I,!0))),Oc(r.remoteStore,I)}),yield f,yield fg(r,a),function(I){const G=tn(I);G.Na.forEach((q,ue)=>{Oc(G.remoteStore,ue)}),G.La.pr(),G.Na=new Map,G.Oa=new ki(gn.comparator)}(r),r.Qa=!1,yield A(r.remoteStore,!1)}})).apply(this,arguments)}function fg(c,t,r){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,je.A)(function*(c,t,r){const a=tn(c),f=[],w=[];for(const I of t){let G;const q=a.Ma.get(I);if(q&&0!==q.length){G=yield Ka(a.localStore,Ir(q[0]));for(const ue of q){const Ee=a.Fa.get(ue),Ue=yield kh(a,Ee);Ue.snapshot&&w.push(Ue.snapshot)}}else{const ue=yield Bl(a.localStore,I);G=yield Ka(a.localStore,ue),yield z(a,Jh(ue),I,!1,G.resumeToken)}f.push(G)}return a.Ca.d_(w),f})).apply(this,arguments)}function Jh(c){return ga(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function pg(c){return r=tn(c).localStore,tn(tn(r).persistence).Qi();var r}function Rf(c,t,r,a){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,je.A)(function*(c,t,r,a){const f=tn(c);if(f.Qa)return void ot("SyncEngine","Ignoring unexpected query state notification.");const w=f.Ma.get(t);if(w&&w.length>0)switch(r){case"current":case"not-current":{const I=yield Iu(f.localStore,Vo(w[0])),G=Wa.createSynthesizedRemoteEventForCurrentChange(t,"current"===r,Wr.EMPTY_BYTE_STRING);yield fc(f,I,G);break}case"rejected":yield gs(f.localStore,t,!0),th(f,t,a);break;default:en()}})).apply(this,arguments)}function gg(c,t,r){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,je.A)(function*(c,t,r){const a=bd(c);if(a.Qa){for(const f of t){if(a.Ma.has(f)&&a.sharedClientState.isActiveQueryTarget(f)){ot("SyncEngine","Adding an already active target "+f);continue}const w=yield Bl(a.localStore,f),I=yield Ka(a.localStore,w);yield z(a,Jh(w),I.targetId,!1,I.resumeToken),pu(a.remoteStore,I)}for(const f of r)a.Ma.has(f)&&(yield gs(a.localStore,f,!1).then(()=>{Oc(a.remoteStore,f),th(a,f)}).catch(Nt))}})).apply(this,arguments)}function bd(c){const t=tn(c);return t.remoteStore.remoteSyncer.applyRemoteEvent=zn.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$r.bind(null,t),t.Ca.d_=Vd.bind(null,t.eventManager),t.Ca.$a=Sh.bind(null,t.eventManager),t}function Zh(c){const t=tn(c);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Go.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xu.bind(null,t),t}let kf=(()=>{class c{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var a=this;return(0,je.A)(function*(){a.serializer=fd(r.databaseInfo.databaseId),a.sharedClientState=a.Wa(r),a.persistence=a.Ga(r),yield a.persistence.start(),a.localStore=a.za(r),a.gcScheduler=a.ja(r,a.localStore),a.indexBackfillerScheduler=a.Ha(r,a.localStore)})()}ja(r,a){return null}Ha(r,a){return null}za(r){return Ri(this.persistence,new Ii,r.initialUser,this.serializer)}Ga(r){return new no(Vl.Zr,this.serializer)}Wa(r){return new Au}terminate(){var r=this;return(0,je.A)(function*(){var a,f;null===(a=r.gcScheduler)||void 0===a||a.stop(),null===(f=r.indexBackfillerScheduler)||void 0===f||f.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return c.provider={build:()=>new c},c})();class lv extends kf{constructor(t,r,a){super(),this.Ja=t,this.cacheSizeBytes=r,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var r=()=>super.initialize,a=this;return(0,je.A)(function*(){yield r().call(a,t),yield a.Ja.initialize(a,t),yield Zh(a.Ja.syncEngine),yield xd(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return Ri(this.persistence,new Ii,t.initialUser,this.serializer)}ja(t,r){return new cd(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,r)}Ha(t,r){const a=new Zo(r,this.persistence);return new No(t.asyncQueue,a)}Ga(t){const r=Oa(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Wi.withCacheSize(this.cacheSizeBytes):Wi.DEFAULT;return new ba(this.synchronizeTabs,r,t.clientId,a,t.asyncQueue,hd(),Xu(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new Au}}class Nf extends lv{constructor(t,r){super(t,r,!1),this.Ja=t,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(t){var r=()=>super.initialize,a=this;return(0,je.A)(function*(){yield r().call(a,t);const f=a.Ja.syncEngine;a.sharedClientState instanceof Nc&&(a.sharedClientState.syncEngine={no:Sf.bind(null,f),ro:Rf.bind(null,f),io:gg.bind(null,f),Qi:pg.bind(null,f),eo:If.bind(null,f)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var w=(0,je.A)(function*(I){yield function Af(c,t){return ih.apply(this,arguments)}(a.Ja.syncEngine,I),a.gcScheduler&&(I&&!a.gcScheduler.started?a.gcScheduler.start():I||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(I&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():I||a.indexBackfillerScheduler.stop())});return function(I){return w.apply(this,arguments)}}())})()}Wa(t){const r=hd();if(!Nc.D(r))throw new xe(bt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Oa(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Nc(r,t.asyncQueue,a,t.clientId,t.initialUser)}}let Of=(()=>{class c{initialize(r,a){var f=this;return(0,je.A)(function*(){f.localStore||(f.localStore=r.localStore,f.sharedClientState=r.sharedClientState,f.datastore=f.createDatastore(a),f.remoteStore=f.createRemoteStore(a),f.eventManager=f.createEventManager(a),f.syncEngine=f.createSyncEngine(a,!r.synchronizeTabs),f.sharedClientState.onlineStateHandler=w=>dr(f.syncEngine,w,1),f.remoteStore.remoteSyncer.handleCredentialChange=yd.bind(null,f.syncEngine),yield A(f.remoteStore,f.syncEngine.isPrimaryClient))})()}createEventManager(r){return new Ei}createDatastore(r){const a=fd(r.databaseInfo.databaseId),f=new Sd(r.databaseInfo);return new Ad(r.authCredentials,r.appCheckCredentials,f,a)}createRemoteStore(r){return f=this.localStore,w=this.datastore,I=r.asyncQueue,G=a=>dr(this.syncEngine,a,0),q=dd.D()?new dd:new Eh,new $h(f,w,I,G,q);var f,w,I,G,q}createSyncEngine(r,a){return function(w,I,G,q,ue,Ee,Ue){const ft=new rn(w,I,G,q,ue,Ee);return Ue&&(ft.Qa=!0),ft}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,a)}terminate(){var r=this;return(0,je.A)(function*(){var a,f,w;yield(w=(0,je.A)(function*(G){const q=tn(G);ot("RemoteStore","RemoteStore shutting down."),q.L_.add(5),yield Xa(q),q.k_.shutdown(),q.q_.set("Unknown")}),function I(G){return w.apply(this,arguments)})(r.remoteStore),null===(a=r.datastore)||void 0===a||a.terminate(),null===(f=r.eventManager)||void 0===f||f.terminate()})()}}return c.provider={build:()=>new c},c})();function gp(c,t=10240){let r=0;return{read:()=>(0,je.A)(function*(){if(r<c.byteLength){const a={value:c.slice(r,r+t),done:!1};return r+=t,a}return{done:!0}})(),cancel:()=>(0,je.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class xf{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):On("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,r){setTimeout(()=>{this.muted||t(r)},0)}}class p0{constructor(t,r){this.Xa=t,this.serializer=r,this.metadata=new Ft,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,je.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,je.A)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,je.A)(function*(){const r=yield t.nu();if(null===r)return null;const a=t.eu.decode(r),f=Number(a);isNaN(f)&&t.ru(`length string (${a}) is not valid number`);const w=yield t.iu(f);return new m(JSON.parse(w),r.length+f)})()}su(){return this.buffer.findIndex(t=>123===t)}nu(){var t=this;return(0,je.A)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const r=t.su();r<0&&t.ru("Reached the end of bundle when a length string is expected.");const a=t.buffer.slice(0,r);return t.buffer=t.buffer.slice(r),a})()}iu(t){var r=this;return(0,je.A)(function*(){for(;r.buffer.length<t;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const a=r.eu.decode(r.buffer.slice(0,t));return r.buffer=r.buffer.slice(t),a})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,je.A)(function*(){const r=yield t.Xa.read();if(!r.done){const a=new Uint8Array(t.buffer.length+r.value.length);a.set(t.buffer),a.set(r.value,t.buffer.length),t.buffer=a}return r.done})()}}class cv{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var r=this;return(0,je.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new xe(bt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const a=yield(f=(0,je.A)(function*(I,G){const q=tn(I),ue={documents:G.map(Jt=>va(q.serializer,Jt))},Ee=yield q.Lo("BatchGetDocuments",q.serializer.databaseId,Wn.emptyPath(),ue,G.length),Ue=new Map;Ee.forEach(Jt=>{const An=function ae(c,t){return"found"in t?function(a,f){cn(!!f.found);const w=pl(a,f.found.name),I=Zr(f.found.updateTime),G=f.found.createTime?Zr(f.found.createTime):Pn.min(),q=new Ts({mapValue:{fields:f.found.fields}});return bi.newFoundDocument(w,I,G,q)}(c,t):"missing"in t?function(a,f){cn(!!f.missing),cn(!!f.readTime);const w=pl(a,f.missing),I=Zr(f.readTime);return bi.newNoDocument(w,I)}(c,t):en()}(q.serializer,Jt);Ue.set(An.key.toString(),An)});const ft=[];return G.forEach(Jt=>{const An=Ue.get(Jt.toString());cn(!!An),ft.push(An)}),ft}),function w(I,G){return f.apply(this,arguments)})(r.datastore,t);var f;return a.forEach(f=>r.recordVersion(f)),a})()}set(t,r){this.write(r.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,r){try{this.write(r.toMutation(t,this.preconditionForUpdate(t)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ln(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,je.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const r=t.readVersions;var a;t.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,f)=>{const w=gn.fromPath(f);t.mutations.push(new Lr(w,t.precondition(w)))}),yield(a=(0,je.A)(function*(w,I){const G=tn(w),q={writes:I.map(ue=>tt(G.serializer,ue))};yield G.Mo("Commit",G.serializer.databaseId,Wn.emptyPath(),q)}),function f(w,I){return a.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let r;if(t.isFoundDocument())r=t.version;else{if(!t.isNoDocument())throw en();r=Pn.min()}const a=this.readVersions.get(t.key.toString());if(a){if(!r.isEqual(a))throw new xe(bt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),r)}precondition(t){const r=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&r?r.isEqual(Pn.min())?Ae.exists(!1):Ae.updateTime(r):Ae.none()}preconditionForUpdate(t){const r=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&r){if(r.isEqual(Pn.min()))throw new xe(bt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ae.updateTime(r)}return Ae.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Vm{constructor(t,r,a,f,w){this.asyncQueue=t,this.datastore=r,this.options=a,this.updateFunction=f,this.deferred=w,this._u=a.maxAttempts,this.t_=new hu(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,je.A)(function*(){const r=new cv(t.datastore),a=t.cu(r);a&&a.then(f=>{t.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{t.deferred.resolve(f)}).catch(w=>{t.lu(w)}))}).catch(f=>{t.lu(f)})}))}cu(t){try{const r=this.updateFunction(t);return!io(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const r=t.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Xi(r)}return!1}}class mg{constructor(t,r,a,f,w){var I=this;this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=f,this.user=Be.UNAUTHENTICATED,this.clientId=Fi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=w,this.authCredentials.start(a,function(){var G=(0,je.A)(function*(q){ot("FirestoreClient","Received user=",q.uid),yield I.authCredentialListener(q),I.user=q});return function(q){return G.apply(this,arguments)}}()),this.appCheckCredentials.start(a,G=>(ot("FirestoreClient","Received new app check token=",G),this.appCheckCredentialListener(G,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const r=new Ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,je.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),r.resolve()}catch(a){const f=we(a,"Failed to shutdown persistence");r.reject(f)}})),r.promise}}function Pf(c,t){return _g.apply(this,arguments)}function _g(){return _g=(0,je.A)(function*(c,t){c.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const r=c.configuration;yield t.initialize(r);let a=r.initialUser;c.setCredentialChangeListener(function(){var f=(0,je.A)(function*(w){a.isEqual(w)||(yield pr(t.localStore,w),a=w)});return function(w){return f.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=t}),_g.apply(this,arguments)}function Lm(c,t){return vg.apply(this,arguments)}function vg(){return(vg=(0,je.A)(function*(c,t){c.asyncQueue.verifyOperationInProgress();const r=yield Ff(c);ot("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(r,c.configuration),c.setCredentialChangeListener(a=>xc(t.remoteStore,a)),c.setAppCheckTokenChangeListener((a,f)=>xc(t.remoteStore,f)),c._onlineComponents=t})).apply(this,arguments)}function Ff(c){return mp.apply(this,arguments)}function mp(){return(mp=(0,je.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){ot("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Pf(c,c._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(f=t).name?f.code===bt.FAILED_PRECONDITION||f.code===bt.UNIMPLEMENTED:!(typeof DOMException<"u"&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw t;ei("Error using user provided cache. Falling back to memory cache: "+t),yield Pf(c,new kf)}}else ot("FirestoreClient","Using default OfflineComponentProvider"),yield Pf(c,new kf);var f;return c._offlineComponents})).apply(this,arguments)}function rh(c){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,je.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(ot("FirestoreClient","Using user provided OnlineComponentProvider"),yield Lm(c,c._uninitializedComponentsProvider._online)):(ot("FirestoreClient","Using default OnlineComponentProvider"),yield Lm(c,new Of))),c._onlineComponents})).apply(this,arguments)}function uv(c){return Ff(c).then(t=>t.persistence)}function _p(c){return Ff(c).then(t=>t.localStore)}function vp(c){return rh(c).then(t=>t.remoteStore)}function yp(c){return rh(c).then(t=>t.syncEngine)}function ef(c){return yg.apply(this,arguments)}function yg(){return(yg=(0,je.A)(function*(c){const t=yield rh(c),r=t.eventManager;return r.onListen=hn.bind(null,t.syncEngine),r.onUnlisten=be.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=d.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=qe.bind(null,t.syncEngine),r})).apply(this,arguments)}function dv(c,t,r={}){const a=new Ft;return c.asyncQueue.enqueueAndForget((0,je.A)(function*(){return function(w,I,G,q,ue){const Ee=new xf({next:ft=>{Ee.Za(),I.enqueueAndForget(()=>wl(w,Ue));const Jt=ft.docs.has(G);!Jt&&ft.fromCache?ue.reject(new xe(bt.UNAVAILABLE,"Failed to get document because the client is offline.")):Jt&&ft.fromCache&&q&&"server"===q.source?ue.reject(new xe(bt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ue.resolve(ft)},error:ft=>ue.reject(ft)}),Ue=new Bd(lo(G.path),Ee,{includeMetadataChanges:!0,_a:!0});return Fs(w,Ue)}(yield ef(c),c.asyncQueue,t,r,a)})),a.promise}function hv(c,t,r={}){const a=new Ft;return c.asyncQueue.enqueueAndForget((0,je.A)(function*(){return function(w,I,G,q,ue){const Ee=new xf({next:ft=>{Ee.Za(),I.enqueueAndForget(()=>wl(w,Ue)),ft.fromCache&&"server"===q.source?ue.reject(new xe(bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ue.resolve(ft)},error:ft=>ue.reject(ft)}),Ue=new Bd(G,Ee,{includeMetadataChanges:!0,_a:!0});return Fs(w,Ue)}(yield ef(c),c.asyncQueue,t,r,a)})),a.promise}function fv(c){const t={};return void 0!==c.timeoutSeconds&&(t.timeoutSeconds=c.timeoutSeconds),t}const Um=new Map;function Hm(c,t,r){if(!r)throw new xe(bt.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${t}.`)}function pv(c,t,r,a){if(!0===t&&!0===a)throw new xe(bt.INVALID_ARGUMENT,`${c} and ${r} cannot be used together.`)}function gv(c){if(!gn.isDocumentKey(c))throw new xe(bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function mv(c){if(gn.isDocumentKey(c))throw new xe(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function nf(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const t=(a=c).constructor?a.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var a;return"function"==typeof c?"a function":en()}function jr(c,t){if("_delegate"in c&&(c=c._delegate),!(c instanceof t)){if(t.name===c.constructor.name)throw new xe(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=nf(c);throw new xe(bt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return c}function Lf(c,t){if(t<=0)throw new xe(bt.INVALID_ARGUMENT,`Function ${c}() requires a positive number, but it was: ${t}.`)}class Gm{constructor(t){var r,a;if(void 0===t.host){if(void 0!==t.ssl)throw new xe(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(r=t.ssl)||void 0===r||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xe(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=fv(null!==(a=t.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(w){if(void 0!==w.timeoutSeconds){if(isNaN(w.timeoutSeconds))throw new xe(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${w.timeoutSeconds} (must not be NaN)`);if(w.timeoutSeconds<5)throw new xe(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${w.timeoutSeconds} (minimum allowed value is 5)`);if(w.timeoutSeconds>30)throw new xe(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${w.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bf{constructor(t,r,a,f){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=a,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new xe(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gm(t),void 0!==t.credentials&&(this._authCredentials=function(a){if(!a)return new Qe;switch(a.type){case"firstParty":return new Nn(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new xe(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,je.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=Um.get(r);a&&(ot("ComponentProvider","Removing Datastore"),Um.delete(r),a.terminate())}(this),Promise.resolve()}}class Fc{constructor(t,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Fc(this.firestore,t,this._query)}}class Ca{constructor(t,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ca(this.firestore,t,this._key)}}class oh extends Fc{constructor(t,r,a){super(t,r,lo(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ca(this.firestore,null,new gn(t))}withConverter(t){return new oh(this.firestore,t,this._path)}}function bg(c,t,...r){if(c=(0,wt.Ku)(c),Hm("collection","path",t),c instanceof Bf){const a=Wn.fromString(t,...r);return mv(a),new oh(c,null,a)}{if(!(c instanceof Ca||c instanceof oh))throw new xe(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=c._path.child(Wn.fromString(t,...r));return mv(a),new oh(c.firestore,null,a)}}function zm(c,t,...r){if(c=(0,wt.Ku)(c),1===arguments.length&&(t=Fi.newId()),Hm("doc","path",t),c instanceof Bf){const a=Wn.fromString(t,...r);return gv(a),new Ca(c,null,new gn(a))}{if(!(c instanceof Ca||c instanceof oh))throw new xe(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=c._path.child(Wn.fromString(t,...r));return gv(a),new Ca(c.firestore,c instanceof oh?c.converter:null,new gn(a))}}function C0(c,t){return c=(0,wt.Ku)(c),t=(0,wt.Ku)(t),(c instanceof Ca||c instanceof oh)&&(t instanceof Ca||t instanceof oh)&&c.firestore===t.firestore&&c.path===t.path&&c.converter===t.converter}function wg(c,t){return c=(0,wt.Ku)(c),t=(0,wt.Ku)(t),c instanceof Fc&&t instanceof Fc&&c.firestore===t.firestore&&Rs(c._query,t._query)&&c.converter===t.converter}class _v{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hu(this,"async_queue_retry"),this.Vu=()=>{const a=Xu();a&&ot("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=t;const r=Xu();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const r=Xu();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Ft;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,je.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(r){if(!Ur(r))throw r;ot("AsyncQueue","Operation failed with retryable error: "+r)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const r=this.mu.then(()=>(this.du=!0,t().catch(a=>{throw this.Eu=a,this.du=!1,On("INTERNAL UNHANDLED ERROR: ",function(I){let G=I.message||"";return I.stack&&(G=I.stack.includes(I.message)?I.stack:I.message+"\n"+I.stack),G}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=r,r}enqueueAfterDelay(t,r,a){this.fu(),this.Ru.indexOf(t)>-1&&(r=0);const f=re.createAndSchedule(this,t,r,a,w=>this.yu(w));return this.Tu.push(f),f}fu(){this.Eu&&en()}verifyOperationInProgress(){}wu(){var t=this;return(0,je.A)(function*(){let r;do{r=t.mu,yield r}while(r!==t.mu)})()}Su(t){for(const r of this.Tu)if(r.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==t&&r.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const r=this.Tu.indexOf(t);this.Tu.splice(r,1)}}function Km(c){return function(r,a){if("object"!=typeof r||null===r)return!1;const f=r;for(const w of["next","error","complete"])if(w in f&&"function"==typeof f[w])return!0;return!1}(c)}class T0{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ft,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,r,a){this._progressObserver={next:t,error:r,complete:a}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,r){return this._taskCompletionResolver.promise.then(t,r)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Wo extends Bf{constructor(t,r,a,f){super(t,r,a,f),this.type="firestore",this._queue=new _v,this._persistenceKey=f?.name||"[DEFAULT]"}_terminate(){var t=this;return(0,je.A)(function*(){if(t._firestoreClient){const r=t._firestoreClient.terminate();t._queue=new _v(r),t._firestoreClient=void 0,yield r}})()}}function Ta(c){if(c._terminated)throw new xe(bt.FAILED_PRECONDITION,"The client has already been terminated.");return c._firestoreClient||vv(c),c._firestoreClient}function vv(c){var t,r,a;const f=c._freezeSettings(),w=(q=(null===(t=c._app)||void 0===t?void 0:t.options.appId)||"",new Li(c._databaseId,q,c._persistenceKey,(Ee=f).host,Ee.ssl,Ee.experimentalForceLongPolling,Ee.experimentalAutoDetectLongPolling,fv(Ee.experimentalLongPollingOptions),Ee.useFetchStreams));var q,Ee;c._componentsProvider||!(null===(r=f.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(a=f.localCache)||void 0===a)&&a._onlineComponentProvider&&(c._componentsProvider={_offline:f.localCache._offlineComponentProvider,_online:f.localCache._onlineComponentProvider}),c._firestoreClient=new mg(c._authCredentials,c._appCheckCredentials,c._queue,w,c._componentsProvider&&function(G){const q=G?._online.build();return{_offline:G?._offline.build(q),_online:q}}(c._componentsProvider))}function Cg(){return(Cg=(0,je.A)(function*(c){ei("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=c._freezeSettings();Tg(c,Of.provider,{build:r=>new Nf(r,t.cacheSizeBytes)})})).apply(this,arguments)}function Tg(c,t,r){if((c=jr(c,Wo))._firestoreClient||c._terminated)throw new xe(bt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(c._componentsProvider||c._getSettings().localCache)throw new xe(bt.FAILED_PRECONDITION,"SDK cache is already specified.");c._componentsProvider={_online:t,_offline:r},vv(c)}class Ud{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ud(Wr.fromBase64String(t))}catch(r){throw new xe(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Ud(Wr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Hd{constructor(...t){for(let r=0;r<t.length;++r)if(0===t[r].length)throw new xe(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ni(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class jf{constructor(t){this._methodName=t}}class Oh{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new xe(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new xe(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return si(this._lat,t._lat)||si(this._long,t._long)}}class Dg{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,f){if(a.length!==f.length)return!1;for(let w=0;w<a.length;++w)if(a[w]!==f[w])return!1;return!0}(this._values,t._values)}}const k0=/^__.*__$/;class N0{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return null!==this.fieldMask?new ui(t,this.data,this.fieldMask,r,this.fieldTransforms):new vi(t,this.data,r,this.fieldTransforms)}}class Xm{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return new ui(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function Cv(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw en()}}class Ig{constructor(t,r,a,f,w,I){this.settings=t,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=f,void 0===w&&this.vu(),this.fieldTransforms=w||[],this.fieldMask=I||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Ig(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(t),f=this.Fu({path:a,xu:!1});return f.Ou(t),f}Nu(t){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(t),f=this.Fu({path:a,xu:!1});return f.vu(),f}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Dp(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(r=>t.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>t.isPrefixOf(r.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(Cv(this.Cu)&&k0.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class O0{constructor(t,r,a){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=a||fd(t)}Qu(t,r,a,f=!1){return new Ig({Cu:t,methodName:r,qu:a,path:ni.emptyPath(),xu:!1,ku:f},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sf(c){const t=c._freezeSettings(),r=fd(c._databaseId);return new O0(c._databaseId,!!t.ignoreUndefinedProperties,r)}function Sg(c,t,r,a,f,w={}){const I=c.Qu(w.merge||w.mergeFields?2:0,t,r,f);Hf("Data must be an object, but it was:",I,a);const G=Rv(a,I);let q,ue;if(w.merge)q=new Tr(I.fieldMask),ue=I.fieldTransforms;else if(w.mergeFields){const Ee=[];for(const Ue of w.mergeFields){const ft=af(t,Ue,r);if(!I.contains(ft))throw new xe(bt.INVALID_ARGUMENT,`Field '${ft}' is specified in your field mask but missing from your input data.`);qm(Ee,ft)||Ee.push(ft)}q=new Tr(Ee),ue=I.fieldTransforms.filter(Ue=>q.covers(Ue.field))}else q=null,ue=I.fieldTransforms;return new N0(new Ts(G),q,ue)}class wp extends jf{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wp}}function Ag(c,t,r){return new Ig({Cu:3,qu:t.settings.qu,methodName:c._methodName,xu:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Tv extends jf{_toFieldTransform(t){return new de(t.path,new We)}isEqual(t){return t instanceof Tv}}class Dv extends jf{constructor(t,r){super(t),this.Ku=r}_toFieldTransform(t){const r=Ag(this,t,!0),a=this.Ku.map(w=>Uf(w,r)),f=new dt(a);return new de(t.path,f)}isEqual(t){return t instanceof Dv&&(0,wt.bD)(this.Ku,t.Ku)}}class Ep extends jf{constructor(t,r){super(t),this.Ku=r}_toFieldTransform(t){const r=Ag(this,t,!0),a=this.Ku.map(w=>Uf(w,r)),f=new Dt(a);return new de(t.path,f)}isEqual(t){return t instanceof Ep&&(0,wt.bD)(this.Ku,t.Ku)}}class Iv extends jf{constructor(t,r){super(t),this.$u=r}_toFieldTransform(t){const r=new Gn(t.serializer,J(t.serializer,this.$u));return new de(t.path,r)}isEqual(t){return t instanceof Iv&&this.$u===t.$u}}function Sv(c,t,r,a){const f=c.Qu(1,t,r);Hf("Data must be an object, but it was:",f,a);const w=[],I=Ts.empty();Qi(a,(q,ue)=>{const Ee=Tp(t,q,r);ue=(0,wt.Ku)(ue);const Ue=f.Nu(Ee);if(ue instanceof wp)w.push(Ee);else{const ft=Uf(ue,Ue);null!=ft&&(w.push(Ee),I.set(Ee,ft))}});const G=new Tr(w);return new Xm(I,G,f.fieldTransforms)}function Av(c,t,r,a,f,w){const I=c.Qu(1,t,r),G=[af(t,a,r)],q=[f];if(w.length%2!=0)throw new xe(bt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ft=0;ft<w.length;ft+=2)G.push(af(t,w[ft])),q.push(w[ft+1]);const ue=[],Ee=Ts.empty();for(let ft=G.length-1;ft>=0;--ft)if(!qm(ue,G[ft])){const Jt=G[ft];let An=q[ft];An=(0,wt.Ku)(An);const Jn=I.Nu(Jt);if(An instanceof wp)ue.push(Jt);else{const Bn=Uf(An,Jn);null!=Bn&&(ue.push(Jt),Ee.set(Jt,Bn))}}const Ue=new Tr(ue);return new Xm(Ee,Ue,I.fieldTransforms)}function x0(c,t,r,a=!1){return Uf(r,c.Qu(a?4:3,t))}function Uf(c,t){if(Cp(c=(0,wt.Ku)(c)))return Hf("Unsupported field value:",t,c),Rv(c,t);if(c instanceof jf)return function(a,f){if(!Cv(f.Cu))throw f.Bu(`${a._methodName}() can only be used with update() and set()`);if(!f.path)throw f.Bu(`${a._methodName}() is not currently supported inside arrays`);const w=a._toFieldTransform(f);w&&f.fieldTransforms.push(w)}(c,t),null;if(void 0===c&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),c instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(a,f){const w=[];let I=0;for(const G of a){let q=Uf(G,f.Lu(I));null==q&&(q={nullValue:"NULL_VALUE"}),w.push(q),I++}return{arrayValue:{values:w}}}(c,t)}return function(a,f){if(null===(a=(0,wt.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return J(f.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const w=Kn.fromDate(a);return{timestampValue:Al(f.serializer,w)}}if(a instanceof Kn){const w=new Kn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Al(f.serializer,w)}}if(a instanceof Oh)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ud)return{bytesValue:fl(f.serializer,a._byteString)};if(a instanceof Ca){const w=f.databaseId,I=a.firestore._databaseId;if(!I.isEqual(w))throw f.Bu(`Document reference is for database ${I.projectId}/${I.database} but should be for database ${w.projectId}/${w.database}`);return{referenceValue:Rl(a.firestore._databaseId||f.databaseId,a._key.path)}}if(a instanceof Dg)return G=f,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(q=>{if("number"!=typeof q)throw G.Bu("VectorValues must only contain numeric values.");return Sr(G.serializer,q)})}}}}};var G;throw f.Bu(`Unsupported field value: ${nf(a)}`)}(c,t)}function Rv(c,t){const r={};return So(c)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qi(c,(a,f)=>{const w=Uf(f,t.Mu(a));null!=w&&(r[a]=w)}),{mapValue:{fields:r}}}function Cp(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof Kn||c instanceof Oh||c instanceof Ud||c instanceof Ca||c instanceof jf||c instanceof Dg)}function Hf(c,t,r){if(!Cp(r)||"object"!=typeof(f=r)||null===f||Object.getPrototypeOf(f)!==Object.prototype&&null!==Object.getPrototypeOf(f)){const a=nf(r);throw t.Bu("an object"===a?c+" a custom object":c+" "+a)}var f}function af(c,t,r){if((t=(0,wt.Ku)(t))instanceof Hd)return t._internalPath;if("string"==typeof t)return Tp(c,t);throw Dp("Field path arguments must be of type string or ",c,!1,void 0,r)}const Mv=new RegExp("[~\\*/\\[\\]]");function Tp(c,t,r){if(t.search(Mv)>=0)throw Dp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,r);try{return new Hd(...t.split("."))._internalPath}catch{throw Dp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,r)}}function Dp(c,t,r,a,f){const w=a&&!a.isEmpty(),I=void 0!==f;let G=`Function ${t}() called with invalid data`;r&&(G+=" (via `toFirestore()`)"),G+=". ";let q="";return(w||I)&&(q+=" (found",w&&(q+=` in field ${a}`),I&&(q+=` in document ${f}`),q+=")"),new xe(bt.INVALID_ARGUMENT,G+c+q)}function qm(c,t){return c.some(r=>r.isEqual(t))}class Gf{constructor(t,r,a,f,w){this._firestore=t,this._userDataWriter=r,this._key=a,this._document=f,this._converter=w}get id(){return this._key.path.lastSegment()}get ref(){return new Ca(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Wf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Vc("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Wf extends Gf{data(){return super.data()}}function Vc(c,t){return"string"==typeof t?Tp(c,t):t instanceof Hd?t._internalPath:t._delegate._internalPath}function Zu(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new xe(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class Mg extends Rg{}function xh(c,t,...r){let a=[];t instanceof Rg&&a.push(t),a=a.concat(r),function(w){const I=w.filter(q=>q instanceof lf).length,G=w.filter(q=>q instanceof kg).length;if(I>1||I>0&&G>0)throw new xe(bt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const f of a)c=f._apply(c);return c}class kg extends Mg{constructor(t,r,a){super(),this._field=t,this._op=r,this._value=a,this.type="where"}static _create(t,r,a){return new kg(t,r,a)}_apply(t){const r=this._parse(t);return xv(t._query,r),new Fc(t.firestore,t.converter,ja(t._query,r))}_parse(t){const r=sf(t.firestore);return function(w,I,G,q,ue,Ee,Ue){let ft;if(ue.isKeyField()){if("array-contains"===Ee||"array-contains-any"===Ee)throw new xe(bt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Ee}' queries on documentId().`);if("in"===Ee||"not-in"===Ee){Ov(Ue,Ee);const Jt=[];for(const An of Ue)Jt.push(Nv(q,w,An));ft={arrayValue:{values:Jt}}}else ft=Nv(q,w,Ue)}else"in"!==Ee&&"not-in"!==Ee&&"array-contains-any"!==Ee||Ov(Ue,Ee),ft=x0(G,"where",Ue,"in"===Ee||"not-in"===Ee);return xi.create(ue,Ee,ft)}(t._query,0,r,t.firestore._databaseId,this._field,this._op,this._value)}}class lf extends Rg{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new lf(t,r)}_parse(t){const r=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return 1===r.length?r[0]:wr.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return 0===r.getFilters().length?t:(function(f,w){let I=f;const G=w.getFlattenedFilters();for(const q of G)xv(I,q),I=ja(I,q)}(t._query,r),new Fc(t.firestore,t.converter,ja(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $f extends Mg{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new $f(t,r)}_apply(t){const r=function(f,w,I){if(null!==f.startAt)throw new xe(bt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==f.endAt)throw new xe(bt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $s(w,I)}(t._query,this._field,this._direction);return new Fc(t.firestore,t.converter,function(f,w){const I=f.explicitOrderBy.concat([w]);return new pa(f.path,f.collectionGroup,I,f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t._query,r))}}class zf extends Mg{constructor(t,r,a){super(),this.type=t,this._limit=r,this._limitType=a}static _create(t,r,a){return new zf(t,r,a)}_apply(t){return new Fc(t.firestore,t.converter,Ua(t._query,this._limit,this._limitType))}}class Yf extends Mg{constructor(t,r,a){super(),this.type=t,this._docOrFields=r,this._inclusive=a}static _create(t,r,a){return new Yf(t,r,a)}_apply(t){const r=Zm(t,this.type,this._docOrFields,this._inclusive);return new Fc(t.firestore,t.converter,(w=r,new pa((f=t._query).path,f.collectionGroup,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,w,f.endAt)));var f,w}}class cf extends Mg{constructor(t,r,a){super(),this.type=t,this._docOrFields=r,this._inclusive=a}static _create(t,r,a){return new cf(t,r,a)}_apply(t){const r=Zm(t,this.type,this._docOrFields,this._inclusive);return new Fc(t.firestore,t.converter,(w=r,new pa((f=t._query).path,f.collectionGroup,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,w)));var f,w}}function Zm(c,t,r,a){if(r[0]=(0,wt.Ku)(r[0]),r[0]instanceof Gf)return function(w,I,G,q,ue){if(!q)throw new xe(bt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${G}().`);const Ee=[];for(const Ue of ls(w))if(Ue.field.isKeyField())Ee.push(Po(I,q.key));else{const ft=q.data.field(Ue.field);if(Ia(ft))throw new xe(bt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ue.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ft){const Jt=Ue.field.canonicalString();throw new xe(bt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Jt}' (used as the orderBy) does not exist.`)}Ee.push(ft)}return new Js(Ee,ue)}(c._query,c.firestore._databaseId,t,r[0]._document,a);{const f=sf(c.firestore);return function(I,G,q,ue,Ee,Ue){const ft=I.explicitOrderBy;if(Ee.length>ft.length)throw new xe(bt.INVALID_ARGUMENT,`Too many arguments provided to ${ue}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Jt=[];for(let An=0;An<Ee.length;An++){const Jn=Ee[An];if(ft[An].field.isKeyField()){if("string"!=typeof Jn)throw new xe(bt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ue}(), but got a ${typeof Jn}`);if(!Ji(I)&&-1!==Jn.indexOf("/"))throw new xe(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ue}() must be a plain document ID, but '${Jn}' contains a slash.`);const Bn=I.path.child(Wn.fromString(Jn));if(!gn.isDocumentKey(Bn))throw new xe(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ue}() must result in a valid document path, but '${Bn}' is not because it contains an odd number of segments.`);const $i=new gn(Bn);Jt.push(Po(G,$i))}else{const Bn=x0(q,ue,Jn);Jt.push(Bn)}}return new Js(Jt,Ue)}(c._query,c.firestore._databaseId,f,t,r,a)}}function Nv(c,t,r){if("string"==typeof(r=(0,wt.Ku)(r))){if(""===r)throw new xe(bt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ji(t)&&-1!==r.indexOf("/"))throw new xe(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=t.path.child(Wn.fromString(r));if(!gn.isDocumentKey(a))throw new xe(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Po(c,new gn(a))}if(r instanceof Ca)return Po(c,r._key);throw new xe(bt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(r)}.`)}function Ov(c,t){if(!Array.isArray(c)||0===c.length)throw new xe(bt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function xv(c,t){const r=function(f,w){for(const I of f)for(const G of I.getFlattenedFilters())if(w.indexOf(G.op)>=0)return G.op;return null}(c.filters,function(f){switch(f){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw new xe(bt.INVALID_ARGUMENT,r===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class uf{convertValue(t,r="none"){switch(Gi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw en()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const a={};return Qi(t,(f,w)=>{a[f]=this.convertValue(w,r)}),a}convertVectorValue(t){var r,a,f;const w=null===(f=null===(a=null===(r=t.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===a?void 0:a.values)||void 0===f?void 0:f.map(I=>Vr(I.doubleValue));return new Dg(w)}convertGeoPoint(t){return new Oh(Vr(t.latitude),Vr(t.longitude))}convertArray(t,r){return(t.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(t,r){switch(r){case"previous":const a=Ar(t);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(qs(t));default:return null}}convertTimestamp(t){const r=ns(t);return new Kn(r.seconds,r.nanos)}convertDocumentKey(t,r){const a=Wn.fromString(t);cn(Kd(a));const f=new Hs(a.get(1),a.get(3)),w=new gn(a.popFirst(5));return f.isEqual(r)||On(`Document ${w} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),w}}function df(c,t,r){let a;return a=c?r&&(r.merge||r.mergeFields)?c.toFirestore(t,r):c.toFirestore(t):t,a}class t_ extends uf{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ud(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Ca(this.firestore,null,r)}}class Ph{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gd extends Gf{constructor(t,r,a,f,w,I){super(t,r,a,f,I),this._firestore=t,this._firestoreImpl=t,this.metadata=w}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const a=this._document.data.field(Vc("DocumentSnapshot.get",t));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class Ip extends Gd{data(t={}){return super.data(t)}}class hf{constructor(t,r,a,f){this._firestore=t,this._userDataWriter=r,this._snapshot=f,this.metadata=new Ph(f.hasPendingWrites,f.fromCache),this.query=a}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,r){this._snapshot.docs.forEach(a=>{t.call(r,new Ip(this._firestore,this._userDataWriter,a.key,a,new Ph(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new xe(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(f,w){if(f._snapshot.oldDocs.isEmpty()){let I=0;return f._snapshot.docChanges.map(G=>({type:"added",doc:new Ip(f._firestore,f._userDataWriter,G.doc.key,G.doc,new Ph(f._snapshot.mutatedKeys.has(G.doc.key),f._snapshot.fromCache),f.query.converter),oldIndex:-1,newIndex:I++}))}{let I=f._snapshot.oldDocs;return f._snapshot.docChanges.filter(G=>w||3!==G.type).map(G=>{const q=new Ip(f._firestore,f._userDataWriter,G.doc.key,G.doc,new Ph(f._snapshot.mutatedKeys.has(G.doc.key),f._snapshot.fromCache),f.query.converter);let ue=-1,Ee=-1;return 0!==G.type&&(ue=I.indexOf(G.doc.key),I=I.delete(G.doc.key)),1!==G.type&&(I=I.add(G.doc),Ee=I.indexOf(G.doc.key)),{type:Ng(G.type),doc:q,oldIndex:ue,newIndex:Ee}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Ng(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}function Pv(c,t){return c instanceof Gd&&t instanceof Gd?c._firestore===t._firestore&&c._key.isEqual(t._key)&&(null===c._document?null===t._document:c._document.isEqual(t._document))&&c._converter===t._converter:c instanceof hf&&t instanceof hf&&c._firestore===t._firestore&&wg(c.query,t.query)&&c.metadata.isEqual(t.metadata)&&c._snapshot.isEqual(t._snapshot)}class ah extends uf{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ud(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Ca(this.firestore,null,r)}}function r_(c,t,r){c=jr(c,Ca);const a=jr(c.firestore,Wo),f=df(c.converter,t,r);return qf(a,[Sg(sf(a),"setDoc",c._key,f,null!==c.converter,r).toMutation(c._key,Ae.none())])}function xg(c,t,r,...a){c=jr(c,Ca);const f=jr(c.firestore,Wo),w=sf(f);let I;return I="string"==typeof(t=(0,wt.Ku)(t))||t instanceof Hd?Av(w,"updateDoc",c._key,t,r,a):Sv(w,"updateDoc",c._key,t),qf(f,[I.toMutation(c._key,Ae.exists(!0))])}function Pg(c,...t){var r,a,f;c=(0,wt.Ku)(c);let w={includeMetadataChanges:!1,source:"default"},I=0;"object"!=typeof t[I]||Km(t[I])||(w=t[I],I++);const G={includeMetadataChanges:w.includeMetadataChanges,source:w.source};if(Km(t[I])){const Ue=t[I];t[I]=null===(r=Ue.next)||void 0===r?void 0:r.bind(Ue),t[I+1]=null===(a=Ue.error)||void 0===a?void 0:a.bind(Ue),t[I+2]=null===(f=Ue.complete)||void 0===f?void 0:f.bind(Ue)}let q,ue,Ee;if(c instanceof Ca)ue=jr(c.firestore,Wo),Ee=lo(c._key.path),q={next:Ue=>{t[I]&&t[I](Vg(ue,c,Ue))},error:t[I+1],complete:t[I+2]};else{const Ue=jr(c,Fc);ue=jr(Ue.firestore,Wo),Ee=Ue._query;const ft=new ah(ue);q={next:Jt=>{t[I]&&t[I](new hf(ue,ft,Ue,Jt))},error:t[I+1],complete:t[I+2]},Zu(c._query)}return function(ft,Jt,An,Jn){const Bn=new xf(Jn),$i=new Bd(Jt,Bn,An);return ft.asyncQueue.enqueueAndForget((0,je.A)(function*(){return Fs(yield ef(ft),$i)})),()=>{Bn.Za(),ft.asyncQueue.enqueueAndForget((0,je.A)(function*(){return wl(yield ef(ft),$i)}))}}(Ta(ue),Ee,G,q)}function qf(c,t){return function(a,f){const w=new Ft;return a.asyncQueue.enqueueAndForget((0,je.A)(function*(){return function Xt(c,t,r){return dn.apply(this,arguments)}(yield yp(a),f,w)})),w.promise}(Ta(c),t)}function Vg(c,t,r){const a=r.docs.get(t._key),f=new ah(c);return new Gd(c,f,t._key,a,new Ph(r.hasPendingWrites,r.fromCache),t.converter)}const s_={maxAttempts:5};class Qf{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=sf(t)}set(t,r,a){this._verifyNotCommitted();const f=lh(t,this._firestore),w=df(f.converter,r,a),I=Sg(this._dataReader,"WriteBatch.set",f._key,w,null!==f.converter,a);return this._mutations.push(I.toMutation(f._key,Ae.none())),this}update(t,r,a,...f){this._verifyNotCommitted();const w=lh(t,this._firestore);let I;return I="string"==typeof(r=(0,wt.Ku)(r))||r instanceof Hd?Av(this._dataReader,"WriteBatch.update",w._key,r,a,f):Sv(this._dataReader,"WriteBatch.update",w._key,r),this._mutations.push(I.toMutation(w._key,Ae.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=lh(t,this._firestore);return this._mutations=this._mutations.concat(new Ln(r._key,Ae.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(bt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lh(c,t){if((c=(0,wt.Ku)(c)).firestore!==t)throw new xe(bt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}class o_ extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=sf(r)}get(r){const a=lh(r,this._firestore),f=new t_(this._firestore);return this._transaction.lookup([a._key]).then(w=>{if(!w||1!==w.length)return en();const I=w[0];if(I.isFoundDocument())return new Gf(this._firestore,f,I.key,I,a.converter);if(I.isNoDocument())return new Gf(this._firestore,f,a._key,null,a.converter);throw en()})}set(r,a,f){const w=lh(r,this._firestore),I=df(w.converter,a,f),G=Sg(this._dataReader,"Transaction.set",w._key,I,null!==w.converter,f);return this._transaction.set(w._key,G),this}update(r,a,f,...w){const I=lh(r,this._firestore);let G;return G="string"==typeof(a=(0,wt.Ku)(a))||a instanceof Hd?Av(this._dataReader,"Transaction.update",I._key,a,f,w):Sv(this._dataReader,"Transaction.update",I._key,a),this._transaction.update(I._key,G),this}delete(r){const a=lh(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(t,r){super(t,r),this._firestore=t}get(t){const r=lh(t,this._firestore),a=new ah(this._firestore);return super.get(t).then(f=>new Gd(this._firestore,a,r._key,f._document,new Ph(!1,!1),r.converter))}}function u_(c,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new xe("invalid-argument",`Invalid options passed to function ${c}(): You cannot specify both "merge" and "mergeFields".`);return t}function d_(){if(typeof Uint8Array>"u")throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function zv(){if(!function ua(){return typeof atob<"u"}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,r=!0){Ze=Cn.SDK_VERSION,(0,Cn._registerComponent)(new Mn.uA("firestore",(a,{instanceIdentifier:f,options:w})=>{const I=a.getProvider("app").getImmediate(),G=new Wo(new pt(a.getProvider("auth-internal")),new jn(a.getProvider("app-check-internal")),function(ue,Ee){if(!Object.prototype.hasOwnProperty.apply(ue.options,["projectId"]))throw new xe(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hs(ue.options.projectId,Ee)}(I,f),I);return w=Object.assign({useFetchStreams:r},w),G._setSettings(w),G},"PUBLIC").setMultipleInstances(!0)),(0,Cn.registerVersion)(mt,"4.7.3",t),(0,Cn.registerVersion)(mt,"4.7.3","esm2017")}();class Op{constructor(t){this._delegate=t}static fromBase64String(t){return zv(),new Op(Ud.fromBase64String(t))}static fromUint8Array(t){return d_(),new Op(Ud.fromUint8Array(t))}toBase64(){return zv(),this._delegate.toBase64()}toUint8Array(){return d_(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xp(c){return function eb(c,t){if("object"!=typeof c||null===c)return!1;const r=c;for(const a of t)if(a in r&&"function"==typeof r[a])return!0;return!1}(c,["next","error","complete"])}class tb{enableIndexedDbPersistence(t,r){return function yv(c,t){ei("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=c._freezeSettings();return Tg(c,Of.provider,{build:a=>new lv(a,r.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(t){return function Eg(c){return Cg.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function A0(c){if(c._initialized&&!c._terminated)throw new xe(bt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ft;return c._queue.enqueueAndForgetEvenWhileRestricted((0,je.A)(function*(){try{yield(r=(0,je.A)(function*(f){if(!gr.D())return Promise.resolve();const w=f+"main";yield gr.delete(w)}),function a(f){return r.apply(this,arguments)})(Oa(c._databaseId,c._persistenceKey)),t.resolve()}catch(r){t.reject(r)}var r})),t.promise}(t._delegate)}}class Kv{constructor(t,r,a){this._delegate=r,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},t instanceof Hs||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const r=this._delegate._getSettings();!t.merge&&r.host!==t.host&&ei("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},r),t)).merge,this._delegate._setSettings(t)}useEmulator(t,r,a={}){!function Wm(c,t,r,a={}){var f;const w=(c=jr(c,Bf))._getSettings(),I=`${t}:${r}`;if("firestore.googleapis.com"!==w.host&&w.host!==I&&ei("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),c._setSettings(Object.assign(Object.assign({},w),{host:I,ssl:!1})),a.mockUserToken){let G,q;if("string"==typeof a.mockUserToken)G=a.mockUserToken,q=Be.MOCK_USER;else{G=(0,wt.Fy)(a.mockUserToken,null===(f=c._app)||void 0===f?void 0:f.options.projectId);const ue=a.mockUserToken.sub||a.mockUserToken.user_id;if(!ue)throw new xe(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");q=new Be(ue)}c._authCredentials=new Ve(new ie(G,q))}}(this._delegate,t,r,a)}enableNetwork(){return function bv(c){return function tf(c){return c.asyncQueue.enqueue((0,je.A)(function*(){const t=yield uv(c),r=yield vp(c);return t.setNetworkEnabled(!0),function(f){const w=tn(f);return w.L_.delete(0),pd(w)}(r)}))}(Ta(c=jr(c,Wo)))}(this._delegate)}disableNetwork(){return function R0(c){return function g0(c){return c.asyncQueue.enqueue((0,je.A)(function*(){const t=yield uv(c),r=yield vp(c);return t.setNetworkEnabled(!1),(a=(0,je.A)(function*(w){const I=tn(w);I.L_.add(0),yield Xa(I),I.q_.set("Offline")}),function f(w){return a.apply(this,arguments)})(r);var a}))}(Ta(c=jr(c,Wo)))}(this._delegate)}enablePersistence(t){let r=!1,a=!1;return t&&(r=!!t.synchronizeTabs,a=!!t.experimentalForceOwningTab,pv("synchronizeTabs",r,"experimentalForceOwningTab",a)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function rf(c){return function(r){const a=new Ft;return r.asyncQueue.enqueueAndForget((0,je.A)(function*(){return function Pu(c,t){return Ah.apply(this,arguments)}(yield yp(r),a)})),a.promise}(Ta(c=jr(c,Wo)))}(this._delegate)}onSnapshotsInSync(t){return function Fg(c,t){return function Vf(c,t){const r=new xf(t);return c.asyncQueue.enqueueAndForget((0,je.A)(function*(){return f=yield ef(c),w=r,tn(f).Y_.add(w),void w.next();var f,w})),()=>{r.Za(),c.asyncQueue.enqueueAndForget((0,je.A)(function*(){return f=yield ef(c),w=r,void tn(f).Y_.delete(w);var f,w}))}}(Ta(c=jr(c,Wo)),Km(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new ch(this,bg(this._delegate,t))}catch(r){throw Lc(r,"collection()","Firestore.collection()")}}doc(t){try{return new ed(this,zm(this._delegate,t))}catch(r){throw Lc(r,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Bc(this,function $m(c,t){if(c=jr(c,Bf),Hm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new xe(bt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fc(c,null,(a=t,new pa(Wn.emptyPath(),a)));var a}(this._delegate,t))}catch(r){throw Lc(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function a_(c,t,r){c=jr(c,Wo);const a=Object.assign(Object.assign({},s_),r);return function(w){if(w.maxAttempts<1)throw new xe(bt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(w,I,G){const q=new Ft;return w.asyncQueue.enqueueAndForget((0,je.A)(function*(){const ue=yield function jm(c){return rh(c).then(t=>t.datastore)}(w);new Vm(w.asyncQueue,ue,G,I,q).au()})),q.promise}(Ta(c),f=>t(new o_(c,f)),a)}(this._delegate,r=>t(new wd(this,r)))}batch(){return Ta(this._delegate),new jg(new Qf(this._delegate,t=>qf(this._delegate,t)))}loadBundle(t){return function Ym(c,t){const r=Ta(c=jr(c,Wo)),a=new T0;return function v0(c,t,r,a){const f=function(I,G){let q;return q="string"==typeof I?zl().encode(I):I,Ee=function(Ee,Ue){if(Ee instanceof Uint8Array)return gp(Ee,void 0);if(Ee instanceof ArrayBuffer)return gp(new Uint8Array(Ee),void 0);if(Ee instanceof ReadableStream)return Ee.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(q),new p0(Ee,G);var Ee}(r,fd(t));c.asyncQueue.enqueueAndForget((0,je.A)(function*(){!function Fm(c,t,r){const a=tn(c);var f;(f=(0,je.A)(function*(I,G,q){try{const ue=yield G.getMetadata();if(yield function(An,Jn){const Bn=tn(An),$i=Zr(Jn.createTime);return Bn.persistence.runTransaction("hasNewerBundle","readonly",hr=>Bn.Gr.getBundleMetadata(hr,Jn.id)).then(hr=>!!hr&&hr.createTime.compareTo($i)>=0)}(I.localStore,ue))return yield G.close(),q._completeWith({taskState:"Success",documentsLoaded:(An=ue).totalDocuments,bytesLoaded:An.totalBytes,totalDocuments:An.totalDocuments,totalBytes:An.totalBytes}),Promise.resolve(new Set);q._updateProgress(E(ue));const Ee=new p(ue,I.localStore,G.serializer);let Ue=yield G.Ua();for(;Ue;){const Jt=yield Ee.la(Ue);Jt&&q._updateProgress(Jt),Ue=yield G.Ua()}const ft=yield Ee.complete();return yield fc(I,ft.Ia,void 0),yield function(An,Jn){const Bn=tn(An);return Bn.persistence.runTransaction("Save bundle","readwrite",$i=>Bn.Gr.saveBundleMetadata($i,Jn))}(I.localStore,ue),q._completeWith(ft.progress),Promise.resolve(ft.Pa)}catch(ue){return ei("SyncEngine",`Loading bundle failed with ${ue}`),q._failWith(ue),Promise.resolve(new Set)}var An}),function w(I,G,q){return f.apply(this,arguments)})(a,t,r).then(f=>{a.sharedClientState.notifyBundleLoaded(f)})}(yield yp(c),f,a)}))}(r,c._databaseId,t,a),a}(this._delegate,t)}namedQuery(t){return function M0(c,t){return function y0(c,t){return c.asyncQueue.enqueue((0,je.A)(function*(){return function(a,f){const w=tn(a);return w.persistence.runTransaction("Get named query","readonly",I=>w.Gr.getNamedQuery(I,f))}(yield _p(c),t)}))}(Ta(c=jr(c,Wo)),t).then(r=>r?new Fc(c,null,r.query):null)}(this._delegate,t).then(r=>r?new Bc(this,r):null)}}class Bg extends uf{constructor(t){super(),this.firestore=t}convertBytes(t){return new Op(new Ud(t))}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return ed.forKey(r,this.firestore,null)}}class wd{constructor(t,r){this._firestore=t,this._delegate=r,this._userDataWriter=new Bg(t)}get(t){const r=uh(t);return this._delegate.get(r).then(a=>new pf(this._firestore,new Gd(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,r.converter)))}set(t,r,a){const f=uh(t);return a?(u_("Transaction.set",a),this._delegate.set(f,r,a)):this._delegate.set(f,r),this}update(t,r,a,...f){const w=uh(t);return 2===arguments.length?this._delegate.update(w,r):this._delegate.update(w,r,a,...f),this}delete(t){const r=uh(t);return this._delegate.delete(r),this}}class jg{constructor(t){this._delegate=t}set(t,r,a){const f=uh(t);return a?(u_("WriteBatch.set",a),this._delegate.set(f,r,a)):this._delegate.set(f,r),this}update(t,r,a,...f){const w=uh(t);return 2===arguments.length?this._delegate.update(w,r):this._delegate.update(w,r,a,...f),this}delete(t){const r=uh(t);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class ff{constructor(t,r,a){this._firestore=t,this._userDataWriter=r,this._delegate=a}fromFirestore(t,r){const a=new Ip(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ug(this._firestore,a),r??{})}toFirestore(t,r){return r?this._delegate.toFirestore(t,r):this._delegate.toFirestore(t)}static getInstance(t,r){const a=ff.INSTANCES;let f=a.get(t);f||(f=new WeakMap,a.set(t,f));let w=f.get(r);return w||(w=new ff(t,new Bg(t),r),f.set(r,w)),w}}ff.INSTANCES=new WeakMap;class ed{constructor(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new Bg(t)}static forPath(t,r,a){if(t.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ed(r,new Ca(r._delegate,a,new gn(t)))}static forKey(t,r,a){return new ed(r,new Ca(r._delegate,a,t))}get id(){return this._delegate.id}get parent(){return new ch(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new ch(this.firestore,bg(this._delegate,t))}catch(r){throw Lc(r,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,wt.Ku)(t))instanceof Ca&&C0(this._delegate,t)}set(t,r){r=u_("DocumentReference.set",r);try{return r?r_(this._delegate,t,r):r_(this._delegate,t)}catch(a){throw Lc(a,"setDoc()","DocumentReference.set()")}}update(t,r,...a){try{return 1===arguments.length?xg(this._delegate,t):xg(this._delegate,t,r,...a)}catch(f){throw Lc(f,"updateDoc()","DocumentReference.update()")}}delete(){return function Ap(c){return qf(jr(c.firestore,Wo),[new Ln(c._key,Ae.none())])}(this._delegate)}onSnapshot(...t){const r=h_(t),a=Pp(t,f=>new pf(this.firestore,new Gd(this.firestore._delegate,this._userDataWriter,f._key,f._document,f.metadata,this._delegate.converter)));return Pg(this._delegate,r,a)}get(t){let r;return r="cache"===t?.source?function Vv(c){c=jr(c,Ca);const t=jr(c.firestore,Wo),r=Ta(t),a=new ah(t);return function m0(c,t){const r=new Ft;return c.asyncQueue.enqueueAndForget((0,je.A)(function*(){return(a=(0,je.A)(function*(w,I,G){try{const q=yield function(Ee,Ue){const ft=tn(Ee);return ft.persistence.runTransaction("read document","readonly",Jt=>ft.localDocuments.getDocument(Jt,Ue))}(w,I);q.isFoundDocument()?G.resolve(q):q.isNoDocument()?G.resolve(null):G.reject(new xe(bt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(q){const ue=we(q,`Failed to get document '${I} from cache`);G.reject(ue)}}),function f(w,I,G){return a.apply(this,arguments)})(yield _p(c),t,r);var a})),r.promise}(r,c._key).then(f=>new Gd(t,a,c._key,f,new Ph(null!==f&&f.hasLocalMutations,!0),c.converter))}(this._delegate):"server"===t?.source?function i_(c){c=jr(c,Ca);const t=jr(c.firestore,Wo);return dv(Ta(t),c._key,{source:"server"}).then(r=>Vg(t,c,r))}(this._delegate):function Fv(c){c=jr(c,Ca);const t=jr(c.firestore,Wo);return dv(Ta(t),c._key).then(r=>Vg(t,c,r))}(this._delegate),r.then(a=>new pf(this.firestore,new Gd(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(t){return new ed(this.firestore,this._delegate.withConverter(t?ff.getInstance(this.firestore,t):null))}}function Lc(c,t,r){return c.message=c.message.replace(t,r),c}function h_(c){for(const t of c)if("object"==typeof t&&!xp(t))return t;return{}}function Pp(c,t){var r,a;let f;return f=xp(c[0])?c[0]:xp(c[1])?c[1]:"function"==typeof c[0]?{next:c[0],error:c[1],complete:c[2]}:{next:c[1],error:c[2],complete:c[3]},{next:w=>{f.next&&f.next(t(w))},error:null===(r=f.error)||void 0===r?void 0:r.bind(f),complete:null===(a=f.complete)||void 0===a?void 0:a.bind(f)}}class pf{constructor(t,r){this._firestore=t,this._delegate=r}get ref(){return new ed(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,r){return this._delegate.get(t,r)}isEqual(t){return Pv(this._delegate,t._delegate)}}class Ug extends pf{data(t){const r=this._delegate.data(t);return this._delegate._converter||function hi(c,t){c||en()}(void 0!==r),r}}class Bc{constructor(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new Bg(t)}where(t,r,a){try{return new Bc(this.firestore,xh(this._delegate,function K1(c,t,r){const a=t,f=Vc("where",c);return kg._create(f,a,r)}(t,r,a)))}catch(f){throw Lc(f,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,r){try{return new Bc(this.firestore,xh(this._delegate,function Qm(c,t="asc"){const r=t,a=Vc("orderBy",c);return $f._create(a,r)}(t,r)))}catch(a){throw Lc(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Bc(this.firestore,xh(this._delegate,function F0(c){return Lf("limit",c),zf._create("limit",c,"F")}(t)))}catch(r){throw Lc(r,"limit()","Query.limit()")}}limitToLast(t){try{return new Bc(this.firestore,xh(this._delegate,function Kf(c){return Lf("limitToLast",c),zf._create("limitToLast",c,"L")}(t)))}catch(r){throw Lc(r,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Bc(this.firestore,xh(this._delegate,function kv(...c){return Yf._create("startAt",c,!0)}(...t)))}catch(r){throw Lc(r,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Bc(this.firestore,xh(this._delegate,function Jm(...c){return Yf._create("startAfter",c,!1)}(...t)))}catch(r){throw Lc(r,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Bc(this.firestore,xh(this._delegate,function V0(...c){return cf._create("endBefore",c,!1)}(...t)))}catch(r){throw Lc(r,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Bc(this.firestore,xh(this._delegate,function L0(...c){return cf._create("endAt",c,!0)}(...t)))}catch(r){throw Lc(r,"endAt()","Query.endAt()")}}isEqual(t){return wg(this._delegate,t._delegate)}get(t){let r;return r="cache"===t?.source?function Og(c){c=jr(c,Fc);const t=jr(c.firestore,Wo),r=Ta(t),a=new ah(t);return function _0(c,t){const r=new Ft;return c.asyncQueue.enqueueAndForget((0,je.A)(function*(){return(a=(0,je.A)(function*(w,I,G){try{const q=yield wa(w,I,!0),ue=new ye(I,q.Ts),Ee=ue.ma(q.documents),Ue=ue.applyChanges(Ee,!1);G.resolve(Ue.snapshot)}catch(q){const ue=we(q,`Failed to execute query '${I} against cache`);G.reject(ue)}}),function f(w,I,G){return a.apply(this,arguments)})(yield _p(c),t,r);var a})),r.promise}(r,c._query).then(f=>new hf(t,a,c,f))}(this._delegate):"server"===t?.source?function Sp(c){c=jr(c,Fc);const t=jr(c.firestore,Wo),r=Ta(t),a=new ah(t);return hv(r,c._query,{source:"server"}).then(f=>new hf(t,a,c,f))}(this._delegate):function Lv(c){c=jr(c,Fc);const t=jr(c.firestore,Wo),r=Ta(t),a=new ah(t);return Zu(c._query),hv(r,c._query).then(f=>new hf(t,a,c,f))}(this._delegate),r.then(a=>new Hg(this.firestore,new hf(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...t){const r=h_(t),a=Pp(t,f=>new Hg(this.firestore,new hf(this.firestore._delegate,this._userDataWriter,this._delegate,f._snapshot)));return Pg(this._delegate,r,a)}withConverter(t){return new Bc(this.firestore,this._delegate.withConverter(t?ff.getInstance(this.firestore,t):null))}}class Yv{constructor(t,r){this._firestore=t,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Ug(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Hg{constructor(t,r){this._firestore=t,this._delegate=r}get query(){return new Bc(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Ug(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(r=>new Yv(this._firestore,r))}forEach(t,r){this._delegate.forEach(a=>{t.call(r,new Ug(this._firestore,a))})}isEqual(t){return Pv(this._delegate,t._delegate)}}class ch extends Bc{constructor(t,r){super(t,r),this.firestore=t,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ed(this.firestore,t):null}doc(t){try{return new ed(this.firestore,void 0===t?zm(this._delegate):zm(this._delegate,t))}catch(r){throw Lc(r,"doc()","CollectionReference.doc()")}}add(t){return function Bv(c,t){const r=jr(c.firestore,Wo),a=zm(c),f=df(c.converter,t);return qf(r,[Sg(sf(c.firestore),"addDoc",a._key,f,null!==c.converter,{}).toMutation(a._key,Ae.exists(!1))]).then(()=>a)}(this._delegate,t).then(r=>new ed(this.firestore,r))}isEqual(t){return C0(this._delegate,t._delegate)}withConverter(t){return new ch(this.firestore,this._delegate.withConverter(t?ff.getInstance(this.firestore,t):null))}}function uh(c){return jr(c,Ca)}class Ed{constructor(...t){this._delegate=new Hd(...t)}static documentId(){return new Ed(ni.keyField().canonicalString())}isEqual(t){return(t=(0,wt.Ku)(t))instanceof Hd&&this._delegate._internalPath.isEqual(t._internalPath)}}class gf{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Gv(){return new Tv("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new gf(t)}static delete(){const t=function l_(){return new wp("deleteField")}();return t._methodName="FieldValue.delete",new gf(t)}static arrayUnion(...t){const r=function c_(...c){return new Dv("arrayUnion",c)}(...t);return r._methodName="FieldValue.arrayUnion",new gf(r)}static arrayRemove(...t){const r=function z0(...c){return new Ep("arrayRemove",c)}(...t);return r._methodName="FieldValue.arrayRemove",new gf(r)}static increment(t){const r=function K0(c){return new Iv("increment",c)}(t);return r._methodName="FieldValue.increment",new gf(r)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const ib={Firestore:Kv,GeoPoint:Oh,Timestamp:Kn,Blob:Op,Transaction:wd,WriteBatch:jg,DocumentReference:ed,DocumentSnapshot:pf,Query:Bc,QueryDocumentSnapshot:Ug,QuerySnapshot:Hg,CollectionReference:ch,FieldPath:Ed,FieldValue:gf,setLogLevel:function nb(c){!function it(c){Ie.setLogLevel(c)}(c)},CACHE_SIZE_UNLIMITED:-1};!function rb(c){(function f_(c,t){c.INTERNAL.registerComponent(new Mn.uA("firestore-compat",r=>{const a=r.getProvider("app-compat").getImmediate(),f=r.getProvider("firestore").getImmediate();return t(a,f)},"PUBLIC").setServiceProps(Object.assign({},ib)))})(c,(t,r)=>new Kv(t,r,new tb)),c.registerVersion("@firebase/firestore-compat","0.3.38")}(Wt.A);var Fp=B(7935);function mf(c,t){return function Xv(c,t=Ye.E){return new Oe.c(r=>{let a;return null!=t?t.schedule(()=>{a=c.onSnapshot({includeMetadataChanges:!0},r)}):a=c.onSnapshot({includeMetadataChanges:!0},r),()=>{a?.()}})}(c,t)}function Lp(c,t){return mf(c,t).pipe((0,st.T)(r=>({payload:r,type:"query"})))}class Jf{ref;afs;constructor(t,r){this.ref=t,this.afs=r}set(t,r){return this.ref.set(t,r)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,r){const a=this.ref.collection(t),{ref:f,query:w}=__(a,r);return new m_(f,w,this.afs)}snapshotChanges(){return function Vp(c,t){return mf(c,t).pipe((0,Ne.Z)(void 0),(0,Fe.J)(),(0,st.T)(r=>{const[a,f]=r;return f.exists?a?.exists?{payload:f,type:"modified"}:{payload:f,type:"added"}:{payload:f,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_e.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,st.T)(({payload:r})=>t.idField?{...r.data(),[t.idField]:r.id}:r.data()))}get(t){return(0,Xe.H)(this.ref.get(t)).pipe(_e.U0)}}function Bp(c,t){return Lp(c,t).pipe((0,Ne.Z)(void 0),(0,Fe.J)(),(0,st.T)(r=>{const[a,f]=r,w=f.payload.docChanges(),I=w.map(G=>({type:G.type,payload:G}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(f.payload.metadata)&&f.payload.docs.forEach((G,q)=>{const ue=w.find(Ue=>Ue.doc.ref.isEqual(G.ref)),Ee=a?.payload.docs.find(Ue=>Ue.ref.isEqual(G.ref));ue&&JSON.stringify(ue.doc.metadata)===JSON.stringify(G.metadata)||!ue&&Ee&&JSON.stringify(Ee.metadata)===JSON.stringify(G.metadata)||I.push({type:"modified",payload:{oldIndex:q,newIndex:q,type:"modified",doc:G}})}),I}))}function p_(c,t,r){return Bp(c,r).pipe((0,It.S)((a,f)=>function sb(c,t,r){return t.forEach(a=>{r.indexOf(a.type)>-1&&(c=function ob(c,t){switch(t.type){case"added":if(!c[t.newIndex]||!c[t.newIndex].doc.ref.isEqual(t.doc.ref))return g_(c,t.newIndex,0,t);break;case"modified":if(null==c[t.oldIndex]||c[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const r=c.slice();return r.splice(t.oldIndex,1),r.splice(t.newIndex,0,t),r}return g_(c,t.newIndex,1,t)}break;case"removed":if(c[t.oldIndex]&&c[t.oldIndex].doc.ref.isEqual(t.doc.ref))return g_(c,t.oldIndex,1)}return c}(c,a))}),c}(a,f.map(w=>w.payload),t),[]),(0,Rt.F)(),(0,st.T)(a=>a.map(f=>({type:f.type,payload:f}))))}function g_(c,t,r,...a){const f=c.slice();return f.splice(t,r,...a),f}function qv(c){return(!c||0===c.length)&&(c=["added","removed","modified"]),c}class m_{ref;query;afs;constructor(t,r,a){this.ref=t,this.query=r,this.afs=a}stateChanges(t){let r=Bp(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(r=r.pipe((0,st.T)(a=>a.filter(f=>t.indexOf(f.type)>-1)))),r.pipe((0,Ne.Z)(void 0),(0,Fe.J)(),(0,Bt.p)(([a,f])=>f.length>0||!a),(0,st.T)(([,a])=>a),_e.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,It.S)((r,a)=>[...r,...a],[]))}snapshotChanges(t){const r=qv(t);return p_(this.query,r,this.afs.schedulers.outsideAngular).pipe(_e.U0)}valueChanges(t={}){return Lp(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.T)(r=>r.payload.docs.map(a=>t.idField?{...a.data(),[t.idField]:a.id}:a.data())),_e.U0)}get(t){return(0,Xe.H)(this.query.get(t)).pipe(_e.U0)}add(t){return this.ref.add(t)}doc(t){return new Jf(this.ref.doc(t),this.afs)}}class Gg{query;afs;constructor(t,r){this.query=t,this.afs=r}stateChanges(t){return t&&0!==t.length?Bp(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.T)(r=>r.filter(a=>t.indexOf(a.type)>-1)),(0,Bt.p)(r=>r.length>0),_e.U0):Bp(this.query,this.afs.schedulers.outsideAngular).pipe(_e.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,It.S)((r,a)=>[...r,...a],[]))}snapshotChanges(t){const r=qv(t);return p_(this.query,r,this.afs.schedulers.outsideAngular).pipe(_e.U0)}valueChanges(t={}){return Lp(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.T)(a=>a.payload.docs.map(f=>t.idField?{[t.idField]:f.id,...f.data()}:f.data())),_e.U0)}get(t){return(0,Xe.H)(this.query.get(t)).pipe(_e.U0)}}const Qv=new l.nKC("angularfire2.enableFirestorePersistence"),ab=new l.nKC("angularfire2.firestore.persistenceSettings"),lb=new l.nKC("angularfire2.firestore.settings"),cb=new l.nKC("angularfire2.firestore.use-emulator");function __(c,t=(r=>r)){return{query:t(c),ref:c}}let ub=(()=>{class c{schedulers;firestore;persistenceEnabled$;constructor(r,a,f,w,I,G,q,ue,Ee,Ue,ft,Jt,An,Jn,Bn,$i,hr){this.schedulers=q;const zi=(0,le.iB)(r,G,a),xr=Ee;Ue&&(0,Te.gF)(zi,G,ft,An,Jn,Bn,Jt,$i),[this.firestore,this.persistenceEnabled$]=(0,le.BM)(`${zi.name}.firestore`,"AngularFirestore",zi.name,()=>{const bs=G.runOutsideAngular(()=>zi.firestore());if(w&&bs.settings(w),xr&&bs.useEmulator(...xr),f&&!(0,i.Vy)(I)){const Kr=()=>{try{return(0,Xe.H)(bs.enablePersistence(ue||void 0).then(()=>!0,()=>!1))}catch(Ot){return typeof console<"u"&&console.warn(Ot),(0,et.of)(!1)}};return[bs,G.runOutsideAngular(Kr)]}return[bs,(0,et.of)(!1)]},[w,xr,f])}collection(r,a){let f;f="string"==typeof r?this.firestore.collection(r):r;const{ref:w,query:I}=__(f,a),G=this.schedulers.ngZone.run(()=>w);return new m_(G,I,this)}collectionGroup(r,a){const f=a||(I=>I),w=this.firestore.collectionGroup(r);return new Gg(f(w),this)}doc(r){let a;a="string"==typeof r?this.firestore.doc(r):r;const f=this.schedulers.ngZone.run(()=>a);return new Jf(f,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(a){return new(a||c)(l.KVO(le.rx),l.KVO(le.uP,8),l.KVO(Qv,8),l.KVO(lb,8),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(_e.u0),l.KVO(ab,8),l.KVO(cb,8),l.KVO(Te.DS,8),l.KVO(Te.CP,8),l.KVO(Te.yy,8),l.KVO(Te.ZP,8),l.KVO(Te.$z,8),l.KVO(Te.AU,8),l.KVO(Te.UB,8),l.KVO(_e.Jv,8))};static \u0275prov=l.jDH({token:c,factory:c.\u0275fac,providedIn:"any"})}return c})(),db=(()=>{class c{constructor(){Fp.A.registerVersion("angularfire",_e.xv.full,"fst-compat")}static enablePersistence(r){return{ngModule:c,providers:[{provide:Qv,useValue:!0},{provide:ab,useValue:r}]}}static \u0275fac=function(a){return new(a||c)};static \u0275mod=l.$C({type:c});static \u0275inj=l.G2t({providers:[ub]})}return c})()},9253:(un,nt,B)=>{"use strict";B.d(nt,{BM:()=>Rt,Gt:()=>Te,bf:()=>It,e7:()=>Ye,iB:()=>Ne,rx:()=>Xe,uP:()=>et});var i=B(4438),l=B(1825),_e=B(7935);const le=["ngOnDestroy"],Te=(je,Cn,Mn,jt={})=>new Proxy(je,{get:(wt,ge)=>Mn.runOutsideAngular(()=>{if(je[ge])return jt?.spy?.get&&jt.spy.get(ge,je[ge]),je[ge];if(le.indexOf(ge)>-1)return()=>{};const Tn=Cn.toPromise().then(qt=>{const Mt=qt?.[ge];return"function"==typeof Mt?Mt.bind(qt):Mt?.then?Mt.then(He=>Mn.run(()=>He)):Mn.run(()=>Mt)});return new Proxy(()=>{},{get:(qt,Mt)=>Tn[Mt],apply:(qt,Mt,He)=>Tn.then(Se=>{const Le=Se?.(...He);return jt?.spy?.apply&&jt.spy.apply(ge,He,Le),Le})})})}),Ye=(je,Cn)=>{Cn.forEach(Mn=>{Object.getOwnPropertyNames(Mn.prototype||Mn).forEach(jt=>{Object.defineProperty(je.prototype,jt,Object.getOwnPropertyDescriptor(Mn.prototype||Mn,jt))})})};class Oe{constructor(Cn){return Cn}}const Xe=new i.nKC("angularfire2.app.options"),et=new i.nKC("angularfire2.app.name");function Ne(je,Cn,Mn){const wt="object"==typeof Mn&&Mn||{};wt.name=wt.name||"string"==typeof Mn&&Mn||"[DEFAULT]";const Tn=_e.A.apps.filter(qt=>qt&&qt.name===wt.name)[0]||Cn.runOutsideAngular(()=>_e.A.initializeApp(je,wt));try{if(JSON.stringify(je)!==JSON.stringify(Tn.options)){const qt=!!module.hot;Fe("error",`${Tn.name} Firebase App already initialized with different options${qt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Oe(Tn)}const Fe=(je,...Cn)=>{(0,i.naY)()&&typeof console<"u"&&console[je](...Cn)},st={provide:Oe,useFactory:Ne,deps:[Xe,i.SKi,[new i.Xx1,et]]};let It=(()=>{class je{static initializeApp(Mn,jt){return{ngModule:je,providers:[{provide:Xe,useValue:Mn},{provide:et,useValue:jt}]}}constructor(Mn){_e.A.registerVersion("angularfire",l.xv.full,"core"),_e.A.registerVersion("angularfire",l.xv.full,"app-compat"),_e.A.registerVersion("angular",i.xvI.full,Mn.toString())}static \u0275fac=function(jt){return new(jt||je)(i.KVO(i.Agw))};static \u0275mod=i.$C({type:je});static \u0275inj=i.G2t({providers:[st]})}return je})();function Rt(je,Cn,Mn,jt,wt){const[,ge,Tn]=globalThis.\u0275AngularfireInstanceCache.find(qt=>qt[0]===je)||[];if(ge)return function Bt(je,Cn){try{return je.toString()===Cn.toString()}catch{return je===Cn}}(wt,Tn)||(Wt("error",`${Cn} was already initialized on the ${Mn} Firebase App with different settings.${fn?" You may need to reload as Firebase is not HMR aware.":""}`),Wt("warn",{is:wt,was:Tn})),ge;{const qt=jt();return globalThis.\u0275AngularfireInstanceCache.push([je,qt,wt]),qt}}const fn=typeof module<"u"&&!!module.hot,Wt=(je,...Cn)=>{(0,i.naY)()&&typeof console<"u"&&console[je](...Cn)};globalThis.\u0275AngularfireInstanceCache||=[]},1825:(un,nt,B)=>{"use strict";B.d(nt,{xv:()=>Bt,U0:()=>Qt,u0:()=>Tn,Jv:()=>Cn});var i=B(4438),l=B(7852);(0,l.registerVersion)("firebase","10.14.1","app");var Te=B(6780),Oe=B(9687);const et=new class Xe extends Oe.q{}(class Ye extends Te.R{constructor(Zn,En){super(Zn,En),this.scheduler=Zn,this.work=En}schedule(Zn,En=0){return En>0?super.schedule(Zn,En):(this.delay=En,this.state=Zn,this.scheduler.flush(this),this)}execute(Zn,En){return En>0||this.closed?super.execute(Zn,En):this._execute(Zn,En)}requestAsyncId(Zn,En,ri=0){return null!=ri&&ri>0||null==ri&&this.delay>0?super.requestAsyncId(Zn,En,ri):(Zn.flush(this),0)}});var Fe=B(3236),st=B(8141),It=B(6745),Rt=B(941);const Bt=new i.RxE("ANGULARFIRE2_VERSION");class Cn{constructor(){return(($n,Zn)=>{const En=(0,l.getApps)(),ri=[];return En.forEach(mt=>{mt.container.getProvider($n).instances.forEach(Ze=>{ri.includes(Ze)||ri.push(Ze)})}),ri})(Mn)}}const Mn="app-check";function jt(){}class wt{zone;delegate;constructor(Zn,En=et){this.zone=Zn,this.delegate=En}now(){return this.delegate.now()}schedule(Zn,En,ri){const mt=this.zone;return this.delegate.schedule(function(Ze){mt.runGuarded(()=>{Zn.apply(this,[Ze])})},En,ri)}}class ge{zone;task=null;constructor(Zn){this.zone=Zn}call(Zn,En){const ri=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jt,{},jt,jt)),En.pipe((0,st.M)({next:ri,complete:ri,error:ri})).subscribe(Zn).add(ri)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tn=(()=>{class $n{ngZone;outsideAngular;insideAngular;constructor(En){this.ngZone=En,this.outsideAngular=En.runOutsideAngular(()=>new wt(Zone.current)),this.insideAngular=En.run(()=>new wt(Zone.current,Fe.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ri){return new(ri||$n)(i.KVO(i.SKi))};static \u0275prov=i.jDH({token:$n,factory:$n.\u0275fac,providedIn:"root"})}return $n})();function Qt($n){return function Rn($n){return function(En){return(En=En.lift(new ge($n.ngZone))).pipe((0,It._)($n.outsideAngular),(0,Rt.Q)($n.insideAngular))}}(function qt(){const $n=globalThis.\u0275AngularFireScheduler;if(!$n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return $n}())($n)}},9417:(un,nt,B)=>{"use strict";B.d(nt,{BC:()=>xe,JD:()=>ns,MJ:()=>Ls,MR:()=>So,Q0:()=>vr,X1:()=>Nr,YN:()=>wr,YS:()=>oo,Zm:()=>Ne,cV:()=>Cs,cb:()=>Ft,cz:()=>Wt,gE:()=>Un,hs:()=>aa,j4:()=>xo,k0:()=>Mn,kq:()=>Xe,l_:()=>Ti,mP:()=>It,me:()=>Rt,ok:()=>$s,qT:()=>Pa,vO:()=>cn,vS:()=>_r,xH:()=>qs,xh:()=>ms,xq:()=>ha,y7:()=>Gs});var i=B(4438),l=B(177),_e=B(8455),le=B(7468),Te=B(6354);let Ye=(()=>{class ce{constructor(Q,De){this._renderer=Q,this._elementRef=De,this.onChange=lt=>{},this.onTouched=()=>{}}setProperty(Q,De){this._renderer.setProperty(this._elementRef.nativeElement,Q,De)}registerOnTouched(Q){this.onTouched=Q}registerOnChange(Q){this.onChange=Q}setDisabledState(Q){this.setProperty("disabled",Q)}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(i.sFG),i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:ce})}}return ce})(),Oe=(()=>{class ce extends Ye{static{this.\u0275fac=(()=>{let Q;return function(lt){return(Q||(Q=i.xGo(ce)))(lt||ce)}})()}static{this.\u0275dir=i.FsC({type:ce,features:[i.Vt3]})}}return ce})();const Xe=new i.nKC(""),et={provide:Xe,useExisting:(0,i.Rfq)(()=>Ne),multi:!0};let Ne=(()=>{class ce extends Oe{writeValue(Q){this.setProperty("checked",Q)}static{this.\u0275fac=(()=>{let Q;return function(lt){return(Q||(Q=i.xGo(ce)))(lt||ce)}})()}static{this.\u0275dir=i.FsC({type:ce,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(De,lt){1&De&&i.bIt("change",function(ji){return lt.onChange(ji.target.checked)})("blur",function(){return lt.onTouched()})},features:[i.Jv_([et]),i.Vt3]})}}return ce})();const Fe={provide:Xe,useExisting:(0,i.Rfq)(()=>Rt),multi:!0},It=new i.nKC("");let Rt=(()=>{class ce extends Ye{constructor(Q,De,lt){super(Q,De),this._compositionMode=lt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function st(){const ce=(0,l.QT)()?(0,l.QT)().getUserAgent():"";return/android (\d+)/.test(ce.toLowerCase())}())}writeValue(Q){this.setProperty("value",Q??"")}_handleInput(Q){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Q)}_compositionStart(){this._composing=!0}_compositionEnd(Q){this._composing=!1,this._compositionMode&&this.onChange(Q)}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(It,8))}}static{this.\u0275dir=i.FsC({type:ce,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(De,lt){1&De&&i.bIt("input",function(ji){return lt._handleInput(ji.target.value)})("blur",function(){return lt.onTouched()})("compositionstart",function(){return lt._compositionStart()})("compositionend",function(ji){return lt._compositionEnd(ji.target.value)})},features:[i.Jv_([Fe]),i.Vt3]})}}return ce})();function Bt(ce){return null==ce||("string"==typeof ce||Array.isArray(ce))&&0===ce.length}function fn(ce){return null!=ce&&"number"==typeof ce.length}const Wt=new i.nKC(""),je=new i.nKC(""),Cn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Mn{static min(pe){return function jt(ce){return pe=>{if(Bt(pe.value)||Bt(ce))return null;const Q=parseFloat(pe.value);return!isNaN(Q)&&Q<ce?{min:{min:ce,actual:pe.value}}:null}}(pe)}static max(pe){return function wt(ce){return pe=>{if(Bt(pe.value)||Bt(ce))return null;const Q=parseFloat(pe.value);return!isNaN(Q)&&Q>ce?{max:{max:ce,actual:pe.value}}:null}}(pe)}static required(pe){return ge(pe)}static requiredTrue(pe){return Tn(pe)}static email(pe){return function qt(ce){return Bt(ce.value)||Cn.test(ce.value)?null:{email:!0}}(pe)}static minLength(pe){return Mt(pe)}static maxLength(pe){return function He(ce){return pe=>fn(pe.value)&&pe.value.length>ce?{maxlength:{requiredLength:ce,actualLength:pe.value.length}}:null}(pe)}static pattern(pe){return function Se(ce){if(!ce)return Le;let pe,Q;return"string"==typeof ce?(Q="","^"!==ce.charAt(0)&&(Q+="^"),Q+=ce,"$"!==ce.charAt(ce.length-1)&&(Q+="$"),pe=new RegExp(Q)):(Q=ce.toString(),pe=ce),De=>{if(Bt(De.value))return null;const lt=De.value;return pe.test(lt)?null:{pattern:{requiredPattern:Q,actualValue:lt}}}}(pe)}static nullValidator(pe){return null}static compose(pe){return En(pe)}static composeAsync(pe){return mt(pe)}}function ge(ce){return Bt(ce.value)?{required:!0}:null}function Tn(ce){return!0===ce.value?null:{required:!0}}function Mt(ce){return pe=>Bt(pe.value)||!fn(pe.value)?null:pe.value.length<ce?{minlength:{requiredLength:ce,actualLength:pe.value.length}}:null}function Le(ce){return null}function Qt(ce){return null!=ce}function Rn(ce){return(0,i.jNT)(ce)?(0,_e.H)(ce):ce}function Xn(ce){let pe={};return ce.forEach(Q=>{pe=null!=Q?{...pe,...Q}:pe}),0===Object.keys(pe).length?null:pe}function ai(ce,pe){return pe.map(Q=>Q(ce))}function Zn(ce){return ce.map(pe=>function $n(ce){return!ce.validate}(pe)?pe:Q=>pe.validate(Q))}function En(ce){if(!ce)return null;const pe=ce.filter(Qt);return 0==pe.length?null:function(Q){return Xn(ai(Q,pe))}}function ri(ce){return null!=ce?En(Zn(ce)):null}function mt(ce){if(!ce)return null;const pe=ce.filter(Qt);return 0==pe.length?null:function(Q){const De=ai(Q,pe).map(Rn);return(0,le.p)(De).pipe((0,Te.T)(Xn))}}function Be(ce){return null!=ce?mt(Zn(ce)):null}function Ze(ce,pe){return null===ce?[pe]:Array.isArray(ce)?[...ce,pe]:[ce,pe]}function Ie(ce){return ce._rawValidators}function Ke(ce){return ce._rawAsyncValidators}function it(ce){return ce?Array.isArray(ce)?ce:[ce]:[]}function ot(ce,pe){return Array.isArray(ce)?ce.includes(pe):ce===pe}function On(ce,pe){const Q=it(pe);return it(ce).forEach(lt=>{ot(Q,lt)||Q.push(lt)}),Q}function ei(ce,pe){return it(pe).filter(Q=>!ot(ce,Q))}class Vn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(pe){this._rawValidators=pe||[],this._composedValidatorFn=ri(this._rawValidators)}_setAsyncValidators(pe){this._rawAsyncValidators=pe||[],this._composedAsyncValidatorFn=Be(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(pe){this._onDestroyCallbacks.push(pe)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(pe=>pe()),this._onDestroyCallbacks=[]}reset(pe=void 0){this.control&&this.control.reset(pe)}hasError(pe,Q){return!!this.control&&this.control.hasError(pe,Q)}getError(pe,Q){return this.control?this.control.getError(pe,Q):null}}class en extends Vn{get formDirective(){return null}get path(){return null}}class cn extends Vn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hi{constructor(pe){this._cd=pe}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xe=(()=>{class ce extends hi{constructor(Q){super(Q)}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(cn,2))}}static{this.\u0275dir=i.FsC({type:ce,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(De,lt){2&De&&i.AVh("ng-untouched",lt.isUntouched)("ng-touched",lt.isTouched)("ng-pristine",lt.isPristine)("ng-dirty",lt.isDirty)("ng-valid",lt.isValid)("ng-invalid",lt.isInvalid)("ng-pending",lt.isPending)},features:[i.Vt3]})}}return ce})(),Ft=(()=>{class ce extends hi{constructor(Q){super(Q)}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(en,10))}}static{this.\u0275dir=i.FsC({type:ce,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(De,lt){2&De&&i.AVh("ng-untouched",lt.isUntouched)("ng-touched",lt.isTouched)("ng-pristine",lt.isPristine)("ng-dirty",lt.isDirty)("ng-valid",lt.isValid)("ng-invalid",lt.isInvalid)("ng-pending",lt.isPending)("ng-submitted",lt.isSubmitted)},features:[i.Vt3]})}}return ce})();const Wn="VALID",ws="INVALID",ni="PENDING",gn="DISABLED";function Fr(ce){return(Tt(ce)?ce.validators:ce)||null}function Rr(ce,pe){return(Tt(pe)?pe.asyncValidators:ce)||null}function Tt(ce){return null!=ce&&!Array.isArray(ce)&&"object"==typeof ce}function $e(ce,pe,Q){const De=ce.controls;if(!(pe?Object.keys(De):De).length)throw new i.wOt(1e3,"");if(!De[Q])throw new i.wOt(1001,"")}function ht(ce,pe,Q){ce._forEachChild((De,lt)=>{if(void 0===Q[lt])throw new i.wOt(1002,"")})}class yn{constructor(pe,Q){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(pe),this._assignAsyncValidators(Q)}get validator(){return this._composedValidatorFn}set validator(pe){this._rawValidators=this._composedValidatorFn=pe}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(pe){this._rawAsyncValidators=this._composedAsyncValidatorFn=pe}get parent(){return this._parent}get valid(){return this.status===Wn}get invalid(){return this.status===ws}get pending(){return this.status==ni}get disabled(){return this.status===gn}get enabled(){return this.status!==gn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(pe){this._assignValidators(pe)}setAsyncValidators(pe){this._assignAsyncValidators(pe)}addValidators(pe){this.setValidators(On(pe,this._rawValidators))}addAsyncValidators(pe){this.setAsyncValidators(On(pe,this._rawAsyncValidators))}removeValidators(pe){this.setValidators(ei(pe,this._rawValidators))}removeAsyncValidators(pe){this.setAsyncValidators(ei(pe,this._rawAsyncValidators))}hasValidator(pe){return ot(this._rawValidators,pe)}hasAsyncValidator(pe){return ot(this._rawAsyncValidators,pe)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(pe={}){this.touched=!0,this._parent&&!pe.onlySelf&&this._parent.markAsTouched(pe)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(pe=>pe.markAllAsTouched())}markAsUntouched(pe={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Q=>{Q.markAsUntouched({onlySelf:!0})}),this._parent&&!pe.onlySelf&&this._parent._updateTouched(pe)}markAsDirty(pe={}){this.pristine=!1,this._parent&&!pe.onlySelf&&this._parent.markAsDirty(pe)}markAsPristine(pe={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Q=>{Q.markAsPristine({onlySelf:!0})}),this._parent&&!pe.onlySelf&&this._parent._updatePristine(pe)}markAsPending(pe={}){this.status=ni,!1!==pe.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!pe.onlySelf&&this._parent.markAsPending(pe)}disable(pe={}){const Q=this._parentMarkedDirty(pe.onlySelf);this.status=gn,this.errors=null,this._forEachChild(De=>{De.disable({...pe,onlySelf:!0})}),this._updateValue(),!1!==pe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...pe,skipPristineCheck:Q}),this._onDisabledChange.forEach(De=>De(!0))}enable(pe={}){const Q=this._parentMarkedDirty(pe.onlySelf);this.status=Wn,this._forEachChild(De=>{De.enable({...pe,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:pe.emitEvent}),this._updateAncestors({...pe,skipPristineCheck:Q}),this._onDisabledChange.forEach(De=>De(!1))}_updateAncestors(pe){this._parent&&!pe.onlySelf&&(this._parent.updateValueAndValidity(pe),pe.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(pe){this._parent=pe}getRawValue(){return this.value}updateValueAndValidity(pe={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wn||this.status===ni)&&this._runAsyncValidator(pe.emitEvent)),!1!==pe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!pe.onlySelf&&this._parent.updateValueAndValidity(pe)}_updateTreeValidity(pe={emitEvent:!0}){this._forEachChild(Q=>Q._updateTreeValidity(pe)),this.updateValueAndValidity({onlySelf:!0,emitEvent:pe.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gn:Wn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(pe){if(this.asyncValidator){this.status=ni,this._hasOwnPendingAsyncValidator=!0;const Q=Rn(this.asyncValidator(this));this._asyncValidationSubscription=Q.subscribe(De=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(De,{emitEvent:pe})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(pe,Q={}){this.errors=pe,this._updateControlsErrors(!1!==Q.emitEvent)}get(pe){let Q=pe;return null==Q||(Array.isArray(Q)||(Q=Q.split(".")),0===Q.length)?null:Q.reduce((De,lt)=>De&&De._find(lt),this)}getError(pe,Q){const De=Q?this.get(Q):this;return De&&De.errors?De.errors[pe]:null}hasError(pe,Q){return!!this.getError(pe,Q)}get root(){let pe=this;for(;pe._parent;)pe=pe._parent;return pe}_updateControlsErrors(pe){this.status=this._calculateStatus(),pe&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(pe)}_initObservables(){this.valueChanges=new i.bkB,this.statusChanges=new i.bkB}_calculateStatus(){return this._allControlsDisabled()?gn:this.errors?ws:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ni)?ni:this._anyControlsHaveStatus(ws)?ws:Wn}_anyControlsHaveStatus(pe){return this._anyControls(Q=>Q.status===pe)}_anyControlsDirty(){return this._anyControls(pe=>pe.dirty)}_anyControlsTouched(){return this._anyControls(pe=>pe.touched)}_updatePristine(pe={}){this.pristine=!this._anyControlsDirty(),this._parent&&!pe.onlySelf&&this._parent._updatePristine(pe)}_updateTouched(pe={}){this.touched=this._anyControlsTouched(),this._parent&&!pe.onlySelf&&this._parent._updateTouched(pe)}_registerOnCollectionChange(pe){this._onCollectionChange=pe}_setUpdateStrategy(pe){Tt(pe)&&null!=pe.updateOn&&(this._updateOn=pe.updateOn)}_parentMarkedDirty(pe){return!pe&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(pe){return null}_assignValidators(pe){this._rawValidators=Array.isArray(pe)?pe.slice():pe,this._composedValidatorFn=function Es(ce){return Array.isArray(ce)?ri(ce):ce||null}(this._rawValidators)}_assignAsyncValidators(pe){this._rawAsyncValidators=Array.isArray(pe)?pe.slice():pe,this._composedAsyncValidatorFn=function vt(ce){return Array.isArray(ce)?Be(ce):ce||null}(this._rawAsyncValidators)}}class Un extends yn{constructor(pe,Q,De){super(Fr(Q),Rr(De,Q)),this.controls=pe,this._initObservables(),this._setUpdateStrategy(Q),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(pe,Q){return this.controls[pe]?this.controls[pe]:(this.controls[pe]=Q,Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange),Q)}addControl(pe,Q,De={}){this.registerControl(pe,Q),this.updateValueAndValidity({emitEvent:De.emitEvent}),this._onCollectionChange()}removeControl(pe,Q={}){this.controls[pe]&&this.controls[pe]._registerOnCollectionChange(()=>{}),delete this.controls[pe],this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}setControl(pe,Q,De={}){this.controls[pe]&&this.controls[pe]._registerOnCollectionChange(()=>{}),delete this.controls[pe],Q&&this.registerControl(pe,Q),this.updateValueAndValidity({emitEvent:De.emitEvent}),this._onCollectionChange()}contains(pe){return this.controls.hasOwnProperty(pe)&&this.controls[pe].enabled}setValue(pe,Q={}){ht(this,0,pe),Object.keys(pe).forEach(De=>{$e(this,!0,De),this.controls[De].setValue(pe[De],{onlySelf:!0,emitEvent:Q.emitEvent})}),this.updateValueAndValidity(Q)}patchValue(pe,Q={}){null!=pe&&(Object.keys(pe).forEach(De=>{const lt=this.controls[De];lt&&lt.patchValue(pe[De],{onlySelf:!0,emitEvent:Q.emitEvent})}),this.updateValueAndValidity(Q))}reset(pe={},Q={}){this._forEachChild((De,lt)=>{De.reset(pe?pe[lt]:null,{onlySelf:!0,emitEvent:Q.emitEvent})}),this._updatePristine(Q),this._updateTouched(Q),this.updateValueAndValidity(Q)}getRawValue(){return this._reduceChildren({},(pe,Q,De)=>(pe[De]=Q.getRawValue(),pe))}_syncPendingControls(){let pe=this._reduceChildren(!1,(Q,De)=>!!De._syncPendingControls()||Q);return pe&&this.updateValueAndValidity({onlySelf:!0}),pe}_forEachChild(pe){Object.keys(this.controls).forEach(Q=>{const De=this.controls[Q];De&&pe(De,Q)})}_setUpControls(){this._forEachChild(pe=>{pe.setParent(this),pe._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(pe){for(const[Q,De]of Object.entries(this.controls))if(this.contains(Q)&&pe(De))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Q,De,lt)=>((De.enabled||this.disabled)&&(Q[lt]=De.value),Q))}_reduceChildren(pe,Q){let De=pe;return this._forEachChild((lt,ii)=>{De=Q(De,lt,ii)}),De}_allControlsDisabled(){for(const pe of Object.keys(this.controls))if(this.controls[pe].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(pe){return this.controls.hasOwnProperty(pe)?this.controls[pe]:null}}class zt extends Un{}const kn=new i.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>rt}),rt="always";function Oi(ce,pe){return[...pe.path,ce]}function gr(ce,pe,Q=rt){Ur(ce,pe),pe.valueAccessor.writeValue(ce.value),(ce.disabled||"always"===Q)&&pe.valueAccessor.setDisabledState?.(ce.disabled),function Do(ce,pe){pe.valueAccessor.registerOnChange(Q=>{ce._pendingValue=Q,ce._pendingChange=!0,ce._pendingDirty=!0,"change"===ce.updateOn&&mr(ce,pe)})}(ce,pe),function No(ce,pe){const Q=(De,lt)=>{pe.valueAccessor.writeValue(De),lt&&pe.viewToModelUpdate(De)};ce.registerOnChange(Q),pe._registerOnDestroy(()=>{ce._unregisterOnChange(Q)})}(ce,pe),function Da(ce,pe){pe.valueAccessor.registerOnTouched(()=>{ce._pendingTouched=!0,"blur"===ce.updateOn&&ce._pendingChange&&mr(ce,pe),"submit"!==ce.updateOn&&ce.markAsTouched()})}(ce,pe),function qi(ce,pe){if(pe.valueAccessor.setDisabledState){const Q=De=>{pe.valueAccessor.setDisabledState(De)};ce.registerOnDisabledChange(Q),pe._registerOnDestroy(()=>{ce._unregisterOnDisabledChange(Q)})}}(ce,pe)}function Ai(ce,pe,Q=!0){const De=()=>{};pe.valueAccessor&&(pe.valueAccessor.registerOnChange(De),pe.valueAccessor.registerOnTouched(De)),Us(ce,pe),ce&&(pe._invokeOnDestroyCallbacks(),ce._registerOnCollectionChange(()=>{}))}function li(ce,pe){ce.forEach(Q=>{Q.registerOnValidatorChange&&Q.registerOnValidatorChange(pe)})}function Ur(ce,pe){const Q=Ie(ce);null!==pe.validator?ce.setValidators(Ze(Q,pe.validator)):"function"==typeof Q&&ce.setValidators([Q]);const De=Ke(ce);null!==pe.asyncValidator?ce.setAsyncValidators(Ze(De,pe.asyncValidator)):"function"==typeof De&&ce.setAsyncValidators([De]);const lt=()=>ce.updateValueAndValidity();li(pe._rawValidators,lt),li(pe._rawAsyncValidators,lt)}function Us(ce,pe){let Q=!1;if(null!==ce){if(null!==pe.validator){const lt=Ie(ce);if(Array.isArray(lt)&&lt.length>0){const ii=lt.filter(ji=>ji!==pe.validator);ii.length!==lt.length&&(Q=!0,ce.setValidators(ii))}}if(null!==pe.asyncValidator){const lt=Ke(ce);if(Array.isArray(lt)&&lt.length>0){const ii=lt.filter(ji=>ji!==pe.asyncValidator);ii.length!==lt.length&&(Q=!0,ce.setAsyncValidators(ii))}}}const De=()=>{};return li(pe._rawValidators,De),li(pe._rawAsyncValidators,De),Q}function mr(ce,pe){ce._pendingDirty&&ce.markAsDirty(),ce.setValue(ce._pendingValue,{emitModelToViewChange:!1}),pe.viewToModelUpdate(ce._pendingValue),ce._pendingChange=!1}function Zo(ce,pe){Ur(ce,pe)}function Mi(ce,pe){if(!ce.hasOwnProperty("model"))return!1;const Q=ce.model;return!!Q.isFirstChange()||!Object.is(pe,Q.currentValue)}function Yi(ce,pe){ce._syncPendingControls(),pe.forEach(Q=>{const De=Q.control;"submit"===De.updateOn&&De._pendingChange&&(Q.viewToModelUpdate(De._pendingValue),De._pendingChange=!1)})}function oi(ce,pe){if(!pe)return null;let Q,De,lt;return Array.isArray(pe),pe.forEach(ii=>{ii.constructor===Rt?Q=ii:function gi(ce){return Object.getPrototypeOf(ce.constructor)===Oe}(ii)?De=ii:lt=ii}),lt||De||Q||null}const Er={provide:en,useExisting:(0,i.Rfq)(()=>Cs)},ts=Promise.resolve();let Cs=(()=>{class ce extends en{constructor(Q,De,lt){super(),this.callSetDisabledState=lt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.bkB,this.form=new Un({},ri(Q),Be(De))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Q){ts.then(()=>{const De=this._findContainer(Q.path);Q.control=De.registerControl(Q.name,Q.control),gr(Q.control,Q,this.callSetDisabledState),Q.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Q)})}getControl(Q){return this.form.get(Q.path)}removeControl(Q){ts.then(()=>{const De=this._findContainer(Q.path);De&&De.removeControl(Q.name),this._directives.delete(Q)})}addFormGroup(Q){ts.then(()=>{const De=this._findContainer(Q.path),lt=new Un({});Zo(lt,Q),De.registerControl(Q.name,lt),lt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Q){ts.then(()=>{const De=this._findContainer(Q.path);De&&De.removeControl(Q.name)})}getFormGroup(Q){return this.form.get(Q.path)}updateModel(Q,De){ts.then(()=>{this.form.get(Q.path).setValue(De)})}setValue(Q){this.control.setValue(Q)}onSubmit(Q){return this.submitted=!0,Yi(this.form,this._directives),this.ngSubmit.emit(Q),"dialog"===Q?.target?.method}onReset(){this.resetForm()}resetForm(Q=void 0){this.form.reset(Q),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Q){return Q.pop(),Q.length?this.form.get(Q):this.form}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(Wt,10),i.rXU(je,10),i.rXU(kn,8))}}static{this.\u0275dir=i.FsC({type:ce,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(De,lt){1&De&&i.bIt("submit",function(ji){return lt.onSubmit(ji)})("reset",function(){return lt.onReset()})},inputs:{options:[i.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([Er]),i.Vt3]})}}return ce})();function Ks(ce,pe){const Q=ce.indexOf(pe);Q>-1&&ce.splice(Q,1)}function Io(ce){return"object"==typeof ce&&null!==ce&&2===Object.keys(ce).length&&"value"in ce&&"disabled"in ce}const Ls=class extends yn{constructor(pe=null,Q,De){super(Fr(Q),Rr(De,Q)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(pe),this._setUpdateStrategy(Q),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tt(Q)&&(Q.nonNullable||Q.initialValueIsDefault)&&(this.defaultValue=Io(pe)?pe.value:pe)}setValue(pe,Q={}){this.value=this._pendingValue=pe,this._onChange.length&&!1!==Q.emitModelToViewChange&&this._onChange.forEach(De=>De(this.value,!1!==Q.emitViewToModelChange)),this.updateValueAndValidity(Q)}patchValue(pe,Q={}){this.setValue(pe,Q)}reset(pe=this.defaultValue,Q={}){this._applyFormState(pe),this.markAsPristine(Q),this.markAsUntouched(Q),this.setValue(this.value,Q),this._pendingChange=!1}_updateValue(){}_anyControls(pe){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(pe){this._onChange.push(pe)}_unregisterOnChange(pe){Ks(this._onChange,pe)}registerOnDisabledChange(pe){this._onDisabledChange.push(pe)}_unregisterOnDisabledChange(pe){Ks(this._onDisabledChange,pe)}_forEachChild(pe){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(pe){Io(pe)?(this.value=this._pendingValue=pe.value,pe.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=pe}},aa=Ls,Oo={provide:cn,useExisting:(0,i.Rfq)(()=>_r)},Si=Promise.resolve();let _r=(()=>{class ce extends cn{constructor(Q,De,lt,ii,ji,ea){super(),this._changeDetectorRef=ji,this.callSetDisabledState=ea,this.control=new Ls,this._registered=!1,this.name="",this.update=new i.bkB,this._parent=Q,this._setValidators(De),this._setAsyncValidators(lt),this.valueAccessor=oi(0,ii)}ngOnChanges(Q){if(this._checkForErrors(),!this._registered||"name"in Q){if(this._registered&&(this._checkName(),this.formDirective)){const De=Q.name.previousValue;this.formDirective.removeControl({name:De,path:this._getPath(De)})}this._setUpControl()}"isDisabled"in Q&&this._updateDisabled(Q),Mi(Q,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Q){this.viewModel=Q,this.update.emit(Q)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Q){Si.then(()=>{this.control.setValue(Q,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(Q){const De=Q.isDisabled.currentValue,lt=0!==De&&(0,i.L39)(De);Si.then(()=>{lt&&!this.control.disabled?this.control.disable():!lt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(Q){return this._parent?Oi(Q,this._parent):[Q]}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(en,9),i.rXU(Wt,10),i.rXU(je,10),i.rXU(Xe,10),i.rXU(i.gRc,8),i.rXU(kn,8))}}static{this.\u0275dir=i.FsC({type:ce,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"],options:[i.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Jv_([Oo]),i.Vt3,i.OA$]})}}return ce})(),Pa=(()=>{class ce{static{this.\u0275fac=function(De){return new(De||ce)}}static{this.\u0275dir=i.FsC({type:ce,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return ce})();const ir={provide:Xe,useExisting:(0,i.Rfq)(()=>vr),multi:!0};let vr=(()=>{class ce extends Oe{writeValue(Q){this.setProperty("value",Q??"")}registerOnChange(Q){this.onChange=De=>{Q(""==De?null:parseFloat(De))}}static{this.\u0275fac=(()=>{let Q;return function(lt){return(Q||(Q=i.xGo(ce)))(lt||ce)}})()}static{this.\u0275dir=i.FsC({type:ce,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(De,lt){1&De&&i.bIt("input",function(ji){return lt.onChange(ji.target.value)})("blur",function(){return lt.onTouched()})},features:[i.Jv_([ir]),i.Vt3]})}}return ce})();const yo={provide:Xe,useExisting:(0,i.Rfq)(()=>So),multi:!0};let So=(()=>{class ce extends Oe{writeValue(Q){this.setProperty("value",parseFloat(Q))}registerOnChange(Q){this.onChange=De=>{Q(""==De?null:parseFloat(De))}}static{this.\u0275fac=(()=>{let Q;return function(lt){return(Q||(Q=i.xGo(ce)))(lt||ce)}})()}static{this.\u0275dir=i.FsC({type:ce,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(De,lt){1&De&&i.bIt("change",function(ji){return lt.onChange(ji.target.value)})("input",function(ji){return lt.onChange(ji.target.value)})("blur",function(){return lt.onTouched()})},features:[i.Jv_([yo]),i.Vt3]})}}return ce})();const ki=new i.nKC(""),Mr={provide:cn,useExisting:(0,i.Rfq)(()=>Ti)};let Ti=(()=>{class ce extends cn{set isDisabled(Q){}static{this._ngModelWarningSentOnce=!1}constructor(Q,De,lt,ii,ji){super(),this._ngModelWarningConfig=ii,this.callSetDisabledState=ji,this.update=new i.bkB,this._ngModelWarningSent=!1,this._setValidators(Q),this._setAsyncValidators(De),this.valueAccessor=oi(0,lt)}ngOnChanges(Q){if(this._isControlChanged(Q)){const De=Q.form.previousValue;De&&Ai(De,this,!1),gr(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Mi(Q,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ai(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(Q){this.viewModel=Q,this.update.emit(Q)}_isControlChanged(Q){return Q.hasOwnProperty("form")}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(Wt,10),i.rXU(je,10),i.rXU(Xe,10),i.rXU(ki,8),i.rXU(kn,8))}}static{this.\u0275dir=i.FsC({type:ce,selectors:[["","formControl",""]],inputs:{form:[i.Mj6.None,"formControl","form"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Jv_([Mr]),i.Vt3,i.OA$]})}}return ce})();const rr={provide:en,useExisting:(0,i.Rfq)(()=>xo)};let xo=(()=>{class ce extends en{constructor(Q,De,lt){super(),this.callSetDisabledState=lt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.bkB,this._setValidators(Q),this._setAsyncValidators(De)}ngOnChanges(Q){this._checkFormPresent(),Q.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Us(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Q){const De=this.form.get(Q.path);return gr(De,Q,this.callSetDisabledState),De.updateValueAndValidity({emitEvent:!1}),this.directives.push(Q),De}getControl(Q){return this.form.get(Q.path)}removeControl(Q){Ai(Q.control||null,Q,!1),function wi(ce,pe){const Q=ce.indexOf(pe);Q>-1&&ce.splice(Q,1)}(this.directives,Q)}addFormGroup(Q){this._setUpFormContainer(Q)}removeFormGroup(Q){this._cleanUpFormContainer(Q)}getFormGroup(Q){return this.form.get(Q.path)}addFormArray(Q){this._setUpFormContainer(Q)}removeFormArray(Q){this._cleanUpFormContainer(Q)}getFormArray(Q){return this.form.get(Q.path)}updateModel(Q,De){this.form.get(Q.path).setValue(De)}onSubmit(Q){return this.submitted=!0,Yi(this.form,this.directives),this.ngSubmit.emit(Q),"dialog"===Q?.target?.method}onReset(){this.resetForm()}resetForm(Q=void 0){this.form.reset(Q),this.submitted=!1}_updateDomValue(){this.directives.forEach(Q=>{const De=Q.control,lt=this.form.get(Q.path);De!==lt&&(Ai(De||null,Q),(ce=>ce instanceof Ls)(lt)&&(gr(lt,Q,this.callSetDisabledState),Q.control=lt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Q){const De=this.form.get(Q.path);Zo(De,Q),De.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Q){if(this.form){const De=this.form.get(Q.path);De&&function es(ce,pe){return Us(ce,pe)}(De,Q)&&De.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ur(this.form,this),this._oldForm&&Us(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(Wt,10),i.rXU(je,10),i.rXU(kn,8))}}static{this.\u0275dir=i.FsC({type:ce,selectors:[["","formGroup",""]],hostBindings:function(De,lt){1&De&&i.bIt("submit",function(ji){return lt.onSubmit(ji)})("reset",function(){return lt.onReset()})},inputs:{form:[i.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([rr]),i.Vt3,i.OA$]})}}return ce})();const Fa={provide:cn,useExisting:(0,i.Rfq)(()=>ns)};let ns=(()=>{class ce extends cn{set isDisabled(Q){}static{this._ngModelWarningSentOnce=!1}constructor(Q,De,lt,ii,ji){super(),this._ngModelWarningConfig=ji,this._added=!1,this.name=null,this.update=new i.bkB,this._ngModelWarningSent=!1,this._parent=Q,this._setValidators(De),this._setAsyncValidators(lt),this.valueAccessor=oi(0,ii)}ngOnChanges(Q){this._added||this._setUpControl(),Mi(Q,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Q){this.viewModel=Q,this.update.emit(Q)}get path(){return Oi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(en,13),i.rXU(Wt,10),i.rXU(je,10),i.rXU(Xe,10),i.rXU(ki,8))}}static{this.\u0275dir=i.FsC({type:ce,selectors:[["","formControlName",""]],inputs:{name:[i.Mj6.None,"formControlName","name"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Jv_([Fa]),i.Vt3,i.OA$]})}}return ce})();const Vr={provide:Xe,useExisting:(0,i.Rfq)(()=>Ar),multi:!0};function Yr(ce,pe){return null==ce?`${pe}`:(pe&&"object"==typeof pe&&(pe="Object"),`${ce}: ${pe}`.slice(0,50))}let Ar=(()=>{class ce extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Q){this._compareWith=Q}writeValue(Q){this.value=Q;const lt=Yr(this._getOptionId(Q),Q);this.setProperty("value",lt)}registerOnChange(Q){this.onChange=De=>{this.value=this._getOptionValue(De),Q(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(Q){for(const De of this._optionMap.keys())if(this._compareWith(this._optionMap.get(De),Q))return De;return null}_getOptionValue(Q){const De=function Ia(ce){return ce.split(":")[0]}(Q);return this._optionMap.has(De)?this._optionMap.get(De):Q}static{this.\u0275fac=(()=>{let Q;return function(lt){return(Q||(Q=i.xGo(ce)))(lt||ce)}})()}static{this.\u0275dir=i.FsC({type:ce,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(De,lt){1&De&&i.bIt("change",function(ji){return lt.onChange(ji.target.value)})("blur",function(){return lt.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Vr]),i.Vt3]})}}return ce})(),qs=(()=>{class ce{constructor(Q,De,lt){this._element=Q,this._renderer=De,this._select=lt,this._select&&(this.id=this._select._registerOption())}set ngValue(Q){null!=this._select&&(this._select._optionMap.set(this.id,Q),this._setElementValue(Yr(this.id,Q)),this._select.writeValue(this._select.value))}set value(Q){this._setElementValue(Q),this._select&&this._select.writeValue(this._select.value)}_setElementValue(Q){this._renderer.setProperty(this._element.nativeElement,"value",Q)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(Ar,9))}}static{this.\u0275dir=i.FsC({type:ce,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return ce})();const Li={provide:Xe,useExisting:(0,i.Rfq)(()=>Gi),multi:!0};function Hs(ce,pe){return null==ce?`${pe}`:("string"==typeof pe&&(pe=`'${pe}'`),pe&&"object"==typeof pe&&(pe="Object"),`${ce}: ${pe}`.slice(0,50))}let Gi=(()=>{class ce extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Q){this._compareWith=Q}writeValue(Q){let De;if(this.value=Q,Array.isArray(Q)){const lt=Q.map(ii=>this._getOptionId(ii));De=(ii,ji)=>{ii._setSelected(lt.indexOf(ji.toString())>-1)}}else De=(lt,ii)=>{lt._setSelected(!1)};this._optionMap.forEach(De)}registerOnChange(Q){this.onChange=De=>{const lt=[],ii=De.selectedOptions;if(void 0!==ii){const ji=ii;for(let ea=0;ea<ji.length;ea++){const As=this._getOptionValue(ji[ea].value);lt.push(As)}}else{const ji=De.options;for(let ea=0;ea<ji.length;ea++){const fa=ji[ea];if(fa.selected){const As=this._getOptionValue(fa.value);lt.push(As)}}}this.value=lt,Q(lt)}}_registerOption(Q){const De=(this._idCounter++).toString();return this._optionMap.set(De,Q),De}_getOptionId(Q){for(const De of this._optionMap.keys())if(this._compareWith(this._optionMap.get(De)._value,Q))return De;return null}_getOptionValue(Q){const De=function ro(ce){return ce.split(":")[0]}(Q);return this._optionMap.has(De)?this._optionMap.get(De)._value:Q}static{this.\u0275fac=(()=>{let Q;return function(lt){return(Q||(Q=i.xGo(ce)))(lt||ce)}})()}static{this.\u0275dir=i.FsC({type:ce,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(De,lt){1&De&&i.bIt("change",function(ji){return lt.onChange(ji.target)})("blur",function(){return lt.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Li]),i.Vt3]})}}return ce})(),Gs=(()=>{class ce{constructor(Q,De,lt){this._element=Q,this._renderer=De,this._select=lt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(Q){null!=this._select&&(this._value=Q,this._setElementValue(Hs(this.id,Q)),this._select.writeValue(this._select.value))}set value(Q){this._select?(this._value=Q,this._setElementValue(Hs(this.id,Q)),this._select.writeValue(this._select.value)):this._setElementValue(Q)}_setElementValue(Q){this._renderer.setProperty(this._element.nativeElement,"value",Q)}_setSelected(Q){this._renderer.setProperty(this._element.nativeElement,"selected",Q)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(De){return new(De||ce)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(Gi,9))}}static{this.\u0275dir=i.FsC({type:ce,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return ce})();let hs=(()=>{class ce{constructor(){this._validator=Le}ngOnChanges(Q){if(this.inputName in Q){const De=this.normalizeInput(Q[this.inputName].currentValue);this._enabled=this.enabled(De),this._validator=this._enabled?this.createValidator(De):Le,this._onChange&&this._onChange()}}validate(Q){return this._validator(Q)}registerOnValidatorChange(Q){this._onChange=Q}enabled(Q){return null!=Q}static{this.\u0275fac=function(De){return new(De||ce)}}static{this.\u0275dir=i.FsC({type:ce,features:[i.OA$]})}}return ce})();const Po={provide:Wt,useExisting:(0,i.Rfq)(()=>oo),multi:!0},Os={provide:Wt,useExisting:(0,i.Rfq)(()=>ha),multi:!0};let oo=(()=>{class ce extends hs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.L39,this.createValidator=Q=>ge}enabled(Q){return Q}static{this.\u0275fac=(()=>{let Q;return function(lt){return(Q||(Q=i.xGo(ce)))(lt||ce)}})()}static{this.\u0275dir=i.FsC({type:ce,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(De,lt){2&De&&i.BMQ("required",lt._enabled?"":null)},inputs:{required:"required"},features:[i.Jv_([Po]),i.Vt3]})}}return ce})(),ha=(()=>{class ce extends oo{constructor(){super(...arguments),this.createValidator=Q=>Tn}static{this.\u0275fac=(()=>{let Q;return function(lt){return(Q||(Q=i.xGo(ce)))(lt||ce)}})()}static{this.\u0275dir=i.FsC({type:ce,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(De,lt){2&De&&i.BMQ("required",lt._enabled?"":null)},features:[i.Jv_([Os]),i.Vt3]})}}return ce})();const Ao={provide:Wt,useExisting:(0,i.Rfq)(()=>ms),multi:!0};let ms=(()=>{class ce extends hs{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=Q=>function so(ce){return"number"==typeof ce?ce:parseInt(ce,10)}(Q),this.createValidator=Q=>Mt(Q)}static{this.\u0275fac=(()=>{let Q;return function(lt){return(Q||(Q=i.xGo(ce)))(lt||ce)}})()}static{this.\u0275dir=i.FsC({type:ce,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(De,lt){2&De&&i.BMQ("minlength",lt._enabled?lt.minlength:null)},inputs:{minlength:"minlength"},features:[i.Jv_([Ao]),i.Vt3]})}}return ce})(),fs=(()=>{class ce{static{this.\u0275fac=function(De){return new(De||ce)}}static{this.\u0275mod=i.$C({type:ce})}static{this.\u0275inj=i.G2t({})}}return ce})();class bi extends yn{constructor(pe,Q,De){super(Fr(Q),Rr(De,Q)),this.controls=pe,this._initObservables(),this._setUpdateStrategy(Q),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(pe){return this.controls[this._adjustIndex(pe)]}push(pe,Q={}){this.controls.push(pe),this._registerControl(pe),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}insert(pe,Q,De={}){this.controls.splice(pe,0,Q),this._registerControl(Q),this.updateValueAndValidity({emitEvent:De.emitEvent})}removeAt(pe,Q={}){let De=this._adjustIndex(pe);De<0&&(De=0),this.controls[De]&&this.controls[De]._registerOnCollectionChange(()=>{}),this.controls.splice(De,1),this.updateValueAndValidity({emitEvent:Q.emitEvent})}setControl(pe,Q,De={}){let lt=this._adjustIndex(pe);lt<0&&(lt=0),this.controls[lt]&&this.controls[lt]._registerOnCollectionChange(()=>{}),this.controls.splice(lt,1),Q&&(this.controls.splice(lt,0,Q),this._registerControl(Q)),this.updateValueAndValidity({emitEvent:De.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(pe,Q={}){ht(this,0,pe),pe.forEach((De,lt)=>{$e(this,!1,lt),this.at(lt).setValue(De,{onlySelf:!0,emitEvent:Q.emitEvent})}),this.updateValueAndValidity(Q)}patchValue(pe,Q={}){null!=pe&&(pe.forEach((De,lt)=>{this.at(lt)&&this.at(lt).patchValue(De,{onlySelf:!0,emitEvent:Q.emitEvent})}),this.updateValueAndValidity(Q))}reset(pe=[],Q={}){this._forEachChild((De,lt)=>{De.reset(pe[lt],{onlySelf:!0,emitEvent:Q.emitEvent})}),this._updatePristine(Q),this._updateTouched(Q),this.updateValueAndValidity(Q)}getRawValue(){return this.controls.map(pe=>pe.getRawValue())}clear(pe={}){this.controls.length<1||(this._forEachChild(Q=>Q._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:pe.emitEvent}))}_adjustIndex(pe){return pe<0?pe+this.length:pe}_syncPendingControls(){let pe=this.controls.reduce((Q,De)=>!!De._syncPendingControls()||Q,!1);return pe&&this.updateValueAndValidity({onlySelf:!0}),pe}_forEachChild(pe){this.controls.forEach((Q,De)=>{pe(Q,De)})}_updateValue(){this.value=this.controls.filter(pe=>pe.enabled||this.disabled).map(pe=>pe.value)}_anyControls(pe){return this.controls.some(Q=>Q.enabled&&pe(Q))}_setUpControls(){this._forEachChild(pe=>this._registerControl(pe))}_allControlsDisabled(){for(const pe of this.controls)if(pe.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(pe){pe.setParent(this),pe._registerOnCollectionChange(this._onCollectionChange)}_find(pe){return this.at(pe)??null}}function Ws(ce){return!!ce&&(void 0!==ce.asyncValidators||void 0!==ce.validators||void 0!==ce.updateOn)}let $s=(()=>{class ce{constructor(){this.useNonNullable=!1}get nonNullable(){const Q=new ce;return Q.useNonNullable=!0,Q}group(Q,De=null){const lt=this._reduceControls(Q);let ii={};return Ws(De)?ii=De:null!==De&&(ii.validators=De.validator,ii.asyncValidators=De.asyncValidator),new Un(lt,ii)}record(Q,De=null){const lt=this._reduceControls(Q);return new zt(lt,De)}control(Q,De,lt){let ii={};return this.useNonNullable?(Ws(De)?ii=De:(ii.validators=De,ii.asyncValidators=lt),new Ls(Q,{...ii,nonNullable:!0})):new Ls(Q,De,lt)}array(Q,De,lt){const ii=Q.map(ji=>this._createControl(ji));return new bi(ii,De,lt)}_reduceControls(Q){const De={};return Object.keys(Q).forEach(lt=>{De[lt]=this._createControl(Q[lt])}),De}_createControl(Q){return Q instanceof Ls||Q instanceof yn?Q:Array.isArray(Q)?this.control(Q[0],Q.length>1?Q[1]:null,Q.length>2?Q[2]:null):this.control(Q)}static{this.\u0275fac=function(De){return new(De||ce)}}static{this.\u0275prov=i.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})(),wr=(()=>{class ce{static withConfig(Q){return{ngModule:ce,providers:[{provide:kn,useValue:Q.callSetDisabledState??rt}]}}static{this.\u0275fac=function(De){return new(De||ce)}}static{this.\u0275mod=i.$C({type:ce})}static{this.\u0275inj=i.G2t({imports:[fs]})}}return ce})(),Nr=(()=>{class ce{static withConfig(Q){return{ngModule:ce,providers:[{provide:ki,useValue:Q.warnOnNgModelWithFormControl??"always"},{provide:kn,useValue:Q.callSetDisabledState??rt}]}}static{this.\u0275fac=function(De){return new(De||ce)}}static{this.\u0275mod=i.$C({type:ce})}static{this.\u0275inj=i.G2t({imports:[fs]})}}return ce})()},345:(un,nt,B)=>{"use strict";B.d(nt,{B7:()=>qt,B8:()=>mt,hE:()=>xe,up:()=>os});var i=B(4438),l=B(177);class _e extends l.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends _e{static makeCurrent(){(0,l.ZD)(new le)}onAndCancel(Tt,$e,ht){return Tt.addEventListener($e,ht),()=>{Tt.removeEventListener($e,ht)}}dispatchEvent(Tt,$e){Tt.dispatchEvent($e)}remove(Tt){Tt.parentNode&&Tt.parentNode.removeChild(Tt)}createElement(Tt,$e){return($e=$e||this.getDefaultDocument()).createElement(Tt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Tt){return Tt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Tt){return Tt instanceof DocumentFragment}getGlobalEventTarget(Tt,$e){return"window"===$e?window:"document"===$e?Tt:"body"===$e?Tt.body:null}getBaseHref(Tt){const $e=function Ye(){return Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null}();return null==$e?null:function Oe(vt){return new URL(vt,document.baseURI).pathname}($e)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(Tt){return(0,l._b)(document.cookie,Tt)}}let Te=null,et=(()=>{class vt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(ht){return new(ht||vt)}}static{this.\u0275prov=i.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();const Ne=new i.nKC("");let Fe=(()=>{class vt{constructor($e,ht){this._zone=ht,this._eventNameToPlugin=new Map,$e.forEach(yn=>{yn.manager=this}),this._plugins=$e.slice().reverse()}addEventListener($e,ht,yn){return this._findPluginFor(ht).addEventListener($e,ht,yn)}getZone(){return this._zone}_findPluginFor($e){let ht=this._eventNameToPlugin.get($e);if(ht)return ht;if(ht=this._plugins.find(Un=>Un.supports($e)),!ht)throw new i.wOt(5101,!1);return this._eventNameToPlugin.set($e,ht),ht}static{this.\u0275fac=function(ht){return new(ht||vt)(i.KVO(Ne),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();class st{constructor(Tt){this._doc=Tt}}const It="ng-app-id";let Rt=(()=>{class vt{constructor($e,ht,yn,Un={}){this.doc=$e,this.appId=ht,this.nonce=yn,this.platformId=Un,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,l.Vy)(Un),this.resetHostNodes()}addStyles($e){for(const ht of $e)1===this.changeUsageCount(ht,1)&&this.onStyleAdded(ht)}removeStyles($e){for(const ht of $e)this.changeUsageCount(ht,-1)<=0&&this.onStyleRemoved(ht)}ngOnDestroy(){const $e=this.styleNodesInDOM;$e&&($e.forEach(ht=>ht.remove()),$e.clear());for(const ht of this.getAllStyles())this.onStyleRemoved(ht);this.resetHostNodes()}addHost($e){this.hostNodes.add($e);for(const ht of this.getAllStyles())this.addStyleToHost($e,ht)}removeHost($e){this.hostNodes.delete($e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded($e){for(const ht of this.hostNodes)this.addStyleToHost(ht,$e)}onStyleRemoved($e){const ht=this.styleRef;ht.get($e)?.elements?.forEach(yn=>yn.remove()),ht.delete($e)}collectServerRenderedStyles(){const $e=this.doc.head?.querySelectorAll(`style[${It}="${this.appId}"]`);if($e?.length){const ht=new Map;return $e.forEach(yn=>{null!=yn.textContent&&ht.set(yn.textContent,yn)}),ht}return null}changeUsageCount($e,ht){const yn=this.styleRef;if(yn.has($e)){const Un=yn.get($e);return Un.usage+=ht,Un.usage}return yn.set($e,{usage:ht,elements:[]}),ht}getStyleElement($e,ht){const yn=this.styleNodesInDOM,Un=yn?.get(ht);if(Un?.parentNode===$e)return yn.delete(ht),Un.removeAttribute(It),Un;{const Ge=this.doc.createElement("style");return this.nonce&&Ge.setAttribute("nonce",this.nonce),Ge.textContent=ht,this.platformIsServer&&Ge.setAttribute(It,this.appId),$e.appendChild(Ge),Ge}}addStyleToHost($e,ht){const yn=this.getStyleElement($e,ht),Un=this.styleRef,Ge=Un.get(ht)?.elements;Ge?Ge.push(yn):Un.set(ht,{elements:[yn],usage:1})}resetHostNodes(){const $e=this.hostNodes;$e.clear(),$e.add(this.doc.head)}static{this.\u0275fac=function(ht){return new(ht||vt)(i.KVO(l.qQ),i.KVO(i.sZ2),i.KVO(i.BIS,8),i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();const Bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fn=/%COMP%/g,jt=new i.nKC("",{providedIn:"root",factory:()=>!0});function Tn(vt,Tt){return Tt.map($e=>$e.replace(fn,vt))}let qt=(()=>{class vt{constructor($e,ht,yn,Un,Ge,ze,ut,zt=null){this.eventManager=$e,this.sharedStylesHost=ht,this.appId=yn,this.removeStylesOnCompDestroy=Un,this.doc=Ge,this.platformId=ze,this.ngZone=ut,this.nonce=zt,this.rendererByCompId=new Map,this.platformIsServer=(0,l.Vy)(ze),this.defaultRenderer=new Mt($e,Ge,ut,this.platformIsServer)}createRenderer($e,ht){if(!$e||!ht)return this.defaultRenderer;this.platformIsServer&&ht.encapsulation===i.gXe.ShadowDom&&(ht={...ht,encapsulation:i.gXe.Emulated});const yn=this.getOrCreateRenderer($e,ht);return yn instanceof Xn?yn.applyToHost($e):yn instanceof Rn&&yn.applyStyles(),yn}getOrCreateRenderer($e,ht){const yn=this.rendererByCompId;let Un=yn.get(ht.id);if(!Un){const Ge=this.doc,ze=this.ngZone,ut=this.eventManager,zt=this.sharedStylesHost,Nt=this.removeStylesOnCompDestroy,kn=this.platformIsServer;switch(ht.encapsulation){case i.gXe.Emulated:Un=new Xn(ut,zt,ht,this.appId,Nt,Ge,ze,kn);break;case i.gXe.ShadowDom:return new Qt(ut,zt,$e,ht,Ge,ze,this.nonce,kn);default:Un=new Rn(ut,zt,ht,Nt,Ge,ze,kn)}yn.set(ht.id,Un)}return Un}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(ht){return new(ht||vt)(i.KVO(Fe),i.KVO(Rt),i.KVO(i.sZ2),i.KVO(jt),i.KVO(l.qQ),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(i.BIS))}}static{this.\u0275prov=i.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();class Mt{constructor(Tt,$e,ht,yn){this.eventManager=Tt,this.doc=$e,this.ngZone=ht,this.platformIsServer=yn,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Tt,$e){return $e?this.doc.createElementNS(Bt[$e]||$e,Tt):this.doc.createElement(Tt)}createComment(Tt){return this.doc.createComment(Tt)}createText(Tt){return this.doc.createTextNode(Tt)}appendChild(Tt,$e){(Le(Tt)?Tt.content:Tt).appendChild($e)}insertBefore(Tt,$e,ht){Tt&&(Le(Tt)?Tt.content:Tt).insertBefore($e,ht)}removeChild(Tt,$e){Tt&&Tt.removeChild($e)}selectRootElement(Tt,$e){let ht="string"==typeof Tt?this.doc.querySelector(Tt):Tt;if(!ht)throw new i.wOt(-5104,!1);return $e||(ht.textContent=""),ht}parentNode(Tt){return Tt.parentNode}nextSibling(Tt){return Tt.nextSibling}setAttribute(Tt,$e,ht,yn){if(yn){$e=yn+":"+$e;const Un=Bt[yn];Un?Tt.setAttributeNS(Un,$e,ht):Tt.setAttribute($e,ht)}else Tt.setAttribute($e,ht)}removeAttribute(Tt,$e,ht){if(ht){const yn=Bt[ht];yn?Tt.removeAttributeNS(yn,$e):Tt.removeAttribute(`${ht}:${$e}`)}else Tt.removeAttribute($e)}addClass(Tt,$e){Tt.classList.add($e)}removeClass(Tt,$e){Tt.classList.remove($e)}setStyle(Tt,$e,ht,yn){yn&(i.czy.DashCase|i.czy.Important)?Tt.style.setProperty($e,ht,yn&i.czy.Important?"important":""):Tt.style[$e]=ht}removeStyle(Tt,$e,ht){ht&i.czy.DashCase?Tt.style.removeProperty($e):Tt.style[$e]=""}setProperty(Tt,$e,ht){null!=Tt&&(Tt[$e]=ht)}setValue(Tt,$e){Tt.nodeValue=$e}listen(Tt,$e,ht){if("string"==typeof Tt&&!(Tt=(0,l.QT)().getGlobalEventTarget(this.doc,Tt)))throw new Error(`Unsupported event target ${Tt} for event ${$e}`);return this.eventManager.addEventListener(Tt,$e,this.decoratePreventDefault(ht))}decoratePreventDefault(Tt){return $e=>{if("__ngUnwrap__"===$e)return Tt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Tt($e)):Tt($e))&&$e.preventDefault()}}}function Le(vt){return"TEMPLATE"===vt.tagName&&void 0!==vt.content}class Qt extends Mt{constructor(Tt,$e,ht,yn,Un,Ge,ze,ut){super(Tt,Un,Ge,ut),this.sharedStylesHost=$e,this.hostEl=ht,this.shadowRoot=ht.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const zt=Tn(yn.id,yn.styles);for(const Nt of zt){const kn=document.createElement("style");ze&&kn.setAttribute("nonce",ze),kn.textContent=Nt,this.shadowRoot.appendChild(kn)}}nodeOrShadowRoot(Tt){return Tt===this.hostEl?this.shadowRoot:Tt}appendChild(Tt,$e){return super.appendChild(this.nodeOrShadowRoot(Tt),$e)}insertBefore(Tt,$e,ht){return super.insertBefore(this.nodeOrShadowRoot(Tt),$e,ht)}removeChild(Tt,$e){return super.removeChild(this.nodeOrShadowRoot(Tt),$e)}parentNode(Tt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Tt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Rn extends Mt{constructor(Tt,$e,ht,yn,Un,Ge,ze,ut){super(Tt,Un,Ge,ze),this.sharedStylesHost=$e,this.removeStylesOnCompDestroy=yn,this.styles=ut?Tn(ut,ht.styles):ht.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Xn extends Rn{constructor(Tt,$e,ht,yn,Un,Ge,ze,ut){const zt=yn+"-"+ht.id;super(Tt,$e,ht,Un,Ge,ze,ut,zt),this.contentAttr=function wt(vt){return"_ngcontent-%COMP%".replace(fn,vt)}(zt),this.hostAttr=function ge(vt){return"_nghost-%COMP%".replace(fn,vt)}(zt)}applyToHost(Tt){this.applyStyles(),this.setAttribute(Tt,this.hostAttr,"")}createElement(Tt,$e){const ht=super.createElement(Tt,$e);return super.setAttribute(ht,this.contentAttr,""),ht}}let ai=(()=>{class vt extends st{constructor($e){super($e)}supports($e){return!0}addEventListener($e,ht,yn){return $e.addEventListener(ht,yn,!1),()=>this.removeEventListener($e,ht,yn)}removeEventListener($e,ht,yn){return $e.removeEventListener(ht,yn)}static{this.\u0275fac=function(ht){return new(ht||vt)(i.KVO(l.qQ))}}static{this.\u0275prov=i.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();const $n=["alt","control","meta","shift"],Zn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},En={alt:vt=>vt.altKey,control:vt=>vt.ctrlKey,meta:vt=>vt.metaKey,shift:vt=>vt.shiftKey};let ri=(()=>{class vt extends st{constructor($e){super($e)}supports($e){return null!=vt.parseEventName($e)}addEventListener($e,ht,yn){const Un=vt.parseEventName(ht),Ge=vt.eventCallback(Un.fullKey,yn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.QT)().onAndCancel($e,Un.domEventName,Ge))}static parseEventName($e){const ht=$e.toLowerCase().split("."),yn=ht.shift();if(0===ht.length||"keydown"!==yn&&"keyup"!==yn)return null;const Un=vt._normalizeKey(ht.pop());let Ge="",ze=ht.indexOf("code");if(ze>-1&&(ht.splice(ze,1),Ge="code."),$n.forEach(zt=>{const Nt=ht.indexOf(zt);Nt>-1&&(ht.splice(Nt,1),Ge+=zt+".")}),Ge+=Un,0!=ht.length||0===Un.length)return null;const ut={};return ut.domEventName=yn,ut.fullKey=Ge,ut}static matchEventFullKeyCode($e,ht){let yn=Zn[$e.key]||$e.key,Un="";return ht.indexOf("code.")>-1&&(yn=$e.code,Un="code."),!(null==yn||!yn)&&(yn=yn.toLowerCase()," "===yn?yn="space":"."===yn&&(yn="dot"),$n.forEach(Ge=>{Ge!==yn&&(0,En[Ge])($e)&&(Un+=Ge+".")}),Un+=yn,Un===ht)}static eventCallback($e,ht,yn){return Un=>{vt.matchEventFullKeyCode(Un,$e)&&yn.runGuarded(()=>ht(Un))}}static _normalizeKey($e){return"esc"===$e?"escape":$e}static{this.\u0275fac=function(ht){return new(ht||vt)(i.KVO(l.qQ))}}static{this.\u0275prov=i.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();function mt(vt,Tt){return(0,i.TL3)({rootComponent:vt,...Ze(Tt)})}function Ze(vt){return{appProviders:[...cn,...vt?.providers??[]],platformProviders:On}}const On=[{provide:i.Agw,useValue:l.AJ},{provide:i.PLl,useValue:function Ke(){le.makeCurrent()},multi:!0},{provide:l.qQ,useFactory:function ot(){return(0,i.TL$)(document),document},deps:[]}],cn=[{provide:i.H8p,useValue:"root"},{provide:i.zcH,useFactory:function it(){return new i.zcH},deps:[]},{provide:Ne,useClass:ai,multi:!0,deps:[l.qQ,i.SKi,i.Agw]},{provide:Ne,useClass:ri,multi:!0,deps:[l.qQ]},qt,Rt,Fe,{provide:i._9s,useExisting:qt},{provide:l.N0,useClass:et,deps:[]},[]];let xe=(()=>{class vt{constructor($e){this._doc=$e}getTitle(){return this._doc.title}setTitle($e){this._doc.title=$e||""}static{this.\u0275fac=function(ht){return new(ht||vt)(i.KVO(l.qQ))}}static{this.\u0275prov=i.jDH({token:vt,factory:vt.\u0275fac,providedIn:"root"})}}return vt})(),os=(()=>{class vt{static{this.\u0275fac=function(ht){return new(ht||vt)}}static{this.\u0275prov=i.jDH({token:vt,factory:function(ht){let yn=null;return yn=ht?new(ht||vt):i.KVO(Kn),yn},providedIn:"root"})}}return vt})(),Kn=(()=>{class vt extends os{constructor($e){super(),this._doc=$e}sanitize($e,ht){if(null==ht)return null;switch($e){case i.WPN.NONE:return ht;case i.WPN.HTML:return(0,i.ZF7)(ht,"HTML")?(0,i.rcV)(ht):(0,i.h9k)(this._doc,String(ht)).toString();case i.WPN.STYLE:return(0,i.ZF7)(ht,"Style")?(0,i.rcV)(ht):ht;case i.WPN.SCRIPT:if((0,i.ZF7)(ht,"Script"))return(0,i.rcV)(ht);throw new i.wOt(5200,!1);case i.WPN.URL:return(0,i.ZF7)(ht,"URL")?(0,i.rcV)(ht):(0,i.$MX)(String(ht));case i.WPN.RESOURCE_URL:if((0,i.ZF7)(ht,"ResourceURL"))return(0,i.rcV)(ht);throw new i.wOt(5201,!1);default:throw new i.wOt(5202,!1)}}bypassSecurityTrustHtml($e){return(0,i.Kcf)($e)}bypassSecurityTrustStyle($e){return(0,i.cWb)($e)}bypassSecurityTrustScript($e){return(0,i.UyX)($e)}bypassSecurityTrustUrl($e){return(0,i.osQ)($e)}bypassSecurityTrustResourceUrl($e){return(0,i.e5t)($e)}static{this.\u0275fac=function(ht){return new(ht||vt)(i.KVO(l.qQ))}}static{this.\u0275prov=i.jDH({token:vt,factory:vt.\u0275fac,providedIn:"root"})}}return vt})()},7787:(un,nt,B)=>{"use strict";B.d(nt,{nX:()=>Xs,wF:()=>ts,Ix:()=>Qn,Wk:()=>Fn,wQ:()=>In,iI:()=>Gc,n3:()=>Ia,lh:()=>Xr});var i=B(467),l=B(4438),_e=B(4402),le=B(8455),Te=B(7673),Ye=B(4412),Oe=B(4572),Xe=B(9350),et=B(8793),Ne=B(9030),Fe=B(1203),st=B(8810),It=B(983),Rt=B(17),Bt=B(1413),fn=B(8359),Wt=B(177),je=B(6354),Cn=B(5558),Mn=B(6697),jt=B(9172),wt=B(5964),ge=B(3028),Tn=B(1594),qt=B(274),Mt=B(8141),He=B(9437),Se=B(1943),Le=B(9901),Qt=B(5109),Rn=B(3774),Xn=B(3669),$n=B(3703),Zn=B(980),En=B(9898),ri=B(6977),mt=B(6365),Be=B(345);const Ze="primary",Ie=Symbol("RouteTitle");class Ke{constructor(K){this.params=K||{}}has(K){return Object.prototype.hasOwnProperty.call(this.params,K)}get(K){if(this.has(K)){const j=this.params[K];return Array.isArray(j)?j[0]:j}return null}getAll(K){if(this.has(K)){const j=this.params[K];return Array.isArray(j)?j:[j]}return[]}get keys(){return Object.keys(this.params)}}function it(P){return new Ke(P)}function ot(P,K,j){const Y=j.path.split("/");if(Y.length>P.length||"full"===j.pathMatch&&(K.hasChildren()||Y.length<P.length))return null;const ae={};for(let Ce=0;Ce<Y.length;Ce++){const tt=Y[Ce],nn=P[Ce];if(tt.startsWith(":"))ae[tt.substring(1)]=nn;else if(tt!==nn.path)return null}return{consumed:P.slice(0,Y.length),posParams:ae}}function ei(P,K){const j=P?Vn(P):void 0,Y=K?Vn(K):void 0;if(!j||!Y||j.length!=Y.length)return!1;let ae;for(let Ce=0;Ce<j.length;Ce++)if(ae=j[Ce],!en(P[ae],K[ae]))return!1;return!0}function Vn(P){return[...Object.keys(P),...Object.getOwnPropertySymbols(P)]}function en(P,K){if(Array.isArray(P)&&Array.isArray(K)){if(P.length!==K.length)return!1;const j=[...P].sort(),Y=[...K].sort();return j.every((ae,Ce)=>Y[Ce]===ae)}return P===K}function cn(P){return P.length>0?P[P.length-1]:null}function hi(P){return(0,_e.A)(P)?P:(0,l.jNT)(P)?(0,le.H)(Promise.resolve(P)):(0,Te.of)(P)}const tn={exact:function ie(P,K,j){if(!Ki(P.segments,K.segments)||!bn(P.segments,K.segments,j)||P.numberOfChildren!==K.numberOfChildren)return!1;for(const Y in K.children)if(!P.children[Y]||!ie(P.children[Y],K.children[Y],j))return!1;return!0},subset:Ve},bt={exact:function Ft(P,K){return ei(P,K)},subset:function Qe(P,K){return Object.keys(K).length<=Object.keys(P).length&&Object.keys(K).every(j=>en(P[j],K[j]))},ignored:()=>!0};function xe(P,K,j){return tn[j.paths](P.root,K.root,j.matrixParams)&&bt[j.queryParams](P.queryParams,K.queryParams)&&!("exact"===j.fragment&&P.fragment!==K.fragment)}function Ve(P,K,j){return pt(P,K,K.segments,j)}function pt(P,K,j,Y){if(P.segments.length>j.length){const ae=P.segments.slice(0,j.length);return!(!Ki(ae,j)||K.hasChildren()||!bn(ae,j,Y))}if(P.segments.length===j.length){if(!Ki(P.segments,j)||!bn(P.segments,j,Y))return!1;for(const ae in K.children)if(!P.children[ae]||!Ve(P.children[ae],K.children[ae],Y))return!1;return!0}{const ae=j.slice(0,P.segments.length),Ce=j.slice(P.segments.length);return!!(Ki(P.segments,ae)&&bn(P.segments,ae,Y)&&P.children[Ze])&&pt(P.children[Ze],K,Ce,Y)}}function bn(P,K,j){return K.every((Y,ae)=>bt[j](P[ae].parameters,Y.parameters))}class Nn{constructor(K=new Dn([],{}),j={},Y=null){this.root=K,this.queryParams=j,this.fragment=Y}get queryParamMap(){return this._queryParamMap??=it(this.queryParams),this._queryParamMap}toString(){return os.serialize(this)}}class Dn{constructor(K,j){this.segments=K,this.children=j,this.parent=null,Object.values(j).forEach(Y=>Y.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kn(this)}}class jn{constructor(K,j){this.path=K,this.parameters=j}get parameterMap(){return this._parameterMap??=it(this.parameters),this._parameterMap}toString(){return Es(this)}}function Ki(P,K){return P.length===K.length&&P.every((j,Y)=>j.path===K[Y].path)}let si=(()=>{class P{static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=l.jDH({token:P,factory:()=>new nr,providedIn:"root"})}}return P})();class nr{parse(K){const j=new zt(K);return new Nn(j.parseRootSegment(),j.parseQueryParams(),j.parseFragment())}serialize(K){const j=`/${Pn(K.root,!0)}`,Y=function vt(P){const K=Object.entries(P).map(([j,Y])=>Array.isArray(Y)?Y.map(ae=>`${Wn(j)}=${Wn(ae)}`).join("&"):`${Wn(j)}=${Wn(Y)}`).filter(j=>j);return K.length?`?${K.join("&")}`:""}(K.queryParams);return`${j}${Y}${"string"==typeof K.fragment?`#${function ws(P){return encodeURI(P)}(K.fragment)}`:""}`}}const os=new nr;function Kn(P){return P.segments.map(K=>Es(K)).join("/")}function Pn(P,K){if(!P.hasChildren())return Kn(P);if(K){const j=P.children[Ze]?Pn(P.children[Ze],!1):"",Y=[];return Object.entries(P.children).forEach(([ae,Ce])=>{ae!==Ze&&Y.push(`${ae}:${Pn(Ce,!1)}`)}),Y.length>0?`${j}(${Y.join("//")})`:j}{const j=function Fi(P,K){let j=[];return Object.entries(P.children).forEach(([Y,ae])=>{Y===Ze&&(j=j.concat(K(ae,Y)))}),Object.entries(P.children).forEach(([Y,ae])=>{Y!==Ze&&(j=j.concat(K(ae,Y)))}),j}(P,(Y,ae)=>ae===Ze?[Pn(P.children[Ze],!1)]:[`${ae}:${Pn(Y,!1)}`]);return 1===Object.keys(P.children).length&&null!=P.children[Ze]?`${Kn(P)}/${j[0]}`:`${Kn(P)}/(${j.join("//")})`}}function er(P){return encodeURIComponent(P).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wn(P){return er(P).replace(/%3B/gi,";")}function ni(P){return er(P).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gn(P){return decodeURIComponent(P)}function Fr(P){return gn(P.replace(/\+/g,"%20"))}function Es(P){return`${ni(P.path)}${function Rr(P){return Object.entries(P).map(([K,j])=>`;${ni(K)}=${ni(j)}`).join("")}(P.parameters)}`}const Tt=/^[^\/()?;#]+/;function $e(P){const K=P.match(Tt);return K?K[0]:""}const ht=/^[^\/()?;=#]+/,Un=/^[^=?&#]+/,ze=/^[^&#]+/;class zt{constructor(K){this.url=K,this.remaining=K}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const K={};if(this.consumeOptional("?"))do{this.parseQueryParam(K)}while(this.consumeOptional("&"));return K}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const K=[];for(this.peekStartsWith("(")||K.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),K.push(this.parseSegment());let j={};this.peekStartsWith("/(")&&(this.capture("/"),j=this.parseParens(!0));let Y={};return this.peekStartsWith("(")&&(Y=this.parseParens(!1)),(K.length>0||Object.keys(j).length>0)&&(Y[Ze]=new Dn(K,j)),Y}parseSegment(){const K=$e(this.remaining);if(""===K&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(K),new jn(gn(K),this.parseMatrixParams())}parseMatrixParams(){const K={};for(;this.consumeOptional(";");)this.parseParam(K);return K}parseParam(K){const j=function yn(P){const K=P.match(ht);return K?K[0]:""}(this.remaining);if(!j)return;this.capture(j);let Y="";if(this.consumeOptional("=")){const ae=$e(this.remaining);ae&&(Y=ae,this.capture(Y))}K[gn(j)]=gn(Y)}parseQueryParam(K){const j=function Ge(P){const K=P.match(Un);return K?K[0]:""}(this.remaining);if(!j)return;this.capture(j);let Y="";if(this.consumeOptional("=")){const tt=function ut(P){const K=P.match(ze);return K?K[0]:""}(this.remaining);tt&&(Y=tt,this.capture(Y))}const ae=Fr(j),Ce=Fr(Y);if(K.hasOwnProperty(ae)){let tt=K[ae];Array.isArray(tt)||(tt=[tt],K[ae]=tt),tt.push(Ce)}else K[ae]=Ce}parseParens(K){const j={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Y=$e(this.remaining),ae=this.remaining[Y.length];if("/"!==ae&&")"!==ae&&";"!==ae)throw new l.wOt(4010,!1);let Ce;Y.indexOf(":")>-1?(Ce=Y.slice(0,Y.indexOf(":")),this.capture(Ce),this.capture(":")):K&&(Ce=Ze);const tt=this.parseChildren();j[Ce]=1===Object.keys(tt).length?tt[Ze]:new Dn([],tt),this.consumeOptional("//")}return j}peekStartsWith(K){return this.remaining.startsWith(K)}consumeOptional(K){return!!this.peekStartsWith(K)&&(this.remaining=this.remaining.substring(K.length),!0)}capture(K){if(!this.consumeOptional(K))throw new l.wOt(4011,!1)}}function Nt(P){return P.segments.length>0?new Dn([],{[Ze]:P}):P}function kn(P){const K={};for(const[Y,ae]of Object.entries(P.children)){const Ce=kn(ae);if(Y===Ze&&0===Ce.segments.length&&Ce.hasChildren())for(const[tt,nn]of Object.entries(Ce.children))K[tt]=nn;else(Ce.segments.length>0||Ce.hasChildren())&&(K[Y]=Ce)}return function rt(P){if(1===P.numberOfChildren&&P.children[Ze]){const K=P.children[Ze];return new Dn(P.segments.concat(K.segments),K.children)}return P}(new Dn(P.segments,K))}function Oi(P){return P instanceof Nn}function Ai(P){let K;const ae=Nt(function j(Ce){const tt={};for(const Kt of Ce.children){const fi=j(Kt);tt[Kt.outlet]=fi}const nn=new Dn(Ce.url,tt);return Ce===P&&(K=nn),nn}(P.root));return K??ae}function li(P,K,j,Y){let ae=P;for(;ae.parent;)ae=ae.parent;if(0===K.length)return Us(ae,ae,ae,j,Y);const Ce=function mr(P){if("string"==typeof P[0]&&1===P.length&&"/"===P[0])return new Da(!0,0,P);let K=0,j=!1;const Y=P.reduce((ae,Ce,tt)=>{if("object"==typeof Ce&&null!=Ce){if(Ce.outlets){const nn={};return Object.entries(Ce.outlets).forEach(([Kt,fi])=>{nn[Kt]="string"==typeof fi?fi.split("/"):fi}),[...ae,{outlets:nn}]}if(Ce.segmentPath)return[...ae,Ce.segmentPath]}return"string"!=typeof Ce?[...ae,Ce]:0===tt?(Ce.split("/").forEach((nn,Kt)=>{0==Kt&&"."===nn||(0==Kt&&""===nn?j=!0:".."===nn?K++:""!=nn&&ae.push(nn))}),ae):[...ae,Ce]},[]);return new Da(j,K,Y)}(K);if(Ce.toRoot())return Us(ae,ae,new Dn([],{}),j,Y);const tt=function Zo(P,K,j){if(P.isAbsolute)return new No(K,!0,0);if(!j)return new No(K,!1,NaN);if(null===j.parent)return new No(j,!0,0);const Y=qi(P.commands[0])?0:1;return function es(P,K,j){let Y=P,ae=K,Ce=j;for(;Ce>ae;){if(Ce-=ae,Y=Y.parent,!Y)throw new l.wOt(4005,!1);ae=Y.segments.length}return new No(Y,!1,ae-Ce)}(j,j.segments.length-1+Y,P.numberOfDoubleDots)}(Ce,ae,P),nn=tt.processChildren?St(tt.segmentGroup,tt.index,Ce.commands):Gt(tt.segmentGroup,tt.index,Ce.commands);return Us(ae,tt.segmentGroup,nn,j,Y)}function qi(P){return"object"==typeof P&&null!=P&&!P.outlets&&!P.segmentPath}function Ur(P){return"object"==typeof P&&null!=P&&P.outlets}function Us(P,K,j,Y,ae){let tt,Ce={};Y&&Object.entries(Y).forEach(([Kt,fi])=>{Ce[Kt]=Array.isArray(fi)?fi.map(fr=>`${fr}`):`${fi}`}),tt=P===K?j:Do(P,K,j);const nn=Nt(kn(tt));return new Nn(nn,Ce,ae)}function Do(P,K,j){const Y={};return Object.entries(P.children).forEach(([ae,Ce])=>{Y[ae]=Ce===K?j:Do(Ce,K,j)}),new Dn(P.segments,Y)}class Da{constructor(K,j,Y){if(this.isAbsolute=K,this.numberOfDoubleDots=j,this.commands=Y,K&&Y.length>0&&qi(Y[0]))throw new l.wOt(4003,!1);const ae=Y.find(Ur);if(ae&&ae!==cn(Y))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class No{constructor(K,j,Y){this.segmentGroup=K,this.processChildren=j,this.index=Y}}function Gt(P,K,j){if(P??=new Dn([],{}),0===P.segments.length&&P.hasChildren())return St(P,K,j);const Y=function Zt(P,K,j){let Y=0,ae=K;const Ce={match:!1,pathIndex:0,commandIndex:0};for(;ae<P.segments.length;){if(Y>=j.length)return Ce;const tt=P.segments[ae],nn=j[Y];if(Ur(nn))break;const Kt=`${nn}`,fi=Y<j.length-1?j[Y+1]:null;if(ae>0&&void 0===Kt)break;if(Kt&&fi&&"object"==typeof fi&&void 0===fi.outlets){if(!Yi(Kt,fi,tt))return Ce;Y+=2}else{if(!Yi(Kt,{},tt))return Ce;Y++}ae++}return{match:!0,pathIndex:ae,commandIndex:Y}}(P,K,j),ae=j.slice(Y.commandIndex);if(Y.match&&Y.pathIndex<P.segments.length){const Ce=new Dn(P.segments.slice(0,Y.pathIndex),{});return Ce.children[Ze]=new Dn(P.segments.slice(Y.pathIndex),P.children),St(Ce,0,ae)}return Y.match&&0===ae.length?new Dn(P.segments,{}):Y.match&&!P.hasChildren()?qn(P,K,j):Y.match?St(P,0,ae):qn(P,K,j)}function St(P,K,j){if(0===j.length)return new Dn(P.segments,{});{const Y=function io(P){return Ur(P[0])?P[0].outlets:{[Ze]:P}}(j),ae={};if(Object.keys(Y).some(Ce=>Ce!==Ze)&&P.children[Ze]&&1===P.numberOfChildren&&0===P.children[Ze].segments.length){const Ce=St(P.children[Ze],K,j);return new Dn(P.segments,Ce.children)}return Object.entries(Y).forEach(([Ce,tt])=>{"string"==typeof tt&&(tt=[tt]),null!==tt&&(ae[Ce]=Gt(P.children[Ce],K,tt))}),Object.entries(P.children).forEach(([Ce,tt])=>{void 0===Y[Ce]&&(ae[Ce]=tt)}),new Dn(P.segments,ae)}}function qn(P,K,j){const Y=P.segments.slice(0,K);let ae=0;for(;ae<j.length;){const Ce=j[ae];if(Ur(Ce)){const Kt=Mi(Ce.outlets);return new Dn(Y,Kt)}if(0===ae&&qi(j[0])){Y.push(new jn(P.segments[K].path,gi(j[0]))),ae++;continue}const tt=Ur(Ce)?Ce.outlets[Ze]:`${Ce}`,nn=ae<j.length-1?j[ae+1]:null;tt&&nn&&qi(nn)?(Y.push(new jn(tt,gi(nn))),ae+=2):(Y.push(new jn(tt,{})),ae++)}return new Dn(Y,{})}function Mi(P){const K={};return Object.entries(P).forEach(([j,Y])=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(K[j]=qn(new Dn([],{}),0,Y))}),K}function gi(P){const K={};return Object.entries(P).forEach(([j,Y])=>K[j]=`${Y}`),K}function Yi(P,K,j){return P==j.path&&ei(K,j.parameters)}const oi="imperative";var wi=function(P){return P[P.NavigationStart=0]="NavigationStart",P[P.NavigationEnd=1]="NavigationEnd",P[P.NavigationCancel=2]="NavigationCancel",P[P.NavigationError=3]="NavigationError",P[P.RoutesRecognized=4]="RoutesRecognized",P[P.ResolveStart=5]="ResolveStart",P[P.ResolveEnd=6]="ResolveEnd",P[P.GuardsCheckStart=7]="GuardsCheckStart",P[P.GuardsCheckEnd=8]="GuardsCheckEnd",P[P.RouteConfigLoadStart=9]="RouteConfigLoadStart",P[P.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",P[P.ChildActivationStart=11]="ChildActivationStart",P[P.ChildActivationEnd=12]="ChildActivationEnd",P[P.ActivationStart=13]="ActivationStart",P[P.ActivationEnd=14]="ActivationEnd",P[P.Scroll=15]="Scroll",P[P.NavigationSkipped=16]="NavigationSkipped",P}(wi||{});class as{constructor(K,j){this.id=K,this.url=j}}class Er extends as{constructor(K,j,Y="imperative",ae=null){super(K,j),this.type=wi.NavigationStart,this.navigationTrigger=Y,this.restoredState=ae}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ts extends as{constructor(K,j,Y){super(K,j),this.urlAfterRedirects=Y,this.type=wi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Cs=function(P){return P[P.Redirect=0]="Redirect",P[P.SupersededByNewNavigation=1]="SupersededByNewNavigation",P[P.NoDataFromResolver=2]="NoDataFromResolver",P[P.GuardRejected=3]="GuardRejected",P}(Cs||{}),Ks=function(P){return P[P.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",P[P.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",P}(Ks||{});class Io extends as{constructor(K,j,Y,ae){super(K,j),this.reason=Y,this.code=ae,this.type=wi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ls extends as{constructor(K,j,Y,ae){super(K,j),this.reason=Y,this.code=ae,this.type=wi.NavigationSkipped}}class aa extends as{constructor(K,j,Y,ae){super(K,j),this.error=Y,this.target=ae,this.type=wi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nc extends as{constructor(K,j,Y,ae){super(K,j),this.urlAfterRedirects=Y,this.state=ae,this.type=wi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class la extends as{constructor(K,j,Y,ae){super(K,j),this.urlAfterRedirects=Y,this.state=ae,this.type=wi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ca extends as{constructor(K,j,Y,ae,Ce){super(K,j),this.urlAfterRedirects=Y,this.state=ae,this.shouldActivate=Ce,this.type=wi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ll extends as{constructor(K,j,Y,ae){super(K,j),this.urlAfterRedirects=Y,this.state=ae,this.type=wi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qa extends as{constructor(K,j,Y,ae){super(K,j),this.urlAfterRedirects=Y,this.state=ae,this.type=wi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class El{constructor(K){this.route=K,this.type=wi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vo{constructor(K){this.route=K,this.type=wi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ys{constructor(K){this.snapshot=K,this.type=wi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oo{constructor(K){this.snapshot=K,this.type=wi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Si{constructor(K){this.snapshot=K,this.type=wi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _r{constructor(K){this.snapshot=K,this.type=wi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pa{constructor(K,j,Y){this.routerEvent=K,this.position=j,this.anchor=Y,this.type=wi.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ir{}class vr{constructor(K){this.url=K}}class Hr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Cr,this.attachRef=null}}let Cr=(()=>{class P{constructor(){this.contexts=new Map}onChildOutletCreated(j,Y){const ae=this.getOrCreateContext(j);ae.outlet=Y,this.contexts.set(j,ae)}onChildOutletDestroyed(j){const Y=this.getContext(j);Y&&(Y.outlet=null,Y.attachRef=null)}onOutletDeactivated(){const j=this.contexts;return this.contexts=new Map,j}onOutletReAttached(j){this.contexts=j}getOrCreateContext(j){let Y=this.getContext(j);return Y||(Y=new Hr,this.contexts.set(j,Y)),Y}getContext(j){return this.contexts.get(j)||null}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=l.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})();class Qi{constructor(K){this._root=K}get root(){return this._root.value}parent(K){const j=this.pathFromRoot(K);return j.length>1?j[j.length-2]:null}children(K){const j=yo(K,this._root);return j?j.children.map(Y=>Y.value):[]}firstChild(K){const j=yo(K,this._root);return j&&j.children.length>0?j.children[0].value:null}siblings(K){const j=So(K,this._root);return j.length<2?[]:j[j.length-2].children.map(ae=>ae.value).filter(ae=>ae!==K)}pathFromRoot(K){return So(K,this._root).map(j=>j.value)}}function yo(P,K){if(P===K.value)return K;for(const j of K.children){const Y=yo(P,j);if(Y)return Y}return null}function So(P,K){if(P===K.value)return[K];for(const j of K.children){const Y=So(P,j);if(Y.length)return Y.unshift(K),Y}return[]}class ki{constructor(K,j){this.value=K,this.children=j}toString(){return`TreeNode(${this.value})`}}function Mr(P){const K={};return P&&P.children.forEach(j=>K[j.value.outlet]=j),K}class Ti extends Qi{constructor(K,j){super(K),this.snapshot=j,Wr(this,K)}toString(){return this.snapshot.toString()}}function rr(P){const K=function xo(P){const Ce=new cl([],{},{},"",{},Ze,P,null,{});return new ua("",new ki(Ce,[]))}(P),j=new Ye.t([new jn("",{})]),Y=new Ye.t({}),ae=new Ye.t({}),Ce=new Ye.t({}),tt=new Ye.t(""),nn=new Xs(j,Y,Ce,tt,ae,Ze,P,K.root);return nn.snapshot=K.root,new Ti(new ki(nn,[]),K)}class Xs{constructor(K,j,Y,ae,Ce,tt,nn,Kt){this.urlSubject=K,this.paramsSubject=j,this.queryParamsSubject=Y,this.fragmentSubject=ae,this.dataSubject=Ce,this.outlet=tt,this.component=nn,this._futureSnapshot=Kt,this.title=this.dataSubject?.pipe((0,je.T)(fi=>fi[Ie]))??(0,Te.of)(void 0),this.url=K,this.params=j,this.queryParams=Y,this.fragment=ae,this.data=Ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,je.T)(K=>it(K))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,je.T)(K=>it(K))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tr(P,K,j="emptyOnly"){let Y;const{routeConfig:ae}=P;return Y=null===K||"always"!==j&&""!==ae?.path&&(K.component||K.routeConfig?.loadComponent)?{params:{...P.params},data:{...P.data},resolve:{...P.data,...P._resolvedData??{}}}:{params:{...K.params,...P.params},data:{...K.data,...P.data},resolve:{...P.data,...K.data,...ae?.data,...P._resolvedData}},ae&&Yr(ae)&&(Y.resolve[Ie]=ae.title),Y}class cl{get title(){return this.data?.[Ie]}constructor(K,j,Y,ae,Ce,tt,nn,Kt,fi){this.url=K,this.params=j,this.queryParams=Y,this.fragment=ae,this.data=Ce,this.outlet=tt,this.component=nn,this.routeConfig=Kt,this._resolve=fi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=it(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=it(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Y=>Y.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ua extends Qi{constructor(K,j){super(j),this.url=K,Wr(this,j)}toString(){return Fa(this._root)}}function Wr(P,K){K.value._routerState=P,K.children.forEach(j=>Wr(P,j))}function Fa(P){const K=P.children.length>0?` { ${P.children.map(Fa).join(", ")} } `:"";return`${P.value}${K}`}function ns(P){if(P.snapshot){const K=P.snapshot,j=P._futureSnapshot;P.snapshot=j,ei(K.queryParams,j.queryParams)||P.queryParamsSubject.next(j.queryParams),K.fragment!==j.fragment&&P.fragmentSubject.next(j.fragment),ei(K.params,j.params)||P.paramsSubject.next(j.params),function On(P,K){if(P.length!==K.length)return!1;for(let j=0;j<P.length;++j)if(!ei(P[j],K[j]))return!1;return!0}(K.url,j.url)||P.urlSubject.next(j.url),ei(K.data,j.data)||P.dataSubject.next(j.data)}else P.snapshot=P._futureSnapshot,P.dataSubject.next(P._futureSnapshot.data)}function Vr(P,K){const j=ei(P.params,K.params)&&function ur(P,K){return Ki(P,K)&&P.every((j,Y)=>ei(j.parameters,K[Y].parameters))}(P.url,K.url);return j&&!(!P.parent!=!K.parent)&&(!P.parent||Vr(P.parent,K.parent))}function Yr(P){return"string"==typeof P.title||null===P.title}let Ia=(()=>{class P{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ze,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)(Cr),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.environmentInjector=(0,l.WQX)(l.uvJ),this.inputBinder=(0,l.WQX)(qs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(j){if(j.name){const{firstChange:Y,previousValue:ae}=j.name;if(Y)return;this.isTrackedInParentContexts(ae)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ae)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(j){return this.parentContexts.getContext(j)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const j=this.parentContexts.getContext(this.name);j?.route&&(j.attachRef?this.attach(j.attachRef,j.route):this.activateWith(j.route,j.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const j=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(j.instance),j}attach(j,Y){this.activated=j,this._activatedRoute=Y,this.location.insert(j.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(j.instance)}deactivate(){if(this.activated){const j=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(j)}}activateWith(j,Y){if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=j;const ae=this.location,tt=j.snapshot.component,nn=this.parentContexts.getOrCreateContext(this.name).children,Kt=new Ar(j,nn,ae.injector);this.activated=ae.createComponent(tt,{index:ae.length,injector:Kt,environmentInjector:Y??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275dir=l.FsC({type:P,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]})}}return P})();class Ar{__ngOutletInjector(K){return new Ar(this.route,this.childContexts,K)}constructor(K,j,Y){this.route=K,this.childContexts=j,this.parent=Y}get(K,j){return K===Xs?this.route:K===Cr?this.childContexts:this.parent.get(K,j)}}const qs=new l.nKC("");let Li=(()=>{class P{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(j){this.unsubscribeFromRouteData(j),this.subscribeToRouteData(j)}unsubscribeFromRouteData(j){this.outletDataSubscriptions.get(j)?.unsubscribe(),this.outletDataSubscriptions.delete(j)}subscribeToRouteData(j){const{activatedRoute:Y}=j,ae=(0,Oe.z)([Y.queryParams,Y.params,Y.data]).pipe((0,Cn.n)(([Ce,tt,nn],Kt)=>(nn={...Ce,...tt,...nn},0===Kt?(0,Te.of)(nn):Promise.resolve(nn)))).subscribe(Ce=>{if(!j.isActivated||!j.activatedComponentRef||j.activatedRoute!==Y||null===Y.component)return void this.unsubscribeFromRouteData(j);const tt=(0,l.HJs)(Y.component);if(tt)for(const{templateName:nn}of tt.inputs)j.activatedComponentRef.setInput(nn,Ce[nn]);else this.unsubscribeFromRouteData(j)});this.outletDataSubscriptions.set(j,ae)}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=l.jDH({token:P,factory:P.\u0275fac})}}return P})();function ro(P,K,j){if(j&&P.shouldReuseRoute(K.value,j.value.snapshot)){const Y=j.value;Y._futureSnapshot=K.value;const ae=function eo(P,K,j){return K.children.map(Y=>{for(const ae of j.children)if(P.shouldReuseRoute(Y.value,ae.value.snapshot))return ro(P,Y,ae);return ro(P,Y)})}(P,K,j);return new ki(Y,ae)}{if(P.shouldAttach(K.value)){const Ce=P.retrieve(K.value);if(null!==Ce){const tt=Ce.route;return tt.value._futureSnapshot=K.value,tt.children=K.children.map(nn=>ro(P,nn)),tt}}const Y=function Gi(P){return new Xs(new Ye.t(P.url),new Ye.t(P.params),new Ye.t(P.queryParams),new Ye.t(P.fragment),new Ye.t(P.data),P.outlet,P.component,P)}(K.value),ae=K.children.map(Ce=>ro(P,Ce));return new ki(Y,ae)}}const Gs="ngNavigationCancelingError";function so(P,K){const{redirectTo:j,navigationBehaviorOptions:Y}=Oi(K)?{redirectTo:K,navigationBehaviorOptions:void 0}:K,ae=ds(!1,Cs.Redirect);return ae.url=j,ae.navigationBehaviorOptions=Y,ae}function ds(P,K){const j=new Error(`NavigationCancelingError: ${P||""}`);return j[Gs]=!0,j.cancellationCode=K,j}function da(P){return!!P&&P[Gs]}let Br=(()=>{class P{static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275cmp=l.VBU({type:P,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(Y,ae){1&Y&&l.nrm(0,"router-outlet")},dependencies:[Ia],encapsulation:2})}}return P})();function ms(P){const K=P.children&&P.children.map(ms),j=K?{...P,children:K}:{...P};return!j.component&&!j.loadComponent&&(K||j.loadChildren)&&j.outlet&&j.outlet!==Ze&&(j.component=Br),j}function Qs(P){return P.outlet||Ze}function _s(P){if(!P)return null;if(P.routeConfig?._injector)return P.routeConfig._injector;for(let K=P.parent;K;K=K.parent){const j=K.routeConfig;if(j?._loadedInjector)return j._loadedInjector;if(j?._injector)return j._injector}return null}class kr{constructor(K,j,Y,ae,Ce){this.routeReuseStrategy=K,this.futureState=j,this.currState=Y,this.forwardEvent=ae,this.inputBindingEnabled=Ce}activate(K){const j=this.futureState._root,Y=this.currState?this.currState._root:null;this.deactivateChildRoutes(j,Y,K),ns(this.futureState.root),this.activateChildRoutes(j,Y,K)}deactivateChildRoutes(K,j,Y){const ae=Mr(j);K.children.forEach(Ce=>{const tt=Ce.value.outlet;this.deactivateRoutes(Ce,ae[tt],Y),delete ae[tt]}),Object.values(ae).forEach(Ce=>{this.deactivateRouteAndItsChildren(Ce,Y)})}deactivateRoutes(K,j,Y){const ae=K.value,Ce=j?j.value:null;if(ae===Ce)if(ae.component){const tt=Y.getContext(ae.outlet);tt&&this.deactivateChildRoutes(K,j,tt.children)}else this.deactivateChildRoutes(K,j,Y);else Ce&&this.deactivateRouteAndItsChildren(j,Y)}deactivateRouteAndItsChildren(K,j){K.value.component&&this.routeReuseStrategy.shouldDetach(K.value.snapshot)?this.detachAndStoreRouteSubtree(K,j):this.deactivateRouteAndOutlet(K,j)}detachAndStoreRouteSubtree(K,j){const Y=j.getContext(K.value.outlet),ae=Y&&K.value.component?Y.children:j,Ce=Mr(K);for(const tt of Object.values(Ce))this.deactivateRouteAndItsChildren(tt,ae);if(Y&&Y.outlet){const tt=Y.outlet.detach(),nn=Y.children.onOutletDeactivated();this.routeReuseStrategy.store(K.value.snapshot,{componentRef:tt,route:K,contexts:nn})}}deactivateRouteAndOutlet(K,j){const Y=j.getContext(K.value.outlet),ae=Y&&K.value.component?Y.children:j,Ce=Mr(K);for(const tt of Object.values(Ce))this.deactivateRouteAndItsChildren(tt,ae);Y&&(Y.outlet&&(Y.outlet.deactivate(),Y.children.onOutletDeactivated()),Y.attachRef=null,Y.route=null)}activateChildRoutes(K,j,Y){const ae=Mr(j);K.children.forEach(Ce=>{this.activateRoutes(Ce,ae[Ce.value.outlet],Y),this.forwardEvent(new _r(Ce.value.snapshot))}),K.children.length&&this.forwardEvent(new Oo(K.value.snapshot))}activateRoutes(K,j,Y){const ae=K.value,Ce=j?j.value:null;if(ns(ae),ae===Ce)if(ae.component){const tt=Y.getOrCreateContext(ae.outlet);this.activateChildRoutes(K,j,tt.children)}else this.activateChildRoutes(K,j,Y);else if(ae.component){const tt=Y.getOrCreateContext(ae.outlet);if(this.routeReuseStrategy.shouldAttach(ae.snapshot)){const nn=this.routeReuseStrategy.retrieve(ae.snapshot);this.routeReuseStrategy.store(ae.snapshot,null),tt.children.onOutletReAttached(nn.contexts),tt.attachRef=nn.componentRef,tt.route=nn.route.value,tt.outlet&&tt.outlet.attach(nn.componentRef,nn.route.value),ns(nn.route.value),this.activateChildRoutes(K,null,tt.children)}else{const nn=_s(ae.snapshot);tt.attachRef=null,tt.route=ae,tt.injector=nn,tt.outlet&&tt.outlet.activateWith(ae,tt.injector),this.activateChildRoutes(K,null,tt.children)}}else this.activateChildRoutes(K,null,Y)}}class Ts{constructor(K){this.path=K,this.route=this.path[this.path.length-1]}}class fs{constructor(K,j){this.component=K,this.route=j}}function bi(P,K,j){const Y=P._root;return Ws(Y,K?K._root:null,j,[Y.value])}function Ro(P,K){const j=Symbol(),Y=K.get(P,j);return Y===j?"function"!=typeof P||(0,l.LfX)(P)?K.get(P):P:Y}function Ws(P,K,j,Y,ae={canDeactivateChecks:[],canActivateChecks:[]}){const Ce=Mr(K);return P.children.forEach(tt=>{(function $s(P,K,j,Y,ae={canDeactivateChecks:[],canActivateChecks:[]}){const Ce=P.value,tt=K?K.value:null,nn=j?j.getContext(P.value.outlet):null;if(tt&&Ce.routeConfig===tt.routeConfig){const Kt=function Bi(P,K,j){if("function"==typeof j)return j(P,K);switch(j){case"pathParamsChange":return!Ki(P.url,K.url);case"pathParamsOrQueryParamsChange":return!Ki(P.url,K.url)||!ei(P.queryParams,K.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vr(P,K)||!ei(P.queryParams,K.queryParams);default:return!Vr(P,K)}}(tt,Ce,Ce.routeConfig.runGuardsAndResolvers);Kt?ae.canActivateChecks.push(new Ts(Y)):(Ce.data=tt.data,Ce._resolvedData=tt._resolvedData),Ws(P,K,Ce.component?nn?nn.children:null:j,Y,ae),Kt&&nn&&nn.outlet&&nn.outlet.isActivated&&ae.canDeactivateChecks.push(new fs(nn.outlet.component,tt))}else tt&&qr(K,nn,ae),ae.canActivateChecks.push(new Ts(Y)),Ws(P,null,Ce.component?nn?nn.children:null:j,Y,ae)})(tt,Ce[tt.value.outlet],j,Y.concat([tt.value]),ae),delete Ce[tt.value.outlet]}),Object.entries(Ce).forEach(([tt,nn])=>qr(nn,j.getContext(tt),ae)),ae}function qr(P,K,j){const Y=Mr(P),ae=P.value;Object.entries(Y).forEach(([Ce,tt])=>{qr(tt,ae.component?K?K.children.getContext(Ce):null:K,j)}),j.canDeactivateChecks.push(new fs(ae.component&&K&&K.outlet&&K.outlet.isActivated?K.outlet.component:null,ae))}function xi(P){return"function"==typeof P}function lt(P){return P instanceof Xe.G||"EmptyError"===P?.name}const ii=Symbol("INITIAL_VALUE");function ji(){return(0,Cn.n)(P=>(0,Oe.z)(P.map(K=>K.pipe((0,Mn.s)(1),(0,jt.Z)(ii)))).pipe((0,je.T)(K=>{for(const j of K)if(!0!==j){if(j===ii)return ii;if(!1===j||j instanceof Nn)return j}return!0}),(0,wt.p)(K=>K!==ii),(0,Mn.s)(1)))}function ul(P){return(0,Fe.F)((0,Mt.M)(K=>{if(Oi(K))throw so(0,K)}),(0,je.T)(K=>!0===K))}class Ba{constructor(K){this.segmentGroup=K||null}}class na extends Error{constructor(K){super(),this.urlTree=K}}function Fo(P){return(0,st.$)(new Ba(P))}class ga{constructor(K,j){this.urlSerializer=K,this.urlTree=j}lineralizeSegments(K,j){let Y=[],ae=j.root;for(;;){if(Y=Y.concat(ae.segments),0===ae.numberOfChildren)return(0,Te.of)(Y);if(ae.numberOfChildren>1||!ae.children[Ze])return(0,st.$)(new l.wOt(4e3,!1));ae=ae.children[Ze]}}applyRedirectCommands(K,j,Y){const ae=this.applyRedirectCreateUrlTree(j,this.urlSerializer.parse(j),K,Y);if(j.startsWith("/"))throw new na(ae);return ae}applyRedirectCreateUrlTree(K,j,Y,ae){const Ce=this.createSegmentGroup(K,j.root,Y,ae);return new Nn(Ce,this.createQueryParams(j.queryParams,this.urlTree.queryParams),j.fragment)}createQueryParams(K,j){const Y={};return Object.entries(K).forEach(([ae,Ce])=>{if("string"==typeof Ce&&Ce.startsWith(":")){const nn=Ce.substring(1);Y[ae]=j[nn]}else Y[ae]=Ce}),Y}createSegmentGroup(K,j,Y,ae){const Ce=this.createSegments(K,j.segments,Y,ae);let tt={};return Object.entries(j.children).forEach(([nn,Kt])=>{tt[nn]=this.createSegmentGroup(K,Kt,Y,ae)}),new Dn(Ce,tt)}createSegments(K,j,Y,ae){return j.map(Ce=>Ce.path.startsWith(":")?this.findPosParam(K,Ce,ae):this.findOrReturn(Ce,Y))}findPosParam(K,j,Y){const ae=Y[j.path.substring(1)];if(!ae)throw new l.wOt(4001,!1);return ae}findOrReturn(K,j){let Y=0;for(const ae of j){if(ae.path===K.path)return j.splice(Y),ae;Y++}return K}}const lo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Eo(P,K,j,Y,ae){const Ce=Ji(P,K,j);return Ce.matched?(Y=function Cl(P,K){return P.providers&&!P._injector&&(P._injector=(0,l.Ol2)(P.providers,K,`Route: ${P.path}`)),P._injector??K}(K,Y),function ta(P,K,j,Y){const ae=K.canMatch;if(!ae||0===ae.length)return(0,Te.of)(!0);const Ce=ae.map(tt=>{const nn=Ro(tt,P);return hi(function De(P){return P&&xi(P.canMatch)}(nn)?nn.canMatch(K,j):(0,l.N4e)(P,()=>nn(K,j)))});return(0,Te.of)(Ce).pipe(ji(),ul())}(Y,K,j).pipe((0,je.T)(tt=>!0===tt?Ce:{...lo}))):(0,Te.of)(Ce)}function Ji(P,K,j){if("**"===K.path)return function ls(P){return{matched:!0,parameters:P.length>0?cn(P).parameters:{},consumedSegments:P,remainingSegments:[],positionalParamSegments:{}}}(j);if(""===K.path)return"full"===K.pathMatch&&(P.hasChildren()||j.length>0)?{...lo}:{matched:!0,consumedSegments:[],remainingSegments:j,parameters:{},positionalParamSegments:{}};const ae=(K.matcher||ot)(j,P,K);if(!ae)return{...lo};const Ce={};Object.entries(ae.posParams??{}).forEach(([nn,Kt])=>{Ce[nn]=Kt.path});const tt=ae.consumed.length>0?{...Ce,...ae.consumed[ae.consumed.length-1].parameters}:Ce;return{matched:!0,consumedSegments:ae.consumed,remainingSegments:j.slice(ae.consumed.length),parameters:tt,positionalParamSegments:ae.posParams??{}}}function Ir(P,K,j,Y){return j.length>0&&function ja(P,K,j){return j.some(Y=>Rs(P,K,Y)&&Qs(Y)!==Ze)}(P,j,Y)?{segmentGroup:new Dn(K,Bs(Y,new Dn(j,P.children))),slicedSegments:[]}:0===j.length&&function Ua(P,K,j){return j.some(Y=>Rs(P,K,Y))}(P,j,Y)?{segmentGroup:new Dn(P.segments,co(P,j,Y,P.children)),slicedSegments:j}:{segmentGroup:new Dn(P.segments,P.children),slicedSegments:j}}function co(P,K,j,Y){const ae={};for(const Ce of j)if(Rs(P,K,Ce)&&!Y[Qs(Ce)]){const tt=new Dn([],{});ae[Qs(Ce)]=tt}return{...Y,...ae}}function Bs(P,K){const j={};j[Ze]=K;for(const Y of P)if(""===Y.path&&Qs(Y)!==Ze){const ae=new Dn([],{});j[Qs(Y)]=ae}return j}function Rs(P,K,j){return(!(P.hasChildren()||K.length>0)||"full"!==j.pathMatch)&&""===j.path}class to{}class ma{constructor(K,j,Y,ae,Ce,tt,nn){this.injector=K,this.configLoader=j,this.rootComponentType=Y,this.config=ae,this.urlTree=Ce,this.paramsInheritanceStrategy=tt,this.urlSerializer=nn,this.applyRedirects=new ga(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(K){return new l.wOt(4002,`'${K.segmentGroup}'`)}recognize(){const K=Ir(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(K).pipe((0,je.T)(j=>{const Y=new cl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ze,this.rootComponentType,null,{}),ae=new ki(Y,j),Ce=new ua("",ae),tt=function gr(P,K,j=null,Y=null){return li(Ai(P),K,j,Y)}(Y,[],this.urlTree.queryParams,this.urlTree.fragment);return tt.queryParams=this.urlTree.queryParams,Ce.url=this.urlSerializer.serialize(tt),this.inheritParamsAndData(Ce._root,null),{state:Ce,tree:tt}}))}match(K){return this.processSegmentGroup(this.injector,this.config,K,Ze).pipe((0,He.W)(Y=>{if(Y instanceof na)return this.urlTree=Y.urlTree,this.match(Y.urlTree.root);throw Y instanceof Ba?this.noMatchError(Y):Y}))}inheritParamsAndData(K,j){const Y=K.value,ae=Tr(Y,j,this.paramsInheritanceStrategy);Y.params=Object.freeze(ae.params),Y.data=Object.freeze(ae.data),K.children.forEach(Ce=>this.inheritParamsAndData(Ce,Y))}processSegmentGroup(K,j,Y,ae){return 0===Y.segments.length&&Y.hasChildren()?this.processChildren(K,j,Y):this.processSegment(K,j,Y,Y.segments,ae,!0).pipe((0,je.T)(Ce=>Ce instanceof ki?[Ce]:[]))}processChildren(K,j,Y){const ae=[];for(const Ce of Object.keys(Y.children))"primary"===Ce?ae.unshift(Ce):ae.push(Ce);return(0,le.H)(ae).pipe((0,qt.H)(Ce=>{const tt=Y.children[Ce],nn=function Va(P,K){const j=P.filter(Y=>Qs(Y)===K);return j.push(...P.filter(Y=>Qs(Y)!==K)),j}(j,Ce);return this.processSegmentGroup(K,nn,tt,Ce)}),(0,Se.S)((Ce,tt)=>(Ce.push(...tt),Ce)),(0,Le.U)(null),function ai(P,K){const j=arguments.length>=2;return Y=>Y.pipe(P?(0,wt.p)((ae,Ce)=>P(ae,Ce,Y)):Xn.D,(0,Qt.o)(1),j?(0,Le.U)(K):(0,Rn.v)(()=>new Xe.G))}(),(0,ge.Z)(Ce=>{if(null===Ce)return Fo(Y);const tt=ho(Ce);return function uo(P){P.sort((K,j)=>K.value.outlet===Ze?-1:j.value.outlet===Ze?1:K.value.outlet.localeCompare(j.value.outlet))}(tt),(0,Te.of)(tt)}))}processSegment(K,j,Y,ae,Ce,tt){return(0,le.H)(j).pipe((0,qt.H)(nn=>this.processSegmentAgainstRoute(nn._injector??K,j,nn,Y,ae,Ce,tt).pipe((0,He.W)(Kt=>{if(Kt instanceof Ba)return(0,Te.of)(null);throw Kt}))),(0,Tn.$)(nn=>!!nn),(0,He.W)(nn=>{if(lt(nn))return function el(P,K,j){return 0===K.length&&!P.children[j]}(Y,ae,Ce)?(0,Te.of)(new to):Fo(Y);throw nn}))}processSegmentAgainstRoute(K,j,Y,ae,Ce,tt,nn){return function _c(P,K,j,Y){return!!(Qs(P)===Y||Y!==Ze&&Rs(K,j,P))&&Ji(K,P,j).matched}(Y,ae,Ce,tt)?void 0===Y.redirectTo?this.matchSegmentAgainstRoute(K,ae,Y,Ce,tt):this.allowRedirects&&nn?this.expandSegmentAgainstRouteUsingRedirect(K,ae,j,Y,Ce,tt):Fo(ae):Fo(ae)}expandSegmentAgainstRouteUsingRedirect(K,j,Y,ae,Ce,tt){const{matched:nn,consumedSegments:Kt,positionalParamSegments:fi,remainingSegments:fr}=Ji(j,ae,Ce);if(!nn)return Fo(j);ae.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const yr=this.applyRedirects.applyRedirectCommands(Kt,ae.redirectTo,fi);return this.applyRedirects.lineralizeSegments(ae,yr).pipe((0,ge.Z)(ss=>this.processSegment(K,Y,j,ss.concat(fr),tt,!1)))}matchSegmentAgainstRoute(K,j,Y,ae,Ce){const tt=Eo(j,Y,ae,K);return"**"===Y.path&&(j.children={}),tt.pipe((0,Cn.n)(nn=>nn.matched?this.getChildConfig(K=Y._injector??K,Y,ae).pipe((0,Cn.n)(({routes:Kt})=>{const fi=Y._loadedInjector??K,{consumedSegments:fr,remainingSegments:yr,parameters:ss}=nn,$a=new cl(fr,ss,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Ra(P){return P.data||{}}(Y),Qs(Y),Y.component??Y._loadedComponent??null,Y,function vc(P){return P.resolve||{}}(Y)),{segmentGroup:wc,slicedSegments:Wc}=Ir(j,fr,yr,Kt);if(0===Wc.length&&wc.hasChildren())return this.processChildren(fi,Kt,wc).pipe((0,je.T)(Ml=>null===Ml?null:new ki($a,Ml)));if(0===Kt.length&&0===Wc.length)return(0,Te.of)(new ki($a,[]));const $c=Qs(Y)===Ce;return this.processSegment(fi,Kt,wc,Wc,$c?Ze:Ce,!0).pipe((0,je.T)(Ml=>new ki($a,Ml instanceof ki?[Ml]:[])))})):Fo(j)))}getChildConfig(K,j,Y){return j.children?(0,Te.of)({routes:j.children,injector:K}):j.loadChildren?void 0!==j._loadedRoutes?(0,Te.of)({routes:j._loadedRoutes,injector:j._loadedInjector}):function Il(P,K,j,Y){const ae=K.canLoad;if(void 0===ae||0===ae.length)return(0,Te.of)(!0);const Ce=ae.map(tt=>{const nn=Ro(tt,P);return hi(function Nr(P){return P&&xi(P.canLoad)}(nn)?nn.canLoad(K,j):(0,l.N4e)(P,()=>nn(K,j)))});return(0,Te.of)(Ce).pipe(ji(),ul())}(K,j,Y).pipe((0,ge.Z)(ae=>ae?this.configLoader.loadChildren(K,j).pipe((0,Mt.M)(Ce=>{j._loadedRoutes=Ce.routes,j._loadedInjector=Ce.injector})):function pa(P){return(0,st.$)(ds(!1,Cs.GuardRejected))}())):(0,Te.of)({routes:[],injector:K})}}function Ha(P){const K=P.value.routeConfig;return K&&""===K.path}function ho(P){const K=[],j=new Set;for(const Y of P){if(!Ha(Y)){K.push(Y);continue}const ae=K.find(Ce=>Y.value.routeConfig===Ce.value.routeConfig);void 0!==ae?(ae.children.push(...Y.children),j.add(ae)):K.push(Y)}for(const Y of j){const ae=ho(Y.children);K.push(new ki(Y.value,ae))}return K.filter(Y=>!j.has(Y))}function ra(P){const K=P.children.map(j=>ra(j)).flat();return[P,...K]}function dl(P){return(0,Cn.n)(K=>{const j=P(K);return j?(0,le.H)(j).pipe((0,je.T)(()=>K)):(0,Te.of)(K)})}let Is=(()=>{class P{buildTitle(j){let Y,ae=j.root;for(;void 0!==ae;)Y=this.getResolvedTitleForRoute(ae)??Y,ae=ae.children.find(Ce=>Ce.outlet===Ze);return Y}getResolvedTitleForRoute(j){return j.data[Ie]}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=l.jDH({token:P,factory:()=>(0,l.WQX)(Sr),providedIn:"root"})}}return P})(),Sr=(()=>{class P extends Is{constructor(j){super(),this.title=j}updateTitle(j){const Y=this.buildTitle(j);void 0!==Y&&this.title.setTitle(Y)}static{this.\u0275fac=function(Y){return new(Y||P)(l.KVO(Be.hE))}}static{this.\u0275prov=l.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})();const V=new l.nKC("",{providedIn:"root",factory:()=>({})}),J=new l.nKC("");let R=(()=>{class P{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(j){if(this.componentLoaders.get(j))return this.componentLoaders.get(j);if(j._loadedComponent)return(0,Te.of)(j._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(j);const Y=hi(j.loadComponent()).pipe((0,je.T)(ve),(0,Mt.M)(Ce=>{this.onLoadEndListener&&this.onLoadEndListener(j),j._loadedComponent=Ce}),(0,Zn.j)(()=>{this.componentLoaders.delete(j)})),ae=new Rt.G(Y,()=>new Bt.B).pipe((0,En.B)());return this.componentLoaders.set(j,ae),ae}loadChildren(j,Y){if(this.childrenLoaders.get(Y))return this.childrenLoaders.get(Y);if(Y._loadedRoutes)return(0,Te.of)({routes:Y._loadedRoutes,injector:Y._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Y);const Ce=function $(P,K,j,Y){return hi(P.loadChildren()).pipe((0,je.T)(ve),(0,ge.Z)(ae=>ae instanceof l.Co$||Array.isArray(ae)?(0,Te.of)(ae):(0,le.H)(K.compileModuleAsync(ae))),(0,je.T)(ae=>{Y&&Y(P);let Ce,tt,nn=!1;return Array.isArray(ae)?(tt=ae,!0):(Ce=ae.create(j).injector,tt=Ce.get(J,[],{optional:!0,self:!0}).flat()),{routes:tt.map(ms),injector:Ce}}))}(Y,this.compiler,j,this.onLoadEndListener).pipe((0,Zn.j)(()=>{this.childrenLoaders.delete(Y)})),tt=new Rt.G(Ce,()=>new Bt.B).pipe((0,En.B)());return this.childrenLoaders.set(Y,tt),tt}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=l.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})();function ve(P){return function ne(P){return P&&"object"==typeof P&&"default"in P}(P)?P.default:P}let We=(()=>{class P{static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=l.jDH({token:P,factory:()=>(0,l.WQX)(dt),providedIn:"root"})}}return P})(),dt=(()=>{class P{shouldProcessUrl(j){return!0}extract(j){return j}merge(j,Y){return j}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=l.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})();const an=new l.nKC(""),Dt=new l.nKC("");function ln(P,K,j){const Y=P.get(Dt),ae=P.get(Wt.qQ);return P.get(l.SKi).runOutsideAngular(()=>{if(!ae.startViewTransition||Y.skipNextTransition)return Y.skipNextTransition=!1,new Promise(fi=>setTimeout(fi));let Ce;const tt=new Promise(fi=>{Ce=fi}),nn=ae.startViewTransition(()=>(Ce(),function Gn(P){return new Promise(K=>{(0,l.mal)(K,{injector:P})})}(P))),{onViewTransitionCreated:Kt}=Y;return Kt&&(0,l.N4e)(P,()=>Kt({transition:nn,from:K,to:j})),tt})}let di=(()=>{class P{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Bt.B,this.transitionAbortSubject=new Bt.B,this.configLoader=(0,l.WQX)(R),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(si),this.rootContexts=(0,l.WQX)(Cr),this.location=(0,l.WQX)(Wt.aZ),this.inputBindingEnabled=null!==(0,l.WQX)(qs,{optional:!0}),this.titleStrategy=(0,l.WQX)(Is),this.options=(0,l.WQX)(V,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,l.WQX)(We),this.createViewTransition=(0,l.WQX)(an,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Te.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ae=>this.events.next(new vo(ae)),this.configLoader.onLoadStartListener=ae=>this.events.next(new El(ae))}complete(){this.transitions?.complete()}handleNavigationRequest(j){const Y=++this.navigationId;this.transitions?.next({...this.transitions.value,...j,id:Y})}setupNavigations(j,Y,ae){return this.transitions=new Ye.t({id:0,currentUrlTree:Y,currentRawUrl:Y,extractedUrl:this.urlHandlingStrategy.extract(Y),urlAfterRedirects:this.urlHandlingStrategy.extract(Y),rawUrl:Y,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:oi,restoredState:null,currentSnapshot:ae.snapshot,targetSnapshot:null,currentRouterState:ae,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,wt.p)(Ce=>0!==Ce.id),(0,je.T)(Ce=>({...Ce,extractedUrl:this.urlHandlingStrategy.extract(Ce.rawUrl)})),(0,Cn.n)(Ce=>{let tt=!1,nn=!1;return(0,Te.of)(Ce).pipe((0,Cn.n)(Kt=>{if(this.navigationId>Ce.id)return this.cancelNavigationTransition(Ce,"",Cs.SupersededByNewNavigation),It.w;this.currentTransition=Ce,this.currentNavigation={id:Kt.id,initialUrl:Kt.rawUrl,extractedUrl:Kt.extractedUrl,trigger:Kt.source,extras:Kt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const fi=!j.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!fi&&"reload"!==(Kt.extras.onSameUrlNavigation??j.onSameUrlNavigation)){const yr="";return this.events.next(new Ls(Kt.id,this.urlSerializer.serialize(Kt.rawUrl),yr,Ks.IgnoredSameUrlNavigation)),Kt.resolve(null),It.w}if(this.urlHandlingStrategy.shouldProcessUrl(Kt.rawUrl))return(0,Te.of)(Kt).pipe((0,Cn.n)(yr=>{const ss=this.transitions?.getValue();return this.events.next(new Er(yr.id,this.urlSerializer.serialize(yr.extractedUrl),yr.source,yr.restoredState)),ss!==this.transitions?.getValue()?It.w:Promise.resolve(yr)}),function ia(P,K,j,Y,ae,Ce){return(0,ge.Z)(tt=>function Vo(P,K,j,Y,ae,Ce,tt="emptyOnly"){return new ma(P,K,j,Y,ae,tt,Ce).recognize()}(P,K,j,Y,tt.extractedUrl,ae,Ce).pipe((0,je.T)(({state:nn,tree:Kt})=>({...tt,targetSnapshot:nn,urlAfterRedirects:Kt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,j.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Mt.M)(yr=>{Ce.targetSnapshot=yr.targetSnapshot,Ce.urlAfterRedirects=yr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:yr.urlAfterRedirects};const ss=new nc(yr.id,this.urlSerializer.serialize(yr.extractedUrl),this.urlSerializer.serialize(yr.urlAfterRedirects),yr.targetSnapshot);this.events.next(ss)}));if(fi&&this.urlHandlingStrategy.shouldProcessUrl(Kt.currentRawUrl)){const{id:yr,extractedUrl:ss,source:$a,restoredState:wc,extras:Wc}=Kt,$c=new Er(yr,this.urlSerializer.serialize(ss),$a,wc);this.events.next($c);const Ml=rr(this.rootComponentType).snapshot;return this.currentTransition=Ce={...Kt,targetSnapshot:Ml,urlAfterRedirects:ss,extras:{...Wc,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ss,(0,Te.of)(Ce)}{const yr="";return this.events.next(new Ls(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),yr,Ks.IgnoredByUrlHandlingStrategy)),Kt.resolve(null),It.w}}),(0,Mt.M)(Kt=>{const fi=new la(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot);this.events.next(fi)}),(0,je.T)(Kt=>(this.currentTransition=Ce={...Kt,guards:bi(Kt.targetSnapshot,Kt.currentSnapshot,this.rootContexts)},Ce)),function ea(P,K){return(0,ge.Z)(j=>{const{targetSnapshot:Y,currentSnapshot:ae,guards:{canActivateChecks:Ce,canDeactivateChecks:tt}}=j;return 0===tt.length&&0===Ce.length?(0,Te.of)({...j,guardsResult:!0}):function fa(P,K,j,Y){return(0,le.H)(P).pipe((0,ge.Z)(ae=>function Qr(P,K,j,Y,ae){const Ce=K&&K.routeConfig?K.routeConfig.canDeactivate:null;if(!Ce||0===Ce.length)return(0,Te.of)(!0);const tt=Ce.map(nn=>{const Kt=_s(K)??ae,fi=Ro(nn,Kt);return hi(function Q(P){return P&&xi(P.canDeactivate)}(fi)?fi.canDeactivate(P,K,j,Y):(0,l.N4e)(Kt,()=>fi(P,K,j,Y))).pipe((0,Tn.$)())});return(0,Te.of)(tt).pipe(ji())}(ae.component,ae.route,j,K,Y)),(0,Tn.$)(ae=>!0!==ae,!0))}(tt,Y,ae,P).pipe((0,ge.Z)(nn=>nn&&function wr(P){return"boolean"==typeof P}(nn)?function As(P,K,j,Y){return(0,le.H)(K).pipe((0,qt.H)(ae=>(0,et.x)(function La(P,K){return null!==P&&K&&K(new Ys(P)),(0,Te.of)(!0)}(ae.route.parent,Y),function Sa(P,K){return null!==P&&K&&K(new Si(P)),(0,Te.of)(!0)}(ae.route,Y),function Dl(P,K,j){const Y=K[K.length-1],Ce=K.slice(0,K.length-1).reverse().map(tt=>function Js(P){const K=P.routeConfig?P.routeConfig.canActivateChild:null;return K&&0!==K.length?{node:P,guards:K}:null}(tt)).filter(tt=>null!==tt).map(tt=>(0,Ne.v)(()=>{const nn=tt.guards.map(Kt=>{const fi=_s(tt.node)??j,fr=Ro(Kt,fi);return hi(function pe(P){return P&&xi(P.canActivateChild)}(fr)?fr.canActivateChild(Y,P):(0,l.N4e)(fi,()=>fr(Y,P))).pipe((0,Tn.$)())});return(0,Te.of)(nn).pipe(ji())}));return(0,Te.of)(Ce).pipe(ji())}(P,ae.path,j),function Ja(P,K,j){const Y=K.routeConfig?K.routeConfig.canActivate:null;if(!Y||0===Y.length)return(0,Te.of)(!0);const ae=Y.map(Ce=>(0,Ne.v)(()=>{const tt=_s(K)??j,nn=Ro(Ce,tt);return hi(function ce(P){return P&&xi(P.canActivate)}(nn)?nn.canActivate(K,P):(0,l.N4e)(tt,()=>nn(K,P))).pipe((0,Tn.$)())}));return(0,Te.of)(ae).pipe(ji())}(P,ae.route,j))),(0,Tn.$)(ae=>!0!==ae,!0))}(Y,Ce,P,K):(0,Te.of)(nn)),(0,je.T)(nn=>({...j,guardsResult:nn})))})}(this.environmentInjector,Kt=>this.events.next(Kt)),(0,Mt.M)(Kt=>{if(Ce.guardsResult=Kt.guardsResult,Oi(Kt.guardsResult))throw so(0,Kt.guardsResult);const fi=new ca(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot,!!Kt.guardsResult);this.events.next(fi)}),(0,wt.p)(Kt=>!!Kt.guardsResult||(this.cancelNavigationTransition(Kt,"",Cs.GuardRejected),!1)),dl(Kt=>{if(Kt.guards.canActivateChecks.length)return(0,Te.of)(Kt).pipe((0,Mt.M)(fi=>{const fr=new ll(fi.id,this.urlSerializer.serialize(fi.extractedUrl),this.urlSerializer.serialize(fi.urlAfterRedirects),fi.targetSnapshot);this.events.next(fr)}),(0,Cn.n)(fi=>{let fr=!1;return(0,Te.of)(fi).pipe(function Ds(P,K){return(0,ge.Z)(j=>{const{targetSnapshot:Y,guards:{canActivateChecks:ae}}=j;if(!ae.length)return(0,Te.of)(j);const Ce=new Set(ae.map(Kt=>Kt.route)),tt=new Set;for(const Kt of Ce)if(!tt.has(Kt))for(const fi of ra(Kt))tt.add(fi);let nn=0;return(0,le.H)(tt).pipe((0,qt.H)(Kt=>Ce.has(Kt)?function tl(P,K,j,Y){const ae=P.routeConfig,Ce=P._resolve;return void 0!==ae?.title&&!Yr(ae)&&(Ce[Ie]=ae.title),function fo(P,K,j,Y){const ae=Vn(P);if(0===ae.length)return(0,Te.of)({});const Ce={};return(0,le.H)(ae).pipe((0,ge.Z)(tt=>function Ui(P,K,j,Y){const ae=_s(K)??Y,Ce=Ro(P,ae);return hi(Ce.resolve?Ce.resolve(K,j):(0,l.N4e)(ae,()=>Ce(K,j)))}(P[tt],K,j,Y).pipe((0,Tn.$)(),(0,Mt.M)(nn=>{Ce[tt]=nn}))),(0,Qt.o)(1),(0,$n.u)(Ce),(0,He.W)(tt=>lt(tt)?It.w:(0,st.$)(tt)))}(Ce,P,K,Y).pipe((0,je.T)(tt=>(P._resolvedData=tt,P.data=Tr(P,P.parent,j).resolve,null)))}(Kt,Y,P,K):(Kt.data=Tr(Kt,Kt.parent,P).resolve,(0,Te.of)(void 0))),(0,Mt.M)(()=>nn++),(0,Qt.o)(1),(0,ge.Z)(Kt=>nn===tt.size?(0,Te.of)(j):It.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Mt.M)({next:()=>fr=!0,complete:()=>{fr||this.cancelNavigationTransition(fi,"",Cs.NoDataFromResolver)}}))}),(0,Mt.M)(fi=>{const fr=new qa(fi.id,this.urlSerializer.serialize(fi.extractedUrl),this.urlSerializer.serialize(fi.urlAfterRedirects),fi.targetSnapshot);this.events.next(fr)}))}),dl(Kt=>{const fi=fr=>{const yr=[];fr.routeConfig?.loadComponent&&!fr.routeConfig._loadedComponent&&yr.push(this.configLoader.loadComponent(fr.routeConfig).pipe((0,Mt.M)(ss=>{fr.component=ss}),(0,je.T)(()=>{})));for(const ss of fr.children)yr.push(...fi(ss));return yr};return(0,Oe.z)(fi(Kt.targetSnapshot.root)).pipe((0,Le.U)(null),(0,Mn.s)(1))}),dl(()=>this.afterPreactivation()),(0,Cn.n)(()=>{const{currentSnapshot:Kt,targetSnapshot:fi}=Ce,fr=this.createViewTransition?.(this.environmentInjector,Kt.root,fi.root);return fr?(0,le.H)(fr).pipe((0,je.T)(()=>Ce)):(0,Te.of)(Ce)}),(0,je.T)(Kt=>{const fi=function Hs(P,K,j){const Y=ro(P,K._root,j?j._root:void 0);return new Ti(Y,K)}(j.routeReuseStrategy,Kt.targetSnapshot,Kt.currentRouterState);return this.currentTransition=Ce={...Kt,targetRouterState:fi},this.currentNavigation.targetRouterState=fi,Ce}),(0,Mt.M)(()=>{this.events.next(new ir)}),((P,K,j,Y)=>(0,je.T)(ae=>(new kr(K,ae.targetRouterState,ae.currentRouterState,j,Y).activate(P),ae)))(this.rootContexts,j.routeReuseStrategy,Kt=>this.events.next(Kt),this.inputBindingEnabled),(0,Mn.s)(1),(0,Mt.M)({next:Kt=>{tt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ts(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects))),this.titleStrategy?.updateTitle(Kt.targetRouterState.snapshot),Kt.resolve(!0)},complete:()=>{tt=!0}}),(0,ri.Q)(this.transitionAbortSubject.pipe((0,Mt.M)(Kt=>{throw Kt}))),(0,Zn.j)(()=>{!tt&&!nn&&this.cancelNavigationTransition(Ce,"",Cs.SupersededByNewNavigation),this.currentTransition?.id===Ce.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,He.W)(Kt=>{if(nn=!0,da(Kt))this.events.next(new Io(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),Kt.message,Kt.cancellationCode)),function hs(P){return da(P)&&Oi(P.url)}(Kt)?this.events.next(new vr(Kt.url)):Ce.resolve(!1);else{this.events.next(new aa(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),Kt,Ce.targetSnapshot??void 0));try{Ce.resolve(j.errorHandler(Kt))}catch(fi){this.options.resolveNavigationPromiseOnError?Ce.resolve(!1):Ce.reject(fi)}}return It.w}))}))}cancelNavigationTransition(j,Y,ae){const Ce=new Io(j.id,this.urlSerializer.serialize(j.extractedUrl),Y,ae);this.events.next(Ce),j.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=l.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})();function x(P){return P!==oi}let de=(()=>{class P{static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=l.jDH({token:P,factory:()=>(0,l.WQX)(te),providedIn:"root"})}}return P})();class X{shouldDetach(K){return!1}store(K,j){}shouldAttach(K){return!1}retrieve(K){return null}shouldReuseRoute(K,j){return K.routeConfig===j.routeConfig}}let te=(()=>{class P extends X{static{this.\u0275fac=(()=>{let j;return function(ae){return(j||(j=l.xGo(P)))(ae||P)}})()}static{this.\u0275prov=l.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})(),Ae=(()=>{class P{static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=l.jDH({token:P,factory:()=>(0,l.WQX)(Ct),providedIn:"root"})}}return P})(),Ct=(()=>{class P extends Ae{constructor(){super(...arguments),this.location=(0,l.WQX)(Wt.aZ),this.urlSerializer=(0,l.WQX)(si),this.options=(0,l.WQX)(V,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,l.WQX)(We),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Nn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=rr(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(j){return this.location.subscribe(Y=>{"popstate"===Y.type&&j(Y.url,Y.state)})}handleRouterEvent(j,Y){if(j instanceof Er)this.stateMemento=this.createStateMemento();else if(j instanceof Ls)this.rawUrlTree=Y.initialUrl;else if(j instanceof nc){if("eager"===this.urlUpdateStrategy&&!Y.extras.skipLocationChange){const ae=this.urlHandlingStrategy.merge(Y.finalUrl,Y.initialUrl);this.setBrowserUrl(ae,Y)}}else j instanceof ir?(this.currentUrlTree=Y.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Y.finalUrl,Y.initialUrl),this.routerState=Y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Y))):j instanceof Io&&(j.code===Cs.GuardRejected||j.code===Cs.NoDataFromResolver)?this.restoreHistory(Y):j instanceof aa?this.restoreHistory(Y,!0):j instanceof ts&&(this.lastSuccessfulId=j.id,this.currentPageId=this.browserPageId)}setBrowserUrl(j,Y){const ae=this.urlSerializer.serialize(j);if(this.location.isCurrentPathEqualTo(ae)||Y.extras.replaceUrl){const tt={...Y.extras.state,...this.generateNgRouterState(Y.id,this.browserPageId)};this.location.replaceState(ae,"",tt)}else{const Ce={...Y.extras.state,...this.generateNgRouterState(Y.id,this.browserPageId+1)};this.location.go(ae,"",Ce)}}restoreHistory(j,Y=!1){if("computed"===this.canceledNavigationResolution){const Ce=this.currentPageId-this.browserPageId;0!==Ce?this.location.historyGo(Ce):this.currentUrlTree===j.finalUrl&&0===Ce&&(this.resetState(j),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Y&&this.resetState(j),this.resetUrlToCurrentUrlTree())}resetState(j){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,j.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(j,Y){return"computed"===this.canceledNavigationResolution?{navigationId:j,\u0275routerPageId:Y}:{navigationId:j}}static{this.\u0275fac=(()=>{let j;return function(ae){return(j||(j=l.xGo(P)))(ae||P)}})()}static{this.\u0275prov=l.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})();var Pt=function(P){return P[P.COMPLETE=0]="COMPLETE",P[P.FAILED=1]="FAILED",P[P.REDIRECTING=2]="REDIRECTING",P}(Pt||{});function Sn(P,K){P.events.pipe((0,wt.p)(j=>j instanceof ts||j instanceof Io||j instanceof aa||j instanceof Ls),(0,je.T)(j=>j instanceof ts||j instanceof Ls?Pt.COMPLETE:j instanceof Io&&(j.code===Cs.Redirect||j.code===Cs.SupersededByNewNavigation)?Pt.REDIRECTING:Pt.FAILED),(0,wt.p)(j=>j!==Pt.REDIRECTING),(0,Mn.s)(1)).subscribe(()=>{K()})}function Di(P){throw P}const Ni={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qn=(()=>{class P{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,l.WQX)(l.H3F),this.stateManager=(0,l.WQX)(Ae),this.options=(0,l.WQX)(V,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,l.WQX)(di),this.urlSerializer=(0,l.WQX)(si),this.location=(0,l.WQX)(Wt.aZ),this.urlHandlingStrategy=(0,l.WQX)(We),this._events=new Bt.B,this.errorHandler=this.options.errorHandler||Di,this.navigated=!1,this.routeReuseStrategy=(0,l.WQX)(de),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,l.WQX)(J,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,l.WQX)(qs,{optional:!0}),this.eventsSubscription=new fn.yU,this.isNgZoneEnabled=(0,l.WQX)(l.SKi)instanceof l.SKi&&l.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:j=>{this.console.warn(j)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const j=this.navigationTransitions.events.subscribe(Y=>{try{const ae=this.navigationTransitions.currentTransition,Ce=this.navigationTransitions.currentNavigation;if(null!==ae&&null!==Ce)if(this.stateManager.handleRouterEvent(Y,Ce),Y instanceof Io&&Y.code!==Cs.Redirect&&Y.code!==Cs.SupersededByNewNavigation)this.navigated=!0;else if(Y instanceof ts)this.navigated=!0;else if(Y instanceof vr){const tt=this.urlHandlingStrategy.merge(Y.url,ae.currentRawUrl),nn={info:ae.extras.info,skipLocationChange:ae.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||x(ae.source)};this.scheduleNavigation(tt,oi,null,nn,{resolve:ae.resolve,reject:ae.reject,promise:ae.promise})}(function ui(P){return!(P instanceof ir||P instanceof vr)})(Y)&&this._events.next(Y)}catch(ae){this.navigationTransitions.transitionAbortSubject.next(ae)}});this.eventsSubscription.add(j)}resetRootComponentType(j){this.routerState.root.component=j,this.navigationTransitions.rootComponentType=j}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),oi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((j,Y)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(j,"popstate",Y)},0)})}navigateToSyncWithBrowser(j,Y,ae){const Ce={replaceUrl:!0},tt=ae?.navigationId?ae:null;if(ae){const Kt={...ae};delete Kt.navigationId,delete Kt.\u0275routerPageId,0!==Object.keys(Kt).length&&(Ce.state=Kt)}const nn=this.parseUrl(j);this.scheduleNavigation(nn,Y,tt,Ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(j){this.config=j.map(ms),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(j,Y={}){const{relativeTo:ae,queryParams:Ce,fragment:tt,queryParamsHandling:nn,preserveFragment:Kt}=Y,fi=Kt?this.currentUrlTree.fragment:tt;let yr,fr=null;switch(nn){case"merge":fr={...this.currentUrlTree.queryParams,...Ce};break;case"preserve":fr=this.currentUrlTree.queryParams;break;default:fr=Ce||null}null!==fr&&(fr=this.removeEmptyProps(fr));try{yr=Ai(ae?ae.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof j[0]||!j[0].startsWith("/"))&&(j=[]),yr=this.currentUrlTree.root}return li(yr,j,fr,fi??null)}navigateByUrl(j,Y={skipLocationChange:!1}){const ae=Oi(j)?j:this.parseUrl(j),Ce=this.urlHandlingStrategy.merge(ae,this.rawUrlTree);return this.scheduleNavigation(Ce,oi,null,Y)}navigate(j,Y={skipLocationChange:!1}){return function vi(P){for(let K=0;K<P.length;K++)if(null==P[K])throw new l.wOt(4008,!1)}(j),this.navigateByUrl(this.createUrlTree(j,Y),Y)}serializeUrl(j){return this.urlSerializer.serialize(j)}parseUrl(j){try{return this.urlSerializer.parse(j)}catch{return this.urlSerializer.parse("/")}}isActive(j,Y){let ae;if(ae=!0===Y?{...Ni}:!1===Y?{...sr}:Y,Oi(j))return xe(this.currentUrlTree,j,ae);const Ce=this.parseUrl(j);return xe(this.currentUrlTree,Ce,ae)}removeEmptyProps(j){return Object.entries(j).reduce((Y,[ae,Ce])=>(null!=Ce&&(Y[ae]=Ce),Y),{})}scheduleNavigation(j,Y,ae,Ce,tt){if(this.disposed)return Promise.resolve(!1);let nn,Kt,fi;tt?(nn=tt.resolve,Kt=tt.reject,fi=tt.promise):fi=new Promise((yr,ss)=>{nn=yr,Kt=ss});const fr=this.pendingTasks.add();return Sn(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(fr))}),this.navigationTransitions.handleNavigationRequest({source:Y,restoredState:ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:j,extras:Ce,resolve:nn,reject:Kt,promise:fi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),fi.catch(yr=>Promise.reject(yr))}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=l.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})(),Fn=(()=>{class P{constructor(j,Y,ae,Ce,tt,nn){this.router=j,this.route=Y,this.tabIndexAttribute=ae,this.renderer=Ce,this.el=tt,this.locationStrategy=nn,this.href=null,this.commands=null,this.onChanges=new Bt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Kt=tt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Kt||"area"===Kt,this.isAnchorElement?this.subscription=j.events.subscribe(fi=>{fi instanceof ts&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(j){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",j)}ngOnChanges(j){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(j){null!=j?(this.commands=Array.isArray(j)?j:[j],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(j,Y,ae,Ce,tt){const nn=this.urlTree;return!!(null===nn||this.isAnchorElement&&(0!==j||Y||ae||Ce||tt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(nn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const j=this.urlTree;this.href=null!==j&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(j)):null;const Y=null===this.href?null:(0,l.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Y)}applyAttributeValue(j,Y){const ae=this.renderer,Ce=this.el.nativeElement;null!==Y?ae.setAttribute(Ce,j,Y):ae.removeAttribute(Ce,j)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(Y){return new(Y||P)(l.rXU(Qn),l.rXU(Xs),l.kS0("tabindex"),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(Wt.hb))}}static{this.\u0275dir=l.FsC({type:P,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Y,ae){1&Y&&l.bIt("click",function(tt){return ae.onClick(tt.button,tt.ctrlKey,tt.shiftKey,tt.altKey,tt.metaKey)}),2&Y&&l.BMQ("target",ae.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[l.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",l.L39],skipLocationChange:[l.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",l.L39],replaceUrl:[l.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",l.L39],routerLink:"routerLink"},standalone:!0,features:[l.GFd,l.OA$]})}}return P})(),In=(()=>{class P{get isActive(){return this._isActive}constructor(j,Y,ae,Ce,tt){this.router=j,this.element=Y,this.renderer=ae,this.cdr=Ce,this.link=tt,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.bkB,this.routerEventsSubscription=j.events.subscribe(nn=>{nn instanceof ts&&this.update()})}ngAfterContentInit(){(0,Te.of)(this.links.changes,(0,Te.of)(null)).pipe((0,mt.U)()).subscribe(j=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const j=[...this.links.toArray(),this.link].filter(Y=>!!Y).map(Y=>Y.onChanges);this.linkInputChangesSubscription=(0,le.H)(j).pipe((0,mt.U)()).subscribe(Y=>{this._isActive!==this.isLinkActive(this.router)(Y)&&this.update()})}set routerLinkActive(j){const Y=Array.isArray(j)?j:j.split(" ");this.classes=Y.filter(ae=>!!ae)}ngOnChanges(j){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const j=this.hasActiveLinks();this.classes.forEach(Y=>{j?this.renderer.addClass(this.element.nativeElement,Y):this.renderer.removeClass(this.element.nativeElement,Y)}),j&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==j&&(this._isActive=j,this.cdr.markForCheck(),this.isActiveChange.emit(j))})}isLinkActive(j){const Y=function _n(P){return!!P.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return ae=>{const Ce=ae.urlTree;return!!Ce&&j.isActive(Ce,Y)}}hasActiveLinks(){const j=this.isLinkActive(this.router);return this.link&&j(this.link)||this.links.some(j)}static{this.\u0275fac=function(Y){return new(Y||P)(l.rXU(Qn),l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(l.gRc),l.rXU(Fn,8))}}static{this.\u0275dir=l.FsC({type:P,selectors:[["","routerLinkActive",""]],contentQueries:function(Y,ae,Ce){if(1&Y&&l.wni(Ce,Fn,5),2&Y){let tt;l.mGM(tt=l.lsd())&&(ae.links=tt)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.OA$]})}}return P})();class Ln{}let Gr=(()=>{class P{constructor(j,Y,ae,Ce,tt){this.router=j,this.injector=ae,this.preloadingStrategy=Ce,this.loader=tt}setUpPreloading(){this.subscription=this.router.events.pipe((0,wt.p)(j=>j instanceof ts),(0,qt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(j,Y){const ae=[];for(const Ce of Y){Ce.providers&&!Ce._injector&&(Ce._injector=(0,l.Ol2)(Ce.providers,j,`Route: ${Ce.path}`));const tt=Ce._injector??j,nn=Ce._loadedInjector??tt;(Ce.loadChildren&&!Ce._loadedRoutes&&void 0===Ce.canLoad||Ce.loadComponent&&!Ce._loadedComponent)&&ae.push(this.preloadConfig(tt,Ce)),(Ce.children||Ce._loadedRoutes)&&ae.push(this.processRoutes(nn,Ce.children??Ce._loadedRoutes))}return(0,le.H)(ae).pipe((0,mt.U)())}preloadConfig(j,Y){return this.preloadingStrategy.preload(Y,()=>{let ae;ae=Y.loadChildren&&void 0===Y.canLoad?this.loader.loadChildren(j,Y):(0,Te.of)(null);const Ce=ae.pipe((0,ge.Z)(tt=>null===tt?(0,Te.of)(void 0):(Y._loadedRoutes=tt.routes,Y._loadedInjector=tt.injector,this.processRoutes(tt.injector??j,tt.routes))));if(Y.loadComponent&&!Y._loadedComponent){const tt=this.loader.loadComponent(Y);return(0,le.H)([Ce,tt]).pipe((0,mt.U)())}return Ce})}static{this.\u0275fac=function(Y){return new(Y||P)(l.KVO(Qn),l.KVO(l.Ql9),l.KVO(l.uvJ),l.KVO(Ln),l.KVO(R))}}static{this.\u0275prov=l.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})();const vs=new l.nKC("");let rs=(()=>{class P{constructor(j,Y,ae,Ce,tt={}){this.urlSerializer=j,this.transitions=Y,this.viewportScroller=ae,this.zone=Ce,this.options=tt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,l.WQX)(l.uvJ),tt.scrollPositionRestoration||="disabled",tt.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(j=>{j instanceof Er?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=j.navigationTrigger,this.restoredId=j.restoredState?j.restoredState.navigationId:0):j instanceof ts?(this.lastId=j.id,this.scheduleScrollEvent(j,this.urlSerializer.parse(j.urlAfterRedirects).fragment)):j instanceof Ls&&j.code===Ks.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(j,this.urlSerializer.parse(j.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(j=>{j instanceof Pa&&(j.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(j.position):j.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(j.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(j,Y){var ae=this;this.zone.runOutsideAngular((0,i.A)(function*(){yield new Promise(Ce=>{setTimeout(()=>{Ce()}),(0,l.mal)(()=>{Ce()},{injector:ae.environmentInjector})}),ae.zone.run(()=>{ae.transitions.events.next(new Pa(j,"popstate"===ae.lastSource?ae.store[ae.restoredId]:null,Y))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(Y){l.QTQ()}}static{this.\u0275prov=l.jDH({token:P,factory:P.\u0275fac})}}return P})();function Xr(P,...K){return(0,l.EmA)([{provide:J,multi:!0,useValue:P},[],{provide:Xs,useFactory:Hi,deps:[Qn]},{provide:l.iLQ,multi:!0,useFactory:ps},K.map(j=>j.\u0275providers)])}function Hi(P){return P.routerState.root}function Pi(P,K){return{\u0275kind:P,\u0275providers:K}}function ps(){const P=(0,l.WQX)(l.zZn);return K=>{const j=P.get(l.o8S);if(K!==j.components[0])return;const Y=P.get(Qn),ae=P.get(Ga);1===P.get(ka)&&Y.initialNavigation(),P.get(_a,null,l.$GK.Optional)?.setUpPreloading(),P.get(vs,null,l.$GK.Optional)?.init(),Y.resetRootComponentType(j.componentTypes[0]),ae.closed||(ae.next(),ae.complete(),ae.unsubscribe())}}const Ga=new l.nKC("",{factory:()=>new Bt.B}),ka=new l.nKC("",{providedIn:"root",factory:()=>1}),_a=new l.nKC("");function Jr(P){return Pi(0,[{provide:_a,useExisting:Gr},{provide:Ln,useExisting:P}])}function cs(P){return Pi(9,[{provide:an,useValue:ln},{provide:Dt,useValue:{skipNextTransition:!!P?.skipInitialTransition,...P}}])}const nl=new l.nKC("ROUTER_FORROOT_GUARD"),go=[Wt.aZ,{provide:si,useClass:nr},Qn,Cr,{provide:Xs,useFactory:Hi,deps:[Qn]},R,[]];let Gc=(()=>{class P{constructor(j){}static forRoot(j,Y){return{ngModule:P,providers:[go,[],{provide:J,multi:!0,useValue:j},{provide:nl,useFactory:fl,deps:[[Qn,new l.Xx1,new l.kdw]]},{provide:V,useValue:Y||{}},Y?.useHash?{provide:Wt.hb,useClass:Wt.fw}:{provide:Wt.hb,useClass:Wt.Sm},{provide:vs,useFactory:()=>{const P=(0,l.WQX)(Wt.Xr),K=(0,l.WQX)(l.SKi),j=(0,l.WQX)(V),Y=(0,l.WQX)(di),ae=(0,l.WQX)(si);return j.scrollOffset&&P.setOffset(j.scrollOffset),new rs(ae,Y,P,K,j)}},Y?.preloadingStrategy?Jr(Y.preloadingStrategy).\u0275providers:[],Y?.initialNavigation?rc(Y):[],Y?.bindToComponentInputs?Pi(8,[Li,{provide:qs,useExisting:Li}]).\u0275providers:[],Y?.enableViewTransitions?cs().\u0275providers:[],[{provide:Zr,useFactory:ps},{provide:l.iLQ,multi:!0,useExisting:Zr}]]}}static forChild(j){return{ngModule:P,providers:[{provide:J,multi:!0,useValue:j}]}}static{this.\u0275fac=function(Y){return new(Y||P)(l.KVO(nl,8))}}static{this.\u0275mod=l.$C({type:P})}static{this.\u0275inj=l.G2t({})}}return P})();function fl(P){return"guarded"}function rc(P){return["disabled"===P.initialNavigation?Pi(3,[{provide:l.hnV,multi:!0,useFactory:()=>{const K=(0,l.WQX)(Qn);return()=>{K.setUpLocationChangeListener()}}},{provide:ka,useValue:2}]).\u0275providers:[],"enabledBlocking"===P.initialNavigation?Pi(2,[{provide:ka,useValue:0},{provide:l.hnV,multi:!0,deps:[l.zZn],useFactory:K=>{const j=K.get(Wt.hj,Promise.resolve());return()=>j.then(()=>new Promise(Y=>{const ae=K.get(Qn),Ce=K.get(Ga);Sn(ae,()=>{Y(!0)}),K.get(di).afterPreactivation=()=>(Y(!0),Ce.closed?(0,Te.of)(void 0):Ce),ae.initialNavigation()}))}}]).\u0275providers:[]]}const Zr=new l.nKC("")},3345:(un,nt,B)=>{"use strict";B.d(nt,{A:()=>Bt});var i=B(1076),l=B(1362),_e=B(7852),le=B(8041);class Te{constructor(Wt,je){this._delegate=Wt,this.firebase=je,(0,_e._addComponent)(Wt,new l.uA("app-compat",()=>this,"PUBLIC")),this.container=Wt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Wt){this._delegate.automaticDataCollectionEnabled=Wt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Wt=>{this._delegate.checkDestroyed(),Wt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,_e.deleteApp)(this._delegate)))}_getService(Wt,je=_e._DEFAULT_ENTRY_NAME){var Cn;this._delegate.checkDestroyed();const Mn=this._delegate.container.getProvider(Wt);return!Mn.isInitialized()&&"EXPLICIT"===(null===(Cn=Mn.getComponent())||void 0===Cn?void 0:Cn.instantiationMode)&&Mn.initialize(),Mn.getImmediate({identifier:je})}_removeServiceInstance(Wt,je=_e._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Wt).clearInstance(je)}_addComponent(Wt){(0,_e._addComponent)(this._delegate,Wt)}_addOrOverwriteComponent(Wt){(0,_e._addOrOverwriteComponent)(this._delegate,Wt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Oe=new i.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ne=function et(){const fn=function Xe(fn){const Wt={},je={__esModule:!0,initializeApp:function jt(qt,Mt={}){const He=_e.initializeApp(qt,Mt);if((0,i.gR)(Wt,He.name))return Wt[He.name];const Se=new fn(He,je);return Wt[He.name]=Se,Se},app:Mn,registerVersion:_e.registerVersion,setLogLevel:_e.setLogLevel,onLog:_e.onLog,apps:null,SDK_VERSION:_e.SDK_VERSION,INTERNAL:{registerComponent:function ge(qt){const Mt=qt.name,He=Mt.replace("-compat","");if(_e._registerComponent(qt)&&"PUBLIC"===qt.type){const Se=(Le=Mn())=>{if("function"!=typeof Le[He])throw Oe.create("invalid-app-argument",{appName:Mt});return Le[He]()};void 0!==qt.serviceProps&&(0,i.zw)(Se,qt.serviceProps),je[He]=Se,fn.prototype[He]=function(...Le){return this._getService.bind(this,Mt).apply(this,qt.multipleInstances?Le:[])}}return"PUBLIC"===qt.type?je[He]:null},removeApp:function Cn(qt){delete Wt[qt]},useAsService:function Tn(qt,Mt){return"serverAuth"===Mt?null:Mt},modularAPIs:_e}};function Mn(qt){if(!(0,i.gR)(Wt,qt=qt||_e._DEFAULT_ENTRY_NAME))throw Oe.create("no-app",{appName:qt});return Wt[qt]}return je.default=je,Object.defineProperty(je,"apps",{get:function wt(){return Object.keys(Wt).map(qt=>Wt[qt])}}),Mn.App=fn,je}(Te);return fn.INTERNAL=Object.assign(Object.assign({},fn.INTERNAL),{createFirebaseNamespace:et,extendNamespace:function Wt(je){(0,i.zw)(fn,je)},createSubscribe:i.tD,ErrorFactory:i.FA,deepExtend:i.zw}),fn}(),Fe=new le.Vy("@firebase/app-compat");try{const fn=(0,i.mS)();if(void 0!==fn.firebase){Fe.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Wt=fn.firebase.SDK_VERSION;Wt&&Wt.indexOf("LITE")>=0&&Fe.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Bt=Ne;!function Rt(fn){(0,_e.registerVersion)("@firebase/app-compat","0.2.43",fn)}()},7852:(un,nt,B)=>{"use strict";B.r(nt),B.d(nt,{FirebaseError:()=>le.g,SDK_VERSION:()=>Rr,_DEFAULT_ENTRY_NAME:()=>Dn,_addComponent:()=>si,_addOrOverwriteComponent:()=>nr,_apps:()=>ur,_clearComponents:()=>ws,_components:()=>Fi,_getProvider:()=>Kn,_isFirebaseApp:()=>er,_isFirebaseServerApp:()=>Wn,_registerComponent:()=>os,_removeServiceInstance:()=>Pn,_serverApps:()=>Ki,deleteApp:()=>yn,getApp:()=>$e,getApps:()=>ht,initializeApp:()=>vt,initializeServerApp:()=>Tt,onLog:()=>ze,registerVersion:()=>Ge,setLogLevel:()=>ut});var i=B(467),l=B(1362),_e=B(8041),le=B(1076);const Te=(Gt,St)=>St.some(Zt=>Gt instanceof Zt);let Ye,Oe;const Ne=new WeakMap,Fe=new WeakMap,st=new WeakMap,It=new WeakMap,Rt=new WeakMap;let Wt={get(Gt,St,Zt){if(Gt instanceof IDBTransaction){if("done"===St)return Fe.get(Gt);if("objectStoreNames"===St)return Gt.objectStoreNames||st.get(Gt);if("store"===St)return Zt.objectStoreNames[1]?void 0:Zt.objectStore(Zt.objectStoreNames[0])}return jt(Gt[St])},set:(Gt,St,Zt)=>(Gt[St]=Zt,!0),has:(Gt,St)=>Gt instanceof IDBTransaction&&("done"===St||"store"===St)||St in Gt};function Mn(Gt){return"function"==typeof Gt?function Cn(Gt){return Gt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function et(){return Oe||(Oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Gt)?function(...St){return Gt.apply(wt(this),St),jt(Ne.get(this))}:function(...St){return jt(Gt.apply(wt(this),St))}:function(St,...Zt){const qn=Gt.call(wt(this),St,...Zt);return st.set(qn,St.sort?St.sort():[St]),jt(qn)}}(Gt):(Gt instanceof IDBTransaction&&function fn(Gt){if(Fe.has(Gt))return;const St=new Promise((Zt,qn)=>{const Mi=()=>{Gt.removeEventListener("complete",gi),Gt.removeEventListener("error",Yi),Gt.removeEventListener("abort",Yi)},gi=()=>{Zt(),Mi()},Yi=()=>{qn(Gt.error||new DOMException("AbortError","AbortError")),Mi()};Gt.addEventListener("complete",gi),Gt.addEventListener("error",Yi),Gt.addEventListener("abort",Yi)});Fe.set(Gt,St)}(Gt),Te(Gt,function Xe(){return Ye||(Ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Gt,Wt):Gt)}function jt(Gt){if(Gt instanceof IDBRequest)return function Bt(Gt){const St=new Promise((Zt,qn)=>{const Mi=()=>{Gt.removeEventListener("success",gi),Gt.removeEventListener("error",Yi)},gi=()=>{Zt(jt(Gt.result)),Mi()},Yi=()=>{qn(Gt.error),Mi()};Gt.addEventListener("success",gi),Gt.addEventListener("error",Yi)});return St.then(Zt=>{Zt instanceof IDBCursor&&Ne.set(Zt,Gt)}).catch(()=>{}),Rt.set(St,Gt),St}(Gt);if(It.has(Gt))return It.get(Gt);const St=Mn(Gt);return St!==Gt&&(It.set(Gt,St),Rt.set(St,Gt)),St}const wt=Gt=>Rt.get(Gt),qt=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],He=new Map;function Se(Gt,St){if(!(Gt instanceof IDBDatabase)||St in Gt||"string"!=typeof St)return;if(He.get(St))return He.get(St);const Zt=St.replace(/FromIndex$/,""),qn=St!==Zt,Mi=Mt.includes(Zt);if(!(Zt in(qn?IDBIndex:IDBObjectStore).prototype)||!Mi&&!qt.includes(Zt))return;const gi=function(){var Yi=(0,i.A)(function*(oi,...wi){const as=this.transaction(oi,Mi?"readwrite":"readonly");let Er=as.store;return qn&&(Er=Er.index(wi.shift())),(yield Promise.all([Er[Zt](...wi),Mi&&as.done]))[0]});return function(wi){return Yi.apply(this,arguments)}}();return He.set(St,gi),gi}!function je(Gt){Wt=Gt(Wt)}(Gt=>({...Gt,get:(St,Zt,qn)=>Se(St,Zt)||Gt.get(St,Zt,qn),has:(St,Zt)=>!!Se(St,Zt)||Gt.has(St,Zt)}));class Le{constructor(St){this.container=St}getPlatformInfoString(){return this.container.getProviders().map(Zt=>{if(function Qt(Gt){const St=Gt.getComponent();return"VERSION"===St?.type}(Zt)){const qn=Zt.getImmediate();return`${qn.library}/${qn.version}`}return null}).filter(Zt=>Zt).join(" ")}}const Rn="@firebase/app",Xn="0.10.13",ai=new _e.Vy("@firebase/app"),Dn="[DEFAULT]",jn={[Rn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ur=new Map,Ki=new Map,Fi=new Map;function si(Gt,St){try{Gt.container.addComponent(St)}catch(Zt){ai.debug(`Component ${St.name} failed to register with FirebaseApp ${Gt.name}`,Zt)}}function nr(Gt,St){Gt.container.addOrOverwriteComponent(St)}function os(Gt){const St=Gt.name;if(Fi.has(St))return ai.debug(`There were multiple attempts to register component ${St}.`),!1;Fi.set(St,Gt);for(const Zt of ur.values())si(Zt,Gt);for(const Zt of Ki.values())si(Zt,Gt);return!0}function Kn(Gt,St){const Zt=Gt.container.getProvider("heartbeat").getImmediate({optional:!0});return Zt&&Zt.triggerHeartbeat(),Gt.container.getProvider(St)}function Pn(Gt,St,Zt=Dn){Kn(Gt,St).clearInstance(Zt)}function er(Gt){return void 0!==Gt.options}function Wn(Gt){return void 0!==Gt.settings}function ws(){Fi.clear()}const gn=new le.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Fr{constructor(St,Zt,qn){this._isDeleted=!1,this._options=Object.assign({},St),this._config=Object.assign({},Zt),this._name=Zt.name,this._automaticDataCollectionEnabled=Zt.automaticDataCollectionEnabled,this._container=qn,this.container.addComponent(new l.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(St){this.checkDestroyed(),this._automaticDataCollectionEnabled=St}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(St){this._isDeleted=St}checkDestroyed(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}}class Es extends Fr{constructor(St,Zt,qn,Mi){const gi=void 0!==Zt.automaticDataCollectionEnabled&&Zt.automaticDataCollectionEnabled,Yi={name:qn,automaticDataCollectionEnabled:gi};super(void 0!==St.apiKey?St:St.options,Yi,Mi),this._serverConfig=Object.assign({automaticDataCollectionEnabled:gi},Zt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Zt.releaseOnDeref=void 0,Ge(Rn,Xn,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(St){this.isDeleted||(this._refCount++,void 0!==St&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(St,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){yn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw gn.create("server-app-deleted")}}const Rr="10.14.1";function vt(Gt,St={}){let Zt=Gt;"object"!=typeof St&&(St={name:St});const qn=Object.assign({name:Dn,automaticDataCollectionEnabled:!1},St),Mi=qn.name;if("string"!=typeof Mi||!Mi)throw gn.create("bad-app-name",{appName:String(Mi)});if(Zt||(Zt=(0,le.T9)()),!Zt)throw gn.create("no-options");const gi=ur.get(Mi);if(gi){if((0,le.bD)(Zt,gi.options)&&(0,le.bD)(qn,gi.config))return gi;throw gn.create("duplicate-app",{appName:Mi})}const Yi=new l.h1(Mi);for(const wi of Fi.values())Yi.addComponent(wi);const oi=new Fr(Zt,qn,Yi);return ur.set(Mi,oi),oi}function Tt(Gt,St){if((0,le.Bd)()&&!(0,le.p7)())throw gn.create("invalid-server-app-environment");let Zt;void 0===St.automaticDataCollectionEnabled&&(St.automaticDataCollectionEnabled=!1),Zt=er(Gt)?Gt.options:Gt;const qn=Object.assign(Object.assign({},St),Zt);if(void 0!==qn.releaseOnDeref&&delete qn.releaseOnDeref,void 0!==St.releaseOnDeref&&typeof FinalizationRegistry>"u")throw gn.create("finalization-registry-not-supported",{});const gi=""+(as=JSON.stringify(qn),[...as].reduce((Er,ts)=>Math.imul(31,Er)+ts.charCodeAt(0)|0,0)),Yi=Ki.get(gi);var as;if(Yi)return Yi.incRefCount(St.releaseOnDeref),Yi;const oi=new l.h1(gi);for(const as of Fi.values())oi.addComponent(as);const wi=new Es(Zt,St,gi,oi);return Ki.set(gi,wi),wi}function $e(Gt=Dn){const St=ur.get(Gt);if(!St&&Gt===Dn&&(0,le.T9)())return vt();if(!St)throw gn.create("no-app",{appName:Gt});return St}function ht(){return Array.from(ur.values())}function yn(Gt){return Un.apply(this,arguments)}function Un(){return(Un=(0,i.A)(function*(Gt){let St=!1;const Zt=Gt.name;ur.has(Zt)?(St=!0,ur.delete(Zt)):Ki.has(Zt)&&Gt.decRefCount()<=0&&(Ki.delete(Zt),St=!0),St&&(yield Promise.all(Gt.container.getProviders().map(qn=>qn.delete())),Gt.isDeleted=!0)})).apply(this,arguments)}function Ge(Gt,St,Zt){var qn;let Mi=null!==(qn=jn[Gt])&&void 0!==qn?qn:Gt;Zt&&(Mi+=`-${Zt}`);const gi=Mi.match(/\s|\//),Yi=St.match(/\s|\//);if(gi||Yi){const oi=[`Unable to register library "${Mi}" with version "${St}":`];return gi&&oi.push(`library name "${Mi}" contains illegal characters (whitespace or "/")`),gi&&Yi&&oi.push("and"),Yi&&oi.push(`version name "${St}" contains illegal characters (whitespace or "/")`),void ai.warn(oi.join(" "))}os(new l.uA(`${Mi}-version`,()=>({library:Mi,version:St}),"VERSION"))}function ze(Gt,St){if(null!==Gt&&"function"!=typeof Gt)throw gn.create("invalid-log-argument");(0,_e.Ey)(Gt,St)}function ut(Gt){(0,_e.He)(Gt)}const zt="firebase-heartbeat-database",Nt=1,kn="firebase-heartbeat-store";let rt=null;function Oi(){return rt||(rt=function ge(Gt,St,{blocked:Zt,upgrade:qn,blocking:Mi,terminated:gi}={}){const Yi=indexedDB.open(Gt,St),oi=jt(Yi);return qn&&Yi.addEventListener("upgradeneeded",wi=>{qn(jt(Yi.result),wi.oldVersion,wi.newVersion,jt(Yi.transaction),wi)}),Zt&&Yi.addEventListener("blocked",wi=>Zt(wi.oldVersion,wi.newVersion,wi)),oi.then(wi=>{gi&&wi.addEventListener("close",()=>gi()),Mi&&wi.addEventListener("versionchange",as=>Mi(as.oldVersion,as.newVersion,as))}).catch(()=>{}),oi}(zt,Nt,{upgrade:(Gt,St)=>{if(0===St)try{Gt.createObjectStore(kn)}catch(Zt){console.warn(Zt)}}}).catch(Gt=>{throw gn.create("idb-open",{originalErrorMessage:Gt.message})})),rt}function Ai(){return(Ai=(0,i.A)(function*(Gt){try{const Zt=(yield Oi()).transaction(kn),qn=yield Zt.objectStore(kn).get(Ur(Gt));return yield Zt.done,qn}catch(St){if(St instanceof le.g)ai.warn(St.message);else{const Zt=gn.create("idb-get",{originalErrorMessage:St?.message});ai.warn(Zt.message)}}})).apply(this,arguments)}function li(Gt,St){return qi.apply(this,arguments)}function qi(){return(qi=(0,i.A)(function*(Gt,St){try{const qn=(yield Oi()).transaction(kn,"readwrite");yield qn.objectStore(kn).put(St,Ur(Gt)),yield qn.done}catch(Zt){if(Zt instanceof le.g)ai.warn(Zt.message);else{const qn=gn.create("idb-set",{originalErrorMessage:Zt?.message});ai.warn(qn.message)}}})).apply(this,arguments)}function Ur(Gt){return`${Gt.name}!${Gt.options.appId}`}class Da{constructor(St){this.container=St,this._heartbeatsCache=null;const Zt=this.container.getProvider("app").getImmediate();this._storage=new Zo(Zt),this._heartbeatsCachePromise=this._storage.read().then(qn=>(this._heartbeatsCache=qn,qn))}triggerHeartbeat(){var St=this;return(0,i.A)(function*(){var Zt,qn;try{const gi=St.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Yi=mr();return null==(null===(Zt=St._heartbeatsCache)||void 0===Zt?void 0:Zt.heartbeats)&&(St._heartbeatsCache=yield St._heartbeatsCachePromise,null==(null===(qn=St._heartbeatsCache)||void 0===qn?void 0:qn.heartbeats))||St._heartbeatsCache.lastSentHeartbeatDate===Yi||St._heartbeatsCache.heartbeats.some(oi=>oi.date===Yi)?void 0:(St._heartbeatsCache.heartbeats.push({date:Yi,agent:gi}),St._heartbeatsCache.heartbeats=St._heartbeatsCache.heartbeats.filter(oi=>{const wi=new Date(oi.date).valueOf();return Date.now()-wi<=2592e6}),St._storage.overwrite(St._heartbeatsCache))}catch(Mi){ai.warn(Mi)}})()}getHeartbeatsHeader(){var St=this;return(0,i.A)(function*(){var Zt;try{if(null===St._heartbeatsCache&&(yield St._heartbeatsCachePromise),null==(null===(Zt=St._heartbeatsCache)||void 0===Zt?void 0:Zt.heartbeats)||0===St._heartbeatsCache.heartbeats.length)return"";const qn=mr(),{heartbeatsToSend:Mi,unsentEntries:gi}=function No(Gt,St=1024){const Zt=[];let qn=Gt.slice();for(const Mi of Gt){const gi=Zt.find(Yi=>Yi.agent===Mi.agent);if(gi){if(gi.dates.push(Mi.date),es(Zt)>St){gi.dates.pop();break}}else if(Zt.push({agent:Mi.agent,dates:[Mi.date]}),es(Zt)>St){Zt.pop();break}qn=qn.slice(1)}return{heartbeatsToSend:Zt,unsentEntries:qn}}(St._heartbeatsCache.heartbeats),Yi=(0,le.Uj)(JSON.stringify({version:2,heartbeats:Mi}));return St._heartbeatsCache.lastSentHeartbeatDate=qn,gi.length>0?(St._heartbeatsCache.heartbeats=gi,yield St._storage.overwrite(St._heartbeatsCache)):(St._heartbeatsCache.heartbeats=[],St._storage.overwrite(St._heartbeatsCache)),Yi}catch(qn){return ai.warn(qn),""}})()}}function mr(){return(new Date).toISOString().substring(0,10)}class Zo{constructor(St){this.app=St,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,i.A)(function*(){return!!(0,le.zW)()&&(0,le.eX)().then(()=>!0).catch(()=>!1)})()}read(){var St=this;return(0,i.A)(function*(){if(yield St._canUseIndexedDBPromise){const qn=yield function gr(Gt){return Ai.apply(this,arguments)}(St.app);return qn?.heartbeats?qn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(St){var Zt=this;return(0,i.A)(function*(){var qn;if(yield Zt._canUseIndexedDBPromise){const gi=yield Zt.read();return li(Zt.app,{lastSentHeartbeatDate:null!==(qn=St.lastSentHeartbeatDate)&&void 0!==qn?qn:gi.lastSentHeartbeatDate,heartbeats:St.heartbeats})}})()}add(St){var Zt=this;return(0,i.A)(function*(){var qn;if(yield Zt._canUseIndexedDBPromise){const gi=yield Zt.read();return li(Zt.app,{lastSentHeartbeatDate:null!==(qn=St.lastSentHeartbeatDate)&&void 0!==qn?qn:gi.lastSentHeartbeatDate,heartbeats:[...gi.heartbeats,...St.heartbeats]})}})()}}function es(Gt){return(0,le.Uj)(JSON.stringify({version:2,heartbeats:Gt})).length}!function io(Gt){os(new l.uA("platform-logger",St=>new Le(St),"PRIVATE")),os(new l.uA("heartbeat",St=>new Da(St),"PRIVATE")),Ge(Rn,Xn,Gt),Ge(Rn,Xn,"esm2017"),Ge("fire-js","")}("")},1362:(un,nt,B)=>{"use strict";B.d(nt,{Kq:()=>Te,h1:()=>Xe,uA:()=>_e});var i=B(467),l=B(1076);class _e{constructor(Ne,Fe,st){this.name=Ne,this.instanceFactory=Fe,this.type=st,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ne){return this.instantiationMode=Ne,this}setMultipleInstances(Ne){return this.multipleInstances=Ne,this}setServiceProps(Ne){return this.serviceProps=Ne,this}setInstanceCreatedCallback(Ne){return this.onInstanceCreated=Ne,this}}const le="[DEFAULT]";class Te{constructor(Ne,Fe){this.name=Ne,this.container=Fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ne){const Fe=this.normalizeInstanceIdentifier(Ne);if(!this.instancesDeferred.has(Fe)){const st=new l.cY;if(this.instancesDeferred.set(Fe,st),this.isInitialized(Fe)||this.shouldAutoInitialize())try{const It=this.getOrInitializeService({instanceIdentifier:Fe});It&&st.resolve(It)}catch{}}return this.instancesDeferred.get(Fe).promise}getImmediate(Ne){var Fe;const st=this.normalizeInstanceIdentifier(Ne?.identifier),It=null!==(Fe=Ne?.optional)&&void 0!==Fe&&Fe;if(!this.isInitialized(st)&&!this.shouldAutoInitialize()){if(It)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:st})}catch(Rt){if(It)return null;throw Rt}}getComponent(){return this.component}setComponent(Ne){if(Ne.name!==this.name)throw Error(`Mismatching Component ${Ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ne,this.shouldAutoInitialize()){if(function Oe(et){return"EAGER"===et.instantiationMode}(Ne))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[Fe,st]of this.instancesDeferred.entries()){const It=this.normalizeInstanceIdentifier(Fe);try{const Rt=this.getOrInitializeService({instanceIdentifier:It});st.resolve(Rt)}catch{}}}}clearInstance(Ne=le){this.instancesDeferred.delete(Ne),this.instancesOptions.delete(Ne),this.instances.delete(Ne)}delete(){var Ne=this;return(0,i.A)(function*(){const Fe=Array.from(Ne.instances.values());yield Promise.all([...Fe.filter(st=>"INTERNAL"in st).map(st=>st.INTERNAL.delete()),...Fe.filter(st=>"_delete"in st).map(st=>st._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ne=le){return this.instances.has(Ne)}getOptions(Ne=le){return this.instancesOptions.get(Ne)||{}}initialize(Ne={}){const{options:Fe={}}=Ne,st=this.normalizeInstanceIdentifier(Ne.instanceIdentifier);if(this.isInitialized(st))throw Error(`${this.name}(${st}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const It=this.getOrInitializeService({instanceIdentifier:st,options:Fe});for(const[Rt,Bt]of this.instancesDeferred.entries())st===this.normalizeInstanceIdentifier(Rt)&&Bt.resolve(It);return It}onInit(Ne,Fe){var st;const It=this.normalizeInstanceIdentifier(Fe),Rt=null!==(st=this.onInitCallbacks.get(It))&&void 0!==st?st:new Set;Rt.add(Ne),this.onInitCallbacks.set(It,Rt);const Bt=this.instances.get(It);return Bt&&Ne(Bt,It),()=>{Rt.delete(Ne)}}invokeOnInitCallbacks(Ne,Fe){const st=this.onInitCallbacks.get(Fe);if(st)for(const It of st)try{It(Ne,Fe)}catch{}}getOrInitializeService({instanceIdentifier:Ne,options:Fe={}}){let st=this.instances.get(Ne);if(!st&&this.component&&(st=this.component.instanceFactory(this.container,{instanceIdentifier:(et=Ne,et===le?void 0:et),options:Fe}),this.instances.set(Ne,st),this.instancesOptions.set(Ne,Fe),this.invokeOnInitCallbacks(st,Ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ne,st)}catch{}var et;return st||null}normalizeInstanceIdentifier(Ne=le){return this.component?this.component.multipleInstances?Ne:le:Ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xe{constructor(Ne){this.name=Ne,this.providers=new Map}addComponent(Ne){const Fe=this.getProvider(Ne.name);if(Fe.isComponentSet())throw new Error(`Component ${Ne.name} has already been registered with ${this.name}`);Fe.setComponent(Ne)}addOrOverwriteComponent(Ne){this.getProvider(Ne.name).isComponentSet()&&this.providers.delete(Ne.name),this.addComponent(Ne)}getProvider(Ne){if(this.providers.has(Ne))return this.providers.get(Ne);const Fe=new Te(Ne,this);return this.providers.set(Ne,Fe),Fe}getProviders(){return Array.from(this.providers.values())}}},8041:(un,nt,B)=>{"use strict";B.d(nt,{$b:()=>l,Ey:()=>et,He:()=>Xe,Vy:()=>Oe});const i=[];var l=function(Ne){return Ne[Ne.DEBUG=0]="DEBUG",Ne[Ne.VERBOSE=1]="VERBOSE",Ne[Ne.INFO=2]="INFO",Ne[Ne.WARN=3]="WARN",Ne[Ne.ERROR=4]="ERROR",Ne[Ne.SILENT=5]="SILENT",Ne}(l||{});const _e={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},le=l.INFO,Te={[l.DEBUG]:"log",[l.VERBOSE]:"log",[l.INFO]:"info",[l.WARN]:"warn",[l.ERROR]:"error"},Ye=(Ne,Fe,...st)=>{if(Fe<Ne.logLevel)return;const It=(new Date).toISOString(),Rt=Te[Fe];if(!Rt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Fe})`);console[Rt](`[${It}]  ${Ne.name}:`,...st)};class Oe{constructor(Fe){this.name=Fe,this._logLevel=le,this._logHandler=Ye,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(Fe){if(!(Fe in l))throw new TypeError(`Invalid value "${Fe}" assigned to \`logLevel\``);this._logLevel=Fe}setLogLevel(Fe){this._logLevel="string"==typeof Fe?_e[Fe]:Fe}get logHandler(){return this._logHandler}set logHandler(Fe){if("function"!=typeof Fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(Fe){this._userLogHandler=Fe}debug(...Fe){this._userLogHandler&&this._userLogHandler(this,l.DEBUG,...Fe),this._logHandler(this,l.DEBUG,...Fe)}log(...Fe){this._userLogHandler&&this._userLogHandler(this,l.VERBOSE,...Fe),this._logHandler(this,l.VERBOSE,...Fe)}info(...Fe){this._userLogHandler&&this._userLogHandler(this,l.INFO,...Fe),this._logHandler(this,l.INFO,...Fe)}warn(...Fe){this._userLogHandler&&this._userLogHandler(this,l.WARN,...Fe),this._logHandler(this,l.WARN,...Fe)}error(...Fe){this._userLogHandler&&this._userLogHandler(this,l.ERROR,...Fe),this._logHandler(this,l.ERROR,...Fe)}}function Xe(Ne){i.forEach(Fe=>{Fe.setLogLevel(Ne)})}function et(Ne,Fe){for(const st of i){let It=null;Fe&&Fe.level&&(It=_e[Fe.level]),st.userLogHandler=null===Ne?null:(Rt,Bt,...fn)=>{const Wt=fn.map(je=>{if(null==je)return null;if("string"==typeof je)return je;if("number"==typeof je||"boolean"==typeof je)return je.toString();if(je instanceof Error)return je.message;try{return JSON.stringify(je)}catch{return null}}).filter(je=>je).join(" ");Bt>=(It??Rt.logLevel)&&Ne({level:l[Bt].toLowerCase(),message:Wt,args:fn,type:Rt.name})}}}},7771:(un,nt,B)=>{"use strict";B.d(nt,{UA:()=>sr,WP:()=>ui,$R:()=>Qn,r6:()=>_n,x7:()=>Fn,tW:()=>In,iF:()=>Sl,Oj:()=>Or,$G:()=>Di,tg:()=>lc,Eu:()=>Mc,_H:()=>ba,U0:()=>yl,do:()=>Ll,Bq:()=>Bl,UN:()=>Bd,X9:()=>Zl,Um:()=>cc,sy:()=>Jl,Gx:()=>cu,Ri:()=>du,WA:()=>uu,RI:()=>Su,m_:()=>Nc,RS:()=>md,s5:()=>Xu,c9:()=>hu,PB:()=>_o,d0:()=>Ea,hO:()=>Sd,ZM:()=>pd,hC:()=>Qd,bD:()=>ka,Nb:()=>gu,s:()=>Ih,md:()=>A,Jl:()=>wl});var i=B(4438),l=B(1985),_e=B(6977);function le(m){m||((0,i.Af3)(le),m=(0,i.WQX)(i.abz));const L=new l.c(p=>m.onDestroy(p.next.bind(p)));return p=>p.pipe((0,_e.Q)(L))}var Ne=B(983),Fe=B(7673),st=B(1413),It=B(3726),Rt=B(1584),Bt=B(8750);const{isArray:fn}=Array;function Wt(m){return 1===m.length&&fn(m[0])?m[0]:m}var je=B(4360);function Cn(...m){return 1===(m=Wt(m)).length?(0,Bt.Tg)(m[0]):new l.c(function Mn(m){return L=>{let p=[];for(let E=0;p&&!L.closed&&E<m.length;E++)p.push((0,Bt.Tg)(m[E]).subscribe((0,je._)(L,M=>{if(p){for(let oe=0;oe<p.length;oe++)oe!==E&&p[oe].unsubscribe();p=null}L.next(M)})))}}(m))}var jt=B(4412),wt=B(4572),ge=B(5343);const Tn=new l.c(ge.l);var Mt=B(9326);function He(...m){const L=(0,Mt.ms)(m),p=Wt(m);return p.length?new l.c(E=>{let M=p.map(()=>[]),oe=p.map(()=>!1);E.add(()=>{M=oe=null});for(let ye=0;!E.closed&&ye<p.length;ye++)(0,Bt.Tg)(p[ye]).subscribe((0,je._)(E,_t=>{if(M[ye].push(_t),M.every(kt=>kt.length)){const kt=M.map(rn=>rn.shift());E.next(L?L(...kt):kt),M.some((rn,hn)=>!rn.length&&oe[hn])&&E.complete()}},()=>{oe[ye]=!0,!M[ye].length&&E.complete()}));return()=>{M=oe=null}}):Ne.w}B(7786);var Le=B(8793),Rn=B(5964),Xn=B(6354),ai=B(9172),$n=B(3294),Zn=B(5558),En=B(6697),ri=B(8141),mt=B(3993),Be=B(1986),Ze=B(3028),Ie=B(5245),Ke=B(980),it=B(177),ot=B(9417),On={left:"right",right:"left",bottom:"top",top:"bottom"};function ei(m){return m.replace(/left|right|bottom|top/g,function(L){return On[L]})}function Vn(m){return m.split("-")[0]}var en={start:"end",end:"start"};function cn(m){return m.replace(/start|end/g,function(L){return en[L]})}var hi="top",tn="bottom",bt="right",xe="left",Ft="auto",ie=[hi,tn,bt,xe],Qe="start",Ve="end",bn="viewport",Nn="popper",jn=ie.reduce(function(m,L){return m.concat([L+"-"+Qe,L+"-"+Ve])},[]),ur=[].concat(ie,[Ft]).reduce(function(m,L){return m.concat([L,L+"-"+Qe,L+"-"+Ve])},[]),ws=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ni(m){if(null==m)return window;if("[object Window]"!==m.toString()){var L=m.ownerDocument;return L&&L.defaultView||window}return m}function gn(m){return m instanceof ni(m).Element||m instanceof Element}function Fr(m){return m instanceof ni(m).HTMLElement||m instanceof HTMLElement}function Es(m){return!(typeof ShadowRoot>"u")&&(m instanceof ni(m).ShadowRoot||m instanceof ShadowRoot)}function Rr(m){return((gn(m)?m.ownerDocument:m.document)||window.document).documentElement}var vt=Math.max,Tt=Math.min,$e=Math.round;function ht(){var m=navigator.userAgentData;return null!=m&&m.brands&&Array.isArray(m.brands)?m.brands.map(function(L){return L.brand+"/"+L.version}).join(" "):navigator.userAgent}function yn(){return!/^((?!chrome|android).)*safari/i.test(ht())}function Un(m,L,p){void 0===L&&(L=!1),void 0===p&&(p=!1);var E=m.getBoundingClientRect(),M=1,oe=1;L&&Fr(m)&&(M=m.offsetWidth>0&&$e(E.width)/m.offsetWidth||1,oe=m.offsetHeight>0&&$e(E.height)/m.offsetHeight||1);var _t=(gn(m)?ni(m):window).visualViewport,kt=!yn()&&p,rn=(E.left+(kt&&_t?_t.offsetLeft:0))/M,hn=(E.top+(kt&&_t?_t.offsetTop:0))/oe,g=E.width/M,d=E.height/oe;return{width:g,height:d,top:hn,right:rn+g,bottom:hn+d,left:rn,x:rn,y:hn}}function Ge(m){var L=ni(m);return{scrollLeft:L.pageXOffset,scrollTop:L.pageYOffset}}function ze(m){return Un(Rr(m)).left+Ge(m).scrollLeft}function zt(m){return ni(m).getComputedStyle(m)}function kn(m){return m?(m.nodeName||"").toLowerCase():null}function rt(m){return"html"===kn(m)?m:m.assignedSlot||m.parentNode||(Es(m)?m.host:null)||Rr(m)}function Oi(m){var L=zt(m);return/auto|scroll|overlay|hidden/.test(L.overflow+L.overflowY+L.overflowX)}function gr(m){return["html","body","#document"].indexOf(kn(m))>=0?m.ownerDocument.body:Fr(m)&&Oi(m)?m:gr(rt(m))}function Ai(m,L){var p;void 0===L&&(L=[]);var E=gr(m),M=E===(null==(p=m.ownerDocument)?void 0:p.body),oe=ni(E),ye=M?[oe].concat(oe.visualViewport||[],Oi(E)?E:[]):E,_t=L.concat(ye);return M?_t:_t.concat(Ai(rt(ye)))}function li(m){return["table","td","th"].indexOf(kn(m))>=0}function qi(m){return Fr(m)&&"fixed"!==zt(m).position?m.offsetParent:null}function Us(m){for(var L=ni(m),p=qi(m);p&&li(p)&&"static"===zt(p).position;)p=qi(p);return p&&("html"===kn(p)||"body"===kn(p)&&"static"===zt(p).position)?L:p||function Ur(m){var L=/firefox/i.test(ht());if(/Trident/i.test(ht())&&Fr(m)&&"fixed"===zt(m).position)return null;var M=rt(m);for(Es(M)&&(M=M.host);Fr(M)&&["html","body"].indexOf(kn(M))<0;){var oe=zt(M);if("none"!==oe.transform||"none"!==oe.perspective||"paint"===oe.contain||-1!==["transform","perspective"].indexOf(oe.willChange)||L&&"filter"===oe.willChange||L&&oe.filter&&"none"!==oe.filter)return M;M=M.parentNode}return null}(m)||L}function Do(m,L){var p=L.getRootNode&&L.getRootNode();if(m.contains(L))return!0;if(p&&Es(p)){var E=L;do{if(E&&m.isSameNode(E))return!0;E=E.parentNode||E.host}while(E)}return!1}function Da(m){return Object.assign({},m,{left:m.x,top:m.y,right:m.x+m.width,bottom:m.y+m.height})}function No(m,L,p){return L===bn?Da(function ut(m,L){var p=ni(m),E=Rr(m),M=p.visualViewport,oe=E.clientWidth,ye=E.clientHeight,_t=0,kt=0;if(M){oe=M.width,ye=M.height;var rn=yn();(rn||!rn&&"fixed"===L)&&(_t=M.offsetLeft,kt=M.offsetTop)}return{width:oe,height:ye,x:_t+ze(m),y:kt}}(m,p)):gn(L)?function mr(m,L){var p=Un(m,!1,"fixed"===L);return p.top=p.top+m.clientTop,p.left=p.left+m.clientLeft,p.bottom=p.top+m.clientHeight,p.right=p.left+m.clientWidth,p.width=m.clientWidth,p.height=m.clientHeight,p.x=p.left,p.y=p.top,p}(L,p):Da(function Nt(m){var L,p=Rr(m),E=Ge(m),M=null==(L=m.ownerDocument)?void 0:L.body,oe=vt(p.scrollWidth,p.clientWidth,M?M.scrollWidth:0,M?M.clientWidth:0),ye=vt(p.scrollHeight,p.clientHeight,M?M.scrollHeight:0,M?M.clientHeight:0),_t=-E.scrollLeft+ze(m),kt=-E.scrollTop;return"rtl"===zt(M||p).direction&&(_t+=vt(p.clientWidth,M?M.clientWidth:0)-oe),{width:oe,height:ye,x:_t,y:kt}}(Rr(m)))}function io(m){return m.split("-")[1]}function Gt(m){return["top","bottom"].indexOf(m)>=0?"x":"y"}function St(m){var kt,L=m.reference,p=m.element,E=m.placement,M=E?Vn(E):null,oe=E?io(E):null,ye=L.x+L.width/2-p.width/2,_t=L.y+L.height/2-p.height/2;switch(M){case hi:kt={x:ye,y:L.y-p.height};break;case tn:kt={x:ye,y:L.y+L.height};break;case bt:kt={x:L.x+L.width,y:_t};break;case xe:kt={x:L.x-p.width,y:_t};break;default:kt={x:L.x,y:L.y}}var rn=M?Gt(M):null;if(null!=rn){var hn="y"===rn?"height":"width";switch(oe){case Qe:kt[rn]=kt[rn]-(L[hn]/2-p[hn]/2);break;case Ve:kt[rn]=kt[rn]+(L[hn]/2-p[hn]/2)}}return kt}function qn(m){return Object.assign({},{top:0,right:0,bottom:0,left:0},m)}function Mi(m,L){return L.reduce(function(p,E){return p[E]=m,p},{})}function gi(m,L){void 0===L&&(L={});var E=L.placement,M=void 0===E?m.placement:E,oe=L.strategy,ye=void 0===oe?m.strategy:oe,_t=L.boundary,kt=void 0===_t?"clippingParents":_t,rn=L.rootBoundary,hn=void 0===rn?bn:rn,g=L.elementContext,d=void 0===g?Nn:g,h=L.altBoundary,C=void 0!==h&&h,N=L.padding,z=void 0===N?0:N,ee=qn("number"!=typeof z?z:Mi(z,ie)),Pe=m.rects.popper,qe=m.elements[C?d===Nn?"reference":Nn:d],Ut=function es(m,L,p,E){var M="clippingParents"===L?function Zo(m){var L=Ai(rt(m)),E=["absolute","fixed"].indexOf(zt(m).position)>=0&&Fr(m)?Us(m):m;return gn(E)?L.filter(function(M){return gn(M)&&Do(M,E)&&"body"!==kn(M)}):[]}(m):[].concat(L),oe=[].concat(M,[p]),_t=oe.reduce(function(kt,rn){var hn=No(m,rn,E);return kt.top=vt(hn.top,kt.top),kt.right=Tt(hn.right,kt.right),kt.bottom=Tt(hn.bottom,kt.bottom),kt.left=vt(hn.left,kt.left),kt},No(m,oe[0],E));return _t.width=_t.right-_t.left,_t.height=_t.bottom-_t.top,_t.x=_t.left,_t.y=_t.top,_t}(gn(qe)?qe:qe.contextElement||Rr(m.elements.popper),kt,hn,ye),Xt=Un(m.elements.reference),dn=St({reference:Xt,element:Pe,strategy:"absolute",placement:M}),zn=Da(Object.assign({},Pe,dn)),mi=d===Nn?zn:Xt,dr={top:Ut.top-mi.top+ee.top,bottom:mi.bottom-Ut.bottom+ee.bottom,left:Ut.left-mi.left+ee.left,right:mi.right-Ut.right+ee.right},$r=m.modifiersData.offset;if(d===Nn&&$r){var Ho=$r[M];Object.keys(dr).forEach(function(Go){var Ul=[bt,tn].indexOf(Go)>=0?1:-1,xu=[hi,tn].indexOf(Go)>=0?"y":"x";dr[Go]+=Ho[xu]*Ul})}return dr}const as={name:"flip",enabled:!0,phase:"main",fn:function wi(m){var L=m.state,p=m.options,E=m.name;if(!L.modifiersData[E]._skip){for(var M=p.mainAxis,oe=void 0===M||M,ye=p.altAxis,_t=void 0===ye||ye,kt=p.fallbackPlacements,rn=p.padding,hn=p.boundary,g=p.rootBoundary,d=p.altBoundary,h=p.flipVariations,C=void 0===h||h,N=p.allowedAutoPlacements,z=L.options.placement,ee=Vn(z),Pe=kt||(ee!==z&&C?function oi(m){if(Vn(m)===Ft)return[];var L=ei(m);return[cn(m),L,cn(L)]}(z):[ei(z)]),qe=[z].concat(Pe).reduce(function(Mh,mu){return Mh.concat(Vn(mu)===Ft?function Yi(m,L){void 0===L&&(L={});var M=L.boundary,oe=L.rootBoundary,ye=L.padding,_t=L.flipVariations,kt=L.allowedAutoPlacements,rn=void 0===kt?ur:kt,hn=io(L.placement),g=hn?_t?jn:jn.filter(function(C){return io(C)===hn}):ie,d=g.filter(function(C){return rn.indexOf(C)>=0});0===d.length&&(d=g);var h=d.reduce(function(C,N){return C[N]=gi(m,{placement:N,boundary:M,rootBoundary:oe,padding:ye})[Vn(N)],C},{});return Object.keys(h).sort(function(C,N){return h[C]-h[N]})}(L,{placement:mu,boundary:hn,rootBoundary:g,padding:rn,flipVariations:C,allowedAutoPlacements:N}):mu)},[]),Ut=L.rects.reference,Xt=L.rects.popper,dn=new Map,zn=!0,mi=qe[0],dr=0;dr<qe.length;dr++){var $r=qe[dr],Ho=Vn($r),Go=io($r)===Qe,Ul=[hi,tn].indexOf(Ho)>=0,xu=Ul?"width":"height",Pc=gi(L,{placement:$r,boundary:hn,rootBoundary:g,altBoundary:d,padding:rn}),Pu=Ul?Go?bt:xe:Go?tn:hi;Ut[xu]>Xt[xu]&&(Pu=ei(Pu));var Ah=ei(Pu),_d=[];if(oe&&_d.push(Pc[Ho]<=0),_t&&_d.push(Pc[Pu]<=0,Pc[Ah]<=0),_d.every(function(Mh){return Mh})){mi=$r,zn=!1;break}dn.set($r,_d)}if(zn)for(var th=function(mu){var fc=qe.find(function(Fu){var yd=dn.get(Fu);if(yd)return yd.slice(0,mu).every(function(nh){return nh})});if(fc)return mi=fc,"break"},Xh=C?3:1;Xh>0&&"break"!==th(Xh);Xh--);L.placement!==mi&&(L.modifiersData[E]._skip=!0,L.placement=mi,L.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ts(m,L,p){return vt(m,Tt(L,p))}function Ks(m){var L=Un(m),p=m.offsetWidth,E=m.offsetHeight;return Math.abs(L.width-p)<=1&&(p=L.width),Math.abs(L.height-E)<=1&&(E=L.height),{x:m.offsetLeft,y:m.offsetTop,width:p,height:E}}const Ls={name:"preventOverflow",enabled:!0,phase:"main",fn:function Io(m){var L=m.state,p=m.options,E=m.name,M=p.mainAxis,oe=void 0===M||M,ye=p.altAxis,_t=void 0!==ye&&ye,d=p.tether,h=void 0===d||d,C=p.tetherOffset,N=void 0===C?0:C,z=gi(L,{boundary:p.boundary,rootBoundary:p.rootBoundary,padding:p.padding,altBoundary:p.altBoundary}),ee=Vn(L.placement),be=io(L.placement),Pe=!be,qe=Gt(ee),Ut=function Er(m){return"x"===m?"y":"x"}(qe),Xt=L.modifiersData.popperOffsets,dn=L.rects.reference,zn=L.rects.popper,mi="function"==typeof N?N(Object.assign({},L.rects,{placement:L.placement})):N,dr="number"==typeof mi?{mainAxis:mi,altAxis:mi}:Object.assign({mainAxis:0,altAxis:0},mi),$r=L.modifiersData.offset?L.modifiersData.offset[L.placement]:null,Ho={x:0,y:0};if(Xt){if(oe){var Go,Ul="y"===qe?hi:xe,xu="y"===qe?tn:bt,Pc="y"===qe?"height":"width",Pu=Xt[qe],Ah=Pu+z[Ul],_d=Pu-z[xu],Rh=h?-zn[Pc]/2:0,th=be===Qe?dn[Pc]:zn[Pc],Xh=be===Qe?-zn[Pc]:-dn[Pc],vd=L.elements.arrow,Mh=h&&vd?Ks(vd):{width:0,height:0},mu=L.modifiersData["arrow#persistent"]?L.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},fc=mu[Ul],Fu=mu[xu],yd=ts(0,dn[Pc],Mh[Pc]),nh=Pe?dn[Pc]/2-Rh-yd-fc-dr.mainAxis:th-yd-fc-dr.mainAxis,qh=Pe?-dn[Pc]/2+Rh+yd+Fu+dr.mainAxis:Xh+yd+Fu+dr.mainAxis,kh=L.elements.arrow&&Us(L.elements.arrow),jd=kh?"y"===qe?kh.clientTop||0:kh.clientLeft||0:0,If=null!=(Go=$r?.[qe])?Go:0,Sf=Pu+qh-If,pp=ts(h?Tt(Ah,Pu+nh-If-jd):Ah,Pu,h?vt(_d,Sf):_d);Xt[qe]=pp,Ho[qe]=pp-Pu}if(_t){var Af,Ju=Xt[Ut],Jh="y"===Ut?"height":"width",pg=Ju+z["x"===qe?hi:xe],Rf=Ju-z["x"===qe?tn:bt],Nh=-1!==[hi,xe].indexOf(ee),gg=null!=(Af=$r?.[Ut])?Af:0,Mf=Nh?pg:Ju-dn[Jh]-zn[Jh]-gg+dr.altAxis,bd=Nh?Ju+dn[Jh]+zn[Jh]-gg-dr.altAxis:Rf,Zh=h&&Nh?function Cs(m,L,p){var E=ts(m,L,p);return E>p?p:E}(Mf,Ju,bd):ts(h?Mf:pg,Ju,h?bd:Rf);Xt[Ut]=Zh,Ho[Ut]=Zh-Ju}L.modifiersData[E]=Ho}},requiresIfExists:["offset"]},ca={name:"arrow",enabled:!0,phase:"main",fn:function nc(m){var L,p=m.state,E=m.name,M=m.options,oe=p.elements.arrow,ye=p.modifiersData.popperOffsets,_t=Vn(p.placement),kt=Gt(_t),hn=[xe,bt].indexOf(_t)>=0?"height":"width";if(oe&&ye){var g=function(L,p){return qn("number"!=typeof(L="function"==typeof L?L(Object.assign({},p.rects,{placement:p.placement})):L)?L:Mi(L,ie))}(M.padding,p),d=Ks(oe),h="y"===kt?hi:xe,C="y"===kt?tn:bt,N=p.rects.reference[hn]+p.rects.reference[kt]-ye[kt]-p.rects.popper[hn],z=ye[kt]-p.rects.reference[kt],ee=Us(oe),be=ee?"y"===kt?ee.clientHeight||0:ee.clientWidth||0:0,Xt=be/2-d[hn]/2+(N/2-z/2),dn=ts(g[h],Xt,be-d[hn]-g[C]);p.modifiersData[E]=((L={})[kt]=dn,L.centerOffset=dn-Xt,L)}},effect:function la(m){var L=m.state,E=m.options.element,M=void 0===E?"[data-popper-arrow]":E;null!=M&&("string"==typeof M&&!(M=L.elements.popper.querySelector(M))||Do(L.elements.popper,M)&&(L.elements.arrow=M))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vo(m,L,p){void 0===p&&(p=!1);var E=Fr(L),M=Fr(L)&&function El(m){var L=m.getBoundingClientRect(),p=$e(L.width)/m.offsetWidth||1,E=$e(L.height)/m.offsetHeight||1;return 1!==p||1!==E}(L),oe=Rr(L),ye=Un(m,M,p),_t={scrollLeft:0,scrollTop:0},kt={x:0,y:0};return(E||!E&&!p)&&(("body"!==kn(L)||Oi(oe))&&(_t=function qa(m){return m!==ni(m)&&Fr(m)?function ll(m){return{scrollLeft:m.scrollLeft,scrollTop:m.scrollTop}}(m):Ge(m)}(L)),Fr(L)?((kt=Un(L,!0)).x+=L.clientLeft,kt.y+=L.clientTop):oe&&(kt.x=ze(oe))),{x:ye.left+_t.scrollLeft-kt.x,y:ye.top+_t.scrollTop-kt.y,width:ye.width,height:ye.height}}function Ys(m){var L=new Map,p=new Set,E=[];function M(oe){p.add(oe.name),[].concat(oe.requires||[],oe.requiresIfExists||[]).forEach(function(_t){if(!p.has(_t)){var kt=L.get(_t);kt&&M(kt)}}),E.push(oe)}return m.forEach(function(oe){L.set(oe.name,oe)}),m.forEach(function(oe){p.has(oe.name)||M(oe)}),E}function Si(m){var L;return function(){return L||(L=new Promise(function(p){Promise.resolve().then(function(){L=void 0,p(m())})})),L}}var Pa={placement:"bottom",modifiers:[],strategy:"absolute"};function ir(){for(var m=arguments.length,L=new Array(m),p=0;p<m;p++)L[p]=arguments[p];return!L.some(function(E){return!(E&&"function"==typeof E.getBoundingClientRect)})}function vr(m){void 0===m&&(m={});var p=m.defaultModifiers,E=void 0===p?[]:p,M=m.defaultOptions,oe=void 0===M?Pa:M;return function(_t,kt,rn){void 0===rn&&(rn=oe);var hn={placement:"bottom",orderedModifiers:[],options:Object.assign({},Pa,oe),modifiersData:{},elements:{reference:_t,popper:kt},attributes:{},styles:{}},g=[],d=!1,h={state:hn,setOptions:function(ee){var be="function"==typeof ee?ee(hn.options):ee;N(),hn.options=Object.assign({},oe,hn.options,be),hn.scrollParents={reference:gn(_t)?Ai(_t):_t.contextElement?Ai(_t.contextElement):[],popper:Ai(kt)};var Pe=function Oo(m){var L=Ys(m);return ws.reduce(function(p,E){return p.concat(L.filter(function(M){return M.phase===E}))},[])}(function _r(m){var L=m.reduce(function(p,E){var M=p[E.name];return p[E.name]=M?Object.assign({},M,E,{options:Object.assign({},M.options,E.options),data:Object.assign({},M.data,E.data)}):E,p},{});return Object.keys(L).map(function(p){return L[p]})}([].concat(E,hn.options.modifiers)));return hn.orderedModifiers=Pe.filter(function(qe){return qe.enabled}),function C(){hn.orderedModifiers.forEach(function(z){var be=z.options,qe=z.effect;if("function"==typeof qe){var Ut=qe({state:hn,name:z.name,instance:h,options:void 0===be?{}:be});g.push(Ut||function(){})}})}(),h.update()},forceUpdate:function(){if(!d){var ee=hn.elements,be=ee.reference,Pe=ee.popper;if(ir(be,Pe)){hn.rects={reference:vo(be,Us(Pe),"fixed"===hn.options.strategy),popper:Ks(Pe)},hn.reset=!1,hn.placement=hn.options.placement,hn.orderedModifiers.forEach(function(dr){return hn.modifiersData[dr.name]=Object.assign({},dr.data)});for(var qe=0;qe<hn.orderedModifiers.length;qe++)if(!0!==hn.reset){var Ut=hn.orderedModifiers[qe],Xt=Ut.fn,dn=Ut.options;"function"==typeof Xt&&(hn=Xt({state:hn,options:void 0===dn?{}:dn,name:Ut.name,instance:h})||hn)}else hn.reset=!1,qe=-1}}},update:Si(function(){return new Promise(function(z){h.forceUpdate(),z(hn)})}),destroy:function(){N(),d=!0}};if(!ir(_t,kt))return h;function N(){g.forEach(function(z){return z()}),g=[]}return h.setOptions(rn).then(function(z){!d&&rn.onFirstUpdate&&rn.onFirstUpdate(z)}),h}}var Hr={passive:!0},ki={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ti(m){var L,p=m.popper,E=m.popperRect,M=m.placement,oe=m.variation,ye=m.offsets,_t=m.position,kt=m.gpuAcceleration,rn=m.adaptive,hn=m.roundOffsets,g=m.isFixed,d=ye.x,h=void 0===d?0:d,C=ye.y,N=void 0===C?0:C,z="function"==typeof hn?hn({x:h,y:N}):{x:h,y:N};h=z.x,N=z.y;var ee=ye.hasOwnProperty("x"),be=ye.hasOwnProperty("y"),Pe=xe,qe=hi,Ut=window;if(rn){var Xt=Us(p),dn="clientHeight",zn="clientWidth";Xt===ni(p)&&"static"!==zt(Xt=Rr(p)).position&&"absolute"===_t&&(dn="scrollHeight",zn="scrollWidth"),(M===hi||(M===xe||M===bt)&&oe===Ve)&&(qe=tn,N-=(g&&Xt===Ut&&Ut.visualViewport?Ut.visualViewport.height:Xt[dn])-E.height,N*=kt?1:-1),M!==xe&&(M!==hi&&M!==tn||oe!==Ve)||(Pe=bt,h-=(g&&Xt===Ut&&Ut.visualViewport?Ut.visualViewport.width:Xt[zn])-E.width,h*=kt?1:-1)}var Go,$r=Object.assign({position:_t},rn&&ki),Ho=!0===hn?function Mr(m,L){var E=m.y,M=L.devicePixelRatio||1;return{x:$e(m.x*M)/M||0,y:$e(E*M)/M||0}}({x:h,y:N},ni(p)):{x:h,y:N};return h=Ho.x,N=Ho.y,Object.assign({},$r,kt?((Go={})[qe]=be?"0":"",Go[Pe]=ee?"0":"",Go.transform=(Ut.devicePixelRatio||1)<=1?"translate("+h+"px, "+N+"px)":"translate3d("+h+"px, "+N+"px, 0)",Go):((L={})[qe]=be?N+"px":"",L[Pe]=ee?h+"px":"",L.transform="",L))}var Wr=vr({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Cr(m){var L=m.state,p=m.instance,E=m.options,M=E.scroll,oe=void 0===M||M,ye=E.resize,_t=void 0===ye||ye,kt=ni(L.elements.popper),rn=[].concat(L.scrollParents.reference,L.scrollParents.popper);return oe&&rn.forEach(function(hn){hn.addEventListener("scroll",p.update,Hr)}),_t&&kt.addEventListener("resize",p.update,Hr),function(){oe&&rn.forEach(function(hn){hn.removeEventListener("scroll",p.update,Hr)}),_t&&kt.removeEventListener("resize",p.update,Hr)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function yo(m){var L=m.state;L.modifiersData[m.name]=St({reference:L.rects.reference,element:L.rects.popper,strategy:"absolute",placement:L.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function rr(m){var L=m.state,p=m.options,E=p.gpuAcceleration,M=void 0===E||E,oe=p.adaptive,ye=void 0===oe||oe,_t=p.roundOffsets,kt=void 0===_t||_t,rn={placement:Vn(L.placement),variation:io(L.placement),popper:L.elements.popper,popperRect:L.rects.popper,gpuAcceleration:M,isFixed:"fixed"===L.options.strategy};null!=L.modifiersData.popperOffsets&&(L.styles.popper=Object.assign({},L.styles.popper,Ti(Object.assign({},rn,{offsets:L.modifiersData.popperOffsets,position:L.options.strategy,adaptive:ye,roundOffsets:kt})))),null!=L.modifiersData.arrow&&(L.styles.arrow=Object.assign({},L.styles.arrow,Ti(Object.assign({},rn,{offsets:L.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:kt})))),L.attributes.popper=Object.assign({},L.attributes.popper,{"data-popper-placement":L.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function Xs(m){var L=m.state;Object.keys(L.elements).forEach(function(p){var E=L.styles[p]||{},M=L.attributes[p]||{},oe=L.elements[p];!Fr(oe)||!kn(oe)||(Object.assign(oe.style,E),Object.keys(M).forEach(function(ye){var _t=M[ye];!1===_t?oe.removeAttribute(ye):oe.setAttribute(ye,!0===_t?"":_t)}))})},effect:function Tr(m){var L=m.state,p={popper:{position:L.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(L.elements.popper.style,p.popper),L.styles=p,L.elements.arrow&&Object.assign(L.elements.arrow.style,p.arrow),function(){Object.keys(L.elements).forEach(function(E){var M=L.elements[E],oe=L.attributes[E]||{},_t=Object.keys(L.styles.hasOwnProperty(E)?L.styles[E]:p[E]).reduce(function(kt,rn){return kt[rn]="",kt},{});!Fr(M)||!kn(M)||(Object.assign(M.style,_t),Object.keys(oe).forEach(function(kt){M.removeAttribute(kt)}))})}},requires:["computeStyles"]}]});const Vr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function ns(m){var L=m.state,E=m.name,M=m.options.offset,oe=void 0===M?[0,0]:M,ye=ur.reduce(function(hn,g){return hn[g]=function Fa(m,L,p){var E=Vn(m),M=[xe,hi].indexOf(E)>=0?-1:1,oe="function"==typeof p?p(Object.assign({},L,{placement:m})):p,ye=oe[0],_t=oe[1];return ye=ye||0,_t=(_t||0)*M,[xe,bt].indexOf(E)>=0?{x:_t,y:ye}:{x:ye,y:_t}}(g,L.rects,oe),hn},{}),_t=ye[L.placement],rn=_t.y;null!=L.modifiersData.popperOffsets&&(L.modifiersData.popperOffsets.x+=_t.x,L.modifiersData.popperOffsets.y+=rn),L.modifiersData[E]=ye}},Yr=["*"];function Ar(m,L){if(1&m){const p=i.RV6();i.j41(0,"button",7),i.bIt("click",function(){const M=i.eBV(p).$implicit,oe=i.XpG();return oe.focus(),i.Njj(oe.select(M.id,oe.NgbSlideEventSource.INDICATOR))}),i.k0s()}if(2&m){const p=L.$implicit,E=i.XpG();i.AVh("active",p.id===E.activeId),i.BMQ("aria-labelledby","slide-"+p.id)("aria-controls","slide-"+p.id)("aria-selected",p.id===E.activeId)}}function qs(m,L){}function Li(m,L){if(1&m&&(i.j41(0,"div",6)(1,"span",8),i.pXf(2,0),i.k0s(),i.DNE(3,qs,0,0,"ng-template",9),i.k0s()),2&m){const p=L.$implicit,E=L.$index,M=L.$count;i.Y8G("id","slide-"+p.id),i.R7$(2),i.uP7(E+1)(M),i.nnv(2),i.R7$(),i.Y8G("ngTemplateOutlet",p.templateRef)}}function Hs(m,L){if(1&m){const p=i.RV6();i.j41(0,"button",10),i.bIt("click",function(){i.eBV(p);const M=i.XpG();return i.Njj(M.arrowLeft())}),i.nrm(1,"span",11),i.j41(2,"span",12),i.pXf(3,1),i.k0s()(),i.j41(4,"button",13),i.bIt("click",function(){i.eBV(p);const M=i.XpG();return i.Njj(M.arrowRight())}),i.nrm(5,"span",14),i.j41(6,"span",12),i.pXf(7,2),i.k0s()()}if(2&m){const p=i.XpG();i.BMQ("aria-labelledby",p.id+"-previous"),i.R7$(2),i.Y8G("id",p.id+"-previous"),i.R7$(2),i.BMQ("aria-labelledby",p.id+"-next"),i.R7$(2),i.Y8G("id",p.id+"-next")}}const _s=m=>({$implicit:m}),Ro=["dialog"],Ws=["ngbNavOutlet",""];function $s(m,L){}function Bi(m,L){if(1&m&&(i.j41(0,"div",0),i.DNE(1,$s,0,0,"ng-template",1),i.k0s()),2&m){const p=i.XpG().$implicit,E=i.XpG();i.Y8G("item",p)("nav",E.nav)("role",E.paneRole),i.R7$(),i.Y8G("ngTemplateOutlet",(null==p.contentTpl?null:p.contentTpl.templateRef)||null)("ngTemplateOutletContext",i.eq3(5,_s,p.active||E.isPanelTransitioning(p)))}}function qr(m,L){if(1&m&&i.DNE(0,Bi,2,7,"div",0),2&m){const p=L.$implicit,E=i.XpG();i.vxM(0,p.isPanelInDom()||E.isPanelTransitioning(p)?0:-1)}}const xi=(m,L,p)=>({$implicit:m,pages:L,disabled:p}),wr=m=>({disabled:!0,currentPage:m}),Nr=(m,L,p)=>({disabled:m,$implicit:L,currentPage:p}),ce=(m,L)=>({disabled:m,currentPage:L}),pe=m=>({disabled:m});function Q(m,L){1&m&&(i.j41(0,"span",13),i.pXf(1,7),i.k0s())}function De(m,L){1&m&&(i.j41(0,"span",13),i.pXf(1,8),i.k0s())}function lt(m,L){1&m&&(i.j41(0,"span",13),i.pXf(1,9),i.k0s())}function ii(m,L){1&m&&(i.j41(0,"span",13),i.pXf(1,10),i.k0s())}function ji(m,L){1&m&&i.EFF(0,"...")}function ea(m,L){1&m&&i.EFF(0),2&m&&i.JRh(L.$implicit)}function fa(m,L){}function As(m,L){if(1&m&&(i.j41(0,"a",16),i.DNE(1,fa,0,0,"ng-template",12),i.k0s()),2&m){const p=i.XpG(2).$implicit,E=i.XpG(),M=i.sdS(9);i.R7$(),i.Y8G("ngTemplateOutlet",(null==E.tplEllipsis?null:E.tplEllipsis.templateRef)||M)("ngTemplateOutletContext",i.eq3(2,wr,p))}}function Sa(m,L){}function La(m,L){if(1&m){const p=i.RV6();i.j41(0,"a",17),i.bIt("click",function(M){i.eBV(p);const oe=i.XpG().$implicit;return i.XpG(2).selectPage(oe),i.Njj(M.preventDefault())}),i.DNE(1,Sa,0,0,"ng-template",12),i.k0s()}if(2&m){const p=i.XpG().$implicit,E=i.XpG(),M=E.$implicit,oe=E.disabled,ye=i.XpG(),_t=i.sdS(11);i.BMQ("tabindex",oe?"-1":null)("aria-disabled",oe?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==ye.tplNumber?null:ye.tplNumber.templateRef)||_t)("ngTemplateOutletContext",i.sMw(4,Nr,oe,p,M))}}function Ja(m,L){if(1&m&&(i.j41(0,"li",15),i.DNE(1,As,2,4,"a",16)(2,La,2,8),i.k0s()),2&m){const p=L.$implicit,E=i.XpG(),M=E.$implicit,oe=E.disabled,ye=i.XpG();i.AVh("active",p===M)("disabled",ye.isEllipsis(p)||oe),i.BMQ("aria-current",p===M?"page":null),i.R7$(),i.vxM(1,ye.isEllipsis(p)?1:2)}}function Dl(m,L){1&m&&i.Z7z(0,Ja,3,6,"li",14,i.fX1),2&m&&i.Dyx(L.pages)}function Qr(m,L){}function Il(m,L){if(1&m){const p=i.RV6();i.j41(0,"li",15)(1,"a",18),i.bIt("click",function(M){return i.eBV(p),i.XpG().selectPage(1),i.Njj(M.preventDefault())}),i.DNE(2,Qr,0,0,"ng-template",12),i.k0s()()}if(2&m){const p=i.XpG(),E=i.sdS(1);i.AVh("disabled",p.previousDisabled()),i.R7$(),i.BMQ("tabindex",p.previousDisabled()?"-1":null)("aria-disabled",p.previousDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==p.tplFirst?null:p.tplFirst.templateRef)||E)("ngTemplateOutletContext",i.l_i(6,ce,p.previousDisabled(),p.page))}}function ul(m,L){}function ta(m,L){if(1&m){const p=i.RV6();i.j41(0,"li",15)(1,"a",19),i.bIt("click",function(M){i.eBV(p);const oe=i.XpG();return oe.selectPage(oe.page-1),i.Njj(M.preventDefault())}),i.DNE(2,ul,0,0,"ng-template",12),i.k0s()()}if(2&m){const p=i.XpG(),E=i.sdS(3);i.AVh("disabled",p.previousDisabled()),i.R7$(),i.BMQ("tabindex",p.previousDisabled()?"-1":null)("aria-disabled",p.previousDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==p.tplPrevious?null:p.tplPrevious.templateRef)||E)("ngTemplateOutletContext",i.eq3(6,pe,p.previousDisabled()))}}function Ba(m,L){}function na(m,L){}function Fo(m,L){if(1&m){const p=i.RV6();i.j41(0,"li",15)(1,"a",20),i.bIt("click",function(M){i.eBV(p);const oe=i.XpG();return oe.selectPage(oe.page+1),i.Njj(M.preventDefault())}),i.DNE(2,na,0,0,"ng-template",12),i.k0s()()}if(2&m){const p=i.XpG(),E=i.sdS(5);i.AVh("disabled",p.nextDisabled()),i.R7$(),i.BMQ("tabindex",p.nextDisabled()?"-1":null)("aria-disabled",p.nextDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==p.tplNext?null:p.tplNext.templateRef)||E)("ngTemplateOutletContext",i.l_i(6,ce,p.nextDisabled(),p.page))}}function ao(m,L){}function Za(m,L){if(1&m){const p=i.RV6();i.j41(0,"li",15)(1,"a",21),i.bIt("click",function(M){i.eBV(p);const oe=i.XpG();return oe.selectPage(oe.pageCount),i.Njj(M.preventDefault())}),i.DNE(2,ao,0,0,"ng-template",12),i.k0s()()}if(2&m){const p=i.XpG(),E=i.sdS(7);i.AVh("disabled",p.nextDisabled()),i.R7$(),i.BMQ("tabindex",p.nextDisabled()?"-1":null)("aria-disabled",p.nextDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==p.tplLast?null:p.tplLast.templateRef)||E)("ngTemplateOutletContext",i.l_i(6,ce,p.nextDisabled(),p.page))}}function pa(m,L){if(1&m&&i.EFF(0),2&m){const p=i.XpG(2);i.JRh(p.title)}}function ga(m,L){}function lo(m,L){if(1&m&&(i.j41(0,"h3",2),i.DNE(1,pa,1,1,"ng-template",null,0,i.C5r)(3,ga,0,0,"ng-template",4),i.k0s()),2&m){const p=i.sdS(2),E=i.XpG();i.R7$(3),i.Y8G("ngTemplateOutlet",E.isTitleTemplate()?E.title:p)("ngTemplateOutletContext",E.context)}}function Ji(m,L){1&m&&i.EFF(0),2&m&&i.JRh(100===L.fill?"\u2605":"\u2606")}function ls(m,L){}function Ir(m,L){if(1&m){const p=i.RV6();i.j41(0,"span",1),i.EFF(1),i.k0s(),i.j41(2,"span",2),i.bIt("mouseenter",function(){const M=i.eBV(p).$index,oe=i.XpG();return i.Njj(oe.enter(M+1))})("click",function(){const M=i.eBV(p).$index,oe=i.XpG();return i.Njj(oe.handleClick(M+1))}),i.DNE(3,ls,0,0,"ng-template",3),i.k0s()}if(2&m){const p=L.$index,E=i.XpG(),M=i.sdS(1);i.R7$(),i.SpI("(",p<E.nextRate?"*":" ",")"),i.R7$(),i.xc7("cursor",E.isInteractive()?"pointer":"default"),i.R7$(),i.Y8G("ngTemplateOutlet",E.starTemplate||E.starTemplateFromContent||M)("ngTemplateOutletContext",E.contexts[p])}}function ma(m,L){if(1&m&&(i.j41(0,"strong",3),i.EFF(1),i.k0s()),2&m){const p=i.XpG();i.R7$(),i.JRh(p.header)}}function uo(m,L){}function Ha(m,L){if(1&m){const p=i.RV6();i.j41(0,"div",1),i.DNE(1,uo,0,0,"ng-template",4),i.j41(2,"button",5),i.bIt("click",function(){i.eBV(p);const M=i.XpG();return i.Njj(M.hide())}),i.k0s()()}if(2&m){const p=i.XpG(),E=i.sdS(1);i.R7$(),i.Y8G("ngTemplateOutlet",p.contentHeaderTpl||E)}}const tl={animation:!0,transitionTimerDelayMs:5};let fo=(()=>{class m{constructor(){this.animation=tl.animation}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),Ui=(()=>{class m{constructor(){this._ngbConfig=(0,i.WQX)(fo),this.closeOthers=!1,this.destroyOnHide=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(p){this._animation=p}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();function V(m,L,p=0){return Math.max(Math.min(m,L),p)}function J(m){return"string"==typeof m}function R(m){return!isNaN(function Is(m){return parseInt(`${m}`,10)}(m))}function $(m){return"number"==typeof m&&isFinite(m)&&Math.floor(m)===m}function ne(m){return null!=m}function ve(m){return m&&m.then}function Dt(m){return(m||document.body).getBoundingClientRect()}function di(m=document){const L=m?.activeElement;return L?L.shadowRoot?di(L.shadowRoot):L:null}const x=()=>{},{transitionTimerDelayMs:de}=tl,X=new Map,te=(m,L,p,E)=>{let M=E.context||{};const oe=X.get(L);if(oe)switch(E.runningTransition){case"continue":return Ne.w;case"stop":m.run(()=>oe.transition$.complete()),M=Object.assign(oe.context,M),X.delete(L)}const ye=p(L,E.animation,M)||x;if(!E.animation||"none"===window.getComputedStyle(L).transitionProperty)return m.run(()=>ye()),(0,Fe.of)(void 0).pipe(function ln(m){return L=>new l.c(p=>L.subscribe({next:ye=>m.run(()=>p.next(ye)),error:ye=>m.run(()=>p.error(ye)),complete:()=>m.run(()=>p.complete())}))}(m));const _t=new st.B,kt=new st.B,rn=_t.pipe(function Qt(...m){return L=>(0,Le.x)(L,(0,Fe.of)(...m))}(!0));X.set(L,{transition$:_t,complete:()=>{kt.next(),kt.complete()},context:M});const hn=function dl(m){const{transitionDelay:L,transitionDuration:p}=window.getComputedStyle(m);return 1e3*(parseFloat(L)+parseFloat(p))}(L);return m.runOutsideAngular(()=>{const g=(0,It.R)(L,"transitionend").pipe((0,_e.Q)(rn),(0,Rn.p)(({target:h})=>h===L));Cn((0,Rt.O)(hn+de).pipe((0,_e.Q)(rn)),g,kt).pipe((0,_e.Q)(rn)).subscribe(()=>{X.delete(L),m.run(()=>{ye(),_t.next(),_t.complete()})})}),_t.asObservable()},Pt=(m,L,p)=>{let{direction:E,maxSize:M,dimension:oe}=p;const{classList:ye}=m;function _t(){ye.add("collapse"),"show"===E?ye.add("show"):ye.remove("show")}if(L)return M||(M=function Ct(m,L){if(typeof navigator>"u")return"0px";const{classList:p}=m,E=p.contains("show");E||p.add("show"),m.style[L]="";const M=m.getBoundingClientRect()[L]+"px";return E||p.remove("show"),M}(m,oe),p.maxSize=M,m.style[oe]="show"!==E?M:"0px",ye.remove("collapse"),ye.remove("collapsing"),ye.remove("show"),Dt(m),ye.add("collapsing")),m.style[oe]="show"===E?M:"0px",()=>{_t(),ye.remove("collapsing"),m.style[oe]=""};_t()};let Sn=(()=>{class m{constructor(){this._ngbConfig=(0,i.WQX)(fo),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(p){this._animation=p}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),Di=(()=>{class m{constructor(){this._config=(0,i.WQX)(Sn),this._element=(0,i.WQX)(i.aKT),this._zone=(0,i.WQX)(i.SKi),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new i.bkB,this.horizontal=this._config.horizontal,this.shown=new i.bkB,this.hidden=new i.bkB}set collapsed(p){this._isCollapsed!==p&&(this._isCollapsed=p,this._afterInit&&this._runTransitionWithEvents(p,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(p=this._isCollapsed){this.collapsed=!p,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(p,E){return te(this._zone,this._element.nativeElement,Pt,{animation:E,runningTransition:"stop",context:{direction:p?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(p,E){this._runTransition(p,E).subscribe(()=>{p?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(E,M){2&E&&i.AVh("collapse-horizontal",M.horizontal)},inputs:{animation:"animation",collapsed:[i.Mj6.None,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return m})(),Ni=0,sr=(()=>{class m{constructor(){this._vcr=(0,i.WQX)(i.c1b),this._element=(0,i.WQX)(i.aKT).nativeElement,this._item=(0,i.WQX)(In),this._viewRef=null}ngAfterContentChecked(){this._bodyTpl&&(this._item._shouldBeInDOM?this._createViewIfNotExists():this._destroyViewIfExists())}ngOnDestroy(){this._destroyViewIfExists()}_destroyViewIfExists(){this._viewRef&&(this._viewRef.destroy(),this._viewRef=null)}_createViewIfNotExists(){if(!this._viewRef){this._viewRef=this._vcr.createEmbeddedView(this._bodyTpl),this._viewRef.detectChanges();for(const p of this._viewRef.rootNodes)this._element.appendChild(p)}}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbAccordionBody",""]],contentQueries:function(E,M,oe){if(1&E&&i.wni(oe,i.C4Q,7),2&E){let ye;i.mGM(ye=i.lsd())&&(M._bodyTpl=ye.first)}},hostVars:2,hostBindings:function(E,M){2&E&&i.AVh("accordion-body",!0)},standalone:!0})}}return m})(),Qn=(()=>{class m{constructor(){this.item=(0,i.WQX)(In),this.ngbCollapse=(0,i.WQX)(Di)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbAccordionCollapse",""]],hostAttrs:["role","region"],hostVars:4,hostBindings:function(E,M){2&E&&(i.Mr5("id",M.item.collapseId),i.BMQ("aria-labelledby",M.item.toggleId),i.AVh("accordion-collapse",!0))},exportAs:["ngbAccordionCollapse"],standalone:!0,features:[i.nM4([Di])]})}}return m})(),vi=(()=>{class m{constructor(){this.item=(0,i.WQX)(In),this.accordion=(0,i.WQX)(_n)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbAccordionToggle",""]],hostVars:5,hostBindings:function(E,M){1&E&&i.bIt("click",function(){return!M.item.disabled&&M.accordion.toggle(M.item.id)}),2&E&&(i.Mr5("id",M.item.toggleId),i.BMQ("aria-controls",M.item.collapseId)("aria-expanded",!M.item.collapsed),i.AVh("collapsed",M.item.collapsed))},standalone:!0})}}return m})(),ui=(()=>{class m{constructor(){this.item=(0,i.WQX)(In)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["button","ngbAccordionButton",""]],hostAttrs:["type","button"],hostVars:3,hostBindings:function(E,M){2&E&&(i.Mr5("disabled",M.item.disabled),i.AVh("accordion-button",!0))},standalone:!0,features:[i.nM4([vi])]})}}return m})(),Fn=(()=>{class m{constructor(){this.item=(0,i.WQX)(In)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbAccordionHeader",""]],hostAttrs:["role","heading"],hostVars:4,hostBindings:function(E,M){2&E&&i.AVh("accordion-header",!0)("collapsed",M.item.collapsed)},standalone:!0})}}return m})(),In=(()=>{class m{constructor(){this._accordion=(0,i.WQX)(_n),this._cd=(0,i.WQX)(i.gRc),this._destroyRef=(0,i.WQX)(i.abz),this._collapsed=!0,this._id="ngb-accordion-item-"+Ni++,this._collapseAnimationRunning=!1,this.disabled=!1,this.show=new i.bkB,this.shown=new i.bkB,this.hide=new i.bkB,this.hidden=new i.bkB}set id(p){J(p)&&""!==p&&(this._id=p)}set destroyOnHide(p){this._destroyOnHide=p}get destroyOnHide(){return void 0===this._destroyOnHide?this._accordion.destroyOnHide:this._destroyOnHide}set collapsed(p){p?this.collapse():this.expand()}get collapsed(){return this._collapsed}get id(){return`${this._id}`}get toggleId(){return`${this.id}-toggle`}get collapseId(){return`${this.id}-collapse`}get _shouldBeInDOM(){return!this.collapsed||this._collapseAnimationRunning||!this.destroyOnHide}ngAfterContentInit(){const{ngbCollapse:p}=this._collapse;p.animation=!1,p.collapsed=this.collapsed,p.animation=this._accordion.animation,p.hidden.pipe(le(this._destroyRef)).subscribe(()=>{this._collapseAnimationRunning=!1,this.hidden.emit(),this._accordion.hidden.emit(this.id)}),p.shown.pipe(le(this._destroyRef)).subscribe(()=>{this.shown.emit(),this._accordion.shown.emit(this.id)})}toggle(){this.collapsed=!this.collapsed}expand(){if(this.collapsed){if(!this._accordion._ensureCanExpand(this))return;this._collapsed=!1,this._cd.markForCheck(),this._cd.detectChanges(),this.show.emit(),this._accordion.show.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!1}}collapse(){this.collapsed||(this._collapsed=!0,this._collapseAnimationRunning=!0,this._cd.markForCheck(),this.hide.emit(),this._accordion.hide.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!0)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbAccordionItem",""]],contentQueries:function(E,M,oe){if(1&E&&i.wni(oe,Qn,7),2&E){let ye;i.mGM(ye=i.lsd())&&(M._collapse=ye.first)}},hostVars:3,hostBindings:function(E,M){2&E&&(i.Mr5("id",M.id),i.AVh("accordion-item",!0))},inputs:{id:[i.Mj6.None,"ngbAccordionItem","id"],destroyOnHide:"destroyOnHide",disabled:"disabled",collapsed:"collapsed"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordionItem"],standalone:!0})}}return m})(),_n=(()=>{class m{constructor(){this._config=(0,i.WQX)(Ui),this._anItemWasAlreadyExpandedDuringInitialisation=!1,this.animation=this._config.animation,this.closeOthers=this._config.closeOthers,this.destroyOnHide=this._config.destroyOnHide,this.show=new i.bkB,this.shown=new i.bkB,this.hide=new i.bkB,this.hidden=new i.bkB}toggle(p){this._getItem(p)?.toggle()}expand(p){this._getItem(p)?.expand()}expandAll(){this._items&&(this.closeOthers?this._items.find(p=>!p.collapsed)||this._items.first.expand():this._items.forEach(p=>p.expand()))}collapse(p){this._getItem(p)?.collapse()}collapseAll(){this._items?.forEach(p=>p.collapse())}isExpanded(p){const E=this._getItem(p);return!!E&&!E.collapsed}_ensureCanExpand(p){return!(this.closeOthers&&(this._items?(this._items.find(E=>!E.collapsed&&p!==E)?.collapse(),0):this._anItemWasAlreadyExpandedDuringInitialisation||(this._anItemWasAlreadyExpandedDuringInitialisation=!0,0)))}_getItem(p){return this._items?.find(E=>E.id===p)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbAccordion",""]],contentQueries:function(E,M,oe){if(1&E&&i.wni(oe,In,4),2&E){let ye;i.mGM(ye=i.lsd())&&(M._items=ye)}},hostVars:2,hostBindings:function(E,M){2&E&&i.AVh("accordion",!0)},inputs:{animation:"animation",closeOthers:"closeOthers",destroyOnHide:"destroyOnHide"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0})}}return m})(),Lr=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})(),rs=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})(),Xr=(()=>{class m{constructor(){this._ngbConfig=(0,i.WQX)(fo),this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(p){this._animation=p}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();var Hi=function(m){return m.START="start",m.END="end",m}(Hi||{});const Pi=({classList:m})=>m.contains("carousel-item-start")||m.contains("carousel-item-end"),Xi=m=>{m.remove("carousel-item-start"),m.remove("carousel-item-end")},Ma=m=>{Xi(m),m.remove("carousel-item-prev"),m.remove("carousel-item-next")},$l=(m,L,{direction:p})=>{const{classList:E}=m;return L?(Pi(m)?Xi(E):(E.add("carousel-item-"+(p===Hi.START?"next":"prev")),Dt(m),E.add("carousel-item-"+p)),()=>{Ma(E),E.add("active")}):(Xi(E),Ma(E),void E.add("active"))},zl=(m,L,{direction:p})=>{const{classList:E}=m;return L?(Pi(m)?Xi(E):E.add("carousel-item-"+p),()=>{Ma(E),E.remove("active")}):(Xi(E),Ma(E),void E.remove("active"))};let ps=0,Ga=0,ka=(()=>{class m{constructor(){this.templateRef=(0,i.WQX)(i.C4Q),this.id="ngb-slide-"+ps++,this.slid=new i.bkB}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0})}}return m})(),Or=(()=>{class m{constructor(){this.NgbSlideEventSource=po,this._config=(0,i.WQX)(Xr),this._platformId=(0,i.WQX)(i.Agw),this._ngZone=(0,i.WQX)(i.SKi),this._cd=(0,i.WQX)(i.gRc),this._container=(0,i.WQX)(i.aKT),this._destroyRef=(0,i.WQX)(i.abz),this._interval$=new jt.t(this._config.interval),this._mouseHover$=new jt.t(!1),this._focused$=new jt.t(!1),this._pauseOnHover$=new jt.t(this._config.pauseOnHover),this._pauseOnFocus$=new jt.t(this._config.pauseOnFocus),this._pause$=new jt.t(!1),this._wrap$=new jt.t(this._config.wrap),this.id="ngb-carousel-"+Ga++,this.animation=this._config.animation,this.keyboard=this._config.keyboard,this.showNavigationArrows=this._config.showNavigationArrows,this.showNavigationIndicators=this._config.showNavigationIndicators,this.slide=new i.bkB,this.slid=new i.bkB,this._transitionIds=null}set interval(p){this._interval$.next(p)}get interval(){return this._interval$.value}set wrap(p){this._wrap$.next(p)}get wrap(){return this._wrap$.value}set pauseOnHover(p){this._pauseOnHover$.next(p)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(p){this._pauseOnFocus$.next(p)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(p){this._mouseHover$.next(p)}get mouseHover(){return this._mouseHover$.value}set focused(p){this._focused$.next(p)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(po.ARROW_LEFT)}arrowRight(){this.focus(),this.next(po.ARROW_RIGHT)}ngAfterContentInit(){(0,it.UE)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const p=(0,wt.z)([this.slide.pipe((0,Xn.T)(E=>E.current),(0,ai.Z)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,ai.Z)(null))]).pipe((0,Xn.T)(([E,M])=>{const oe=this.slides.toArray(),ye=this._getSlideIdxById(E);return M?oe.length>1:ye<oe.length-1}),(0,$n.F)());(0,wt.z)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,p]).pipe((0,Xn.T)(([E,M,oe,ye,_t,kt,rn])=>E||M&&oe||ye&&_t||!rn?0:kt),(0,$n.F)(),(0,Zn.n)(E=>E>0?(0,Rt.O)(E,E):Tn),le(this._destroyRef)).subscribe(()=>this._ngZone.run(()=>this.next(po.TIMER)))}),this.slides.changes.pipe(le(this._destroyRef)).subscribe(()=>{this._transitionIds?.forEach(p=>(m=>{X.get(m)?.complete()})(this._getSlideElement(p))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,En.s)(1)).subscribe(()=>{for(const{id:p}of this.slides){const E=this._getSlideElement(p);p===this.activeId?E.classList.add("active"):E.classList.remove("active")}})})}ngAfterContentChecked(){let p=this._getSlideById(this.activeId);this.activeId=p?p.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const p=this._getSlideElement(this.activeId);p&&p.classList.add("active")}}select(p,E){this._cycleToSelected(p,this._getSlideEventDirection(this.activeId,p),E)}prev(p){this._cycleToSelected(this._getPrevSlide(this.activeId),Hi.END,p)}next(p){this._cycleToSelected(this._getNextSlide(this.activeId),Hi.START,p)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(p,E,M){const oe=this._transitionIds;if(oe&&(oe[0]!==p||oe[1]!==this.activeId))return;let ye=this._getSlideById(p);if(ye&&ye.id!==this.activeId){this._transitionIds=[this.activeId,p],this.slide.emit({prev:this.activeId,current:ye.id,direction:E,paused:this._pause$.value,source:M});const _t={animation:this.animation,runningTransition:"stop",context:{direction:E}},kt=[],rn=this._getSlideById(this.activeId);if(rn){const h=te(this._ngZone,this._getSlideElement(rn.id),zl,_t);h.subscribe(()=>{rn.slid.emit({isShown:!1,direction:E,source:M})}),kt.push(h)}const hn=this.activeId;this.activeId=ye.id;const g=this._getSlideById(this.activeId),d=te(this._ngZone,this._getSlideElement(ye.id),$l,_t);d.subscribe(()=>{g?.slid.emit({isShown:!0,direction:E,source:M})}),kt.push(d),He(...kt).pipe((0,En.s)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:hn,current:ye.id,direction:E,paused:this._pause$.value,source:M})})}this._cd.markForCheck()}_getSlideEventDirection(p,E){return this._getSlideIdxById(p)>this._getSlideIdxById(E)?Hi.END:Hi.START}_getSlideById(p){return this.slides.find(E=>E.id===p)||null}_getSlideIdxById(p){const E=this._getSlideById(p);return null!=E?this.slides.toArray().indexOf(E):-1}_getNextSlide(p){const E=this.slides.toArray(),M=this._getSlideIdxById(p);return M===E.length-1?this.wrap?E[0].id:E[E.length-1].id:E[M+1].id}_getPrevSlide(p){const E=this.slides.toArray(),M=this._getSlideIdxById(p);return 0===M?this.wrap?E[E.length-1].id:E[0].id:E[M-1].id}_getSlideElement(p){return this._container.nativeElement.querySelector(`#slide-${p}`)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ngb-carousel"]],contentQueries:function(E,M,oe){if(1&E&&i.wni(oe,ka,4),2&E){let ye;i.mGM(ye=i.lsd())&&(M.slides=ye)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(E,M){1&E&&i.bIt("keydown.arrowLeft",function(){return M.keyboard&&M.arrowLeft()})("keydown.arrowRight",function(){return M.keyboard&&M.arrowRight()})("mouseenter",function(){return M.mouseHover=!0})("mouseleave",function(){return M.mouseHover=!1})("focusin",function(){return M.focused=!0})("focusout",function(){return M.focused=!1}),2&E&&(i.BMQ("aria-activedescendant","slide-"+M.activeId),i.xc7("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[i.aNF],decls:7,vars:3,consts:()=>{let p,E,M;return p=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,E=$localize`:@@ngb.carousel.previous:Previous`,M=$localize`:@@ngb.carousel.next:Next`,[p,E,M,["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active"],[1,"carousel-inner"],["role","tabpanel",1,"carousel-item",3,"id"],["type","button","data-bs-target","","role","tab",3,"click"],[1,"visually-hidden"],[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden",3,"id"],["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]]},template:function(E,M){1&E&&(i.j41(0,"div",3),i.Z7z(1,Ar,1,5,"button",4,i.fX1),i.k0s(),i.j41(3,"div",5),i.Z7z(4,Li,4,4,"div",6,i.fX1),i.k0s(),i.DNE(6,Hs,8,4)),2&E&&(i.AVh("visually-hidden",!M.showNavigationIndicators),i.R7$(),i.Dyx(M.slides),i.R7$(3),i.Dyx(M.slides),i.R7$(2),i.vxM(6,M.showNavigationArrows?6:-1))},dependencies:[it.T3],encapsulation:2,changeDetection:0})}}return m})();var po=function(m){return m.TIMER="timer",m.ARROW_LEFT="arrowLeft",m.ARROW_RIGHT="arrowRight",m.INDICATOR="indicator",m}(po||{});let Wa=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})(),_a=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})();class Jr{static from(L){return L instanceof Jr?L:L?new Jr(L.year,L.month,L.day):null}constructor(L,p,E){this.year=$(L)?L:null,this.month=$(p)?p:null,this.day=$(E)?E:null}equals(L){return null!=L&&this.year===L.year&&this.month===L.month&&this.day===L.day}before(L){return!!L&&(this.year===L.year?this.month===L.month?this.day!==L.day&&this.day<L.day:this.month<L.month:this.year<L.year)}after(L){return!!L&&(this.year===L.year?this.month===L.month?this.day!==L.day&&this.day>L.day:this.month>L.month:this.year>L.year)}}function Kl(m){return new Jr(m.getFullYear(),m.getMonth()+1,m.getDate())}function lr(m){const L=new Date(m.year,m.month-1,m.day,12);return isNaN(L.getTime())||L.setFullYear(m.year),L}let Sl=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:()=>function yc(){return new cs}(),providedIn:"root"})}}return m})(),cs=(()=>{class m extends Sl{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(p,E="d",M=1){let oe=lr(p),ye=!0,_t=oe.getMonth();switch(E){case"y":oe.setFullYear(oe.getFullYear()+M);break;case"m":_t+=M,oe.setMonth(_t),_t%=12,_t<0&&(_t+=12);break;case"d":oe.setDate(oe.getDate()+M),ye=!1;break;default:return p}return ye&&oe.getMonth()!==_t&&oe.setDate(0),Kl(oe)}getPrev(p,E="d",M=1){return this.getNext(p,E,-M)}getWeekday(p){let M=lr(p).getDay();return 0===M?7:M}getWeekNumber(p,E){7===E&&(E=0);const ye=lr(p[(11-E)%7]);ye.setDate(ye.getDate()+4-(ye.getDay()||7));const _t=ye.getTime();return ye.setMonth(0),ye.setDate(1),Math.floor(Math.round((_t-ye.getTime())/864e5)/7)+1}getToday(){return Kl(new Date)}isValid(p){if(!(p&&$(p.year)&&$(p.month)&&$(p.day)&&0!==p.year))return!1;const E=lr(p);return!isNaN(E.getTime())&&E.getFullYear()===p.year&&E.getMonth()+1===p.month&&E.getDate()===p.day}static{this.\u0275fac=(()=>{let p;return function(M){return(p||(p=i.xGo(m)))(M||m)}})()}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac})}}return m})();var ae=function(m){return m[m.Tab=9]="Tab",m[m.Enter=13]="Enter",m[m.Escape=27]="Escape",m[m.Space=32]="Space",m[m.PageUp=33]="PageUp",m[m.PageDown=34]="PageDown",m[m.End=35]="End",m[m.Home=36]="Home",m[m.ArrowLeft=37]="ArrowLeft",m[m.ArrowUp=38]="ArrowUp",m[m.ArrowRight=39]="ArrowRight",m[m.ArrowDown=40]="ArrowDown",m}(ae||{});const ss=(m,L)=>!!L&&L.some(p=>p.contains(m)),$a=(m,L)=>!L||null!=function an(m,L){return!L||typeof m.closest>"u"?null:m.closest(L)}(m,L),wc=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function $c(m,L,p,E,M,oe,ye,_t){p&&m.runOutsideAngular((m=>wc?()=>setTimeout(()=>m(),100):m)(()=>{const rn=(0,It.R)(L,"keydown").pipe((0,_e.Q)(M),(0,Rn.p)(d=>d.which===ae.Escape),(0,ri.M)(d=>d.preventDefault())),hn=(0,It.R)(L,"mousedown").pipe((0,Xn.T)(d=>{const h=d.target;return 2!==d.button&&!ss(h,ye)&&("inside"===p?ss(h,oe)&&$a(h,_t):"outside"===p?!ss(h,oe):$a(h,_t)||!ss(h,oe))}),(0,_e.Q)(M)),g=(0,It.R)(L,"mouseup").pipe((0,mt.E)(hn),(0,Rn.p)(([d,h])=>h),(0,Be.c)(0),(0,_e.Q)(M));Cn([rn.pipe((0,Xn.T)(d=>0)),g.pipe((0,Xn.T)(d=>1))]).subscribe(d=>m.run(()=>E(d)))}))}const Ml=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function kl(m){const L=Array.from(m.querySelectorAll(Ml)).filter(p=>-1!==p.tabIndex);return[L[0],L[L.length-1]]}const Ec=(m,L,p,E=!1)=>{m.runOutsideAngular(()=>{const M=(0,It.R)(L,"focusin").pipe((0,_e.Q)(p),(0,Xn.T)(oe=>oe.target));(0,It.R)(L,"keydown").pipe((0,_e.Q)(p),(0,Rn.p)(oe=>oe.which===ae.Tab),(0,mt.E)(M)).subscribe(([oe,ye])=>{const[_t,kt]=kl(L);(ye===_t||ye===L)&&oe.shiftKey&&(kt.focus(),oe.preventDefault()),ye===kt&&!oe.shiftKey&&(_t.focus(),oe.preventDefault())}),E&&(0,It.R)(L,"click").pipe((0,_e.Q)(p),(0,mt.E)(M),(0,Xn.T)(oe=>oe[1])).subscribe(oe=>oe.focus())})};let zc=(()=>{class m{constructor(){this._element=(0,i.WQX)(it.qQ).documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();const _u=/\s+/,Kd=/  +/gi,Na={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},Id=/^left/,vu=/^right/,sc=/^start/,gl=/^end/;function il({placement:m,baseClass:L},p){let E=Array.isArray(m)?m:m.split(_u),oe=E.findIndex(rn=>"auto"===rn);oe>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(rn){null==E.find(hn=>-1!==hn.search("^"+rn))&&E.splice(oe++,1,rn)});const ye=E.map(rn=>function Kc(m,L){const[p,E]=Na[m];return L&&E||p}(rn,p.isRTL()));return{placement:ye.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!L,phase:"write",fn({state:rn}){const hn=new RegExp(L+"(-[a-z]+)*","gi"),g=rn.elements.popper,d=rn.placement;let h=g.className;h=h.replace(hn,""),h+=` ${function sa(m,L){let[p,E]=L.split("-");const M=p.replace(Id,"start").replace(vu,"end");let oe=[M];if(E){let ye=E;("left"===p||"right"===p)&&(ye=ye.replace(sc,"top").replace(gl,"bottom")),oe.push(`${M}-${ye}`)}return m&&(oe=oe.map(ye=>`${m}-${ye}`)),oe.join(" ")}(L,d)}`,h=h.trim().replace(Kd," "),g.className=h}},as,Ls,ca,{enabled:!0,name:"flip",options:{fallbackPlacements:ye}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Nl(m){return m}function Cc(){const m=(0,i.WQX)(zc);let L=null;return{createPopper(p){if(!L){let M=(p.updatePopperOptions||Nl)(il(p,m));L=Wr(p.hostElement,p.targetElement,M)}},update(){L&&L.update()},setOptions(p){if(L){let M=(p.updatePopperOptions||Nl)(il(p,m));L.setOptions(M)}},destroy(){L&&(L.destroy(),L=null)}}}function xl(m){return L=>(L.modifiers.push(Vr,{name:"offset",options:{offset:()=>m}}),L)}new Date(1882,10,12),new Date(2174,10,25);let Mo=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})(),vl=(()=>{class m{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=p=>p,this.container=null}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),ba=(()=>{class m{constructor(){this._disabled=!1,this.nativeElement=(0,i.WQX)(i.aKT).nativeElement,this.tabindex=0}set disabled(p){this._disabled=""===p||!0===p}get disabled(){return this._disabled}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(E,M){2&E&&(i.Mr5("tabIndex",M.disabled?-1:M.tabindex),i.AVh("disabled",M.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0})}}return m})(),Mc=(()=>{class m{constructor(){this.item=(0,i.WQX)(ba)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(E,M){2&E&&i.Mr5("disabled",M.item.disabled)},standalone:!0})}}return m})(),yl=(()=>{class m{constructor(){this.dropdown=(0,i.WQX)(lc),this.nativeElement=(0,i.WQX)(i.aKT).nativeElement}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(E,M,oe){if(1&E&&i.wni(oe,ba,4),2&E){let ye;i.mGM(ye=i.lsd())&&(M.menuItems=ye)}},hostVars:4,hostBindings:function(E,M){1&E&&i.bIt("keydown.ArrowUp",function(ye){return M.dropdown.onKeyDown(ye)})("keydown.ArrowDown",function(ye){return M.dropdown.onKeyDown(ye)})("keydown.Home",function(ye){return M.dropdown.onKeyDown(ye)})("keydown.End",function(ye){return M.dropdown.onKeyDown(ye)})("keydown.Enter",function(ye){return M.dropdown.onKeyDown(ye)})("keydown.Space",function(ye){return M.dropdown.onKeyDown(ye)})("keydown.Tab",function(ye){return M.dropdown.onKeyDown(ye)})("keydown.Shift.Tab",function(ye){return M.dropdown.onKeyDown(ye)}),2&E&&i.AVh("dropdown-menu",!0)("show",M.dropdown.isOpen())},standalone:!0})}}return m})(),Oa=(()=>{class m{constructor(){this.dropdown=(0,i.WQX)(lc),this.nativeElement=(0,i.WQX)(i.aKT).nativeElement}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(E,M){2&E&&(i.BMQ("aria-expanded",M.dropdown.isOpen()),i.AVh("show",M.dropdown.isOpen()))},standalone:!0})}}return m})(),Ll=(()=>{class m extends Oa{static{this.\u0275fac=(()=>{let p;return function(M){return(p||(p=i.xGo(m)))(M||m)}})()}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(E,M){1&E&&i.bIt("click",function(){return M.dropdown.toggle()})("keydown.ArrowUp",function(ye){return M.dropdown.onKeyDown(ye)})("keydown.ArrowDown",function(ye){return M.dropdown.onKeyDown(ye)})("keydown.Home",function(ye){return M.dropdown.onKeyDown(ye)})("keydown.End",function(ye){return M.dropdown.onKeyDown(ye)})("keydown.Tab",function(ye){return M.dropdown.onKeyDown(ye)})("keydown.Shift.Tab",function(ye){return M.dropdown.onKeyDown(ye)}),2&E&&(i.BMQ("aria-expanded",M.dropdown.isOpen()),i.AVh("show",M.dropdown.isOpen()))},standalone:!0,features:[i.Jv_([{provide:Oa,useExisting:(0,i.Rfq)(()=>m)}]),i.Vt3]})}}return m})(),lc=(()=>{class m{constructor(){this._changeDetector=(0,i.WQX)(i.gRc),this._config=(0,i.WQX)(vl),this._document=(0,i.WQX)(it.qQ),this._ngZone=(0,i.WQX)(i.SKi),this._nativeElement=(0,i.WQX)(i.aKT).nativeElement,this._destroyCloseHandlers$=new st.B,this._bodyContainer=null,this._positioning=Cc(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new i.bkB}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe((0,En.s)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(p){if(p.container&&this._open&&this._applyContainer(this.container),p.placement&&!p.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),p.dropdownClass){const{currentValue:E,previousValue:M}=p.dropdownClass;this._applyCustomDropdownClass(E,M)}p.autoClose&&this._open&&(this.autoClose=p.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:p=>this.popperOptions(xl([0,2])(p))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),$c(this._ngZone,this._document,this.autoClose,p=>{this.close(),0===p&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(p){const E=p.which,M=this._getMenuElements();let oe=-1,ye=null;const _t=this._isEventFromToggle(p);if(!_t&&M.length&&M.forEach((kt,rn)=>{kt.contains(p.target)&&(ye=kt),kt===di(this._document)&&(oe=rn)}),E!==ae.Space&&E!==ae.Enter){if(E!==ae.Tab){if(_t||ye){if(this.open(),M.length){switch(E){case ae.ArrowDown:oe=Math.min(oe+1,M.length-1);break;case ae.ArrowUp:if(this._isDropup()&&-1===oe){oe=M.length-1;break}oe=Math.max(oe-1,0);break;case ae.Home:oe=0;break;case ae.End:oe=M.length-1}M[oe].focus()}p.preventDefault()}}else if(p.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===p.target)return void("body"!==this.container||p.shiftKey?p.shiftKey&&this.close():(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")));if("body"===this.container){const kt=this._menu.nativeElement.querySelectorAll(Ml);p.shiftKey&&p.target===kt[0]?(this._anchor.nativeElement.focus(),p.preventDefault()):!p.shiftKey&&p.target===kt[kt.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,It.R)(p.target,"focusout").pipe((0,En.s)(1)).subscribe(({relatedTarget:kt})=>{this._nativeElement.contains(kt)||this.close()})}}else ye&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,It.R)(ye,"click").pipe((0,En.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(p){return this._anchor.nativeElement.contains(p.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:p})=>!p).map(({nativeElement:p})=>p):[]}_positionMenu(){const p=this._menu;this.isOpen()&&p&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(p){return Array.isArray(p)?p[0]:p.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(p=null){if(this._resetContainer(),"body"===p){const E=this._menu.nativeElement,M=this._bodyContainer=this._bodyContainer||this._document.createElement("div");M.style.position="absolute",E.style.position="static",M.style.zIndex="1055",M.appendChild(E),this._document.body.appendChild(M)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(p,E){const M="body"===this.container?this._bodyContainer:this._nativeElement;M&&(E&&M.classList.remove(E),p&&M.classList.add(p))}_applyPlacementClasses(p){if(this._menu){p||(p=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),"static"===this.display?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");const E=-1!==p.search("^top")?"dropup":"dropdown";this._nativeElement.classList.add(E),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(E))}}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbDropdown",""]],contentQueries:function(E,M,oe){if(1&E&&(i.wni(oe,yl,5),i.wni(oe,Oa,5)),2&E){let ye;i.mGM(ye=i.lsd())&&(M._menu=ye.first),i.mGM(ye=i.lsd())&&(M._anchor=ye.first)}},hostVars:2,hostBindings:function(E,M){2&E&&i.AVh("show",M.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[i.Mj6.None,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[i.OA$]})}}return m})(),Zi=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})(),Ri=(()=>{class m{constructor(){this._ngbConfig=(0,i.WQX)(fo),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(p){this._animation=p}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();class pr{constructor(L,p,E){this.nodes=L,this.viewRef=p,this.componentRef=E}}class xs{constructor(L){this._componentType=L,this._windowRef=null,this._contentRef=null,this._document=(0,i.WQX)(it.qQ),this._applicationRef=(0,i.WQX)(i.o8S),this._injector=(0,i.WQX)(i.zZn),this._viewContainerRef=(0,i.WQX)(i.c1b),this._ngZone=(0,i.WQX)(i.SKi)}open(L,p,E=!1){this._windowRef||(this._contentRef=this._getContentRef(L,p),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:M}=this._windowRef.location,oe=this._ngZone.onStable.pipe((0,En.s)(1),(0,Ze.Z)(()=>te(this._ngZone,M,({classList:ye})=>ye.add("show"),{animation:E,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:oe}}close(L=!1){return this._windowRef?te(this._ngZone,this._windowRef.location.nativeElement,({classList:p})=>p.remove("show"),{animation:L,runningTransition:"stop"}).pipe((0,ri.M)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,Fe.of)(void 0)}_getContentRef(L,p){if(L){if(L instanceof i.C4Q){const E=L.createEmbeddedView(p);return this._applicationRef.attachView(E),new pr([E.rootNodes],E)}return new pr([[this._document.createTextNode(`${L}`)]])}return new pr([])}}let ol=(()=>{class m{constructor(){this._document=(0,i.WQX)(it.qQ)}hide(){const p=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),E=this._document.body,M=E.style,{overflow:oe,paddingRight:ye}=M;if(p>0){const _t=parseFloat(window.getComputedStyle(E).paddingRight);M.paddingRight=`${_t+p}px`}return M.overflow="hidden",()=>{p>0&&(M.paddingRight=ye),M.overflow=oe}}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),Ps=(()=>{class m{constructor(){this._nativeElement=(0,i.WQX)(i.aKT).nativeElement,this._zone=(0,i.WQX)(i.SKi)}ngOnInit(){this._zone.onStable.asObservable().pipe((0,En.s)(1)).subscribe(()=>{te(this._zone,this._nativeElement,(p,E)=>{E&&Dt(p),p.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return te(this._zone,this._nativeElement,({classList:p})=>p.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(E,M){2&E&&(i.HbH("modal-backdrop"+(M.backdropClass?" "+M.backdropClass:"")),i.AVh("show",!M.animation)("fade",M.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(E,M){},encapsulation:2})}}return m})();class ko{update(L){}close(L){}dismiss(L){}}const zs=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],lu=["animation","backdropClass"];class Ka{_applyWindowOptions(L,p){zs.forEach(E=>{ne(p[E])&&(L[E]=p[E])})}_applyBackdropOptions(L,p){lu.forEach(E=>{ne(p[E])&&(L[E]=p[E])})}update(L){this._applyWindowOptions(this._windowCmptRef.instance,L),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,L)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,_e.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,_e.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(L,p,E,M){this._windowCmptRef=L,this._contentRef=p,this._backdropCmptRef=E,this._beforeDismiss=M,this._closed=new st.B,this._dismissed=new st.B,this._hidden=new st.B,L.instance.dismissEvent.subscribe(oe=>{this.dismiss(oe)}),this.result=new Promise((oe,ye)=>{this._resolve=oe,this._reject=ye}),this.result.then(null,()=>{})}close(L){this._windowCmptRef&&(this._closed.next(L),this._resolve(L),this._removeModalElements())}_dismiss(L){this._dismissed.next(L),this._reject(L),this._removeModalElements()}dismiss(L){if(this._windowCmptRef)if(this._beforeDismiss){const p=this._beforeDismiss();ve(p)?p.then(E=>{!1!==E&&this._dismiss(L)},()=>{}):!1!==p&&this._dismiss(L)}else this._dismiss(L)}_removeModalElements(){const L=this._windowCmptRef.instance.hide(),p=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Fe.of)(void 0);L.subscribe(()=>{const{nativeElement:E}=this._windowCmptRef.location;E.parentNode.removeChild(E),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),p.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:E}=this._backdropCmptRef.location;E.parentNode.removeChild(E),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),He(L,p).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var gs=function(m){return m[m.BACKDROP_CLICK=0]="BACKDROP_CLICK",m[m.ESC=1]="ESC",m}(gs||{});let kc=(()=>{class m{constructor(){this._document=(0,i.WQX)(it.qQ),this._elRef=(0,i.WQX)(i.aKT),this._zone=(0,i.WQX)(i.SKi),this._closed$=new st.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.bkB,this.shown=new st.B,this.hidden=new st.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":J(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(p){this.dismissEvent.emit(p)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,En.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:p}=this._elRef,E={animation:this.animation,runningTransition:"stop"},ye=He(te(this._zone,p,()=>p.classList.remove("show"),E),te(this._zone,this._dialogEl.nativeElement,()=>{},E));return ye.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),ye}_show(){const p={animation:this.animation,runningTransition:"continue"};He(te(this._zone,this._elRef.nativeElement,(oe,ye)=>{ye&&Dt(oe),oe.classList.add("show")},p),te(this._zone,this._dialogEl.nativeElement,()=>{},p)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:p}=this._elRef;this._zone.runOutsideAngular(()=>{(0,It.R)(p,"keydown").pipe((0,_e.Q)(this._closed$),(0,Rn.p)(M=>M.which===ae.Escape)).subscribe(M=>{this.keyboard?requestAnimationFrame(()=>{M.defaultPrevented||this._zone.run(()=>this.dismiss(gs.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let E=!1;(0,It.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,_e.Q)(this._closed$),(0,ri.M)(()=>E=!1),(0,Zn.n)(()=>(0,It.R)(p,"mouseup").pipe((0,_e.Q)(this._closed$),(0,En.s)(1))),(0,Rn.p)(({target:M})=>p===M)).subscribe(()=>{E=!0}),(0,It.R)(p,"click").pipe((0,_e.Q)(this._closed$)).subscribe(({target:M})=>{p===M&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!E&&this._zone.run(()=>this.dismiss(gs.BACKDROP_CLICK))),E=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:p}=this._elRef;if(!p.contains(document.activeElement)){const E=p.querySelector("[ngbAutofocus]"),M=kl(p)[0];(E||M||p).focus()}}_restoreFocus(){const p=this._document.body,E=this._elWithFocus;let M;M=E&&E.focus&&p.contains(E)?E:p,this._zone.runOutsideAngular(()=>{setTimeout(()=>M.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&te(this._zone,this._elRef.nativeElement,({classList:p})=>(p.add("modal-static"),()=>p.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ngb-modal-window"]],viewQuery:function(E,M){if(1&E&&i.GBs(Ro,7),2&E){let oe;i.mGM(oe=i.lsd())&&(M._dialogEl=oe.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(E,M){2&E&&(i.BMQ("aria-modal",!0)("aria-labelledby",M.ariaLabelledBy)("aria-describedby",M.ariaDescribedBy),i.HbH("modal d-block"+(M.windowClass?" "+M.windowClass:"")),i.AVh("fade",M.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[i.aNF],ngContentSelectors:Yr,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(E,M){1&E&&(i.NAR(),i.j41(0,"div",1,0)(2,"div",2),i.SdG(3),i.k0s()()),2&E&&i.HbH("modal-dialog"+(M.size?" modal-"+M.size:"")+(M.centered?" modal-dialog-centered":"")+M.fullscreenClass+(M.scrollable?" modal-dialog-scrollable":"")+(M.modalDialogClass?" "+M.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return m})(),wa=(()=>{class m{constructor(){this._applicationRef=(0,i.WQX)(i.o8S),this._injector=(0,i.WQX)(i.zZn),this._environmentInjector=(0,i.WQX)(i.uvJ),this._document=(0,i.WQX)(it.qQ),this._scrollBar=(0,i.WQX)(ol),this._activeWindowCmptHasChanged=new st.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new i.bkB;const p=(0,i.WQX)(i.SKi);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const E=this._windowCmpts[this._windowCmpts.length-1];Ec(p,E.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(E.location.nativeElement)}})}_restoreScrollBar(){const p=this._scrollBarRestoreFn;p&&(this._scrollBarRestoreFn=null,p())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(p,E,M){const oe=M.container instanceof HTMLElement?M.container:ne(M.container)?this._document.querySelector(M.container):this._document.body;if(!oe)throw new Error(`The specified modal container "${M.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const ye=new ko,_t=(p=M.injector||p).get(i.uvJ,null)||this._environmentInjector,kt=this._getContentRef(p,_t,E,ye,M);let rn=!1!==M.backdrop?this._attachBackdrop(oe):void 0,hn=this._attachWindowComponent(oe,kt.nodes),g=new Ka(hn,kt,rn,M.beforeDismiss);return this._registerModalRef(g),this._registerWindowCmpt(hn),g.hidden.pipe((0,En.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),ye.close=d=>{g.close(d)},ye.dismiss=d=>{g.dismiss(d)},ye.update=d=>{g.update(d)},g.update(M),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),rn&&rn.instance&&rn.changeDetectorRef.detectChanges(),hn.changeDetectorRef.detectChanges(),g}get activeInstances(){return this._activeInstances}dismissAll(p){this._modalRefs.forEach(E=>E.dismiss(p))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(p){let E=(0,i.a0P)(Ps,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(E.hostView),p.appendChild(E.location.nativeElement),E}_attachWindowComponent(p,E){let M=(0,i.a0P)(kc,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:E});return this._applicationRef.attachView(M.hostView),p.appendChild(M.location.nativeElement),M}_getContentRef(p,E,M,oe,ye){return M?M instanceof i.C4Q?this._createFromTemplateRef(M,oe):J(M)?this._createFromString(M):this._createFromComponent(p,E,M,oe,ye):new pr([])}_createFromTemplateRef(p,E){const oe=p.createEmbeddedView({$implicit:E,close(ye){E.close(ye)},dismiss(ye){E.dismiss(ye)}});return this._applicationRef.attachView(oe),new pr([oe.rootNodes],oe)}_createFromString(p){const E=this._document.createTextNode(`${p}`);return new pr([[E]])}_createFromComponent(p,E,M,oe,ye){const _t=i.zZn.create({providers:[{provide:ko,useValue:oe}],parent:p}),kt=(0,i.a0P)(M,{environmentInjector:E,elementInjector:_t}),rn=kt.location.nativeElement;return ye.scrollable&&rn.classList.add("component-host-scrollable"),this._applicationRef.attachView(kt.hostView),new pr([[rn]],kt.hostView,kt)}_setAriaHidden(p){const E=p.parentElement;E&&p!==this._document.body&&(Array.from(E.children).forEach(M=>{M!==p&&"SCRIPT"!==M.nodeName&&(this._ariaHiddenValues.set(M,M.getAttribute("aria-hidden")),M.setAttribute("aria-hidden","true"))}),this._setAriaHidden(E))}_revertAriaHidden(){this._ariaHiddenValues.forEach((p,E)=>{p?E.setAttribute("aria-hidden",p):E.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(p){const E=()=>{const M=this._modalRefs.indexOf(p);M>-1&&(this._modalRefs.splice(M,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(p),this._activeInstances.emit(this._modalRefs),p.result.then(E,E)}_registerWindowCmpt(p){this._windowCmpts.push(p),this._activeWindowCmptHasChanged.next(),p.onDestroy(()=>{const E=this._windowCmpts.indexOf(p);E>-1&&(this._windowCmpts.splice(E,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),Bl=(()=>{class m{constructor(){this._injector=(0,i.WQX)(i.zZn),this._modalStack=(0,i.WQX)(wa),this._config=(0,i.WQX)(Ri)}open(p,E={}){const M={...this._config,animation:this._config.animation,...E};return this._modalStack.open(this._injector,p,M)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(p){this._modalStack.dismissAll(p)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),Iu=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({providers:[Bl]})}}return m})(),jl=(()=>{class m{constructor(){this._ngbConfig=(0,i.WQX)(fo),this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(p){this._animation=p}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();const wh=m=>ne(m)&&""!==m;let Ku=0,cc=(()=>{class m{constructor(){this.templateRef=(0,i.WQX)(i.C4Q)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["ng-template","ngbNavContent",""]],standalone:!0})}}return m})(),cu=(()=>{class m{constructor(p){this.role=p,this.nav=(0,i.WQX)(Zl)}static{this.\u0275fac=function(E){return new(E||m)(i.kS0("role"))}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbNavItem","",5,"ng-container"]],hostVars:1,hostBindings:function(E,M){2&E&&i.BMQ("role",M.role?M.role:M.nav.roles?"presentation":void 0)},standalone:!0})}}return m})(),Jl=(()=>{class m{constructor(){this._nav=(0,i.WQX)(Zl),this._nativeElement=(0,i.WQX)(i.aKT).nativeElement,this.disabled=!1,this.shown=new i.bkB,this.hidden=new i.bkB}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){ne(this.domId)||(this.domId="ngb-nav-"+Ku++)}get active(){return this._nav.activeId===this.id}get id(){return wh(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(ne(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}isNgContainer(){return this._nativeElement.nodeType===Node.COMMENT_NODE}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbNavItem",""]],contentQueries:function(E,M,oe){if(1&E&&i.wni(oe,cc,4),2&E){let ye;i.mGM(ye=i.lsd())&&(M.contentTpls=ye)}},hostVars:2,hostBindings:function(E,M){2&E&&i.AVh("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[i.Mj6.None,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0})}}return m})(),Zl=(()=>{class m{constructor(p){this.role=p,this._config=(0,i.WQX)(jl),this._cd=(0,i.WQX)(i.gRc),this._document=(0,i.WQX)(it.qQ),this._nativeElement=(0,i.WQX)(i.aKT).nativeElement,this.destroyRef=(0,i.WQX)(i.abz),this._navigatingWithKeyboard=!1,this.activeIdChange=new i.bkB,this.animation=this._config.animation,this.destroyOnHide=this._config.destroyOnHide,this.orientation=this._config.orientation,this.roles=this._config.roles,this.keyboard=this._config.keyboard,this.shown=new i.bkB,this.hidden=new i.bkB,this.navItemChange$=new st.B,this.navChange=new i.bkB}click(p){p.disabled||this._updateActiveId(p.id)}onFocusout({relatedTarget:p}){this._nativeElement.contains(p)||(this._navigatingWithKeyboard=!1)}onKeyDown(p){if("tablist"!==this.roles||!this.keyboard)return;const E=p.which,M=this.links.filter(_t=>!_t.navItem.disabled),{length:oe}=M;let ye=-1;if(M.forEach((_t,kt)=>{_t.nativeElement===this._document.activeElement&&(ye=kt)}),oe){switch(E){case ae.ArrowUp:case ae.ArrowLeft:ye=(ye-1+oe)%oe;break;case ae.ArrowRight:case ae.ArrowDown:ye=(ye+1)%oe;break;case ae.Home:ye=0;break;case ae.End:ye=oe-1}"changeWithArrows"===this.keyboard&&this.select(M[ye].navItem.id),M[ye].nativeElement.focus(),this._navigatingWithKeyboard=!0,p.preventDefault()}}select(p){this._updateActiveId(p,!1)}ngAfterContentInit(){if(!ne(this.activeId)){const p=this.items.first?this.items.first.id:null;wh(p)&&(this._updateActiveId(p,!1),this._cd.detectChanges())}this.items.changes.pipe(le(this.destroyRef)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:p}){p&&!p.firstChange&&this._notifyItemChanged(p.currentValue)}_updateActiveId(p,E=!0){if(this.activeId!==p){let M=!1;E&&this.navChange.emit({activeId:this.activeId,nextId:p,preventDefault:()=>{M=!0}}),M||(this.activeId=p,this.activeIdChange.emit(p),this._notifyItemChanged(p))}}_notifyItemChanged(p){this.navItemChange$.next(this._getItemById(p))}_getItemById(p){return this.items&&this.items.find(E=>E.id===p)||null}static{this.\u0275fac=function(E){return new(E||m)(i.kS0("role"))}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbNav",""]],contentQueries:function(E,M,oe){if(1&E&&(i.wni(oe,Jl,4),i.wni(oe,uu,5)),2&E){let ye;i.mGM(ye=i.lsd())&&(M.items=ye),i.mGM(ye=i.lsd())&&(M.links=ye)}},hostVars:6,hostBindings:function(E,M){1&E&&i.bIt("keydown.arrowLeft",function(ye){return M.onKeyDown(ye)})("keydown.arrowRight",function(ye){return M.onKeyDown(ye)})("keydown.arrowDown",function(ye){return M.onKeyDown(ye)})("keydown.arrowUp",function(ye){return M.onKeyDown(ye)})("keydown.Home",function(ye){return M.onKeyDown(ye)})("keydown.End",function(ye){return M.onKeyDown(ye)})("focusout",function(ye){return M.onFocusout(ye)}),2&E&&(i.BMQ("aria-orientation","vertical"===M.orientation&&"tablist"===M.roles?"vertical":void 0)("role",M.role?M.role:M.roles?"tablist":void 0),i.AVh("nav",!0)("flex-column","vertical"===M.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[i.OA$]})}}return m})(),uu=(()=>{class m{constructor(p){this.role=p,this.navItem=(0,i.WQX)(Jl),this.nav=(0,i.WQX)(Zl),this.nativeElement=(0,i.WQX)(i.aKT).nativeElement}get tabindex(){return!1===this.nav.keyboard?this.navItem.disabled?-1:void 0:this.nav._navigatingWithKeyboard||this.navItem.disabled||!this.navItem.active?-1:void 0}static{this.\u0275fac=function(E){return new(E||m)(i.kS0("role"))}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbNavLink",""]],hostVars:14,hostBindings:function(E,M){2&E&&(i.Mr5("id",M.navItem.domId),i.BMQ("role",M.role?M.role:M.nav.roles?"tab":void 0)("tabindex",M.tabindex)("aria-controls",M.navItem.isPanelInDom()?M.navItem.panelDomId:null)("aria-selected",M.navItem.active)("aria-disabled",M.navItem.disabled),i.AVh("nav-link",!0)("nav-item",M.navItem.isNgContainer())("active",M.navItem.active)("disabled",M.navItem.disabled))},standalone:!0})}}return m})(),Su=(()=>{class m extends uu{static{this.\u0275fac=(()=>{let p;return function(M){return(p||(p=i.xGo(m)))(M||m)}})()}static{this.\u0275dir=i.FsC({type:m,selectors:[["button","ngbNavLink",""]],hostAttrs:["type","button"],hostVars:1,hostBindings:function(E,M){1&E&&i.bIt("click",function(){return M.nav.click(M.navItem)}),2&E&&i.Mr5("disabled",M.navItem.disabled)},standalone:!0,features:[i.Vt3]})}}return m})(),du=(()=>{class m extends uu{static{this.\u0275fac=(()=>{let p;return function(M){return(p||(p=i.xGo(m)))(M||m)}})()}static{this.\u0275dir=i.FsC({type:m,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostBindings:function(E,M){1&E&&i.bIt("click",function(ye){return M.nav.click(M.navItem),ye.preventDefault()})},standalone:!0,features:[i.Vt3]})}}return m})();const Yu=({classList:m})=>(m.remove("show"),()=>m.remove("active")),ud=(m,L)=>{L&&Dt(m),m.classList.add("show")};let Ya=(()=>{class m{constructor(){this.nativeElement=(0,i.WQX)(i.aKT).nativeElement}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(E,M){2&E&&(i.Mr5("id",M.item.panelDomId),i.BMQ("role",M.role?M.role:M.nav.roles?"tabpanel":void 0)("aria-labelledby",M.item.domId),i.AVh("fade",M.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0})}}return m})(),Nc=(()=>{class m{constructor(){this._cd=(0,i.WQX)(i.gRc),this._ngZone=(0,i.WQX)(i.SKi),this._activePane=null}isPanelTransitioning(p){return this._activePane?.item===p}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(le(this.nav.destroyRef),(0,ai.Z)(this._activePane?.item||null),(0,$n.F)(),(0,Ie.i)(1)).subscribe(p=>{const E={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?te(this._ngZone,this._activePane.nativeElement,Yu,E).subscribe(()=>{const M=this._activePane?.item;this._activePane=this._getPaneForItem(p),this._cd.markForCheck(),this._activePane&&(this._activePane.nativeElement.classList.add("active"),te(this._ngZone,this._activePane.nativeElement,ud,E).subscribe(()=>{p&&(p.shown.emit(),this.nav.shown.emit(p.id))})),M&&(M.hidden.emit(),this.nav.hidden.emit(M.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.nativeElement.classList.add("show"),this._activePane?.nativeElement.classList.add("active")}_getPaneForItem(p){return this._panes&&this._panes.find(E=>E.item===p)||null}_getActivePane(){return this._panes&&this._panes.find(p=>p.item.active)||null}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["","ngbNavOutlet",""]],viewQuery:function(E,M){if(1&E&&i.GBs(Ya,5),2&E){let oe;i.mGM(oe=i.lsd())&&(M._panes=oe)}},hostVars:2,hostBindings:function(E,M){2&E&&i.AVh("tab-content",!0)},inputs:{paneRole:"paneRole",nav:[i.Mj6.None,"ngbNavOutlet","nav"]},standalone:!0,features:[i.aNF],attrs:Ws,decls:2,vars:0,consts:[["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(E,M){1&E&&i.Z7z(0,qr,1,1,null,null,i.fX1),2&E&&i.Dyx(M.nav.items)},dependencies:[Ya,it.T3],encapsulation:2,changeDetection:0})}}return m})(),Eh=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})(),dd=(()=>{class m{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),qc=(()=>{class m{constructor(){this.templateRef=(0,i.WQX)(i.C4Q)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0})}}return m})(),Qc=(()=>{class m{constructor(){this.templateRef=(0,i.WQX)(i.C4Q)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0})}}return m})(),Ru=(()=>{class m{constructor(){this.templateRef=(0,i.WQX)(i.C4Q)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0})}}return m})(),_o=(()=>{class m{constructor(){this.templateRef=(0,i.WQX)(i.C4Q)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0})}}return m})(),Ea=(()=>{class m{constructor(){this.templateRef=(0,i.WQX)(i.C4Q)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0})}}return m})(),Sd=(()=>{class m{constructor(){this.templateRef=(0,i.WQX)(i.C4Q)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0})}}return m})(),hd=(()=>{class m{constructor(){this.templateRef=(0,i.WQX)(i.C4Q)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0})}}return m})(),Xu=(()=>{class m{constructor(){this._config=(0,i.WQX)(dd),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new i.bkB(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(p){this._updatePages(p)}ngOnChanges(p){this._updatePages(this.page)}isEllipsis(p){return-1===p}_applyEllipses(p,E){this.ellipses&&(p>0&&(p>2?this.pages.unshift(-1):2===p&&this.pages.unshift(2),this.pages.unshift(1)),E<this.pageCount&&(E<this.pageCount-2?this.pages.push(-1):E===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let p=0,E=this.pageCount,M=Math.floor(this.maxSize/2);return this.page<=M?E=this.maxSize:this.pageCount-this.page<M?p=this.pageCount-this.maxSize:(p=this.page-M-1,E=this.page+(this.maxSize%2==0?M-1:M)),[p,E]}_applyPagination(){let E=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[E,E+this.maxSize]}_setPageInRange(p){const E=this.page;this.page=V(p,this.pageCount,1),this.page!==E&&R(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(p){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),R(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let E=1;E<=this.pageCount;E++)this.pages.push(E);if(this._setPageInRange(p),this.maxSize>0&&this.pageCount>this.maxSize){let E=0,M=this.pageCount;[E,M]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(E,M),this._applyEllipses(E,M)}}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ngb-pagination"]],contentQueries:function(E,M,oe){if(1&E&&(i.wni(oe,qc,5),i.wni(oe,Qc,5),i.wni(oe,Ru,5),i.wni(oe,_o,5),i.wni(oe,Ea,5),i.wni(oe,Sd,5),i.wni(oe,hd,5)),2&E){let ye;i.mGM(ye=i.lsd())&&(M.tplEllipsis=ye.first),i.mGM(ye=i.lsd())&&(M.tplFirst=ye.first),i.mGM(ye=i.lsd())&&(M.tplLast=ye.first),i.mGM(ye=i.lsd())&&(M.tplNext=ye.first),i.mGM(ye=i.lsd())&&(M.tplNumber=ye.first),i.mGM(ye=i.lsd())&&(M.tplPrevious=ye.first),i.mGM(ye=i.lsd())&&(M.tplPages=ye.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[i.OA$,i.aNF],decls:20,vars:12,consts:()=>{let p,E,M,oe,ye,_t,kt,rn;return p=$localize`:@@ngb.pagination.first:`,E=$localize`:@@ngb.pagination.previous:`,M=$localize`:@@ngb.pagination.next:`,oe=$localize`:@@ngb.pagination.last:`,ye=$localize`:@@ngb.pagination.first-aria:First`,_t=$localize`:@@ngb.pagination.previous-aria:Previous`,kt=$localize`:@@ngb.pagination.next-aria:Next`,rn=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],p,E,M,oe,[1,"page-item",3,"disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],[1,"page-item",3,"active","disabled"],[1,"page-item"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",ye,"href","",1,"page-link",3,"click"],["aria-label",_t,"href","",1,"page-link",3,"click"],["aria-label",kt,"href","",1,"page-link",3,"click"],["aria-label",rn,"href","",1,"page-link",3,"click"]]},template:function(E,M){if(1&E&&(i.DNE(0,Q,2,0,"ng-template",null,0,i.C5r)(2,De,2,0,"ng-template",null,1,i.C5r)(4,lt,2,0,"ng-template",null,2,i.C5r)(6,ii,2,0,"ng-template",null,3,i.C5r)(8,ji,1,0,"ng-template",null,4,i.C5r)(10,ea,1,1,"ng-template",null,5,i.C5r)(12,Dl,2,0,"ng-template",null,6,i.C5r),i.j41(14,"ul"),i.DNE(15,Il,3,9,"li",11)(16,ta,3,8,"li",11)(17,Ba,0,0,"ng-template",12)(18,Fo,3,9,"li",11)(19,Za,3,9,"li",11),i.k0s()),2&E){const oe=i.sdS(13);i.R7$(14),i.HbH("pagination"+(M.size?" pagination-"+M.size:"")),i.R7$(),i.vxM(15,M.boundaryLinks?15:-1),i.R7$(),i.vxM(16,M.directionLinks?16:-1),i.R7$(),i.Y8G("ngTemplateOutlet",(null==M.tplPages?null:M.tplPages.templateRef)||oe)("ngTemplateOutletContext",i.sMw(8,xi,M.page,M.pages,M.disabled)),i.R7$(),i.vxM(18,M.directionLinks?18:-1),i.R7$(),i.vxM(19,M.boundaryLinks?19:-1)}},dependencies:[it.T3],encapsulation:2,changeDetection:0})}}return m})(),hu=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})();const Ch={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};function fu(m,L,p,E,M,oe=0,ye=0){const _t=function Th(m){const L=(m||"").trim();if(0===L.length)return[];const p=L.split(/\s+/).map(M=>M.split(":")).map(M=>Ch[M[0]]||M),E=p.filter(M=>M.includes("manual"));if(E.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===E.length&&p.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return E.length?[]:p}(L);if(0===_t.length)return()=>{};const kt=new Set,rn=[];let hn;function g(h,C){m.addEventListener(h,C),rn.push(()=>m.removeEventListener(h,C))}function d(h,C){clearTimeout(hn),C>0?hn=setTimeout(h,C):h()}for(const[h,C]of _t)C?(g(h,()=>{kt.add(h),d(()=>kt.size>0&&E(),oe)}),g(C,()=>{kt.delete(h),d(()=>0===kt.size&&M(),ye)})):g(h,()=>p()?d(M,ye):d(E,oe));return()=>rn.forEach(h=>h())}let Ad=(()=>{class m{constructor(){this._ngbConfig=(0,i.WQX)(fo),this.autoClose=!0,this.placement="auto",this.popperOptions=p=>p,this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(p){this._animation=p}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),Xd=0,$h=(()=>{class m{isTitleTemplate(){return this.title instanceof i.C4Q}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip",2,"position","absolute"],hostVars:5,hostBindings:function(E,M){2&E&&(i.Mr5("id",M.id),i.HbH("popover"+(M.popoverClass?" "+M.popoverClass:"")),i.AVh("fade",M.animation))},inputs:{animation:"animation",title:"title",id:"id",popoverClass:"popoverClass",context:"context"},standalone:!0,features:[i.aNF],ngContentSelectors:Yr,decls:4,vars:1,consts:[["simpleTitle",""],["data-popper-arrow","",1,"popover-arrow"],[1,"popover-header"],[1,"popover-body"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(E,M){1&E&&(i.NAR(),i.nrm(0,"div",1),i.DNE(1,lo,4,2,"h3",2),i.j41(2,"div",3),i.SdG(3),i.k0s()),2&E&&(i.R7$(),i.vxM(1,M.title?1:-1))},dependencies:[it.T3],encapsulation:2,changeDetection:0})}}return m})(),pd=(()=>{class m{constructor(){this._config=(0,i.WQX)(Ad),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disablePopover=this._config.disablePopover,this.popoverClass=this._config.popoverClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new i.bkB,this.hidden=new i.bkB,this._nativeElement=(0,i.WQX)(i.aKT).nativeElement,this._ngZone=(0,i.WQX)(i.SKi),this._document=(0,i.WQX)(it.qQ),this._changeDetector=(0,i.WQX)(i.gRc),this._ngbPopoverWindowId="ngb-popover-"+Xd++,this._popupService=new xs($h),this._windowRef=null,this._positioning=Cc()}open(p){if(!this._windowRef&&!this._isDisabled()){const{windowRef:E,transition$:M}=this._popupService.open(this.ngbPopover,p??this.popoverContext,this.animation);this._windowRef=E,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("title",this.popoverTitle),this._windowRef.setInput("context",p??this.popoverContext),this._windowRef.setInput("popoverClass",this.popoverClass),this._windowRef.setInput("id",this._ngbPopoverWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-popover",updatePopperOptions:oe=>this.popperOptions(xl([0,8])(oe))}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),$c(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),M.subscribe(()=>this.shown.emit())}}close(p=this.animation){this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(p).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=fu(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:p,popoverTitle:E,disablePopover:M,popoverClass:oe}){oe&&this.isOpen()&&this._windowRef.setInput("popoverClass",oe.currentValue),(p||E||M)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_isDisabled(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}_getPositionTargetElement(){return(J(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbPopover",""]],inputs:{animation:"animation",autoClose:"autoClose",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",popoverContext:"popoverContext",openDelay:"openDelay",closeDelay:"closeDelay"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],standalone:!0,features:[i.OA$]})}}return m})(),Rd=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})(),Oc=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})(),Md=(()=>{class m{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),Qd=(()=>{class m{constructor(){this.contexts=[],this._config=(0,i.WQX)(Md),this._changeDetectorRef=(0,i.WQX)(i.gRc),this.disabled=!1,this.max=this._config.max,this.readonly=this._config.readonly,this.resettable=this._config.resettable,this.tabindex=this._config.tabindex,this.hover=new i.bkB,this.leave=new i.bkB,this.rateChange=new i.bkB(!0),this.onChange=p=>{},this.onTouched=()=>{}}ariaValueText(p,E){return`${p} out of ${E}`}isInteractive(){return!this.readonly&&!this.disabled}enter(p){this.isInteractive()&&this._updateState(p),this.hover.emit(p)}handleBlur(){this.onTouched()}handleClick(p){this.isInteractive()&&this.update(this.resettable&&this.rate===p?0:p)}handleKeyDown(p){switch(p.which){case ae.ArrowDown:case ae.ArrowLeft:this.update(this.rate-1);break;case ae.ArrowUp:case ae.ArrowRight:this.update(this.rate+1);break;case ae.Home:this.update(0);break;case ae.End:this.update(this.max);break;default:return}p.preventDefault()}ngOnChanges(p){p.rate&&this.update(this.rate),p.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(p){this.onChange=p}registerOnTouched(p){this.onTouched=p}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(p){this.disabled=p}update(p,E=!0){const M=V(p,this.max,0);this.isInteractive()&&this.rate!==M&&(this.rate=M,this.rateChange.emit(this.rate)),E&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(p){this.update(p,!1),this._changeDetectorRef.markForCheck()}_updateState(p){this.nextRate=p,this.contexts.forEach((E,M)=>E.fill=Math.round(100*V(p-M,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(p,E)=>({fill:0,index:E}))}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ngb-rating"]],contentQueries:function(E,M,oe){if(1&E&&i.wni(oe,i.C4Q,5),2&E){let ye;i.mGM(ye=i.lsd())&&(M.starTemplateFromContent=ye.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:6,hostBindings:function(E,M){1&E&&i.bIt("blur",function(){return M.handleBlur()})("keydown",function(ye){return M.handleKeyDown(ye)})("mouseleave",function(){return M.reset()}),2&E&&(i.Mr5("tabindex",M.disabled?-1:M.tabindex),i.BMQ("aria-valuemax",M.max)("aria-valuenow",M.nextRate)("aria-valuetext",M.ariaValueText(M.nextRate,M.max))("aria-readonly",!(!M.readonly||M.disabled)||null)("aria-disabled",!!M.disabled||null))},inputs:{disabled:"disabled",max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[i.Jv_([{provide:ot.kq,useExisting:(0,i.Rfq)(()=>m),multi:!0}]),i.OA$,i.aNF],decls:4,vars:0,consts:[["t",""],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(E,M){1&E&&(i.DNE(0,Ji,1,1,"ng-template",null,0,i.C5r),i.Z7z(2,Ir,4,5,null,null,i.fX1)),2&E&&(i.R7$(2),i.Dyx(M.contexts))},dependencies:[it.T3],encapsulation:2,changeDetection:0})}}return m})(),Mu=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})(),dc=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})(),hc=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})(),Nu=(()=>{class m{constructor(){this._ngbConfig=(0,i.WQX)(fo),this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return this._animation??this._ngbConfig.animation}set animation(p){this._animation=p}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();const Fd=(m,L)=>{const{classList:p}=m;if(L)return p.add("fade"),Dt(m),p.add("show","showing"),()=>{p.remove("showing")};p.add("show")},bl=({classList:m})=>(m.add("showing"),()=>{m.remove("show","showing")});let Ih=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbToastHeader",""]],standalone:!0})}}return m})(),gu=(()=>{class m{constructor(p){this.ariaLive=p,this._config=(0,i.WQX)(Nu),this._zone=(0,i.WQX)(i.SKi),this._element=(0,i.WQX)(i.aKT),this.animation=this._config.animation,this.delay=this._config.delay,this.autohide=this._config.autohide,this.contentHeaderTpl=null,this.shown=new i.bkB,this.hidden=new i.bkB,this.ariaLive??=this._config.ariaLive}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,En.s)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(p){"autohide"in p&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const p=te(this._zone,this._element.nativeElement,bl,{animation:this.animation,runningTransition:"stop"});return p.subscribe(()=>{this.hidden.emit()}),p}show(){const p=te(this._zone,this._element.nativeElement,Fd,{animation:this.animation,runningTransition:"continue"});return p.subscribe(()=>{this.shown.emit()}),p}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}static{this.\u0275fac=function(E){return new(E||m)(i.kS0("aria-live"))}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ngb-toast"]],contentQueries:function(E,M,oe){if(1&E&&i.wni(oe,Ih,7,i.C4Q),2&E){let ye;i.mGM(ye=i.lsd())&&(M.contentHeaderTpl=ye.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(E,M){2&E&&(i.BMQ("aria-live",M.ariaLive),i.AVh("fade",M.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[i.OA$,i.aNF],ngContentSelectors:Yr,decls:5,vars:1,consts:()=>{let p;return p=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[1,"toast-header"],[1,"toast-body"],[1,"me-auto"],[3,"ngTemplateOutlet"],["type","button","aria-label",p,1,"btn-close",3,"click"]]},template:function(E,M){1&E&&(i.NAR(),i.DNE(0,ma,2,1,"ng-template",null,0,i.C5r)(2,Ha,3,1,"div",1),i.j41(3,"div",2),i.SdG(4),i.k0s()),2&E&&(i.R7$(2),i.vxM(2,M.contentHeaderTpl||M.header?2:-1))},dependencies:[it.T3],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2})}}return m})(),qu=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})(),eh=(()=>{class m{constructor(){this._ngbConfig=(0,i.WQX)(fo),this.autoClose=!0,this.placement="auto",this.popperOptions=p=>p,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(p){this._animation=p}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),xc=0,qo=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(E,M){2&E&&(i.Mr5("id",M.id),i.HbH("tooltip"+(M.tooltipClass?" "+M.tooltipClass:"")),i.AVh("fade",M.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[i.aNF],ngContentSelectors:Yr,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(E,M){1&E&&(i.NAR(),i.nrm(0,"div",0),i.j41(1,"div",1),i.SdG(2),i.k0s())},styles:["ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}\n"],encapsulation:2,changeDetection:0})}}return m})(),A=(()=>{class m{constructor(){this._config=(0,i.WQX)(eh),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disableTooltip=this._config.disableTooltip,this.tooltipClass=this._config.tooltipClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new i.bkB,this.hidden=new i.bkB,this._nativeElement=(0,i.WQX)(i.aKT).nativeElement,this._ngZone=(0,i.WQX)(i.SKi),this._document=(0,i.WQX)(it.qQ),this._changeDetector=(0,i.WQX)(i.gRc),this._ngbTooltipWindowId="ngb-tooltip-"+xc++,this._popupService=new xs(qo),this._windowRef=null,this._positioning=Cc()}set ngbTooltip(p){this._ngbTooltip=p,!p&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(p){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:E,transition$:M}=this._popupService.open(this._ngbTooltip,p??this.tooltipContext,this.animation);this._windowRef=E,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:oe=>this.popperOptions(xl([0,6])(oe))}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),$c(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._nativeElement]),M.subscribe(()=>this.shown.emit())}}close(p=this.animation){null!=this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(p).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=fu(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:p}){p&&this.isOpen()&&this._windowRef.setInput("tooltipClass",p.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(J(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275dir=i.FsC({type:m,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[i.OA$]})}}return m})(),_=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})();new i.nKC("live announcer delay",{providedIn:"root",factory:()=>100});let Ei=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})(),Ci=(()=>{class m{constructor(){this._ngbConfig=(0,i.WQX)(fo),this.backdrop=!0,this.keyboard=!0,this.position="start",this.scroll=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(p){this._animation=p}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();class Fs{close(L){}dismiss(L){}}class Vs{get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,_e.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,_e.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._panelCmptRef.instance.shown.asObservable()}constructor(L,p,E,M){this._panelCmptRef=L,this._contentRef=p,this._backdropCmptRef=E,this._beforeDismiss=M,this._closed=new st.B,this._dismissed=new st.B,this._hidden=new st.B,L.instance.dismissEvent.subscribe(oe=>{this.dismiss(oe)}),E&&E.instance.dismissEvent.subscribe(oe=>{this.dismiss(oe)}),this.result=new Promise((oe,ye)=>{this._resolve=oe,this._reject=ye}),this.result.then(null,()=>{})}close(L){this._panelCmptRef&&(this._closed.next(L),this._resolve(L),this._removeOffcanvasElements())}_dismiss(L){this._dismissed.next(L),this._reject(L),this._removeOffcanvasElements()}dismiss(L){if(this._panelCmptRef)if(this._beforeDismiss){const p=this._beforeDismiss();ve(p)?p.then(E=>{!1!==E&&this._dismiss(L)},()=>{}):!1!==p&&this._dismiss(L)}else this._dismiss(L)}_removeOffcanvasElements(){const L=this._panelCmptRef.instance.hide(),p=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Fe.of)(void 0);L.subscribe(()=>{const{nativeElement:E}=this._panelCmptRef.location;E.parentNode.removeChild(E),this._panelCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._panelCmptRef=null,this._contentRef=null}),p.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:E}=this._backdropCmptRef.location;E.parentNode.removeChild(E),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),He(L,p).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var wl=function(m){return m[m.BACKDROP_CLICK=0]="BACKDROP_CLICK",m[m.ESC=1]="ESC",m}(wl||{});let Qu=(()=>{class m{constructor(){this._nativeElement=(0,i.WQX)(i.aKT).nativeElement,this._zone=(0,i.WQX)(i.SKi),this.dismissEvent=new i.bkB}ngOnInit(){this._zone.onStable.asObservable().pipe((0,En.s)(1)).subscribe(()=>{te(this._zone,this._nativeElement,(p,E)=>{E&&Dt(p),p.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return te(this._zone,this._nativeElement,({classList:p})=>p.remove("show"),{animation:this.animation,runningTransition:"stop"})}dismiss(){this.static||this.dismissEvent.emit(wl.BACKDROP_CLICK)}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ngb-offcanvas-backdrop"]],hostVars:6,hostBindings:function(E,M){1&E&&i.bIt("mousedown",function(){return M.dismiss()}),2&E&&(i.HbH("offcanvas-backdrop"+(M.backdropClass?" "+M.backdropClass:"")),i.AVh("show",!M.animation)("fade",M.animation))},inputs:{animation:"animation",backdropClass:"backdropClass",static:"static"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(E,M){},encapsulation:2})}}return m})(),Vd=(()=>{class m{constructor(){this._document=(0,i.WQX)(it.qQ),this._elRef=(0,i.WQX)(i.aKT),this._zone=(0,i.WQX)(i.SKi),this._closed$=new st.B,this._elWithFocus=null,this.keyboard=!0,this.position="start",this.dismissEvent=new i.bkB,this.shown=new st.B,this.hidden=new st.B}dismiss(p){this.dismissEvent.emit(p)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,En.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const E=te(this._zone,this._elRef.nativeElement,M=>(M.classList.remove("showing"),M.classList.add("hiding"),()=>M.classList.remove("show","hiding")),{animation:this.animation,runningTransition:"stop"});return E.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),E}_show(){te(this._zone,this._elRef.nativeElement,(M,oe)=>(oe&&Dt(M),M.classList.add("show","showing"),()=>M.classList.remove("showing")),{animation:this.animation,runningTransition:"continue"}).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:p}=this._elRef;this._zone.runOutsideAngular(()=>{(0,It.R)(p,"keydown").pipe((0,_e.Q)(this._closed$),(0,Rn.p)(E=>E.which===ae.Escape)).subscribe(E=>{this.keyboard&&requestAnimationFrame(()=>{E.defaultPrevented||this._zone.run(()=>this.dismiss(wl.ESC))})})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:p}=this._elRef;if(!p.contains(document.activeElement)){const E=p.querySelector("[ngbAutofocus]"),M=kl(p)[0];(E||M||p).focus()}}_restoreFocus(){const p=this._document.body,E=this._elWithFocus;let M;M=E&&E.focus&&p.contains(E)?E:p,this._zone.runOutsideAngular(()=>{setTimeout(()=>M.focus()),this._elWithFocus=null})}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ngb-offcanvas-panel"]],hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(E,M){2&E&&(i.BMQ("aria-modal",!0)("aria-labelledby",M.ariaLabelledBy)("aria-describedby",M.ariaDescribedBy),i.HbH("offcanvas offcanvas-"+M.position+(M.panelClass?" "+M.panelClass:"")))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",keyboard:"keyboard",panelClass:"panelClass",position:"position"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[i.aNF],ngContentSelectors:Yr,decls:1,vars:0,template:function(E,M){1&E&&(i.NAR(),i.SdG(0))},encapsulation:2})}}return m})(),Sh=(()=>{class m{constructor(){this._applicationRef=(0,i.WQX)(i.o8S),this._injector=(0,i.WQX)(i.zZn),this._document=(0,i.WQX)(it.qQ),this._scrollBar=(0,i.WQX)(ol),this._activePanelCmptHasChanged=new st.B,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._panelAttributes=["animation","ariaDescribedBy","ariaLabelledBy","keyboard","panelClass","position"],this._activeInstance=new i.bkB;const p=(0,i.WQX)(i.SKi);this._activePanelCmptHasChanged.subscribe(()=>{this._panelCmpt&&Ec(p,this._panelCmpt.location.nativeElement,this._activePanelCmptHasChanged)})}_restoreScrollBar(){const p=this._scrollBarRestoreFn;p&&(this._scrollBarRestoreFn=null,p())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(p,E,M){const oe=M.container instanceof HTMLElement?M.container:ne(M.container)?this._document.querySelector(M.container):this._document.body;if(!oe)throw new Error(`The specified offcanvas container "${M.container||"body"}" was not found in the DOM.`);M.scroll||this._hideScrollBar();const ye=new Fs,_t=this._getContentRef(M.injector||p,E,ye);let kt=!1!==M.backdrop?this._attachBackdrop(oe):void 0,rn=this._attachWindowComponent(oe,_t.nodes),hn=new Vs(rn,_t,kt,M.beforeDismiss);return this._registerOffcanvasRef(hn),this._registerPanelCmpt(rn),hn.hidden.pipe((0,Ke.j)(()=>this._restoreScrollBar())).subscribe(),ye.close=g=>{hn.close(g)},ye.dismiss=g=>{hn.dismiss(g)},this._applyPanelOptions(rn.instance,M),kt&&kt.instance&&(this._applyBackdropOptions(kt.instance,M),kt.changeDetectorRef.detectChanges()),rn.changeDetectorRef.detectChanges(),hn}get activeInstance(){return this._activeInstance}dismiss(p){this._offcanvasRef?.dismiss(p)}hasOpenOffcanvas(){return!!this._offcanvasRef}_attachBackdrop(p){let E=(0,i.a0P)(Qu,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(E.hostView),p.appendChild(E.location.nativeElement),E}_attachWindowComponent(p,E){let M=(0,i.a0P)(Vd,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:E});return this._applicationRef.attachView(M.hostView),p.appendChild(M.location.nativeElement),M}_applyPanelOptions(p,E){this._panelAttributes.forEach(M=>{ne(E[M])&&(p[M]=E[M])})}_applyBackdropOptions(p,E){this._backdropAttributes.forEach(M=>{ne(E[M])&&(p[M]=E[M])}),p.static="static"===E.backdrop}_getContentRef(p,E,M){return E?E instanceof i.C4Q?this._createFromTemplateRef(E,M):J(E)?this._createFromString(E):this._createFromComponent(p,E,M):new pr([])}_createFromTemplateRef(p,E){const oe=p.createEmbeddedView({$implicit:E,close(ye){E.close(ye)},dismiss(ye){E.dismiss(ye)}});return this._applicationRef.attachView(oe),new pr([oe.rootNodes],oe)}_createFromString(p){const E=this._document.createTextNode(`${p}`);return new pr([[E]])}_createFromComponent(p,E,M){const oe=i.zZn.create({providers:[{provide:Fs,useValue:M}],parent:p}),ye=(0,i.a0P)(E,{environmentInjector:this._applicationRef.injector,elementInjector:oe}),_t=ye.location.nativeElement;return this._applicationRef.attachView(ye.hostView),new pr([[_t]],ye.hostView,ye)}_registerOffcanvasRef(p){const E=()=>{this._offcanvasRef=void 0,this._activeInstance.emit(this._offcanvasRef)};this._offcanvasRef=p,this._activeInstance.emit(this._offcanvasRef),p.result.then(E,E)}_registerPanelCmpt(p){this._panelCmpt=p,this._activePanelCmptHasChanged.next(),p.onDestroy(()=>{this._panelCmpt=void 0,this._activePanelCmptHasChanged.next()})}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),md=(()=>{class m{constructor(){this._injector=(0,i.WQX)(i.zZn),this._offcanvasStack=(0,i.WQX)(Sh),this._config=(0,i.WQX)(Ci)}open(p,E={}){const M={...this._config,animation:this._config.animation,...E};return this._offcanvasStack.open(this._injector,p,M)}get activeInstance(){return this._offcanvasStack.activeInstance}dismiss(p){this._offcanvasStack.dismiss(p)}hasOpenOffcanvas(){return this._offcanvasStack.hasOpenOffcanvas()}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),Ou=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({})}}return m})();const Ld=[Lr,rs,Wa,_a,Mo,Zi,Iu,Eh,Ou,hu,Rd,Oc,Mu,dc,hc,qu,_,Ei];let Bd=(()=>{class m{static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275mod=i.$C({type:m})}static{this.\u0275inj=i.G2t({imports:[Ld,Lr,rs,Wa,_a,Mo,Zi,Iu,Eh,Ou,hu,Rd,Oc,Mu,dc,hc,qu,_,Ei]})}}return m})()},2284:(un,nt,B)=>{"use strict";B.d(nt,{T$:()=>dl,rO:()=>Sr,jD:()=>ho,St:()=>ii,tG:()=>fo,MJ:()=>Eo,Sz:()=>ja,Nl:()=>ls,xt:()=>Ji,u8:()=>Ir});var i=B(4438),l=B(177),_e=B(1413),le=B(1985),Te=B(7673),Ye=B(1584),Oe=B(4412),Xe=B(605),et=B(6977),Ne=B(5558),Fe=B(9172),st=B(7083),It=B(6354),Rt=function(){function V(){}return V.prototype.getAllStyles=function(J){return window.getComputedStyle(J)},V.prototype.getStyle=function(J,R){return this.getAllStyles(J)[R]},V.prototype.isStaticPositioned=function(J){return"static"===(this.getStyle(J,"position")||"static")},V.prototype.offsetParent=function(J){for(var R=J.offsetParent||document.documentElement;R&&R!==document.documentElement&&this.isStaticPositioned(R);)R=R.offsetParent;return R||document.documentElement},V.prototype.position=function(J,R){void 0===R&&(R=!0);var $,ne={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(J,"position"))$={top:($=J.getBoundingClientRect()).top,bottom:$.bottom,left:$.left,right:$.right,height:$.height,width:$.width};else{var ve=this.offsetParent(J);$=this.offset(J,!1),ve!==document.documentElement&&(ne=this.offset(ve,!1)),ne.top+=ve.clientTop,ne.left+=ve.clientLeft}return $.top-=ne.top,$.bottom-=ne.top,$.left-=ne.left,$.right-=ne.left,R&&($.top=Math.round($.top),$.bottom=Math.round($.bottom),$.left=Math.round($.left),$.right=Math.round($.right)),$},V.prototype.offset=function(J,R){void 0===R&&(R=!0);var $=J.getBoundingClientRect(),ne_top=window.pageYOffset-document.documentElement.clientTop,ne_left=window.pageXOffset-document.documentElement.clientLeft,ve={height:$.height||J.offsetHeight,width:$.width||J.offsetWidth,top:$.top+ne_top,bottom:$.bottom+ne_top,left:$.left+ne_left,right:$.right+ne_left};return R&&(ve.height=Math.round(ve.height),ve.width=Math.round(ve.width),ve.top=Math.round(ve.top),ve.bottom=Math.round(ve.bottom),ve.left=Math.round(ve.left),ve.right=Math.round(ve.right)),ve},V.prototype.positionElements=function(J,R,$,ne){var ve=$.split("-"),We=ve[0],dt=void 0===We?"top":We,an=ve[1],Dt=void 0===an?"center":an,ln=ne?this.offset(J,!1):this.position(J,!1),Gn=this.getAllStyles(R),di=parseFloat(Gn.marginTop),x=parseFloat(Gn.marginBottom),de=parseFloat(Gn.marginLeft),X=parseFloat(Gn.marginRight),te=0,Ae=0;switch(dt){case"top":te=ln.top-(R.offsetHeight+di+x);break;case"bottom":te=ln.top+ln.height;break;case"left":Ae=ln.left-(R.offsetWidth+de+X);break;case"right":Ae=ln.left+ln.width}switch(Dt){case"top":te=ln.top;break;case"bottom":te=ln.top+ln.height-R.offsetHeight;break;case"left":Ae=ln.left;break;case"right":Ae=ln.left+ln.width-R.offsetWidth;break;case"center":"top"===dt||"bottom"===dt?Ae=ln.left+ln.width/2-R.offsetWidth/2:te=ln.top+ln.height/2-R.offsetHeight/2}R.style.transform="translate("+Math.round(Ae)+"px, "+Math.round(te)+"px)";var Ct=R.getBoundingClientRect(),Pt=document.documentElement,Sn=window.innerHeight||Pt.clientHeight,Di=window.innerWidth||Pt.clientWidth;return Ct.left>=0&&Ct.top>=0&&Ct.right<=Di&&Ct.bottom<=Sn},V}(),Bt=/\s+/,fn=new Rt,je=function(){return je=Object.assign||function(V){for(var J,R=1,$=arguments.length;R<$;R++)for(var ne in J=arguments[R])Object.prototype.hasOwnProperty.call(J,ne)&&(V[ne]=J[ne]);return V},je.apply(this,arguments)},Cn=function(V,J,R){if(R||2===arguments.length)for(var ve,$=0,ne=J.length;$<ne;$++)(ve||!($ in J))&&(ve||(ve=Array.prototype.slice.call(J,0,$)),ve[$]=J[$]);return V.concat(ve||Array.prototype.slice.call(J))},Mn=function(V){return V[V.SUNDAY=0]="SUNDAY",V[V.MONDAY=1]="MONDAY",V[V.TUESDAY=2]="TUESDAY",V[V.WEDNESDAY=3]="WEDNESDAY",V[V.THURSDAY=4]="THURSDAY",V[V.FRIDAY=5]="FRIDAY",V[V.SATURDAY=6]="SATURDAY",V}(Mn||{}),jt=[Mn.SUNDAY,Mn.SATURDAY],wt=7,qt=86400;function Mt(V,J){var R=J.startDate,ne=J.excluded,ve=J.precision;if(ne.length<1)return 0;for(var dt=V.getDay,an=V.addDays,Dt=(0,V.addSeconds)(R,J.seconds-1),ln=dt(R),Gn=dt(Dt),di=0,x=R,de=function(){var X=dt(x);ne.some(function(te){return te===X})&&(di+=function He(V,J){var $=J.day,ve=J.dayEnd,We=J.startDate,dt=J.endDate,an=V.differenceInSeconds,ln=V.startOfDay;if("minutes"===J.precision){if($===J.dayStart)return an((0,V.endOfDay)(We),We)+1;if($===ve)return an(dt,ln(dt))+1}return qt}(V,{dayStart:ln,dayEnd:Gn,day:X,precision:ve,startDate:R,endDate:Dt})),x=an(x,1)};x<Dt;)de();return di}function Rn(V,J){var $=J.periodStart,ne=J.periodEnd;return J.events.filter(function(ve){return function Qt(V,J){var R=J.event,$=J.periodStart,ne=J.periodEnd,ve=V.isSameSecond,We=R.start,dt=R.end||R.start;return!!(We>$&&We<ne||dt>$&&dt<ne||We<$&&dt>ne||ve(We,$)||ve(We,ne)||ve(dt,$)||ve(dt,ne))}(V,{event:ve,periodStart:$,periodEnd:ne})})}function Xn(V,J){var R=J.date,$=J.weekendDays,ne=void 0===$?jt:$,We=V.isSameDay,dt=V.getDay,an=(0,V.startOfDay)(new Date),Dt=dt(R);return{date:R,day:Dt,isPast:R<an,isToday:We(R,an),isFuture:R>an,isWeekend:ne.indexOf(Dt)>-1}}function ai(V,J){for(var ne=J.excluded,ve=void 0===ne?[]:ne,We=J.weekendDays,dt=J.viewStart,an=void 0===dt?V.startOfWeek(J.viewDate,{weekStartsOn:J.weekStartsOn}):dt,Dt=J.viewEnd,ln=void 0===Dt?V.addDays(an,wt):Dt,Gn=V.addDays,di=V.getDay,x=[],de=an;de<ln;)ve.some(function(X){return di(de)===X})||x.push(Xn(V,{date:de,weekendDays:We})),de=Gn(de,1);return x}function Zn(V,J){var R=J.events,$=void 0===R?[]:R,ne=J.excluded,ve=void 0===ne?[]:ne,We=J.precision,dt=void 0===We?"days":We,an=J.absolutePositionedEvents,Dt=void 0!==an&&an,ln=J.viewStart,Gn=J.viewEnd;ln=V.startOfDay(ln),Gn=V.endOfDay(Gn);var di=V.differenceInSeconds,x=V.differenceInDays,de=function $n(V,J){for(var $=J.date2,ne=J.excluded,ve=J.date1,We=0;ve<$;)-1===ne.indexOf(V.getDay(ve))&&We++,ve=V.addDays(ve,1);return We}(V,{date1:ln,date2:Gn,excluded:ve}),X=x(Gn,ln)+1,te=$.filter(function(Pt){return Pt.allDay}).map(function(Pt){var Sn=function Le(V,J){var R=J.event,$=J.startOfWeek,ne=J.excluded,ve=J.precision,We=V.differenceInDays,dt=V.startOfDay,an=V.differenceInSeconds;if(R.start<$)return 0;var Dt=0;switch(ve){case"days":Dt=We(dt(R.start),$)*qt;break;case"minutes":Dt=an(R.start,$)}return Dt-=Mt(V,{startDate:$,seconds:Dt,excluded:ne,precision:ve}),Math.abs(Dt/qt)}(V,{event:Pt,startOfWeek:ln,excluded:ve,precision:dt}),Di=function Se(V,J){var R=J.event,$=J.offset,ve=J.excluded,We=J.precision,dt=J.totalDaysInView,Dt=V.differenceInSeconds,ln=V.addDays,Gn=V.endOfDay,di=V.differenceInDays,x=qt,de=(0,V.max)([R.start,J.startOfWeekDate]);R.end&&(x="minutes"===We?Dt(R.end,de):di(ln(Gn(R.end),1),de)*qt);var X=$*qt,Ae=dt*qt;return X+x>Ae&&(x=Ae-X),(x-=Mt(V,{startDate:de,seconds:x,excluded:ve,precision:We}))/qt}(V,{event:Pt,offset:Sn,startOfWeekDate:ln,excluded:ve,precision:dt,totalDaysInView:X});return{event:Pt,offset:Sn,span:Di}}).filter(function(Pt){return Pt.offset<de}).filter(function(Pt){return Pt.span>0}).map(function(Pt){return{event:Pt.event,offset:Pt.offset,span:Pt.span,startsBeforeWeek:Pt.event.start<ln,endsAfterWeek:(Pt.event.end||Pt.event.start)>Gn}}).sort(function(Pt,Sn){var Di=di(Pt.event.start,Sn.event.start);return 0===Di?di(Sn.event.end||Sn.event.start,Pt.event.end||Pt.event.start):Di}),Ae=[],Ct=[];return te.forEach(function(Pt,Sn){if(-1===Ct.indexOf(Pt)){Ct.push(Pt);var Di=Pt.span+Pt.offset,Ni=te.slice(Sn+1).filter(function(vi){if(vi.offset>=Di&&Di+vi.span<=X&&-1===Ct.indexOf(vi)){var ui=vi.offset-Di;return Dt||(vi.offset=ui),Di+=vi.span+ui,Ct.push(vi),!0}}),sr=Cn([Pt],Ni,!0),Qn=sr.filter(function(vi){return vi.event.id}).map(function(vi){return vi.event.id}).join("-");Ae.push(je({row:sr},Qn?{id:Qn}:{}))}}),Ae}function En(V,J){var R=J.events,$=J.viewDate,ne=J.hourSegments,ve=J.hourDuration,We=J.dayStart,dt=J.dayEnd,an=J.weekStartsOn,Dt=J.excluded,ln=J.weekendDays,Gn=J.segmentHeight,di=J.viewStart,x=J.viewEnd,de=J.minimumEventHeight,X=function it(V,J){var R=J.viewDate,$=J.hourSegments,ne=J.hourDuration,ve=J.dayStart,We=J.dayEnd,dt=V.setMinutes,an=V.setHours,Dt=V.startOfDay,ln=V.startOfMinute,Gn=V.endOfDay,di=V.addMinutes,x=V.addDays,de=[],X=dt(an(Dt(R),Ie(ve.hour)),Ke(ve.minute)),te=dt(an(ln(Gn(R)),Ie(We.hour)),Ke(We.minute)),Ae=(ne||60)/$,Ct=Dt(R),Pt=Gn(R),Sn=function(ui){return ui};V.getTimezoneOffset(Ct)!==V.getTimezoneOffset(Pt)&&(Ct=x(Ct,1),X=x(X,1),te=x(te,1),Sn=function(ui){return x(ui,-1)});for(var Di=ne?1440/ne:60,Ni=0;Ni<Di;Ni++){for(var sr=[],Qn=0;Qn<$;Qn++){var vi=di(di(X,Ni*(ne||60)),Qn*Ae);vi>=X&&vi<te&&sr.push({date:Sn(vi),displayDate:vi,isStart:0===Qn})}sr.length>0&&de.push({segments:sr})}return de}(V,{viewDate:$,hourSegments:ne,hourDuration:ve,dayStart:We,dayEnd:dt}),te=ai(V,{viewDate:$,weekStartsOn:an,excluded:Dt,weekendDays:ln,viewStart:di,viewEnd:x}),Ae=V.setHours,Ct=V.setMinutes,Pt=V.getHours,Sn=V.getMinutes;return te.map(function(Di){var Ni=function Ze(V,J){var R=J.events,$=J.viewDate,ne=J.hourSegments,ve=J.dayStart,We=J.dayEnd,dt=J.eventWidth,an=J.segmentHeight,Dt=J.hourDuration,ln=J.minimumEventHeight,Gn=V.setMinutes,di=V.setHours,x=V.startOfDay,de=V.startOfMinute,X=V.endOfDay,te=V.differenceInMinutes,Ae=Gn(di(x($),Ie(ve.hour)),Ke(ve.minute)),Ct=Gn(di(de(X($)),Ie(We.hour)),Ke(We.minute));Ct.setSeconds(59,999);var Pt=[],Sn=Rn(V,{events:R.filter(function(Qn){return!Qn.allDay}),periodStart:Ae,periodEnd:Ct}),Di=Sn.sort(function(Qn,vi){return Qn.start.valueOf()-vi.start.valueOf()}).map(function(Qn){var vi=Qn.start,ui=Qn.end||vi,Fn=vi<Ae,In=ui>Ct,_n=ne*an/(Dt||60),Ln=0;if(vi>Ae){var Lr=V.getTimezoneOffset(vi),Gr=V.getTimezoneOffset(Ae)-Lr;Ln+=te(vi,Ae)+Gr}Ln*=_n,Ln=Math.floor(Ln);var vs=Fn?Ae:vi,rs=In?Ct:ui,Xr=V.getTimezoneOffset(vs)-V.getTimezoneOffset(rs),Hi=te(rs,vs)+Xr;Qn.end?Hi*=_n:Hi=an,ln&&Hi<ln&&(Hi=ln),Hi=Math.floor(Hi);for(var Xi=Be(Pt,Ln,Ln+Hi),Ma=0;Xi.some(function(zl){return zl.left===Ma});)Ma+=dt;var $l={event:Qn,height:Hi,width:dt,top:Ln,left:Ma,startsBeforeDay:Fn,endsAfterDay:In};return Pt.push($l),$l}),Ni=Math.max.apply(Math,Di.map(function(Qn){return Qn.left+Qn.width})),sr=Rn(V,{events:R.filter(function(Qn){return Qn.allDay}),periodStart:x(Ae),periodEnd:X(Ct)});return{events:Di,width:Ni,allDayEvents:sr,period:{events:Sn,start:Ae,end:Ct}}}(V,{events:R,viewDate:Di.date,hourSegments:ne,dayStart:We,dayEnd:dt,segmentHeight:Gn,eventWidth:1,hourDuration:ve,minimumEventHeight:de}),sr=X.map(function(ui){var Fn=ui.segments.map(function(In){var _n=Ct(Ae(Di.date,Pt(In.date)),Sn(In.date));return je(je({},In),{date:_n})});return je(je({},ui),{segments:Fn})});function Qn(ui,Fn){var In=Math.max.apply(Math,Fn.map(function(Ln){return Ln.left+1})),_n=ui.filter(function(Ln){return Ln.left>=In}).filter(function(Ln){return Be(Fn,Ln.top,Ln.top+Ln.height).length>0});return _n.length>0?Qn(ui,_n):In}var vi=Ni.events.map(function(ui){var In=100/Qn(Ni.events,Be(Ni.events,ui.top,ui.top+ui.height));return je(je({},ui),{left:ui.left*In,width:In})});return{hours:sr,date:Di.date,events:vi.map(function(ui){var Fn=Be(vi.filter(function(In){return In.left>ui.left}),ui.top,ui.top+ui.height);return Fn.length>0?je(je({},ui),{width:Math.min.apply(Math,Fn.map(function(In){return In.left}))-ui.left}):ui})}})}function Be(V,J,R){return V.filter(function($){var ne=$.top,ve=$.top+$.height;return J<ve&&ve<R||J<ne&&ne<R||ne<=J&&R<=ve})}function Ie(V){return Math.max(Math.min(23,V),0)}function Ke(V){return Math.max(Math.min(59,V),0)}var ot=function(V){return V.NotArray="Events must be an array",V.StartPropertyMissing="Event is missing the `start` property",V.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",V.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",V.EndsBeforeStart="Event `start` property occurs after the `end`",V}(ot||{}),ei=B(2771),Vn=B(7786),en=B(4572),cn=B(3726),hi=B(5964),tn=B(3028),bt=B(7647),xe=B(6697),Ft=B(5109),ie=B(9852),Ve=B(3946),pt=B(3294);function Nn(V,J){return V=function bn(V,J){return typeof V>"u"?typeof J>"u"?V:J:V}(V,J),"function"==typeof V?function(){for(var $=arguments,ne=arguments.length,ve=Array(ne),We=0;We<ne;We++)ve[We]=$[We];return!!V.apply(this,ve)}:V?function(){return!0}:function(){return!1}}var Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol?"symbol":typeof V},jn=function(V){return null!=V&&"object"===(typeof V>"u"?"undefined":Dn(V))&&1===V.nodeType&&"object"===Dn(V.style)&&"object"===Dn(V.ownerDocument)};function ur(V,J){if(J=os(J,!0),!jn(J))return-1;for(var R=0;R<V.length;R++)if(V[R]===J)return R;return-1}function Ki(V,J){return-1!==ur(V,J)}function si(V){for(var J=arguments,R=[],$=arguments.length-1;$-- >0;)R[$]=J[$+1];return function Fi(V,J){for(var R=0;R<J.length;R++)Ki(V,J[R])||V.push(J[R]);return J}(V,R=R.map(os))}function nr(V){for(var J=arguments,R=[],$=arguments.length-1;$-- >0;)R[$]=J[$+1];return R.map(os).reduce(function(ne,ve){var We=ur(V,ve);return-1!==We?ne.concat(V.splice(We,1)):ne},[])}function os(V,J){if("string"==typeof V)try{return document.querySelector(V)}catch(R){throw R}if(!jn(V)&&!J)throw new TypeError(V+" is not a DOM element.");return V}function er(V){if(V===window)return function Pn(){var V={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},V);var J={};return Object.defineProperties(J,V),J}();try{var J=V.getBoundingClientRect();return void 0===J.x&&(J.x=J.left,J.y=J.top),J}catch{throw new TypeError("Can't call getBoundingClientRect on "+V)}}var ni="function"!=typeof Object.create?function(V){var J=function(){};return function(R,$){if(R!==Object(R)&&null!==R)throw TypeError("Argument must be an object, or null");J.prototype=R||{};var ne=new J;return J.prototype=null,void 0!==$&&Object.defineProperties(ne,$),null===R&&(ne.__proto__=null),ne}}():Object.create,gn=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function Es(V,J){J=J||{};for(var R=ni(V),$=0;$<gn.length;$++)void 0!==J[gn[$]]&&(R[gn[$]]=J[gn[$]]);return R}function Rr(V,J){console.log("data ",J),V.data=J||{},V.dispatched="mousemove"}var vt=["webkit","moz","ms","o"],Tt=function(){if(typeof window>"u")return function(){};for(var V=0,J=vt.length;V<J&&!window.requestAnimationFrame;++V)window.requestAnimationFrame=window[vt[V]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var R=0;window.requestAnimationFrame=function($){var ne=(new Date).getTime(),ve=Math.max(0,16-ne-R),We=window.setTimeout(function(){return $(ne+ve)},ve);return R=ne+ve,We}}return window.requestAnimationFrame.bind(window)}(),$e=function(){if(typeof window>"u")return function(){};for(var V=0,J=vt.length;V<J&&!window.cancelAnimationFrame;++V)window.cancelAnimationFrame=window[vt[V]+"CancelAnimationFrame"]||window[vt[V]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(R){window.clearTimeout(R)}),window.cancelAnimationFrame.bind(window)}();function ht(V,J){void 0===J&&(J={});var R=this,$=4,ne=!1;if("object"!=typeof J.margin){var ve=J.margin||-1;this.margin={left:ve,right:ve,top:ve,bottom:ve}}else this.margin=J.margin;this.scrollWhenOutside=J.scrollWhenOutside||!1;var We={},dt=function Kn(V,J){var R=Nn((J=J||{}).allowUpdate,!0);return function(ne){if(ne=ne||window.event,V.target=ne.target||ne.srcElement||ne.originalTarget,V.element=this,V.type=ne.type,R(ne)){if(ne.targetTouches)V.x=ne.targetTouches[0].clientX,V.y=ne.targetTouches[0].clientY,V.pageX=ne.targetTouches[0].pageX,V.pageY=ne.targetTouches[0].pageY,V.screenX=ne.targetTouches[0].screenX,V.screenY=ne.targetTouches[0].screenY;else{if(null===ne.pageX&&null!==ne.clientX){var ve=ne.target&&ne.target.ownerDocument||document,We=ve.documentElement,dt=ve.body;V.pageX=ne.clientX+(We&&We.scrollLeft||dt&&dt.scrollLeft||0)-(We&&We.clientLeft||dt&&dt.clientLeft||0),V.pageY=ne.clientY+(We&&We.scrollTop||dt&&dt.scrollTop||0)-(We&&We.clientTop||dt&&dt.clientTop||0)}else V.pageX=ne.pageX,V.pageY=ne.pageY;V.x=ne.clientX,V.y=ne.clientY,V.screenX=ne.screenX,V.screenY=ne.screenY}V.clientX=V.x,V.clientY=V.y}}}(We),an=function Fr(V){var J={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function R(ve){for(var We=0;We<gn.length;We++)J[gn[We]]=ve[gn[We]]}return void 0!==V&&V.addEventListener("mousemove",R),{destroy:function ne(){V&&V.removeEventListener("mousemove",R,!1),J=null},dispatch:MouseEvent?function(We,dt,an){var Dt=new MouseEvent("mousemove",Es(J,dt));return Rr(Dt,an),We.dispatchEvent(Dt)}:"function"==typeof document.createEvent?function(We,dt,an){var Dt=Es(J,dt),ln=document.createEvent("MouseEvents");return ln.initMouseEvent("mousemove",!0,!0,window,0,Dt.screenX,Dt.screenY,Dt.clientX,Dt.clientY,Dt.ctrlKey,Dt.altKey,Dt.shiftKey,Dt.metaKey,Dt.button,Dt.relatedTarget),Rr(ln,an),We.dispatchEvent(ln)}:"function"==typeof document.createEventObject?function(We,dt,an){var Dt=document.createEventObject(),ln=Es(J,dt);for(var Gn in ln)Dt[Gn]=ln[Gn];return Rr(Dt,an),We.dispatchEvent(Dt)}:void 0}}(),Dt=!1;window.addEventListener("mousemove",dt,!1),window.addEventListener("touchmove",dt,!1),isNaN(J.maxSpeed)||($=J.maxSpeed),"object"!=typeof $&&($={left:$,right:$,top:$,bottom:$}),this.autoScroll=Nn(J.autoScroll),this.syncMove=Nn(J.syncMove,!1),this.destroy=function(Fn){window.removeEventListener("mousemove",dt,!1),window.removeEventListener("touchmove",dt,!1),window.removeEventListener("mousedown",X,!1),window.removeEventListener("touchstart",X,!1),window.removeEventListener("mouseup",te,!1),window.removeEventListener("touchend",te,!1),window.removeEventListener("pointerup",te,!1),window.removeEventListener("mouseleave",Ct,!1),window.removeEventListener("mousemove",Di,!1),window.removeEventListener("touchmove",Di,!1),window.removeEventListener("scroll",de,!0),V=[],Fn&&Ae()},this.add=function(){for(var Fn=[],In=arguments.length;In--;)Fn[In]=arguments[In];return si.apply(void 0,[V].concat(Fn)),this},this.remove=function(){for(var Fn=[],In=arguments.length;In--;)Fn[In]=arguments[In];return nr.apply(void 0,[V].concat(Fn))};var Gn,Fn,ln=null;"[object Array]"!==Object.prototype.toString.call(V)&&(V=[V]),Fn=V,V=[],Fn.forEach(function(In){In===window?ln=window:R.add(In)}),Object.defineProperties(this,{down:{get:function(){return Dt}},maxSpeed:{get:function(){return $}},point:{get:function(){return We}},scrolling:{get:function(){return ne}}});var x,di=null;function de(Fn){for(var In=0;In<V.length;In++)if(V[In]===Fn.target){ne=!0;break}ne&&Tt(function(){return ne=!1})}function X(){Dt=!0}function te(){Dt=!1,Ae()}function Ae(){$e(x),$e(Gn)}function Ct(){Dt=!1}function Sn(){for(var Fn=null,In=0;In<V.length;In++)Un(We,V[In])&&(Fn=V[In]);return Fn}function Di(Fn){if(R.autoScroll()&&!Fn.dispatched){var In=Fn.target,_n=document.body;di&&!Un(We,di)&&(R.scrollWhenOutside||(di=null)),In&&In.parentNode===_n?In=Sn():(In=function Pt(Fn){if(!Fn)return null;if(di===Fn||Ki(V,Fn))return Fn;for(;Fn=Fn.parentNode;)if(Ki(V,Fn))return Fn;return null}(In),In||(In=Sn())),In&&In!==di&&(di=In),ln&&($e(Gn),Gn=Tt(Ni)),di&&($e(x),x=Tt(sr))}}function Ni(){Qn(ln),$e(Gn),Gn=Tt(Ni)}function sr(){di&&(Qn(di),$e(x),x=Tt(sr))}function Qn(Fn){var _n,Ln,In=er(Fn);_n=We.x<In.left+R.margin.left?Math.floor(Math.max(-1,(We.x-In.left)/R.margin.left-1)*R.maxSpeed.left):We.x>In.right-R.margin.right?Math.ceil(Math.min(1,(We.x-In.right)/R.margin.right+1)*R.maxSpeed.right):0,Ln=We.y<In.top+R.margin.top?Math.floor(Math.max(-1,(We.y-In.top)/R.margin.top-1)*R.maxSpeed.top):We.y>In.bottom-R.margin.bottom?Math.ceil(Math.min(1,(We.y-In.bottom)/R.margin.bottom+1)*R.maxSpeed.bottom):0,R.syncMove()&&an.dispatch(Fn,{pageX:We.pageX+_n,pageY:We.pageY+Ln,clientX:We.x+_n,clientY:We.y+Ln}),setTimeout(function(){Ln&&function vi(Fn,In){Fn===window?window.scrollTo(Fn.pageXOffset,Fn.pageYOffset+In):Fn.scrollTop+=In}(Fn,Ln),_n&&function ui(Fn,In){Fn===window?window.scrollTo(Fn.pageXOffset+In,Fn.pageYOffset):Fn.scrollLeft+=In}(Fn,_n)})}window.addEventListener("mousedown",X,!1),window.addEventListener("touchstart",X,!1),window.addEventListener("mouseup",te,!1),window.addEventListener("touchend",te,!1),window.addEventListener("pointerup",te,!1),window.addEventListener("mousemove",Di,!1),window.addEventListener("touchmove",Di,!1),window.addEventListener("mouseleave",Ct,!1),window.addEventListener("scroll",de,!0)}function Un(V,J,R){return R?V.y>R.top&&V.y<R.bottom&&V.x>R.left&&V.x<R.right:function Wn(V,J){var R=er(J);return V.y>R.top&&V.y<R.bottom&&V.x>R.left&&V.x<R.right}(V,J)}function ze(V,J,R){R&&R.split(" ").forEach($=>V.addClass(J.nativeElement,$))}function ut(V,J,R){R&&R.split(" ").forEach($=>V.removeClass(J.nativeElement,$))}let zt=(()=>{class V{constructor(){this.currentDrag=new _e.B}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=i.jDH({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),Nt=(()=>{class V{constructor(R){this.elementRef=R}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(i.aKT))},V.\u0275dir=i.FsC({type:V,selectors:[["","mwlDraggableScrollContainer",""]]}),V})(),kn=(()=>{class V{constructor(R,$,ne,ve,We,dt,an){this.element=R,this.renderer=$,this.draggableHelper=ne,this.zone=ve,this.vcr=We,this.scrollContainer=dt,this.document=an,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new i.bkB,this.dragStart=new i.bkB,this.ghostElementCreated=new i.bkB,this.dragging=new i.bkB,this.dragEnd=new i.bkB,this.pointerDown$=new _e.B,this.pointerMove$=new _e.B,this.pointerUp$=new _e.B,this.eventListenerSubscriptions={},this.destroy$=new _e.B,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const R=this.pointerDown$.pipe((0,hi.p)(()=>this.canDrag()),(0,tn.Z)($=>{$.event.stopPropagation&&!this.scrollContainer&&$.event.stopPropagation();const ne=this.renderer.createElement("style");this.renderer.setAttribute(ne,"type","text/css"),this.renderer.appendChild(ne,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(ne)});const ve=this.getScrollPosition(),We=new le.c(x=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",X=>x.next(X))).pipe((0,Fe.Z)(ve),(0,It.T)(()=>this.getScrollPosition())),dt=new _e.B,an=new ei.m;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const Dt=(0,Vn.h)(this.pointerUp$,this.pointerDown$,an,this.destroy$).pipe((0,bt.u)()),ln=(0,en.z)([this.pointerMove$,We]).pipe((0,It.T)(([x,de])=>({currentDrag$:dt,transformX:x.clientX-$.clientX,transformY:x.clientY-$.clientY,clientX:x.clientX,clientY:x.clientY,scrollLeft:de.left,scrollTop:de.top,target:x.event.target})),(0,It.T)(x=>(this.dragSnapGrid.x&&(x.transformX=Math.round(x.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(x.transformY=Math.round(x.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),x)),(0,It.T)(x=>(this.dragAxis.x||(x.transformX=0),this.dragAxis.y||(x.transformY=0),x)),(0,It.T)(x=>{const de=x.scrollLeft-ve.left,X=x.scrollTop-ve.top;return{...x,x:x.transformX+de,y:x.transformY+X}}),(0,hi.p)(({x,y:de,transformX:X,transformY:te})=>!this.validateDrag||this.validateDrag({x,y:de,transform:{x:X,y:te}})),(0,et.Q)(Dt),(0,bt.u)()),Gn=ln.pipe((0,xe.s)(1),(0,bt.u)()),di=ln.pipe((0,Ft.o)(1),(0,bt.u)());return Gn.subscribe(({clientX:x,clientY:de,x:X,y:te})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:an})}),this.scroller=function yn(V,J){return new ht(V,J)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],{...this.autoScroll,autoScroll:()=>!0}),ze(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const Ae=this.element.nativeElement.getBoundingClientRect(),Ct=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(Ct):this.element.nativeElement.parentNode.insertBefore(Ct,this.element.nativeElement.nextSibling),this.ghostElement=Ct,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(Ct,{position:"fixed",top:`${Ae.top}px`,left:`${Ae.left}px`,width:`${Ae.width}px`,height:`${Ae.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const Pt=this.vcr.createEmbeddedView(this.ghostElementTemplate);Ct.innerHTML="",Pt.rootNodes.filter(Sn=>Sn instanceof Node).forEach(Sn=>{Ct.appendChild(Sn)}),di.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(Pt))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:x-X,clientY:de-te,element:Ct})}),di.subscribe(()=>{Ct.parentElement.removeChild(Ct),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(dt)}),di.pipe((0,tn.Z)(x=>{const de=an.pipe(function Qe(V){return(0,ie.T)((J,R,$)=>!V||V(R,$)?J+1:J,0)}(),(0,xe.s)(1),(0,It.T)(X=>({...x,dragCancelled:X>0})));return an.complete(),de})).subscribe(({x,y:de,dragCancelled:X})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x,y:de,dragCancelled:X})}),ut(this.renderer,this.element,this.dragActiveClass),dt.complete()}),(0,Vn.h)(Dt,di).pipe((0,xe.s)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(ne)})}),ln}),(0,bt.u)());(0,Vn.h)(R.pipe((0,xe.s)(1),(0,It.T)($=>[,$])),R.pipe((0,Ve.J)())).pipe((0,hi.p)(([$,ne])=>!$||$.x!==ne.x||$.y!==ne.y),(0,It.T)(([$,ne])=>ne)).subscribe(({x:$,y:ne,currentDrag$:ve,clientX:We,clientY:dt,transformX:an,transformY:Dt,target:ln})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:$,y:ne})}),requestAnimationFrame(()=>{if(this.ghostElement){const Gn=`translate3d(${an}px, ${Dt}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:Gn,"-webkit-transform":Gn,"-ms-transform":Gn,"-moz-transform":Gn,"-o-transform":Gn})}}),ve.next({clientX:We,clientY:dt,dropData:this.dropData,target:ln})})}ngOnChanges(R){R.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const R=this.canDrag(),$=Object.keys(this.eventListenerSubscriptions).length>0;R&&!$?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",ne=>{this.onMouseDown(ne)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",ne=>{this.onMouseUp(ne)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",ne=>{this.onTouchStart(ne)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",ne=>{this.onTouchEnd(ne)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",ne=>{this.onTouchEnd(ne)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!R&&$&&this.unsubscribeEventListeners()}onMouseDown(R){0===R.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",$=>{this.pointerMove$.next({event:$,clientX:$.clientX,clientY:$.clientY})})),this.pointerDown$.next({event:R,clientX:R.clientX,clientY:R.clientY}))}onMouseUp(R){0===R.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:R,clientX:R.clientX,clientY:R.clientY}))}onTouchStart(R){let $,ne,ve;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),ne=!1,ve=this.hasScrollbar(),$=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const We=(0,cn.R)(this.document,"contextmenu").subscribe(an=>{an.preventDefault()}),dt=(0,cn.R)(this.document,"touchmove",{passive:!1}).subscribe(an=>{this.touchStartLongPress&&!ne&&ve&&(ne=this.shouldBeginDrag(R,an,$)),(!this.touchStartLongPress||!ve||ne)&&(an.preventDefault(),this.pointerMove$.next({event:an,clientX:an.targetTouches[0].clientX,clientY:an.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{We.unsubscribe(),dt.unsubscribe()}}this.pointerDown$.next({event:R,clientX:R.touches[0].clientX,clientY:R.touches[0].clientY})}onTouchEnd(R){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:R,clientX:R.changedTouches[0].clientX,clientY:R.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(R){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",R)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(R=>{this.eventListenerSubscriptions[R](),delete this.eventListenerSubscriptions[R]})}setElementStyles(R,$){Object.keys($).forEach(ne=>{this.renderer.setStyle(R,ne,$[ne])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(R,$,ne){const ve=this.getScrollPosition(),We_top=Math.abs(ve.top-ne.top),We_left=Math.abs(ve.left-ne.left),dt=Math.abs($.targetTouches[0].clientX-R.touches[0].clientX)-We_left,an=Math.abs($.targetTouches[0].clientY-R.touches[0].clientY)-We_top,ln=this.touchStartLongPress;return(dt+an>ln.delta||We_top>0||We_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=ln.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const R=this.getScrollElement();return R.scrollWidth>R.clientWidth||R.scrollHeight>R.clientHeight}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(zt),i.rXU(i.SKi),i.rXU(i.c1b),i.rXU(Nt,8),i.rXU(l.qQ))},V.\u0275dir=i.FsC({type:V,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[i.OA$]}),V})();function rt(V,J,R){return V>=R.left&&V<=R.right&&J>=R.top&&J<=R.bottom}let Oi=(()=>{class V{constructor(R,$,ne,ve,We){this.element=R,this.draggableHelper=$,this.zone=ne,this.renderer=ve,this.scrollContainer=We,this.dragEnter=new i.bkB,this.dragLeave=new i.bkB,this.dragOver=new i.bkB,this.drop=new i.bkB}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(R=>{ze(this.renderer,this.element,this.dragActiveClass);const $={updateCache:!0},ne=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{$.updateCache=!0});let ve;const We=R.pipe((0,It.T)(({clientX:Dt,clientY:ln,dropData:Gn,target:di})=>{ve={clientX:Dt,clientY:ln,dropData:Gn,target:di},$.updateCache&&($.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&($.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),$.updateCache=!1);const x=rt(Dt,ln,$.rect),de=!this.validateDrop||this.validateDrop({clientX:Dt,clientY:ln,target:di,dropData:Gn});return $.scrollContainerRect?x&&de&&rt(Dt,ln,$.scrollContainerRect):x&&de})),dt=We.pipe((0,pt.F)());let an;dt.pipe((0,hi.p)(Dt=>Dt)).subscribe(()=>{an=!0,ze(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(ve)})}),We.pipe((0,hi.p)(Dt=>Dt)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(ve)})}),dt.pipe((0,Ve.J)(),(0,hi.p)(([Dt,ln])=>Dt&&!ln)).subscribe(()=>{an=!1,ut(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(ve)})}),R.subscribe({complete:()=>{ne(),ut(this.renderer,this.element,this.dragActiveClass),an&&(ut(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(ve)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(i.aKT),i.rXU(zt),i.rXU(i.SKi),i.rXU(i.sFG),i.rXU(Nt,8))},V.\u0275dir=i.FsC({type:V,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),V})(),gr=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=i.$C({type:V}),V.\u0275inj=i.G2t({}),V})();var Ai=B(9969),li=B(8141);const qi=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function Us(V,J,R,$){const ne=J.querySelectorAll(V);if(ne.length){const ve=R.querySelectorAll(V);for(let We=0;We<ne.length;We++)$(ne[We],ve[We])}}let Do=0;function Da(V,J){"file"!==J.type&&(J.value=V.value),"radio"===J.type&&J.name&&(J.name=`mat-clone-${J.name}-${Do++}`)}function mr(V,J){const R=J.getContext("2d");if(R)try{R.drawImage(V,0,0)}catch{}}function No(V,J,R,$){const ne={top:V.top,bottom:V.bottom,left:V.left,right:V.right};return J.top&&(ne.top+=$),J.bottom&&(ne.bottom+=$),J.left&&(ne.left+=R),J.right&&(ne.right+=R),ne.height=ne.bottom-ne.top,ne.width=ne.right-ne.left,ne}const es=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function io(V,J){return V.left&&V.top?J.topLeft:V.right&&V.top?J.topRight:V.left&&V.bottom?J.bottomLeft:V.right&&V.bottom?J.bottomRight:V.left||V.right?J.leftOrRight:V.top||V.bottom?J.topOrBottom:""}function Gt({edges:V,initialRectangle:J,newRectangle:R}){const $={};return Object.keys(V).forEach(ne=>{$[ne]=(R[ne]||0)-(J[ne]||0)}),$}const St="resize-active";let Mi=(()=>{class V{constructor(R,$,ne,ve){this.platformId=R,this.renderer=$,this.elm=ne,this.zone=ve,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=es,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new i.bkB,this.resizing=new i.bkB,this.resizeEnd=new i.bkB,this.mouseup=new _e.B,this.mousedown=new _e.B,this.mousemove=new _e.B,this.destroy$=new _e.B,this.pointerEventListeners=gi.getInstance($,ve)}ngOnInit(){const R=(0,Vn.h)(this.pointerEventListeners.pointerDown,this.mousedown),$=(0,Vn.h)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,li.M)(({event:Dt})=>{ve&&Dt.cancelable&&Dt.preventDefault()}),(0,bt.u)()),ne=(0,Vn.h)(this.pointerEventListeners.pointerUp,this.mouseup);let ve;const We=()=>{ve&&ve.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(ve.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},dt=()=>({...es,...this.resizeCursors});R.pipe((0,tn.Z)(Dt=>{function ln(x){return{clientX:x.clientX-Dt.clientX,clientY:x.clientY-Dt.clientY}}const Gn=()=>{const x={x:1,y:1};return ve&&(this.resizeSnapGrid.left&&ve.edges.left?x.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&ve.edges.right&&(x.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&ve.edges.top?x.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&ve.edges.bottom&&(x.y=+this.resizeSnapGrid.bottom)),x};function di(x,de){return{x:Math.ceil(x.clientX/de.x),y:Math.ceil(x.clientY/de.y)}}return(0,Vn.h)($.pipe((0,xe.s)(1)).pipe((0,It.T)(x=>[,x])),$.pipe((0,Ve.J)())).pipe((0,It.T)(([x,de])=>[x&&ln(x),ln(de)])).pipe((0,hi.p)(([x,de])=>{if(!x)return!0;const X=Gn(),te=di(x,X),Ae=di(de,X);return te.x!==Ae.x||te.y!==Ae.y})).pipe((0,It.T)(([,x])=>{const de=Gn();return{clientX:Math.round(x.clientX/de.x)*de.x,clientY:Math.round(x.clientY/de.y)*de.y}})).pipe((0,et.Q)((0,Vn.h)(ne,R)))})).pipe((0,hi.p)(()=>!!ve)).pipe((0,It.T)(({clientX:Dt,clientY:ln})=>No(ve.startingRect,ve.edges,Dt,ln))).pipe((0,hi.p)(Dt=>this.allowNegativeResizes||!!(Dt.height&&Dt.width&&Dt.height>0&&Dt.width>0))).pipe((0,hi.p)(Dt=>!this.validateResize||this.validateResize({rectangle:Dt,edges:Gt({edges:ve.edges,initialRectangle:ve.startingRect,newRectangle:Dt})})),(0,et.Q)(this.destroy$)).subscribe(Dt=>{ve&&ve.clonedNode&&(this.renderer.setStyle(ve.clonedNode,"height",`${Dt.height}px`),this.renderer.setStyle(ve.clonedNode,"width",`${Dt.width}px`),this.renderer.setStyle(ve.clonedNode,"top",`${Dt.top}px`),this.renderer.setStyle(ve.clonedNode,"left",`${Dt.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Gt({edges:ve.edges,initialRectangle:ve.startingRect,newRectangle:Dt}),rectangle:Dt})}),ve.currentRect=Dt}),R.pipe((0,It.T)(({edges:Dt})=>Dt||{}),(0,hi.p)(Dt=>Object.keys(Dt).length>0),(0,et.Q)(this.destroy$)).subscribe(Dt=>{ve&&We();const ln=function Zo(V,J){let R=0,$=0;const ne=V.nativeElement.style,We=["transform","-ms-transform","-moz-transform","-o-transform"].map(dt=>ne[dt]).find(dt=>!!dt);if(We&&We.includes("translate")&&(R=We.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),$=We.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===J)return{height:V.nativeElement.offsetHeight,width:V.nativeElement.offsetWidth,top:V.nativeElement.offsetTop-$,bottom:V.nativeElement.offsetHeight+V.nativeElement.offsetTop-$,left:V.nativeElement.offsetLeft-R,right:V.nativeElement.offsetWidth+V.nativeElement.offsetLeft-R};{const dt=V.nativeElement.getBoundingClientRect();return{height:dt.height,width:dt.width,top:dt.top-$,bottom:dt.bottom-$,left:dt.left-R,right:dt.right-R,scrollTop:V.nativeElement.scrollTop,scrollLeft:V.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);ve={edges:Dt,startingRect:ln,currentRect:ln};const Gn=dt(),di=io(ve.edges,Gn);this.renderer.setStyle(document.body,"cursor",di),this.setElementClass(this.elm,St,!0),this.enableGhostResize&&(ve.clonedNode=function Ur(V){const J=V.cloneNode(!0),R=J.querySelectorAll("[id]"),$=V.nodeName.toLowerCase();return J.removeAttribute("id"),R.forEach(ne=>{ne.removeAttribute("id")}),"canvas"===$?mr(V,J):("input"===$||"select"===$||"textarea"===$)&&Da(V,J),Us("canvas",V,J,mr),Us("input, textarea, select",V,J,Da),J}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(ve.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(ve.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(ve.clonedNode,"left",`${ve.startingRect.left}px`),this.renderer.setStyle(ve.clonedNode,"top",`${ve.startingRect.top}px`),this.renderer.setStyle(ve.clonedNode,"height",`${ve.startingRect.height}px`),this.renderer.setStyle(ve.clonedNode,"width",`${ve.startingRect.width}px`),this.renderer.setStyle(ve.clonedNode,"cursor",io(ve.edges,Gn)),this.renderer.addClass(ve.clonedNode,"resize-ghost-element"),ve.clonedNode.scrollTop=ve.startingRect.scrollTop,ve.clonedNode.scrollLeft=ve.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Gt({edges:Dt,initialRectangle:ln,newRectangle:ln}),rectangle:No(ln,{},0,0)})})}),ne.pipe((0,et.Q)(this.destroy$)).subscribe(()=>{ve&&(this.renderer.removeClass(this.elm.nativeElement,St),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Gt({edges:ve.edges,initialRectangle:ve.startingRect,newRectangle:ve.currentRect}),rectangle:ve.currentRect})}),We(),ve=null)})}ngOnDestroy(){(0,l.UE)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(R,$,ne){ne?this.renderer.addClass(R.nativeElement,$):this.renderer.removeClass(R.nativeElement,$)}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(i.Agw),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(i.SKi))},V.\u0275dir=i.FsC({type:V,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),V})();class gi{constructor(J,R){this.pointerDown=new le.c($=>{let ne,ve;return R.runOutsideAngular(()=>{ne=J.listen("document","mousedown",We=>{$.next({clientX:We.clientX,clientY:We.clientY,event:We})}),qi&&(ve=J.listen("document","touchstart",We=>{$.next({clientX:We.touches[0].clientX,clientY:We.touches[0].clientY,event:We})}))}),()=>{ne(),qi&&ve()}}).pipe((0,bt.u)()),this.pointerMove=new le.c($=>{let ne,ve;return R.runOutsideAngular(()=>{ne=J.listen("document","mousemove",We=>{$.next({clientX:We.clientX,clientY:We.clientY,event:We})}),qi&&(ve=J.listen("document","touchmove",We=>{$.next({clientX:We.targetTouches[0].clientX,clientY:We.targetTouches[0].clientY,event:We})}))}),()=>{ne(),qi&&ve()}}).pipe((0,bt.u)()),this.pointerUp=new le.c($=>{let ne,ve,We;return R.runOutsideAngular(()=>{ne=J.listen("document","mouseup",dt=>{$.next({clientX:dt.clientX,clientY:dt.clientY,event:dt})}),qi&&(ve=J.listen("document","touchend",dt=>{$.next({clientX:dt.changedTouches[0].clientX,clientY:dt.changedTouches[0].clientY,event:dt})}),We=J.listen("document","touchcancel",dt=>{$.next({clientX:dt.changedTouches[0].clientX,clientY:dt.changedTouches[0].clientY,event:dt})}))}),()=>{ne(),qi&&(ve(),We())}}).pipe((0,bt.u)())}static getInstance(J,R){return gi.instance||(gi.instance=new gi(J,R)),gi.instance}}let Yi=(()=>{class V{constructor(R,$,ne,ve){this.renderer=R,this.element=$,this.zone=ne,this.resizableDirective=ve,this.resizeEdges={},this.eventListeners={},this.destroy$=new _e.B}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(R=>{this.onMousedown(R,R.clientX,R.clientY)}),this.listenOnTheHost("mouseup").subscribe(R=>{this.onMouseup(R.clientX,R.clientY)}),qi&&(this.listenOnTheHost("touchstart").subscribe(R=>{this.onMousedown(R,R.touches[0].clientX,R.touches[0].clientY)}),(0,Vn.h)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(R=>{this.onMouseup(R.changedTouches[0].clientX,R.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(R,$,ne){R.cancelable&&R.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",ve=>{this.onMousemove(ve,ve.targetTouches[0].clientX,ve.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",ve=>{this.onMousemove(ve,ve.clientX,ve.clientY)})),this.resizable.mousedown.next({clientX:$,clientY:ne,edges:this.resizeEdges})}onMouseup(R,$){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:R,clientY:$,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(R,$,ne){this.resizable.mousemove.next({clientX:$,clientY:ne,edges:this.resizeEdges,event:R})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(R=>{this.eventListeners[R](),delete this.eventListeners[R]})}listenOnTheHost(R){return(0,cn.R)(this.element.nativeElement,R).pipe((0,et.Q)(this.destroy$))}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(i.SKi),i.rXU(Mi,8))},V.\u0275dir=i.FsC({type:V,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),V})(),oi=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=i.$C({type:V}),V.\u0275inj=i.G2t({}),V})();const wi=(V,J)=>({event:V,trackByActionId:J}),as=V=>({action:V});function Er(V,J){if(1&V){const R=i.RV6();i.j41(0,"a",5),i.nI1(1,"calendarA11y"),i.bIt("mwlClick",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(2).event;return i.Njj(ve.onClick({event:We,sourceEvent:ne}))})("mwlKeydownEnter",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(2).event;return i.Njj(ve.onClick({event:We,sourceEvent:ne}))}),i.k0s()}if(2&V){const R=J.$implicit;i.Y8G("ngClass",R.cssClass)("innerHtml",R.label,i.npT),i.BMQ("aria-label",i.i5U(1,3,i.eq3(6,as,R),"actionButtonLabel"))}}function ts(V,J){if(1&V&&(i.j41(0,"span",3),i.DNE(1,Er,2,8,"a",4),i.k0s()),2&V){const R=i.XpG(),$=R.event,ne=R.trackByActionId;i.R7$(),i.Y8G("ngForOf",$.actions)("ngForTrackBy",ne)}}function Cs(V,J){1&V&&i.DNE(0,ts,2,2,"span",2),2&V&&i.Y8G("ngIf",J.event.actions)}function Ks(V,J){}const Io=(V,J)=>({event:V,view:J}),Ls=()=>({});function aa(V,J){if(1&V&&(i.nrm(0,"span",2),i.nI1(1,"calendarEventTitle"),i.nI1(2,"calendarA11y")),2&V){const R=J.event;i.Y8G("innerHTML",i.brH(1,2,R.title,J.view,R),i.npT),i.BMQ("aria-hidden",i.i5U(2,6,i.lJ4(9,Ls),"hideEventTitle"))}}function nc(V,J){}const la=(V,J,R)=>({contents:V,placement:J,event:R});function ca(V,J){if(1&V&&(i.j41(0,"div",2),i.nrm(1,"div",3)(2,"div",4),i.k0s()),2&V){const R=J.contents;i.Y8G("ngClass","cal-tooltip-"+J.placement),i.R7$(2),i.Y8G("innerHtml",R,i.npT)}}function ll(V,J){}const qa=(V,J,R,$,ne,ve,We,dt,an,Dt,ln,Gn)=>({day:V,openDay:J,locale:R,tooltipPlacement:$,highlightDay:ne,unhighlightDay:ve,eventClicked:We,tooltipTemplate:dt,tooltipAppendToBody:an,tooltipDelay:Dt,trackByEventId:ln,validateDrag:Gn}),El=(V,J)=>({day:V,locale:J}),vo=V=>({backgroundColor:V}),Ys=(V,J)=>({event:V,draggedFrom:J}),Oo=(V,J)=>({x:V,y:J}),Si=()=>({delay:300,delta:30});function _r(V,J){if(1&V&&(i.j41(0,"span",7),i.EFF(1),i.k0s()),2&V){const R=i.XpG().day;i.R7$(),i.JRh(R.badgeTotal)}}function Pa(V,J){if(1&V){const R=i.RV6();i.j41(0,"div",10),i.nI1(1,"calendarEventTitle"),i.nI1(2,"calendarA11y"),i.bIt("mouseenter",function(){const ne=i.eBV(R).$implicit,ve=i.XpG(2).highlightDay;return i.Njj(ve.emit({event:ne}))})("mouseleave",function(){const ne=i.eBV(R).$implicit,ve=i.XpG(2).unhighlightDay;return i.Njj(ve.emit({event:ne}))})("mwlClick",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(2).eventClicked;return i.Njj(We.emit({event:ve,sourceEvent:ne}))}),i.k0s()}if(2&V){const R=J.$implicit,$=i.XpG(2),ne=$.day,ve=$.tooltipPlacement,We=$.tooltipTemplate,dt=$.tooltipAppendToBody,an=$.tooltipDelay,Dt=$.validateDrag;i.AVh("cal-draggable",R.draggable),i.Y8G("ngStyle",i.eq3(22,vo,null==R.color?null:R.color.primary))("ngClass",null==R?null:R.cssClass)("mwlCalendarTooltip",i.brH(1,15,R.title,"monthTooltip",R))("tooltipPlacement",ve)("tooltipEvent",R)("tooltipTemplate",We)("tooltipAppendToBody",dt)("tooltipDelay",an)("dropData",i.l_i(24,Ys,R,ne))("dragAxis",i.l_i(27,Oo,R.draggable,R.draggable))("validateDrag",Dt)("touchStartLongPress",i.lJ4(30,Si)),i.BMQ("aria-hidden",i.i5U(2,19,i.lJ4(31,Ls),"hideMonthCellEvents"))}}function ir(V,J){if(1&V&&(i.j41(0,"div",8),i.DNE(1,Pa,3,32,"div",9),i.k0s()),2&V){const R=i.XpG(),$=R.day,ne=R.trackByEventId;i.R7$(),i.Y8G("ngForOf",$.events)("ngForTrackBy",ne)}}function vr(V,J){if(1&V&&(i.j41(0,"div",2),i.nI1(1,"calendarA11y"),i.j41(2,"span",3),i.DNE(3,_r,2,1,"span",4),i.j41(4,"span",5),i.EFF(5),i.nI1(6,"calendarDate"),i.k0s()()(),i.DNE(7,ir,2,2,"div",6)),2&V){const R=J.day,$=J.locale;i.BMQ("aria-label",i.i5U(1,4,i.l_i(11,El,R,$),"monthCell")),i.R7$(3),i.Y8G("ngIf",R.badgeTotal>0),i.R7$(2),i.JRh(i.brH(6,7,R.date,"monthViewDayNumber",$)),i.R7$(2),i.Y8G("ngIf",R.events.length>0)}}function ar(V,J){}const Hr=(V,J,R,$,ne)=>({events:V,eventClicked:J,isOpen:R,trackByEventId:$,validateDrag:ne}),Cr=(V,J)=>({date:V,locale:J}),Qi=V=>({event:V}),yo=(V,J)=>({event:V,locale:J});function So(V,J){if(1&V){const R=i.RV6();i.j41(0,"div",7),i.nrm(1,"span",8),i.EFF(2," "),i.j41(3,"mwl-calendar-event-title",9),i.nI1(4,"calendarA11y"),i.bIt("mwlClick",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(2).eventClicked;return i.Njj(We.emit({event:ve,sourceEvent:ne}))})("mwlKeydownEnter",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(2).eventClicked;return i.Njj(We.emit({event:ve,sourceEvent:ne}))}),i.k0s(),i.EFF(5," "),i.nrm(6,"mwl-calendar-event-actions",10),i.k0s()}if(2&V){const R=J.$implicit,$=i.XpG(2).validateDrag,ne=i.XpG();i.AVh("cal-draggable",R.draggable),i.Y8G("ngClass",null==R?null:R.cssClass)("dropData",i.eq3(16,Qi,R))("dragAxis",i.l_i(18,Oo,R.draggable,R.draggable))("validateDrag",$)("touchStartLongPress",i.lJ4(21,Si)),i.R7$(),i.Y8G("ngStyle",i.eq3(22,vo,null==R.color?null:R.color.primary)),i.R7$(2),i.Y8G("event",R)("customTemplate",ne.eventTitleTemplate),i.BMQ("aria-label",i.i5U(4,13,i.l_i(24,yo,R,ne.locale),"eventDescription")),i.R7$(3),i.Y8G("event",R)("customTemplate",ne.eventActionsTemplate)}}function ki(V,J){if(1&V&&(i.j41(0,"div",3),i.nrm(1,"span",4),i.nI1(2,"calendarA11y"),i.nrm(3,"span",5),i.nI1(4,"calendarA11y"),i.DNE(5,So,7,27,"div",6),i.k0s()),2&V){const R=i.XpG(),$=R.events,ne=R.trackByEventId,ve=i.XpG();i.Y8G("@collapse",void 0),i.R7$(),i.BMQ("aria-label",i.i5U(2,5,i.l_i(11,Cr,ve.date,ve.locale),"openDayEventsAlert")),i.R7$(2),i.BMQ("aria-label",i.i5U(4,8,i.l_i(14,Cr,ve.date,ve.locale),"openDayEventsLandmark")),i.R7$(2),i.Y8G("ngForOf",$)("ngForTrackBy",ne)}}function Mr(V,J){1&V&&i.DNE(0,ki,6,17,"div",2),2&V&&i.Y8G("ngIf",J.isOpen)}function Ti(V,J){}const rr=(V,J,R)=>({days:V,locale:J,trackByWeekDayHeaderDate:R});function xo(V,J){if(1&V){const R=i.RV6();i.j41(0,"div",4),i.bIt("click",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(2);return i.Njj(We.columnHeaderClicked.emit({isoDayNumber:ve.day,sourceEvent:ne}))}),i.EFF(1),i.nI1(2,"calendarDate"),i.k0s()}if(2&V){const R=J.$implicit,$=i.XpG().locale;i.AVh("cal-past",R.isPast)("cal-today",R.isToday)("cal-future",R.isFuture)("cal-weekend",R.isWeekend),i.Y8G("ngClass",R.cssClass),i.R7$(),i.SpI(" ",i.brH(2,10,R.date,"monthViewColumnHeader",$)," ")}}function Xs(V,J){if(1&V&&(i.j41(0,"div",2),i.DNE(1,xo,3,14,"div",3),i.k0s()),2&V){const R=J.days,$=J.trackByWeekDayHeaderDate;i.R7$(),i.Y8G("ngForOf",R)("ngForTrackBy",$)}}function Tr(V,J){}function cl(V,J){if(1&V){const R=i.RV6();i.j41(0,"mwl-calendar-month-cell",7),i.nI1(1,"calendarA11y"),i.bIt("mwlClick",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(2);return i.Njj(We.dayClicked.emit({day:ve,sourceEvent:ne}))})("mwlKeydownEnter",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(2);return i.Njj(We.dayClicked.emit({day:ve,sourceEvent:ne}))})("highlightDay",function(ne){i.eBV(R);const ve=i.XpG(2);return i.Njj(ve.toggleDayHighlight(ne.event,!0))})("unhighlightDay",function(ne){i.eBV(R);const ve=i.XpG(2);return i.Njj(ve.toggleDayHighlight(ne.event,!1))})("drop",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(2);return i.Njj(We.eventDropped(ve,ne.dropData.event,ne.dropData.draggedFrom))})("eventClicked",function(ne){i.eBV(R);const ve=i.XpG(2);return i.Njj(ve.eventClicked.emit({event:ne.event,sourceEvent:ne.sourceEvent}))}),i.k0s()}if(2&V){const R=J.$implicit,$=i.XpG(2);i.Y8G("ngClass",null==R?null:R.cssClass)("day",R)("openDay",$.openDay)("locale",$.locale)("tooltipPlacement",$.tooltipPlacement)("tooltipAppendToBody",$.tooltipAppendToBody)("tooltipTemplate",$.tooltipTemplate)("tooltipDelay",$.tooltipDelay)("customTemplate",$.cellTemplate)("ngStyle",i.eq3(15,vo,R.backgroundColor))("clickListenerDisabled",0===$.dayClicked.observers.length),i.BMQ("tabindex",i.i5U(1,12,i.lJ4(17,Ls),"monthCellTabIndex"))}}function ua(V,J){if(1&V){const R=i.RV6();i.j41(0,"div")(1,"div",4),i.DNE(2,cl,2,18,"mwl-calendar-month-cell",5),i.nI1(3,"slice"),i.k0s(),i.j41(4,"mwl-calendar-open-day-events",6),i.bIt("eventClicked",function(ne){i.eBV(R);const ve=i.XpG();return i.Njj(ve.eventClicked.emit({event:ne.event,sourceEvent:ne.sourceEvent}))})("drop",function(ne){i.eBV(R);const ve=i.XpG();return i.Njj(ve.eventDropped(ve.openDay,ne.dropData.event,ne.dropData.draggedFrom))}),i.k0s()()}if(2&V){const R=J.$implicit,$=i.XpG();i.R7$(2),i.Y8G("ngForOf",i.brH(3,9,$.view.days,R,R+$.view.totalDaysVisibleInWeek))("ngForTrackBy",$.trackByDate),i.R7$(2),i.Y8G("locale",$.locale)("isOpen",$.openRowIndex===R)("events",null==$.openDay?null:$.openDay.events)("date",null==$.openDay?null:$.openDay.date)("customTemplate",$.openDayEventsTemplate)("eventTitleTemplate",$.eventTitleTemplate)("eventActionsTemplate",$.eventActionsTemplate)}}const Wr=(V,J,R,$,ne,ve)=>({days:V,locale:J,dayHeaderClicked:R,eventDropped:$,dragEnter:ne,trackByWeekDayHeaderDate:ve});function Fa(V,J){if(1&V){const R=i.RV6();i.j41(0,"div",4),i.bIt("mwlClick",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG().dayHeaderClicked;return i.Njj(We.emit({day:ve,sourceEvent:ne}))})("drop",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG().eventDropped;return i.Njj(We.emit({event:ne.dropData.event,newStart:ve.date}))})("dragEnter",function(){const ne=i.eBV(R).$implicit,ve=i.XpG().dragEnter;return i.Njj(ve.emit({date:ne.date}))}),i.j41(1,"b"),i.EFF(2),i.nI1(3,"calendarDate"),i.k0s(),i.nrm(4,"br"),i.j41(5,"span"),i.EFF(6),i.nI1(7,"calendarDate"),i.k0s()()}if(2&V){const R=J.$implicit,$=i.XpG().locale;i.AVh("cal-past",R.isPast)("cal-today",R.isToday)("cal-future",R.isFuture)("cal-weekend",R.isWeekend),i.Y8G("ngClass",R.cssClass),i.R7$(2),i.JRh(i.brH(3,11,R.date,"weekViewColumnHeader",$)),i.R7$(4),i.JRh(i.brH(7,15,R.date,"weekViewColumnSubHeader",$))}}function ns(V,J){if(1&V&&(i.j41(0,"div",2),i.DNE(1,Fa,8,19,"div",3),i.k0s()),2&V){const R=J.days,$=J.trackByWeekDayHeaderDate;i.R7$(),i.Y8G("ngForOf",R)("ngForTrackBy",$)}}function Vr(V,J){}const Yr=(V,J,R,$,ne,ve,We,dt,an)=>({weekEvent:V,tooltipPlacement:J,eventClicked:R,tooltipTemplate:$,tooltipAppendToBody:ne,tooltipDisabled:ve,tooltipDelay:We,column:dt,daysInWeek:an}),Ia=(V,J,R)=>({color:V,backgroundColor:J,borderColor:R});function Ar(V,J){if(1&V){const R=i.RV6();i.j41(0,"div",2),i.nI1(1,"calendarEventTitle"),i.nI1(2,"calendarA11y"),i.bIt("mwlClick",function(ne){const ve=i.eBV(R).eventClicked;return i.Njj(ve.emit({sourceEvent:ne}))})("mwlKeydownEnter",function(ne){const ve=i.eBV(R).eventClicked;return i.Njj(ve.emit({sourceEvent:ne}))}),i.nrm(3,"mwl-calendar-event-actions",3),i.EFF(4," "),i.nrm(5,"mwl-calendar-event-title",4),i.k0s()}if(2&V){const R=J.weekEvent,$=J.tooltipPlacement,ne=J.tooltipTemplate,ve=J.tooltipAppendToBody,We=J.tooltipDisabled,dt=J.tooltipDelay,an=J.daysInWeek,Dt=i.XpG();i.Y8G("ngStyle",i.sMw(20,Ia,null==R.event.color?null:R.event.color.secondaryText,null==R.event.color?null:R.event.color.secondary,null==R.event.color?null:R.event.color.primary))("mwlCalendarTooltip",We?"":i.brH(1,13,R.event.title,1===an?"dayTooltip":"weekTooltip",R.tempEvent||R.event))("tooltipPlacement",$)("tooltipEvent",R.tempEvent||R.event)("tooltipTemplate",ne)("tooltipAppendToBody",ve)("tooltipDelay",dt),i.BMQ("aria-label",i.i5U(2,17,i.l_i(24,yo,R.tempEvent||R.event,Dt.locale),"eventDescription")),i.R7$(3),i.Y8G("event",R.tempEvent||R.event)("customTemplate",Dt.eventActionsTemplate),i.R7$(2),i.Y8G("event",R.tempEvent||R.event)("customTemplate",Dt.eventTitleTemplate)("view",1===an?"day":"week")}}function qs(V,J){}const Li=(V,J,R,$,ne)=>({segment:V,locale:J,segmentHeight:R,isTimeLabel:$,daysInWeek:ne});function Hs(V,J){if(1&V&&(i.j41(0,"div",4),i.EFF(1),i.nI1(2,"calendarDate"),i.k0s()),2&V){const R=i.XpG(),$=R.segment,ne=R.locale,ve=R.daysInWeek;i.R7$(),i.SpI(" ",i.brH(2,1,$.displayDate,1===ve?"dayViewHour":"weekViewHour",ne)," ")}}function ro(V,J){if(1&V&&(i.j41(0,"div",2),i.nI1(1,"calendarA11y"),i.DNE(2,Hs,3,5,"div",3),i.k0s()),2&V){const R=J.segment,ne=J.isTimeLabel,ve=J.daysInWeek;i.xc7("height",J.segmentHeight,"px"),i.AVh("cal-hour-start",R.isStart)("cal-after-hour-start",!R.isStart),i.Y8G("ngClass",R.cssClass),i.BMQ("aria-hidden",i.i5U(1,9,i.lJ4(12,Ls),1===ve?"hideDayHourSegment":"hideWeekHourSegment")),i.R7$(2),i.Y8G("ngIf",ne)}}function eo(V,J){}const Gi=(V,J,R,$,ne,ve,We)=>({columnDate:V,dayStartHour:J,dayStartMinute:R,dayEndHour:$,dayEndMinute:ne,isVisible:ve,topPx:We});function Gs(V,J){if(1&V&&i.nrm(0,"div",3),2&V){const R=i.XpG().topPx;i.xc7("top",R,"px")}}function so(V,J){1&V&&i.DNE(0,Gs,1,2,"div",2),2&V&&i.Y8G("ngIf",J.isVisible)}function ds(V,J){}const hs=(V,J)=>({left:V,right:J}),da=(V,J)=>({event:V,calendarId:J}),Br=V=>({x:V}),Cl=()=>({left:!0}),Dr=()=>({right:!0}),Po=(V,J,R,$)=>({left:V,right:J,top:R,bottom:$}),Os=()=>({left:!0,top:!0}),oo=()=>({right:!0,bottom:!0});function ha(V,J){1&V&&i.eu8(0)}function Qa(V,J){if(1&V){const R=i.RV6();i.j41(0,"div",17),i.bIt("drop",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(2);return i.Njj(We.eventDropped(ne,ve.date,!0))})("dragEnter",function(){const ne=i.eBV(R).$implicit,ve=i.XpG(2);return i.Njj(ve.dateDragEnter(ne.date))}),i.k0s()}}function bo(V,J){1&V&&i.nrm(0,"div",24),2&V&&i.Y8G("resizeEdges",i.lJ4(1,Cl))}function Ao(V,J){1&V&&i.nrm(0,"div",25),2&V&&i.Y8G("resizeEdges",i.lJ4(1,Dr))}function ms(V,J){if(1&V){const R=i.RV6();i.j41(0,"div",20,3),i.bIt("resizeStart",function(ne){const ve=i.eBV(R).$implicit;i.XpG();const We=i.sdS(1),dt=i.XpG(2);return i.Njj(dt.allDayEventResizeStarted(We,ve,ne))})("resizing",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(3);return i.Njj(We.allDayEventResizing(ve,ne,We.dayColumnWidth))})("resizeEnd",function(){const ne=i.eBV(R).$implicit,ve=i.XpG(3);return i.Njj(ve.allDayEventResizeEnded(ne))})("dragStart",function(){const ne=i.eBV(R).$implicit,ve=i.sdS(1);i.XpG();const We=i.sdS(1),dt=i.XpG(2);return i.Njj(dt.dragStarted(We,ve,ne,!1))})("dragging",function(){i.eBV(R);const ne=i.XpG(3);return i.Njj(ne.allDayEventDragMove())})("dragEnd",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(3);return i.Njj(We.dragEnded(ve,ne,We.dayColumnWidth))}),i.DNE(2,bo,1,2,"div",21),i.j41(3,"mwl-calendar-week-view-event",22),i.bIt("eventClicked",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(3);return i.Njj(We.eventClicked.emit({event:ve.event,sourceEvent:ne.sourceEvent}))}),i.k0s(),i.DNE(4,Ao,1,2,"div",23),i.k0s()}if(2&V){const R=J.$implicit,$=i.XpG(3);i.xc7("width",100/$.days.length*R.span,"%")("margin-left",$.rtl?null:100/$.days.length*R.offset,"%")("margin-right",$.rtl?100/$.days.length*R.offset:null,"%"),i.AVh("cal-draggable",R.event.draggable&&0===$.allDayEventResizes.size)("cal-starts-within-week",!R.startsBeforeWeek)("cal-ends-within-week",!R.endsAfterWeek),i.Y8G("ngClass",null==R.event?null:R.event.cssClass)("resizeCursors",$.resizeCursors)("resizeSnapGrid",i.l_i(33,hs,$.dayColumnWidth,$.dayColumnWidth))("validateResize",$.validateResize)("dropData",i.l_i(36,da,R.event,$.calendarId))("dragAxis",i.l_i(39,Oo,R.event.draggable&&0===$.allDayEventResizes.size,!$.snapDraggedEvents&&R.event.draggable&&0===$.allDayEventResizes.size))("dragSnapGrid",$.snapDraggedEvents?i.eq3(42,Br,$.dayColumnWidth):i.lJ4(44,Ls))("validateDrag",$.validateDrag)("touchStartLongPress",i.lJ4(45,Si)),i.R7$(2),i.Y8G("ngIf",(null==R.event||null==R.event.resizable?null:R.event.resizable.beforeStart)&&!R.startsBeforeWeek),i.R7$(),i.Y8G("locale",$.locale)("weekEvent",R)("tooltipPlacement",$.tooltipPlacement)("tooltipTemplate",$.tooltipTemplate)("tooltipAppendToBody",$.tooltipAppendToBody)("tooltipDelay",$.tooltipDelay)("customTemplate",$.eventTemplate)("eventTitleTemplate",$.eventTitleTemplate)("eventActionsTemplate",$.eventActionsTemplate)("daysInWeek",$.daysInWeek),i.R7$(),i.Y8G("ngIf",(null==R.event||null==R.event.resizable?null:R.event.resizable.afterEnd)&&!R.endsAfterWeek)}}function Qs(V,J){if(1&V&&(i.j41(0,"div",18,2),i.DNE(2,ms,5,46,"div",19),i.k0s()),2&V){const R=J.$implicit,$=i.XpG(2);i.R7$(2),i.Y8G("ngForOf",R.row)("ngForTrackBy",$.trackByWeekAllDayEvent)}}function Va(V,J){if(1&V){const R=i.RV6();i.j41(0,"div",12,1),i.bIt("dragEnter",function(){i.eBV(R);const ne=i.XpG();return i.Njj(ne.dragEnter("allDay"))})("dragLeave",function(){i.eBV(R);const ne=i.XpG();return i.Njj(ne.dragLeave("allDay"))}),i.j41(2,"div",10)(3,"div",13),i.DNE(4,ha,1,0,"ng-container",14),i.k0s(),i.DNE(5,Qa,1,0,"div",15),i.k0s(),i.DNE(6,Qs,3,2,"div",16),i.k0s()}if(2&V){const R=i.XpG();i.R7$(4),i.Y8G("ngTemplateOutlet",R.allDayEventsLabelTemplate),i.R7$(),i.Y8G("ngForOf",R.days)("ngForTrackBy",R.trackByWeekDayHeaderDate),i.R7$(),i.Y8G("ngForOf",R.view.allDayEventRows)("ngForTrackBy",R.trackById)}}function _s(V,J){if(1&V&&i.nrm(0,"mwl-calendar-week-view-hour-segment",29),2&V){const R=J.$implicit,$=i.XpG(3);i.xc7("height",$.hourSegmentHeight,"px"),i.Y8G("segment",R)("segmentHeight",$.hourSegmentHeight)("locale",$.locale)("customTemplate",$.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",$.daysInWeek)}}function Tl(V,J){if(1&V&&(i.j41(0,"div",27),i.DNE(1,_s,1,8,"mwl-calendar-week-view-hour-segment",28),i.k0s()),2&V){const R=J.$implicit,$=J.odd,ne=i.XpG(2);i.AVh("cal-hour-odd",$),i.R7$(),i.Y8G("ngForOf",R.segments)("ngForTrackBy",ne.trackByHourSegment)}}function wo(V,J){if(1&V&&(i.j41(0,"div",13),i.DNE(1,Tl,2,4,"div",26),i.k0s()),2&V){const R=i.XpG();i.R7$(),i.Y8G("ngForOf",R.view.hourColumns[0].hours)("ngForTrackBy",R.trackByHour)}}function kr(V,J){1&V&&i.nrm(0,"div",24),2&V&&i.Y8G("resizeEdges",i.lJ4(1,Os))}function Ts(V,J){}function fs(V,J){if(1&V){const R=i.RV6();i.j41(0,"mwl-calendar-week-view-event",36),i.bIt("eventClicked",function(ne){i.eBV(R);const ve=i.XpG().$implicit,We=i.XpG(2);return i.Njj(We.eventClicked.emit({event:ve.event,sourceEvent:ne.sourceEvent}))}),i.k0s()}if(2&V){const R=i.XpG().$implicit,$=i.XpG().$implicit,ne=i.XpG();i.Y8G("locale",ne.locale)("weekEvent",R)("tooltipPlacement",ne.tooltipPlacement)("tooltipTemplate",ne.tooltipTemplate)("tooltipAppendToBody",ne.tooltipAppendToBody)("tooltipDisabled",ne.dragActive||ne.timeEventResizes.size>0)("tooltipDelay",ne.tooltipDelay)("customTemplate",ne.eventTemplate)("eventTitleTemplate",ne.eventTitleTemplate)("eventActionsTemplate",ne.eventActionsTemplate)("column",$)("daysInWeek",ne.daysInWeek)}}function bi(V,J){1&V&&i.nrm(0,"div",25),2&V&&i.Y8G("resizeEdges",i.lJ4(1,oo))}function Js(V,J){if(1&V){const R=i.RV6();i.j41(0,"div",34,3),i.bIt("resizeStart",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(2),dt=i.sdS(6);return i.Njj(We.timeEventResizeStarted(dt,ve,ne))})("resizing",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(2);return i.Njj(We.timeEventResizing(ve,ne))})("resizeEnd",function(){const ne=i.eBV(R).$implicit,ve=i.XpG(2);return i.Njj(ve.timeEventResizeEnded(ne))})("dragStart",function(){const ne=i.eBV(R).$implicit,ve=i.sdS(1),We=i.XpG(2),dt=i.sdS(6);return i.Njj(We.dragStarted(dt,ve,ne,!0))})("dragging",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(2);return i.Njj(We.dragMove(ve,ne))})("dragEnd",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(2);return i.Njj(We.dragEnded(ve,ne,We.dayColumnWidth,!0))}),i.DNE(2,kr,1,2,"div",21)(3,Ts,0,0,"ng-template",35)(4,fs,1,12,"ng-template",null,4,i.C5r)(6,bi,1,2,"div",23),i.k0s()}if(2&V){const R=J.$implicit,$=i.sdS(5),ne=i.XpG(2);i.xc7("top",R.top,"px")("height",R.height,"px")("left",R.left,"%")("width",R.width,"%"),i.AVh("cal-draggable",R.event.draggable&&0===ne.timeEventResizes.size)("cal-starts-within-day",!R.startsBeforeDay)("cal-ends-within-day",!R.endsAfterDay),i.Y8G("ngClass",R.event.cssClass)("hidden",0===R.height&&0===R.width)("resizeCursors",ne.resizeCursors)("resizeSnapGrid",i.ziG(30,Po,ne.dayColumnWidth,ne.dayColumnWidth,ne.eventSnapSize||ne.hourSegmentHeight,ne.eventSnapSize||ne.hourSegmentHeight))("validateResize",ne.validateResize)("allowNegativeResizes",!0)("dropData",i.l_i(35,da,R.event,ne.calendarId))("dragAxis",i.l_i(38,Oo,R.event.draggable&&0===ne.timeEventResizes.size,R.event.draggable&&0===ne.timeEventResizes.size))("dragSnapGrid",ne.snapDraggedEvents?i.l_i(41,Oo,ne.dayColumnWidth,ne.eventSnapSize||ne.hourSegmentHeight):i.lJ4(44,Ls))("touchStartLongPress",i.lJ4(45,Si))("ghostDragEnabled",!ne.snapDraggedEvents)("ghostElementTemplate",$)("validateDrag",ne.validateDrag),i.R7$(2),i.Y8G("ngIf",(null==R.event||null==R.event.resizable?null:R.event.resizable.beforeStart)&&!R.startsBeforeDay),i.R7$(),i.Y8G("ngTemplateOutlet",$),i.R7$(3),i.Y8G("ngIf",(null==R.event||null==R.event.resizable?null:R.event.resizable.afterEnd)&&!R.endsAfterDay)}}function Ro(V,J){if(1&V){const R=i.RV6();i.j41(0,"mwl-calendar-week-view-hour-segment",38),i.bIt("mwlClick",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(3);return i.Njj(We.hourSegmentClicked.emit({date:ve.date,sourceEvent:ne}))})("drop",function(ne){const ve=i.eBV(R).$implicit,We=i.XpG(3);return i.Njj(We.eventDropped(ne,ve.date,!1))})("dragEnter",function(){const ne=i.eBV(R).$implicit,ve=i.XpG(3);return i.Njj(ve.dateDragEnter(ne.date))}),i.k0s()}if(2&V){const R=J.$implicit,$=i.XpG(3);i.xc7("height",$.hourSegmentHeight,"px"),i.Y8G("segment",R)("segmentHeight",$.hourSegmentHeight)("locale",$.locale)("customTemplate",$.hourSegmentTemplate)("daysInWeek",$.daysInWeek)("clickListenerDisabled",0===$.hourSegmentClicked.observers.length)("dragOverClass",$.dragActive&&$.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===$.daysInWeek)}}function Ws(V,J){if(1&V&&(i.j41(0,"div",27),i.DNE(1,Ro,1,10,"mwl-calendar-week-view-hour-segment",37),i.k0s()),2&V){const R=J.$implicit,$=J.odd,ne=i.XpG(2);i.AVh("cal-hour-odd",$),i.R7$(),i.Y8G("ngForOf",R.segments)("ngForTrackBy",ne.trackByHourSegment)}}function $s(V,J){if(1&V&&(i.j41(0,"div",30),i.nrm(1,"mwl-calendar-week-view-current-time-marker",31),i.j41(2,"div",32),i.DNE(3,Js,7,46,"div",33),i.k0s(),i.DNE(4,Ws,2,4,"div",26),i.k0s()),2&V){const R=J.$implicit,$=i.XpG();i.R7$(),i.Y8G("columnDate",R.date)("dayStartHour",$.dayStartHour)("dayStartMinute",$.dayStartMinute)("dayEndHour",$.dayEndHour)("dayEndMinute",$.dayEndMinute)("hourSegments",$.hourSegments)("hourDuration",$.hourDuration)("hourSegmentHeight",$.hourSegmentHeight)("customTemplate",$.currentTimeMarkerTemplate),i.R7$(2),i.Y8G("ngForOf",R.events)("ngForTrackBy",$.trackByWeekTimeEvent),i.R7$(),i.Y8G("ngForOf",R.hours)("ngForTrackBy",$.trackByHour)}}let Bi=(()=>{class V{constructor(R,$,ne){this.renderer=R,this.elm=$,this.document=ne,this.clickListenerDisabled=!1,this.click=new i.bkB,this.destroy$=new _e.B}ngOnInit(){this.clickListenerDisabled||this.listen().pipe((0,et.Q)(this.destroy$)).subscribe(R=>{R.stopPropagation(),this.click.emit(R)})}ngOnDestroy(){this.destroy$.next()}listen(){return new le.c(R=>this.renderer.listen(this.elm.nativeElement,"click",$=>{R.next($)}))}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(l.qQ))},V.\u0275dir=i.FsC({type:V,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),V})(),qr=(()=>{class V{constructor(R,$,ne){this.host=R,this.ngZone=$,this.renderer=ne,this.keydown=new i.bkB,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",R=>{(13===R.keyCode||13===R.which||"Enter"===R.key)&&(R.preventDefault(),R.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(R)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(i.aKT),i.rXU(i.SKi),i.rXU(i.sFG))},V.\u0275dir=i.FsC({type:V,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),V})(),xi=(()=>{class V{constructor(R){this.i18nPlural=R}monthCell({day:R,locale:$}){return R.badgeTotal>0?`\n        ${(0,l.Yq)(R.date,"EEEE MMMM d",$)},\n        ${this.i18nPlural.transform(R.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${(0,l.Yq)(R.date,"EEEE MMMM d",$)}`}openDayEventsLandmark({date:R,locale:$}){return`\n      Beginning of expanded view for ${(0,l.Yq)(R,"EEEE MMMM dd",$)}\n    `}openDayEventsAlert({date:R,locale:$}){return`${(0,l.Yq)(R,"EEEE MMMM dd",$)} expanded`}eventDescription({event:R,locale:$}){if(!0===R.allDay)return this.allDayEventDescription({event:R,locale:$});const ne=`\n      ${(0,l.Yq)(R.start,"EEEE MMMM dd",$)},\n      ${R.title}, from ${(0,l.Yq)(R.start,"hh:mm a",$)}\n    `;return R.end?ne+` to ${(0,l.Yq)(R.end,"hh:mm a",$)}`:ne}allDayEventDescription({event:R,locale:$}){const ne=`\n      ${R.title}, event spans multiple days:\n      start time ${(0,l.Yq)(R.start,"MMMM dd hh:mm a",$)}\n    `;return R.end?ne+`, stop time ${(0,l.Yq)(R.end,"MMMM d hh:mm a",$)}`:ne+", no stop time"}actionButtonLabel({action:R}){return R.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return V.\u0275fac=function(R){return new(R||V)(i.KVO(l.jo))},V.\u0275prov=i.jDH({token:V,factory:V.\u0275fac}),V})(),wr=(()=>{class V{constructor(R,$){this.calendarA11y=R,this.locale=$}transform(R,$){if(R.locale=R.locale||this.locale,typeof this.calendarA11y[$]>"u"){const ne=Object.getOwnPropertyNames(Object.getPrototypeOf(xi.prototype)).filter(ve=>"constructor"!==ve);throw new Error(`${$} is not a valid a11y method. Can only be one of ${ne.join(", ")}`)}return this.calendarA11y[$](R)}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(xi,16),i.rXU(i.xe9,16))},V.\u0275pipe=i.EJ8({name:"calendarA11y",type:V,pure:!0}),V})(),Nr=(()=>{class V{constructor(){this.trackByActionId=(R,$)=>$.id?$.id:$}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275cmp=i.VBU({type:V,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"mwlClick","mwlKeydownEnter","ngClass","innerHtml"]],template:function(R,$){if(1&R&&i.DNE(0,Cs,1,1,"ng-template",null,0,i.C5r)(2,Ks,0,0,"ng-template",1),2&R){const ne=i.sdS(1);i.R7$(2),i.Y8G("ngTemplateOutlet",$.customTemplate||ne)("ngTemplateOutletContext",i.l_i(2,wi,$.event,$.trackByActionId))}},dependencies:[l.YU,l.Sq,l.bT,l.T3,Bi,qr,wr],encapsulation:2}),V})();class ce{month(J,R){return J.title}monthTooltip(J,R){return J.title}week(J,R){return J.title}weekTooltip(J,R){return J.title}day(J,R){return J.title}dayTooltip(J,R){return J.title}}let pe=(()=>{class V{constructor(R){this.calendarEventTitle=R}transform(R,$,ne){return this.calendarEventTitle[$](ne,R)}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(ce,16))},V.\u0275pipe=i.EJ8({name:"calendarEventTitle",type:V,pure:!0}),V})(),Q=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275cmp=i.VBU({type:V,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(R,$){if(1&R&&i.DNE(0,aa,3,10,"ng-template",null,0,i.C5r)(2,nc,0,0,"ng-template",1),2&R){const ne=i.sdS(1);i.R7$(2),i.Y8G("ngTemplateOutlet",$.customTemplate||ne)("ngTemplateOutletContext",i.l_i(2,Io,$.event,$.view))}},dependencies:[l.T3,pe,wr],encapsulation:2}),V})(),De=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275cmp=i.VBU({type:V,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(R,$){if(1&R&&i.DNE(0,ca,3,2,"ng-template",null,0,i.C5r)(2,ll,0,0,"ng-template",1),2&R){const ne=i.sdS(1);i.R7$(2),i.Y8G("ngTemplateOutlet",$.customTemplate||ne)("ngTemplateOutletContext",i.sMw(2,la,$.contents,$.placement,$.event))}},dependencies:[l.YU,l.T3],encapsulation:2}),V})(),lt=(()=>{class V{constructor(R,$,ne,ve,We,dt){this.elementRef=R,this.injector=$,this.renderer=ne,this.viewContainerRef=We,this.document=dt,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new _e.B,this.tooltipFactory=ve.resolveComponentFactory(De)}ngOnChanges(R){this.tooltipRef&&(R.contents||R.customTemplate||R.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?(0,Te.of)("now"):(0,Ye.O)(this.delay)).pipe((0,et.Q)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(R=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function Wt(V,J,R,$,ne){var ve=Array.isArray(R)?R:R.split(Bt),We=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],dt=J.classList,an=function(te){var Ae=te.split("-"),Ct=Ae[0],Pt=Ae[1],Sn=[];return ne&&(Sn.push(ne+"-"+Ct),Pt&&Sn.push(ne+"-"+Ct+"-"+Pt),Sn.forEach(function(Di){dt.add(Di)})),Sn};ne&&We.forEach(function(te){dt.remove(ne+"-"+te)});var Dt=ve.findIndex(function(te){return"auto"===te});Dt>=0&&We.forEach(function(te){null==ve.find(function(Ae){return-1!==Ae.search("^"+te)})&&ve.splice(Dt++,1,te)});var ln=J.style;ln.position="absolute",ln.top="0",ln.left="0",ln["will-change"]="transform";for(var Gn,di=!1,x=0,de=ve;x<de.length;x++){var X=an(Gn=de[x]);if(fn.positionElements(V,J,Gn,$)){di=!0;break}ne&&X.forEach(function(te){dt.remove(te)})}return di||(an(Gn=ve[0]),fn.positionElements(V,J,Gn,$)),Gn}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===R.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...R,this.tooltipRef.instance.placement]))}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(i.aKT),i.rXU(i.zZn),i.rXU(i.sFG),i.rXU(i.OM3),i.rXU(i.c1b),i.rXU(l.qQ))},V.\u0275dir=i.FsC({type:V,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(R,$){1&R&&i.bIt("mouseenter",function(){return $.onMouseOver()})("mouseleave",function(){return $.onMouseOut()})},inputs:{contents:[i.Mj6.None,"mwlCalendarTooltip","contents"],placement:[i.Mj6.None,"tooltipPlacement","placement"],customTemplate:[i.Mj6.None,"tooltipTemplate","customTemplate"],event:[i.Mj6.None,"tooltipEvent","event"],appendToBody:[i.Mj6.None,"tooltipAppendToBody","appendToBody"],delay:[i.Mj6.None,"tooltipDelay","delay"]},features:[i.OA$]}),V})();var ii=function(V){return V.Month="month",V.Week="week",V.Day="day",V}(ii||{});const ji=V=>function On(V,J){var R=!0;function $(ne,ve){J(ne,ve),R=!1}return Array.isArray(V)?(V.forEach(function(ne){ne.start?ne.start instanceof Date||$(ot.StartPropertyNotDate,ne):$(ot.StartPropertyMissing,ne),ne.end&&(ne.end instanceof Date||$(ot.EndPropertyNotDate,ne),ne.start>ne.end&&$(ot.EndsBeforeStart,ne))}),R):(J(ot.NotArray,V),!1)}(V,(...R)=>console.warn("angular-calendar",...R));function ea(V,J){return Math.floor(V.left)<=Math.ceil(J.left)&&Math.floor(J.left)<=Math.ceil(V.right)&&Math.floor(V.left)<=Math.ceil(J.right)&&Math.floor(J.right)<=Math.ceil(V.right)}function Sa(V,J){return Math.round(V/J)*J}const La=(V,J)=>J.id?J.id:J,Ja=(V,J)=>J.date.toISOString(),Dl=(V,J)=>J.date.toISOString(),Qr=(V,J)=>J.segments[0].date.toISOString(),Il=(V,J)=>J.event.id?J.event.id:J.event,ul=(V,J)=>J.event.id?J.event.id:J.event;function na(V,J,R,$,ne){const ve=Sa(V,$||R),We=function Ba(V,J,R){return(R||60)/(V*J)}(J,R,ne);return ve*We}function Fo(V,J,R){return J.end?J.end:V.addMinutes(J.start,R)}function ao(V,J,R,$){let ne=0,ve=0;const We=R<0?V.subDays:V.addDays;let dt=J;for(;ve<=Math.abs(R);){dt=We(J,ne);const an=V.getDay(dt);-1===$.indexOf(an)&&ve++,ne++}return dt}function ga(V,J,R,$=[],ne){let ve=ne?V.startOfDay(J):V.startOfWeek(J,{weekStartsOn:R});const We=V.endOfWeek(J,{weekStartsOn:R});for(;$.indexOf(V.getDay(ve))>-1&&ve<We;)ve=V.addDays(ve,1);if(ne)return{viewStart:ve,viewEnd:V.endOfDay(ao(V,ve,ne-1,$))};{let dt=We;for(;$.indexOf(V.getDay(dt))>-1&&dt>ve;)dt=V.subDays(dt,1);return{viewStart:ve,viewEnd:dt}}}function lo({x:V,y:J}){return Math.abs(V)>1||Math.abs(J)>1}class Eo{}let Ji=(()=>{class V{constructor(R){this.dateAdapter=R,this.excludeDays=[],this.viewDateChange=new i.bkB}onClick(){const R={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===ii.Day?ao(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===ii.Week&&this.daysInWeek?ao(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):R(this.viewDate,1))}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(Eo))},V.\u0275dir=i.FsC({type:V,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(R,$){1&R&&i.bIt("click",function(){return $.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),V})(),ls=(()=>{class V{constructor(R){this.dateAdapter=R,this.excludeDays=[],this.viewDateChange=new i.bkB}onClick(){const R={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===ii.Day?ao(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===ii.Week&&this.daysInWeek?ao(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):R(this.viewDate,1))}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(Eo))},V.\u0275dir=i.FsC({type:V,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(R,$){1&R&&i.bIt("click",function(){return $.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),V})(),Ir=(()=>{class V{constructor(R){this.dateAdapter=R,this.viewDateChange=new i.bkB}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(Eo))},V.\u0275dir=i.FsC({type:V,selectors:[["","mwlCalendarToday",""]],hostBindings:function(R,$){1&R&&i.bIt("click",function(){return $.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),V})(),co=(()=>{class V{constructor(R){this.dateAdapter=R}monthViewColumnHeader({date:R,locale:$}){return(0,l.Yq)(R,"EEEE",$)}monthViewDayNumber({date:R,locale:$}){return(0,l.Yq)(R,"d",$)}monthViewTitle({date:R,locale:$}){return(0,l.Yq)(R,"LLLL y",$)}weekViewColumnHeader({date:R,locale:$}){return(0,l.Yq)(R,"EEEE",$)}weekViewColumnSubHeader({date:R,locale:$}){return(0,l.Yq)(R,"MMM d",$)}weekViewTitle({date:R,locale:$,weekStartsOn:ne,excludeDays:ve,daysInWeek:We}){const{viewStart:dt,viewEnd:an}=ga(this.dateAdapter,R,ne,ve,We),Dt=(ln,Gn)=>(0,l.Yq)(ln,"MMM d"+(Gn?", yyyy":""),$);return`${Dt(dt,dt.getUTCFullYear()!==an.getUTCFullYear())} - ${Dt(an,!0)}`}weekViewHour({date:R,locale:$}){return(0,l.Yq)(R,"h a",$)}dayViewHour({date:R,locale:$}){return(0,l.Yq)(R,"h a",$)}dayViewTitle({date:R,locale:$}){return(0,l.Yq)(R,"EEEE, MMMM d, y",$)}}return V.\u0275fac=function(R){return new(R||V)(i.KVO(Eo))},V.\u0275prov=i.jDH({token:V,factory:V.\u0275fac}),V})(),Bs=(()=>{class V extends co{}return V.\u0275fac=(()=>{let J;return function($){return(J||(J=i.xGo(V)))($||V)}})(),V.\u0275prov=i.jDH({token:V,factory:V.\u0275fac}),V})(),ja=(()=>{class V{constructor(R,$){this.dateFormatter=R,this.locale=$}transform(R,$,ne=this.locale,ve=0,We=[],dt){if(typeof this.dateFormatter[$]>"u"){const an=Object.getOwnPropertyNames(Object.getPrototypeOf(Bs.prototype)).filter(Dt=>"constructor"!==Dt);throw new Error(`${$} is not a valid date formatter. Can only be one of ${an.join(", ")}`)}return this.dateFormatter[$]({date:R,locale:ne,weekStartsOn:ve,excludeDays:We,daysInWeek:dt})}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(Bs,16),i.rXU(i.xe9,16))},V.\u0275pipe=i.EJ8({name:"calendarDate",type:V,pure:!0}),V})(),Ua=(()=>{class V{constructor(R){this.dateAdapter=R}getMonthView(R){return function mt(V,J){var R=J.events,$=void 0===R?[]:R,ne=J.viewDate,ve=J.weekStartsOn,We=J.excluded,dt=void 0===We?[]:We,an=J.viewStart,Dt=void 0===an?V.startOfMonth(ne):an,ln=J.viewEnd,Gn=void 0===ln?V.endOfMonth(ne):ln,di=J.weekendDays;$||($=[]);for(var vi,de=V.endOfWeek,X=V.differenceInDays,te=V.startOfDay,Ae=V.addHours,Ct=V.endOfDay,Pt=V.isSameMonth,Sn=V.getDay,Di=(0,V.startOfWeek)(Dt,{weekStartsOn:ve}),Ni=de(Gn,{weekStartsOn:ve}),sr=Rn(V,{events:$,periodStart:Di,periodEnd:Ni}),Qn=[],ui=function(vs){var rs;if(vi?(rs=te(Ae(vi,24)),vi.getTime()===rs.getTime()&&(rs=te(Ae(vi,25))),vi=rs):rs=vi=Di,!dt.some(function(Pi){return Sn(rs)===Pi})){var Xr=Xn(V,{date:rs,weekendDays:di}),Hi=Rn(V,{events:sr,periodStart:te(rs),periodEnd:Ct(rs)});Xr.inMonth=Pt(rs,ne),Xr.events=Hi,Xr.badgeTotal=Hi.length,Qn.push(Xr)}},Fn=0;Fn<X(Ni,Di)+1;Fn++)ui();var In=[],_n=wt-dt.length;if(_n<wt)for(Fn=0;Fn<Qn.length;Fn+=_n){var Ln=Qn.slice(Fn,Fn+_n);Ln.some(function(rs){return Dt<=rs.date&&rs.date<Gn})&&(In=Cn(Cn([],In,!0),Ln,!0))}else In=Qn;var is=Math.floor(In.length/_n),Gr=[];for(Fn=0;Fn<is;Fn++)Gr.push(Fn*_n);return{rowOffsets:Gr,totalDaysVisibleInWeek:_n,days:In,period:{start:In[0].date,end:Ct(In[In.length-1].date),events:sr}}}(this.dateAdapter,R)}getWeekViewHeader(R){return ai(this.dateAdapter,R)}getWeekView(R){return function ri(V,J){var R=J.events,$=void 0===R?[]:R,ne=J.viewDate,ve=J.weekStartsOn,We=J.excluded,dt=void 0===We?[]:We,an=J.precision,Dt=void 0===an?"days":an,ln=J.absolutePositionedEvents,Gn=void 0!==ln&&ln,di=J.hourSegments,x=J.hourDuration,de=J.dayStart,X=J.dayEnd,te=J.weekendDays,Ae=J.segmentHeight,Ct=J.minimumEventHeight,Pt=J.viewStart,Sn=void 0===Pt?V.startOfWeek(ne,{weekStartsOn:ve}):Pt,Di=J.viewEnd,Ni=void 0===Di?V.endOfWeek(ne,{weekStartsOn:ve}):Di;$||($=[]);var Qn=V.endOfDay,vi=Rn(V,{events:$,periodStart:Sn=(0,V.startOfDay)(Sn),periodEnd:Ni=Qn(Ni)}),ui=ai(V,{viewDate:ne,weekStartsOn:ve,excluded:dt,weekendDays:te,viewStart:Sn,viewEnd:Ni});return{allDayEventRows:Zn(V,{events:vi,excluded:dt,precision:Dt,absolutePositionedEvents:Gn,viewStart:Sn,viewEnd:Ni}),period:{events:vi,start:ui[0].date,end:Qn(ui[ui.length-1].date)},hourColumns:En(V,{events:$,viewDate:ne,hourSegments:di,hourDuration:x,dayStart:de,dayEnd:X,weekStartsOn:ve,excluded:dt,weekendDays:te,segmentHeight:Ae,viewStart:Sn,viewEnd:Ni,minimumEventHeight:Ct})}}(this.dateAdapter,R)}}return V.\u0275fac=function(R){return new(R||V)(i.KVO(Eo))},V.\u0275prov=i.jDH({token:V,factory:V.\u0275fac}),V})();new i.nKC("Moment");var to=function(V){return V.Drag="drag",V.Drop="drop",V.Resize="resize",V}(to||{});let Vo=(()=>{class V{static forRoot(R,$={}){return{ngModule:V,providers:[R,$.eventTitleFormatter||ce,$.dateFormatter||Bs,$.utils||Ua,$.a11y||xi]}}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=i.$C({type:V}),V.\u0275inj=i.G2t({providers:[l.jo],imports:[l.MD]}),V})(),Aa=(()=>{class V{constructor(){this.highlightDay=new i.bkB,this.unhighlightDay=new i.bkB,this.eventClicked=new i.bkB,this.trackByEventId=La,this.validateDrag=lo}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275cmp=i.VBU({type:V,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(R,$){2&R&&i.AVh("cal-past",$.day.isPast)("cal-today",$.day.isToday)("cal-future",$.day.isFuture)("cal-weekend",$.day.isWeekend)("cal-in-month",$.day.inMonth)("cal-out-month",!$.day.inMonth)("cal-has-events",$.day.events.length>0)("cal-open",$.day===$.openDay)("cal-event-highlight",!!$.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"mouseenter","mouseleave","mwlClick","ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress"]],template:function(R,$){if(1&R&&i.DNE(0,vr,8,14,"ng-template",null,0,i.C5r)(2,ar,0,0,"ng-template",1),2&R){const ne=i.sdS(1);i.R7$(2),i.Y8G("ngTemplateOutlet",$.customTemplate||ne)("ngTemplateOutletContext",i.zJS(2,qa,[$.day,$.openDay,$.locale,$.tooltipPlacement,$.highlightDay,$.unhighlightDay,$.eventClicked,$.tooltipTemplate,$.tooltipAppendToBody,$.tooltipDelay,$.trackByEventId,$.validateDrag]))}},dependencies:[l.YU,l.Sq,l.bT,l.T3,l.B3,kn,lt,Bi,ja,pe,wr],encapsulation:2}),V})();const ma=(0,Ai.hZ)("collapse",[(0,Ai.wk)("void",(0,Ai.iF)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),(0,Ai.wk)("*",(0,Ai.iF)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),(0,Ai.kY)("* => void",(0,Ai.i0)("150ms ease-out")),(0,Ai.kY)("void => *",(0,Ai.i0)("150ms ease-in"))]);let uo=(()=>{class V{constructor(){this.isOpen=!1,this.eventClicked=new i.bkB,this.trackByEventId=La,this.validateDrag=lo}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275cmp=i.VBU({type:V,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"mwlClick","mwlKeydownEnter","event","customTemplate"],[3,"event","customTemplate"]],template:function(R,$){if(1&R&&i.DNE(0,Mr,1,1,"ng-template",null,0,i.C5r)(2,Ti,0,0,"ng-template",1),2&R){const ne=i.sdS(1);i.R7$(2),i.Y8G("ngTemplateOutlet",$.customTemplate||ne)("ngTemplateOutletContext",i.s1E(2,Hr,$.events,$.eventClicked,$.isOpen,$.trackByEventId,$.validateDrag))}},dependencies:[l.YU,l.Sq,l.bT,l.T3,l.B3,kn,Nr,Q,Bi,qr,wr],encapsulation:2,data:{animation:[ma]}}),V})(),Ha=(()=>{class V{constructor(){this.columnHeaderClicked=new i.bkB,this.trackByWeekDayHeaderDate=Ja}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275cmp=i.VBU({type:V,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"click","ngClass"]],template:function(R,$){if(1&R&&i.DNE(0,Xs,2,2,"ng-template",null,0,i.C5r)(2,Tr,0,0,"ng-template",1),2&R){const ne=i.sdS(1);i.R7$(2),i.Y8G("ngTemplateOutlet",$.customTemplate||ne)("ngTemplateOutletContext",i.sMw(2,rr,$.days,$.locale,$.trackByWeekDayHeaderDate))}},dependencies:[l.YU,l.Sq,l.T3,ja],encapsulation:2}),V})(),ho=(()=>{class V{constructor(R,$,ne,ve){this.cdr=R,this.utils=$,this.dateAdapter=ve,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new i.bkB,this.dayClicked=new i.bkB,this.eventClicked=new i.bkB,this.columnHeaderClicked=new i.bkB,this.eventTimesChanged=new i.bkB,this.trackByRowOffset=(We,dt)=>this.view.days.slice(dt,this.view.totalDaysVisibleInWeek).map(an=>an.date.toISOString()).join("-"),this.trackByDate=(We,dt)=>dt.date.toISOString(),this.locale=ne}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(R){const $=R.viewDate||R.excludeDays||R.weekendDays,ne=R.viewDate||R.events||R.excludeDays||R.weekendDays;$&&this.refreshHeader(),R.events&&ji(this.events),ne&&this.refreshBody(),($||ne)&&this.emitBeforeViewRender(),(R.activeDayIsOpen||R.viewDate||R.events||R.excludeDays||R.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(R,$){this.view.days.forEach(ne=>{$&&ne.events.indexOf(R)>-1?ne.backgroundColor=R.color&&R.color.secondary||"#D1E8FF":delete ne.backgroundColor})}eventDropped(R,$,ne){if(R!==ne){const ve=this.dateAdapter.getYear(R.date),We=this.dateAdapter.getMonth(R.date),dt=this.dateAdapter.getDate(R.date),an=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear($.start,ve),We),dt);let Dt;if($.end){const ln=this.dateAdapter.differenceInSeconds(an,$.start);Dt=this.dateAdapter.addSeconds($.end,ln)}this.eventTimesChanged.emit({event:$,newStart:an,newEnd:Dt,day:R,type:to.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const R=this.activeDay||this.viewDate;this.openDay=this.view.days.find(ne=>this.dateAdapter.isSameDay(ne.date,R));const $=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor($/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(i.gRc),i.rXU(Ua),i.rXU(i.xe9),i.rXU(Eo))},V.\u0275cmp=i.VBU({type:V,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[i.OA$],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"columnHeaderClicked","days","locale","customTemplate"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"eventClicked","drop","locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked","ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled"]],template:function(R,$){1&R&&(i.j41(0,"div",0)(1,"mwl-calendar-month-view-header",1),i.bIt("columnHeaderClicked",function(ve){return $.columnHeaderClicked.emit(ve)}),i.k0s(),i.j41(2,"div",2),i.DNE(3,ua,5,13,"div",3),i.k0s()()),2&R&&(i.R7$(),i.Y8G("days",$.columnHeaders)("locale",$.locale)("customTemplate",$.headerTemplate),i.R7$(2),i.Y8G("ngForOf",$.view.rowOffsets)("ngForTrackBy",$.trackByRowOffset))},dependencies:[l.YU,l.Sq,l.B3,Oi,Bi,qr,Aa,uo,Ha,l.P9,wr],encapsulation:2}),V})(),ic=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=i.$C({type:V}),V.\u0275inj=i.G2t({imports:[l.MD,gr,Vo,gr]}),V})();class Ra{constructor(J,R){this.dragContainerElement=J,this.startPosition=R.getBoundingClientRect()}validateDrag({x:J,y:R,snapDraggedEvents:$,dragAlreadyMoved:ne,transform:ve}){const We=lo({x:J,y:R})||ne;if($){const dt=Object.assign({},this.startPosition,{left:this.startPosition.left+ve.x,right:this.startPosition.right+ve.x,top:this.startPosition.top+ve.y,bottom:this.startPosition.bottom+ve.y});if(We){const an=this.dragContainerElement.getBoundingClientRect(),Dt=an.top<dt.top&&dt.top<an.bottom,ln=an.top<dt.bottom&&dt.bottom<an.bottom;return ea(an,dt)&&(Dt||ln)}return!1}return We}}class vc{constructor(J,R,$){this.resizeContainerElement=J,this.minWidth=R,this.rtl=$}validateResize({rectangle:J,edges:R}){return this.rtl&&(typeof R.left<"u"?(J.left-=R.left,J.right+=R.left):typeof R.right<"u"&&(J.left+=R.right,J.right-=R.right),J.width=J.right-J.left),!(this.minWidth&&Math.ceil(J.width)<Math.ceil(this.minWidth))&&function As(V,J){return ea(V,J)&&function fa(V,J){return Math.floor(V.top)<=Math.ceil(J.top)&&Math.floor(J.top)<=Math.ceil(V.bottom)&&Math.floor(V.top)<=Math.ceil(J.bottom)&&Math.floor(J.bottom)<=Math.ceil(V.bottom)}(V,J)}(this.resizeContainerElement.getBoundingClientRect(),J)}}let ia=(()=>{class V{constructor(){this.dayHeaderClicked=new i.bkB,this.eventDropped=new i.bkB,this.dragEnter=new i.bkB,this.trackByWeekDayHeaderDate=Ja}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275cmp=i.VBU({type:V,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"mwlClick","drop","dragEnter","ngClass"]],template:function(R,$){if(1&R&&i.DNE(0,ns,2,2,"ng-template",null,0,i.C5r)(2,Vr,0,0,"ng-template",1),2&R){const ne=i.sdS(1);i.R7$(2),i.Y8G("ngTemplateOutlet",$.customTemplate||ne)("ngTemplateOutletContext",i.l4e(2,Wr,$.days,$.locale,$.dayHeaderClicked,$.eventDropped,$.dragEnter,$.trackByWeekDayHeaderDate))}},dependencies:[l.YU,l.Sq,l.T3,Oi,Bi,ja],encapsulation:2}),V})(),Ds=(()=>{class V{constructor(){this.eventClicked=new i.bkB}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275cmp=i.VBU({type:V,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"mwlClick","mwlKeydownEnter","ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(R,$){if(1&R&&i.DNE(0,Ar,6,27,"ng-template",null,0,i.C5r)(2,qs,0,0,"ng-template",1),2&R){const ne=i.sdS(1);i.R7$(2),i.Y8G("ngTemplateOutlet",$.customTemplate||ne)("ngTemplateOutletContext",i.zJS(2,Yr,[$.weekEvent,$.tooltipPlacement,$.eventClicked,$.tooltipTemplate,$.tooltipAppendToBody,$.tooltipDisabled,$.tooltipDelay,$.column,$.daysInWeek]))}},dependencies:[l.T3,l.B3,Nr,Q,lt,Bi,qr,pe,wr],encapsulation:2}),V})(),ra=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275cmp=i.VBU({type:V,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(R,$){if(1&R&&i.DNE(0,ro,3,13,"ng-template",null,0,i.C5r)(2,eo,0,0,"ng-template",1),2&R){const ne=i.sdS(1);i.R7$(2),i.Y8G("ngTemplateOutlet",$.customTemplate||ne)("ngTemplateOutletContext",i.s1E(2,Li,$.segment,$.locale,$.segmentHeight,$.isTimeLabel,$.daysInWeek))}},dependencies:[l.YU,l.bT,l.T3,ja,wr],encapsulation:2}),V})(),tl=(()=>{class V{constructor(R,$){this.dateAdapter=R,this.zone=$,this.columnDate$=new Oe.t(void 0),this.marker$=this.zone.onStable.pipe((0,Ne.n)(()=>(0,Xe.Y)(6e4)),(0,Fe.Z)(0),(0,st.K)(this.columnDate$),(0,It.T)(ne=>{const ve=this.dateAdapter.setMinutes(this.dateAdapter.setHours(ne,this.dayStartHour),this.dayStartMinute),We=this.dateAdapter.setMinutes(this.dateAdapter.setHours(ne,this.dayEndHour),this.dayEndMinute),dt=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),an=new Date;return{isVisible:this.dateAdapter.isSameDay(ne,an)&&an>=ve&&an<=We,top:this.dateAdapter.differenceInMinutes(an,ve)*dt}}))}ngOnChanges(R){R.columnDate&&this.columnDate$.next(R.columnDate.currentValue)}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(Eo),i.rXU(i.SKi))},V.\u0275cmp=i.VBU({type:V,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[i.OA$],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(R,$){if(1&R&&(i.DNE(0,so,1,1,"ng-template",null,0,i.C5r)(2,ds,0,0,"ng-template",1),i.nI1(3,"async"),i.nI1(4,"async")),2&R){let ne;const ve=i.sdS(1);i.R7$(2),i.Y8G("ngTemplateOutlet",$.customTemplate||ve)("ngTemplateOutletContext",i.sGs(6,Gi,$.columnDate,$.dayStartHour,$.dayStartMinute,$.dayEndHour,$.dayEndMinute,null==(ne=i.bMT(3,2,$.marker$))?null:ne.isVisible,null==(ne=i.bMT(4,4,$.marker$))?null:ne.top))}},dependencies:[l.bT,l.T3,l.Jj],encapsulation:2}),V})(),fo=(()=>{class V{constructor(R,$,ne,ve,We){this.cdr=R,this.utils=$,this.dateAdapter=ve,this.element=We,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new i.bkB,this.eventClicked=new i.bkB,this.eventTimesChanged=new i.bkB,this.beforeViewRender=new i.bkB,this.hourSegmentClicked=new i.bkB,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=Ja,this.trackByHourSegment=Dl,this.trackByHour=Qr,this.trackByWeekAllDayEvent=Il,this.trackByWeekTimeEvent=ul,this.trackByHourColumn=(dt,an)=>an.hours[0]?an.hours[0].segments[0].date.toISOString():an,this.trackById=(dt,an)=>an.id,this.locale=ne}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(R){const $=R.viewDate||R.excludeDays||R.weekendDays||R.daysInWeek||R.weekStartsOn,ne=R.viewDate||R.dayStartHour||R.dayStartMinute||R.dayEndHour||R.dayEndMinute||R.hourSegments||R.hourDuration||R.weekStartsOn||R.weekendDays||R.excludeDays||R.hourSegmentHeight||R.events||R.daysInWeek||R.minimumEventHeight;$&&this.refreshHeader(),R.events&&ji(this.events),ne&&this.refreshBody(),($||ne)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(R,$,ne){this.timeEventResizes.set($.event,ne),this.resizeStarted(R,$)}timeEventResizing(R,$){this.timeEventResizes.set(R.event,$);const ne=new Map,ve=[...this.events];this.timeEventResizes.forEach((We,dt)=>{const an=this.getTimeEventResizedDates(dt,We),Dt={...dt,...an};ne.set(Dt,dt);const ln=ve.indexOf(dt);ve[ln]=Dt}),this.restoreOriginalEvents(ve,ne,!0)}timeEventResizeEnded(R){this.view=this.getWeekView(this.events);const $=this.timeEventResizes.get(R.event);if($){this.timeEventResizes.delete(R.event);const ne=this.getTimeEventResizedDates(R.event,$);this.eventTimesChanged.emit({newStart:ne.start,newEnd:ne.end,event:R.event,type:to.Resize})}}allDayEventResizeStarted(R,$,ne){this.allDayEventResizes.set($,{originalOffset:$.offset,originalSpan:$.span,edge:typeof ne.edges.left<"u"?"left":"right"}),this.resizeStarted(R,$,this.getDayColumnWidth(R))}allDayEventResizing(R,$,ne){const ve=this.allDayEventResizes.get(R),We=this.rtl?-1:1;if(typeof $.edges.left<"u"){const dt=Math.round(+$.edges.left/ne)*We;R.offset=ve.originalOffset+dt,R.span=ve.originalSpan-dt}else if(typeof $.edges.right<"u"){const dt=Math.round(+$.edges.right/ne)*We;R.span=ve.originalSpan+dt}}allDayEventResizeEnded(R){const $=this.allDayEventResizes.get(R);if($){const ne="left"===$.edge;let ve;ve=ne?R.offset-$.originalOffset:R.span-$.originalSpan,R.offset=$.originalOffset,R.span=$.originalSpan;const We=this.getAllDayEventResizedDates(R.event,ve,ne);this.eventTimesChanged.emit({newStart:We.start,newEnd:We.end,event:R.event,type:to.Resize}),this.allDayEventResizes.delete(R)}}getDayColumnWidth(R){return Math.floor(R.offsetWidth/this.days.length)}dateDragEnter(R){this.lastDragEnterDate=R}eventDropped(R,$,ne){(function pa(V,J,R,$){return V.dropData&&V.dropData.event&&(V.dropData.calendarId!==$||V.dropData.event.allDay&&!R||!V.dropData.event.allDay&&R)})(R,0,ne,this.calendarId)&&this.lastDragEnterDate.getTime()===$.getTime()&&(!this.snapDraggedEvents||R.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:to.Drop,event:R.dropData.event,newStart:$,allDay:ne}),this.lastDraggedEvent=null}dragEnter(R){this.eventDragEnterByType[R]++}dragLeave(R){this.eventDragEnterByType[R]--}dragStarted(R,$,ne,ve){this.dayColumnWidth=this.getDayColumnWidth(R);const We=new Ra(R,$);this.validateDrag=({x:dt,y:an,transform:Dt})=>{const ln=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&We.validateDrag({x:dt,y:an,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:Dt});if(ln&&this.validateEventTimesChanged){const Gn=this.getDragMovedEventTimes(ne,{x:dt,y:an},this.dayColumnWidth,ve);return this.validateEventTimesChanged({type:to.Drag,event:ne.event,newStart:Gn.start,newEnd:Gn.end})}return ln},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&ve&&this.view.hourColumns.forEach(dt=>{const an=dt.events.find(Dt=>Dt.event===ne.event&&Dt!==ne);an&&(an.width=0,an.height=0)}),this.cdr.markForCheck()}dragMove(R,$){const ne=this.getDragMovedEventTimes(R,$,this.dayColumnWidth,!0),ve=R.event,We={...ve,...ne},dt=this.events.map(an=>an===ve?We:an);this.restoreOriginalEvents(dt,new Map([[We,ve]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(R,$,ne,ve=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:We,end:dt}=this.getDragMovedEventTimes(R,$,ne,ve);(this.snapDraggedEvents||this.eventDragEnterByType[ve?"time":"allDay"]>0)&&function Za(V,J,R){const $=J||V;return R.start<=V&&V<=R.end||R.start<=$&&$<=R.end}(We,dt,this.view.period)&&(this.lastDraggedEvent=R.event,this.eventTimesChanged.emit({newStart:We,newEnd:dt,event:R.event,type:to.Drag,allDay:!ve}))}refreshHeader(){this.days=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays,...ga(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit({header:this.days,...this.view})}getWeekView(R){return this.utils.getWeekView({events:R,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight,...ga(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}getDragMovedEventTimes(R,$,ne,ve){const We=Sa($.x,ne)/ne*(this.rtl?-1:1),dt=ve?na($.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,an=this.dateAdapter.addMinutes(ao(this.dateAdapter,R.event.start,We,this.excludeDays),dt);let Dt;return R.event.end&&(Dt=this.dateAdapter.addMinutes(ao(this.dateAdapter,R.event.end,We,this.excludeDays),dt)),{start:an,end:Dt}}restoreOriginalEvents(R,$,ne=!0){const ve=this.view;ne&&(this.view=this.getWeekView(R));const We=R.filter(dt=>$.has(dt));this.view.hourColumns.forEach((dt,an)=>{ve.hourColumns[an].hours.forEach((Dt,ln)=>{Dt.segments.forEach((Gn,di)=>{dt.hours[ln].segments[di].cssClass=Gn.cssClass})}),We.forEach(Dt=>{const ln=$.get(Dt),Gn=dt.events.find(di=>di.event===(ne?Dt:ln));Gn?(Gn.event=ln,Gn.tempEvent=Dt,ne||(Gn.height=0,Gn.width=0)):dt.events.push({event:ln,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:Dt})})}),$.clear()}getTimeEventResizedDates(R,$){const ne={start:R.start,end:Fo(this.dateAdapter,R,this.minimumEventHeight)},{end:ve,...We}=R,dt={start:this.dateAdapter.addMinutes(ne.end,-1*this.minimumEventHeight),end:Fo(this.dateAdapter,We,this.minimumEventHeight)},an=this.rtl?-1:1;if(typeof $.edges.left<"u"){const Dt=Math.round(+$.edges.left/this.dayColumnWidth)*an,ln=ao(this.dateAdapter,ne.start,Dt,this.excludeDays);ne.start=ln<dt.start?ln:dt.start}else if(typeof $.edges.right<"u"){const Dt=Math.round(+$.edges.right/this.dayColumnWidth)*an,ln=ao(this.dateAdapter,ne.end,Dt,this.excludeDays);ne.end=ln>dt.end?ln:dt.end}if(typeof $.edges.top<"u"){const Dt=na($.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),ln=this.dateAdapter.addMinutes(ne.start,Dt);ne.start=ln<dt.start?ln:dt.start}else if(typeof $.edges.bottom<"u"){const Dt=na($.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),ln=this.dateAdapter.addMinutes(ne.end,Dt);ne.end=ln>dt.end?ln:dt.end}return ne}resizeStarted(R,$,ne){this.dayColumnWidth=this.getDayColumnWidth(R);const ve=new vc(R,ne,this.rtl);this.validateResize=({rectangle:We,edges:dt})=>{const an=ve.validateResize({rectangle:{...We},edges:dt});if(an&&this.validateEventTimesChanged){let Dt;if(ne){const ln=this.rtl?-1:1;if(typeof dt.left<"u"){const Gn=Math.round(+dt.left/ne)*ln;Dt=this.getAllDayEventResizedDates($.event,Gn,!this.rtl)}else{const Gn=Math.round(+dt.right/ne)*ln;Dt=this.getAllDayEventResizedDates($.event,Gn,this.rtl)}}else Dt=this.getTimeEventResizedDates($.event,{rectangle:We,edges:dt});return this.validateEventTimesChanged({type:to.Resize,event:$.event,newStart:Dt.start,newEnd:Dt.end})}return an},this.cdr.markForCheck()}getAllDayEventResizedDates(R,$,ne){let ve=R.start,We=R.end||R.start;return ne?ve=ao(this.dateAdapter,ve,$,this.excludeDays):We=ao(this.dateAdapter,We,$,this.excludeDays),{start:ve,end:We}}}return V.\u0275fac=function(R){return new(R||V)(i.rXU(i.gRc),i.rXU(Ua),i.rXU(i.xe9),i.rXU(Eo),i.rXU(i.aKT))},V.\u0275cmp=i.VBU({type:V,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[i.OA$],decls:8,vars:9,consts:[["dayColumns",""],["allDayEventsContainer",""],["eventRowContainer",""],["event",""],["weekEventTemplate",""],["role","grid",1,"cal-week-view"],[3,"dayHeaderClicked","eventDropped","dragEnter","days","locale","customTemplate"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],[1,"cal-time-label-column"],[4,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd","ngClass","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress"],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"eventClicked","locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd","ngClass","hidden","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag"],[3,"ngTemplateOutlet"],[3,"eventClicked","locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"mwlClick","drop","dragEnter","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel"]],template:function(R,$){if(1&R){const ne=i.RV6();i.j41(0,"div",5)(1,"mwl-calendar-week-view-header",6),i.bIt("dayHeaderClicked",function(We){return i.eBV(ne),i.Njj($.dayHeaderClicked.emit(We))})("eventDropped",function(We){return i.eBV(ne),i.Njj($.eventDropped({dropData:We},We.newStart,!0))})("dragEnter",function(We){return i.eBV(ne),i.Njj($.dateDragEnter(We.date))}),i.k0s(),i.DNE(2,Va,7,5,"div",7),i.j41(3,"div",8),i.bIt("dragEnter",function(){return i.eBV(ne),i.Njj($.dragEnter("time"))})("dragLeave",function(){return i.eBV(ne),i.Njj($.dragLeave("time"))}),i.DNE(4,wo,2,2,"div",9),i.j41(5,"div",10,0),i.DNE(7,$s,5,13,"div",11),i.k0s()()()}2&R&&(i.R7$(),i.Y8G("days",$.days)("locale",$.locale)("customTemplate",$.headerTemplate),i.R7$(),i.Y8G("ngIf",$.view.allDayEventRows.length>0),i.R7$(2),i.Y8G("ngIf",$.view.hourColumns.length>0&&1!==$.daysInWeek),i.R7$(),i.AVh("cal-resize-active",$.timeEventResizes.size>0),i.R7$(2),i.Y8G("ngForOf",$.view.hourColumns)("ngForTrackBy",$.trackByHourColumn))},dependencies:[l.YU,l.Sq,l.bT,l.T3,Mi,Yi,kn,Oi,Bi,ia,Ds,ra,tl],encapsulation:2}),V})(),Ui=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=i.$C({type:V}),V.\u0275inj=i.G2t({imports:[l.MD,oi,gr,Vo,oi,gr]}),V})(),dl=(()=>{class V{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new i.bkB,this.hourSegmentClicked=new i.bkB,this.eventTimesChanged=new i.bkB,this.beforeViewRender=new i.bkB}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275cmp=i.VBU({type:V,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:27,consts:[[1,"cal-day-view",3,"eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender","daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","resizeCursors","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged"]],template:function(R,$){1&R&&(i.j41(0,"mwl-calendar-week-view",0),i.bIt("eventClicked",function(ve){return $.eventClicked.emit(ve)})("hourSegmentClicked",function(ve){return $.hourSegmentClicked.emit(ve)})("eventTimesChanged",function(ve){return $.eventTimesChanged.emit(ve)})("beforeViewRender",function(ve){return $.beforeViewRender.emit(ve)}),i.k0s()),2&R&&i.Y8G("daysInWeek",1)("viewDate",$.viewDate)("events",$.events)("hourSegments",$.hourSegments)("hourDuration",$.hourDuration)("hourSegmentHeight",$.hourSegmentHeight)("minimumEventHeight",$.minimumEventHeight)("dayStartHour",$.dayStartHour)("dayStartMinute",$.dayStartMinute)("dayEndHour",$.dayEndHour)("dayEndMinute",$.dayEndMinute)("refresh",$.refresh)("locale",$.locale)("eventSnapSize",$.eventSnapSize)("tooltipPlacement",$.tooltipPlacement)("tooltipTemplate",$.tooltipTemplate)("tooltipAppendToBody",$.tooltipAppendToBody)("tooltipDelay",$.tooltipDelay)("resizeCursors",$.resizeCursors)("hourSegmentTemplate",$.hourSegmentTemplate)("eventTemplate",$.eventTemplate)("eventTitleTemplate",$.eventTitleTemplate)("eventActionsTemplate",$.eventActionsTemplate)("snapDraggedEvents",$.snapDraggedEvents)("allDayEventsLabelTemplate",$.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",$.currentTimeMarkerTemplate)("validateEventTimesChanged",$.validateEventTimesChanged)},dependencies:[fo],encapsulation:2}),V})(),Is=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=i.$C({type:V}),V.\u0275inj=i.G2t({imports:[l.MD,Vo,Ui]}),V})(),Sr=(()=>{class V{static forRoot(R,$={}){return{ngModule:V,providers:[R,$.eventTitleFormatter||ce,$.dateFormatter||Bs,$.utils||Ua,$.a11y||xi]}}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=i.$C({type:V}),V.\u0275inj=i.G2t({imports:[Vo,ic,Ui,Is,Vo,ic,Ui,Is]}),V})()},906:(un,nt,B)=>{"use strict";B.d(nt,{f:()=>_e});var i=B(4273),l=B(7729);function _e(Te,Ye){const Oe=(0,i.a)(Te);return isNaN(Ye)?(0,l.w)(Te,NaN):(Ye&&Oe.setDate(Oe.getDate()+Ye),Oe)}},7729:(un,nt,B)=>{"use strict";function i(_e,le){return _e instanceof Date?new _e.constructor(le):new Date(le)}B.d(nt,{w:()=>i})},4512:(un,nt,B)=>{"use strict";B.d(nt,{D:()=>l});var i=B(4273);function l(le){const Te=(0,i.a)(le);return Te.setHours(23,59,59,999),Te}},5818:(un,nt,B)=>{"use strict";B.d(nt,{r:()=>l});var i=B(3601);function l(le,Te){return+(0,i.o)(le)==+(0,i.o)(Te)}},7518:(un,nt,B)=>{"use strict";B.d(nt,{t:()=>l});var i=B(4273);function l(le,Te){const Ye=(0,i.a)(le),Oe=(0,i.a)(Te);return Ye.getFullYear()===Oe.getFullYear()&&Ye.getMonth()===Oe.getMonth()}},3601:(un,nt,B)=>{"use strict";B.d(nt,{o:()=>l});var i=B(4273);function l(le){const Te=(0,i.a)(le);return Te.setHours(0,0,0,0),Te}},7165:(un,nt,B)=>{"use strict";B.d(nt,{e:()=>l});var i=B(906);function l(le,Te){return(0,i.f)(le,-Te)}},4273:(un,nt,B)=>{"use strict";function i(_e){const le=Object.prototype.toString.call(_e);return _e instanceof Date||"object"==typeof _e&&"[object Date]"===le?new _e.constructor(+_e):"number"==typeof _e||"[object Number]"===le||"string"==typeof _e||"[object String]"===le?new Date(_e):new Date(NaN)}B.d(nt,{a:()=>i})},7935:(un,nt,B)=>{"use strict";B.d(nt,{A:()=>i.A});var i=B(3345);i.A.registerVersion("firebase","10.14.1","app-compat")},7955:(un,nt,B)=>{"use strict";var i=B(467),l=B(3345),_e=B(7852),le=B(1076),Te=B(8041),Ye=B(1635),Oe=B(1362);const et={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Bt=function It(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},fn=function Rt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Wt=new le.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Cn=new Te.Vy("@firebase/auth");function jt(A,..._){Cn.logLevel<=Te.$b.ERROR&&Cn.error(`Auth (${_e.SDK_VERSION}): ${A}`,..._)}function wt(A,..._){throw He(A,..._)}function ge(A,..._){return He(A,..._)}function Tn(A,_,b){const O=Object.assign(Object.assign({},fn()),{[_]:b});return new le.FA("auth","Firebase",O).create(_,{appName:A.name})}function qt(A){return Tn(A,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mt(A,_,b){if(!(_ instanceof b))throw b.name!==_.constructor.name&&wt(A,"argument-error"),Tn(A,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(A,..._){if("string"!=typeof A){const b=_[0],O=[..._.slice(1)];return O[0]&&(O[0].appName=A.name),A._errorFactory.create(b,...O)}return Wt.create(A,..._)}function Se(A,_,...b){if(!A)throw He(_,...b)}function Le(A){const _="INTERNAL ASSERTION FAILED: "+A;throw jt(_),new Error(_)}function Qt(A,_){A||Le(_)}function Rn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function Xn(){return"http:"===ai()||"https:"===ai()}function ai(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class En{constructor(_,b){this.shortDelay=_,this.longDelay=b,Qt(b>_,"Short delay should be less than long delay!"),this.isMobile=(0,le.jZ)()||(0,le.lV)()}get(){return function $n(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xn()||(0,le.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ri(A,_){Qt(A.emulator,"Emulator should always be set here");const{url:b}=A.emulator;return _?`${b}${_.startsWith("/")?_.slice(1):_}`:b}class mt{static initialize(_,b,O){this.fetchImpl=_,b&&(this.headersImpl=b),O&&(this.responseImpl=O)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ze=new En(3e4,6e4);function Ie(A,_){return A.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:A.tenantId}):_}function Ke(A,_,b,O){return it.apply(this,arguments)}function it(){return(it=(0,i.A)(function*(A,_,b,O,re={}){return ot(A,re,(0,i.A)(function*(){let we={},at={};O&&("GET"===_?at=O:we={body:JSON.stringify(O)});const xt=(0,le.Am)(Object.assign({key:A.config.apiKey},at)).slice(1),vn=yield A._getAdditionalHeaders();vn["Content-Type"]="application/json",A.languageCode&&(vn["X-Firebase-Locale"]=A.languageCode);const Yn=Object.assign({method:_,headers:vn},we);return(0,le.c1)()||(Yn.referrerPolicy="no-referrer"),mt.fetch()(en(A,A.config.apiHost,b,xt),Yn)}))})).apply(this,arguments)}function ot(A,_,b){return On.apply(this,arguments)}function On(){return(On=(0,i.A)(function*(A,_,b){A._canInitEmulator=!1;const O=Object.assign(Object.assign({},Be),_);try{const re=new hi(A),we=yield Promise.race([b(),re.promise]);re.clearNetworkTimeout();const at=yield we.json();if("needConfirmation"in at)throw tn(A,"account-exists-with-different-credential",at);if(we.ok&&!("errorMessage"in at))return at;{const xt=we.ok?at.errorMessage:at.error.message,[vn,Yn]=xt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===vn)throw tn(A,"credential-already-in-use",at);if("EMAIL_EXISTS"===vn)throw tn(A,"email-already-in-use",at);if("USER_DISABLED"===vn)throw tn(A,"user-disabled",at);const Ei=O[vn]||vn.toLowerCase().replace(/[_\s]+/g,"-");if(Yn)throw Tn(A,Ei,Yn);wt(A,Ei)}}catch(re){if(re instanceof le.g)throw re;wt(A,"network-request-failed",{message:String(re)})}})).apply(this,arguments)}function ei(A,_,b,O){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,i.A)(function*(A,_,b,O,re={}){const we=yield Ke(A,_,b,O,re);return"mfaPendingCredential"in we&&wt(A,"multi-factor-auth-required",{_serverResponse:we}),we})).apply(this,arguments)}function en(A,_,b,O){const re=`${_}${b}?${O}`;return A.config.emulator?ri(A.config,re):`${A.config.apiScheme}://${re}`}function cn(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hi{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((b,O)=>{this.timer=setTimeout(()=>O(ge(this.auth,"network-request-failed")),Ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tn(A,_,b){const O={appName:A.name};b.email&&(O.email=b.email),b.phoneNumber&&(O.phoneNumber=b.phoneNumber);const re=ge(A,_,O);return re.customData._tokenResponse=b,re}function bt(A){return void 0!==A&&void 0!==A.getResponse}function xe(A){return void 0!==A&&void 0!==A.enterprise}class Ft{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const b of this.recaptchaEnforcementState)if(b.provider&&b.provider===_)return cn(b.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function Qe(){return(Qe=(0,i.A)(function*(A){return(yield Ke(A,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ve(A,_){return pt.apply(this,arguments)}function pt(){return(pt=(0,i.A)(function*(A,_){return Ke(A,"GET","/v2/recaptchaConfig",Ie(A,_))})).apply(this,arguments)}function Nn(){return(Nn=(0,i.A)(function*(A,_){return Ke(A,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function jn(){return(jn=(0,i.A)(function*(A,_){return Ke(A,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ur(A,_){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,i.A)(function*(A,_){return Ke(A,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Fi(A){if(A)try{const _=new Date(Number(A));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function os(){return(os=(0,i.A)(function*(A,_=!1){const b=(0,le.Ku)(A),O=yield b.getIdToken(_),re=Pn(O);Se(re&&re.exp&&re.auth_time&&re.iat,b.auth,"internal-error");const we="object"==typeof re.firebase?re.firebase:void 0,at=we?.sign_in_provider;return{claims:re,token:O,authTime:Fi(Kn(re.auth_time)),issuedAtTime:Fi(Kn(re.iat)),expirationTime:Fi(Kn(re.exp)),signInProvider:at||null,signInSecondFactor:we?.sign_in_second_factor||null}})).apply(this,arguments)}function Kn(A){return 1e3*Number(A)}function Pn(A){const[_,b,O]=A.split(".");if(void 0===_||void 0===b||void 0===O)return jt("JWT malformed, contained fewer than 3 sections"),null;try{const re=(0,le.u)(b);return re?JSON.parse(re):(jt("Failed to decode base64 JWT payload"),null)}catch(re){return jt("Caught error parsing JWT payload as JSON",re?.toString()),null}}function er(A){const _=Pn(A);return Se(_,"internal-error"),Se(typeof _.exp<"u","internal-error"),Se(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}function Wn(A,_){return ws.apply(this,arguments)}function ws(){return(ws=(0,i.A)(function*(A,_,b=!1){if(b)return _;try{return yield _}catch(O){throw O instanceof le.g&&function ni({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(O)&&A.auth.currentUser===A&&(yield A.auth.signOut()),O}})).apply(this,arguments)}class gn{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var b;if(_){const O=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),O}{this.errorBackoff=3e4;const re=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,re)}}schedule(_=!1){var b=this;if(!this.isRunning)return;const O=this.getInterval(_);this.timerId=setTimeout((0,i.A)(function*(){yield b.iteration()}),O)}iteration(){var _=this;return(0,i.A)(function*(){try{yield _.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&_.schedule(!0))}_.schedule()})()}}class Fr{constructor(_,b){this.createdAt=_,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fi(this.lastLoginAt),this.creationTime=Fi(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Es(A){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,i.A)(function*(A){var _;const b=A.auth,O=yield A.getIdToken(),re=yield Wn(A,ur(b,{idToken:O}));Se(re?.users.length,b,"internal-error");const we=re.users[0];A._notifyReloadListener(we);const at=null!==(_=we.providerUserInfo)&&void 0!==_&&_.length?ht(we.providerUserInfo):[],xt=function $e(A,_){return[...A.filter(O=>!_.some(re=>re.providerId===O.providerId)),..._]}(A.providerData,at),Ei=!!A.isAnonymous&&!(A.email&&we.passwordHash||xt?.length),Ci={uid:we.localId,displayName:we.displayName||null,photoURL:we.photoUrl||null,email:we.email||null,emailVerified:we.emailVerified||!1,phoneNumber:we.phoneNumber||null,tenantId:we.tenantId||null,providerData:xt,metadata:new Fr(we.createdAt,we.lastLoginAt),isAnonymous:Ei};Object.assign(A,Ci)})).apply(this,arguments)}function Tt(){return(Tt=(0,i.A)(function*(A){const _=(0,le.Ku)(A);yield Es(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function ht(A){return A.map(_=>{var{providerId:b}=_,O=(0,Ye.Tt)(_,["providerId"]);return{providerId:b,uid:O.rawId||"",displayName:O.displayName||null,email:O.email||null,phoneNumber:O.phoneNumber||null,photoURL:O.photoUrl||null}})}function Un(){return(Un=(0,i.A)(function*(A,_){const b=yield ot(A,{},(0,i.A)(function*(){const O=(0,le.Am)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:re,apiKey:we}=A.config,at=en(A,re,"/v1/token",`key=${we}`),xt=yield A._getAdditionalHeaders();return xt["Content-Type"]="application/x-www-form-urlencoded",mt.fetch()(at,{method:"POST",headers:xt,body:O})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}function ze(){return(ze=(0,i.A)(function*(A,_){return Ke(A,"POST","/v2/accounts:revokeToken",Ie(A,_))})).apply(this,arguments)}class ut{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Se(_.idToken,"internal-error"),Se(typeof _.idToken<"u","internal-error"),Se(typeof _.refreshToken<"u","internal-error");const b="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):er(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,b)}updateFromIdToken(_){Se(0!==_.length,"internal-error");const b=er(_);this.updateTokensAndExpiration(_,null,b)}getToken(_,b=!1){var O=this;return(0,i.A)(function*(){return b||!O.accessToken||O.isExpired?(Se(O.refreshToken,_,"user-token-expired"),O.refreshToken?(yield O.refresh(_,O.refreshToken),O.accessToken):null):O.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,b){var O=this;return(0,i.A)(function*(){const{accessToken:re,refreshToken:we,expiresIn:at}=yield function yn(A,_){return Un.apply(this,arguments)}(_,b);O.updateTokensAndExpiration(re,we,Number(at))})()}updateTokensAndExpiration(_,b,O){this.refreshToken=b||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*O}static fromJSON(_,b){const{refreshToken:O,accessToken:re,expirationTime:we}=b,at=new ut;return O&&(Se("string"==typeof O,"internal-error",{appName:_}),at.refreshToken=O),re&&(Se("string"==typeof re,"internal-error",{appName:_}),at.accessToken=re),we&&(Se("number"==typeof we,"internal-error",{appName:_}),at.expirationTime=we),at}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new ut,this.toJSON())}_performRefresh(){return Le("not implemented")}}function zt(A,_){Se("string"==typeof A||typeof A>"u","internal-error",{appName:_})}class Nt{constructor(_){var{uid:b,auth:O,stsTokenManager:re}=_,we=(0,Ye.Tt)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=O,this.stsTokenManager=re,this.accessToken=re.accessToken,this.displayName=we.displayName||null,this.email=we.email||null,this.emailVerified=we.emailVerified||!1,this.phoneNumber=we.phoneNumber||null,this.photoURL=we.photoURL||null,this.isAnonymous=we.isAnonymous||!1,this.tenantId=we.tenantId||null,this.providerData=we.providerData?[...we.providerData]:[],this.metadata=new Fr(we.createdAt||void 0,we.lastLoginAt||void 0)}getIdToken(_){var b=this;return(0,i.A)(function*(){const O=yield Wn(b,b.stsTokenManager.getToken(b.auth,_));return Se(O,b.auth,"internal-error"),b.accessToken!==O&&(b.accessToken=O,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),O})()}getIdTokenResult(_){return function nr(A){return os.apply(this,arguments)}(this,_)}reload(){return function vt(A){return Tt.apply(this,arguments)}(this)}_assign(_){this!==_&&(Se(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(b=>Object.assign({},b)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const b=new Nt(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(_){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,b=!1){var O=this;return(0,i.A)(function*(){let re=!1;_.idToken&&_.idToken!==O.stsTokenManager.accessToken&&(O.stsTokenManager.updateFromServerResponse(_),re=!0),b&&(yield Es(O)),yield O.auth._persistUserIfCurrent(O),re&&O.auth._notifyListenersIfCurrent(O)})()}delete(){var _=this;return(0,i.A)(function*(){if((0,_e._isFirebaseServerApp)(_.auth.app))return Promise.reject(qt(_.auth));const b=yield _.getIdToken();return yield Wn(_,function bn(A,_){return Nn.apply(this,arguments)}(_.auth,{idToken:b})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,b){var O,re,we,at,xt,vn,Yn,Ei;const Ci=null!==(O=b.displayName)&&void 0!==O?O:void 0,Fs=null!==(re=b.email)&&void 0!==re?re:void 0,Vs=null!==(we=b.phoneNumber)&&void 0!==we?we:void 0,wl=null!==(at=b.photoURL)&&void 0!==at?at:void 0,Qu=null!==(xt=b.tenantId)&&void 0!==xt?xt:void 0,Vd=null!==(vn=b._redirectEventId)&&void 0!==vn?vn:void 0,Sh=null!==(Yn=b.createdAt)&&void 0!==Yn?Yn:void 0,md=null!==(Ei=b.lastLoginAt)&&void 0!==Ei?Ei:void 0,{uid:Ou,emailVerified:Ld,isAnonymous:Bd,providerData:m,stsTokenManager:L}=b;Se(Ou&&L,_,"internal-error");const p=ut.fromJSON(this.name,L);Se("string"==typeof Ou,_,"internal-error"),zt(Ci,_.name),zt(Fs,_.name),Se("boolean"==typeof Ld,_,"internal-error"),Se("boolean"==typeof Bd,_,"internal-error"),zt(Vs,_.name),zt(wl,_.name),zt(Qu,_.name),zt(Vd,_.name),zt(Sh,_.name),zt(md,_.name);const E=new Nt({uid:Ou,auth:_,email:Fs,emailVerified:Ld,displayName:Ci,isAnonymous:Bd,photoURL:wl,phoneNumber:Vs,tenantId:Qu,stsTokenManager:p,createdAt:Sh,lastLoginAt:md});return m&&Array.isArray(m)&&(E.providerData=m.map(M=>Object.assign({},M))),Vd&&(E._redirectEventId=Vd),E}static _fromIdTokenResponse(_,b,O=!1){return(0,i.A)(function*(){const re=new ut;re.updateFromServerResponse(b);const we=new Nt({uid:b.localId,auth:_,stsTokenManager:re,isAnonymous:O});return yield Es(we),we})()}static _fromGetAccountInfoResponse(_,b,O){return(0,i.A)(function*(){const re=b.users[0];Se(void 0!==re.localId,"internal-error");const we=void 0!==re.providerUserInfo?ht(re.providerUserInfo):[],at=!(re.email&&re.passwordHash||we?.length),xt=new ut;xt.updateFromIdToken(O);const vn=new Nt({uid:re.localId,auth:_,stsTokenManager:xt,isAnonymous:at}),Yn={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:we,metadata:new Fr(re.createdAt,re.lastLoginAt),isAnonymous:!(re.email&&re.passwordHash||we?.length)};return Object.assign(vn,Yn),vn})()}}const kn=new Map;function rt(A){Qt(A instanceof Function,"Expected a class definition");let _=kn.get(A);return _?(Qt(_ instanceof A,"Instance stored in cache mismatched with class"),_):(_=new A,kn.set(A,_),_)}const gr=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,i.A)(function*(){return!0})()}_set(b,O){var re=this;return(0,i.A)(function*(){re.storage[b]=O})()}_get(b){var O=this;return(0,i.A)(function*(){const re=O.storage[b];return void 0===re?null:re})()}_remove(b){var O=this;return(0,i.A)(function*(){delete O.storage[b]})()}_addListener(b,O){}_removeListener(b,O){}}return A.type="NONE",A})();function Ai(A,_,b){return`firebase:${A}:${_}:${b}`}class li{constructor(_,b,O){this.persistence=_,this.auth=b,this.userKey=O;const{config:re,name:we}=this.auth;this.fullUserKey=Ai(this.userKey,re.apiKey,we),this.fullPersistenceKey=Ai("persistence",re.apiKey,we),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,i.A)(function*(){const b=yield _.persistence._get(_.fullUserKey);return b?Nt._fromJSON(_.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var b=this;return(0,i.A)(function*(){if(b.persistence===_)return;const O=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=_,O?b.setCurrentUser(O):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,b,O="authUser"){return(0,i.A)(function*(){if(!b.length)return new li(rt(gr),_,O);const re=(yield Promise.all(b.map(function(){var Yn=(0,i.A)(function*(Ei){if(yield Ei._isAvailable())return Ei});return function(Ei){return Yn.apply(this,arguments)}}()))).filter(Yn=>Yn);let we=re[0]||rt(gr);const at=Ai(O,_.config.apiKey,_.name);let xt=null;for(const Yn of b)try{const Ei=yield Yn._get(at);if(Ei){const Ci=Nt._fromJSON(_,Ei);Yn!==we&&(xt=Ci),we=Yn;break}}catch{}const vn=re.filter(Yn=>Yn._shouldAllowMigration);return we._shouldAllowMigration&&vn.length?(we=vn[0],xt&&(yield we._set(at,xt.toJSON())),yield Promise.all(b.map(function(){var Yn=(0,i.A)(function*(Ei){if(Ei!==we)try{yield Ei._remove(at)}catch{}});return function(Ei){return Yn.apply(this,arguments)}}())),new li(we,_,O)):new li(we,_,O)})()}}function qi(A){const _=A.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Da(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(Ur(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(No(_))return"Blackberry";if(Zo(_))return"Webos";if(Us(_))return"Safari";if((_.includes("chrome/")||Do(_))&&!_.includes("edge/"))return"Chrome";if(mr(_))return"Android";{const O=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===O?.length)return O[1]}return"Other"}function Ur(A=(0,le.ZQ)()){return/firefox\//i.test(A)}function Us(A=(0,le.ZQ)()){const _=A.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function Do(A=(0,le.ZQ)()){return/crios\//i.test(A)}function Da(A=(0,le.ZQ)()){return/iemobile/i.test(A)}function mr(A=(0,le.ZQ)()){return/android/i.test(A)}function No(A=(0,le.ZQ)()){return/blackberry/i.test(A)}function Zo(A=(0,le.ZQ)()){return/webos/i.test(A)}function es(A=(0,le.ZQ)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function Zt(A=(0,le.ZQ)()){return es(A)||mr(A)||Zo(A)||No(A)||/windows phone/i.test(A)||Da(A)}function qn(A,_=[]){let b;switch(A){case"Browser":b=qi((0,le.ZQ)());break;case"Worker":b=`${qi((0,le.ZQ)())}-${A}`;break;default:b=A}const O=_.length?_.join(","):"FirebaseCore-web";return`${b}/JsCore/${_e.SDK_VERSION}/${O}`}class Mi{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,b){const O=we=>new Promise((at,xt)=>{try{at(_(we))}catch(vn){xt(vn)}});O.onAbort=b,this.queue.push(O);const re=this.queue.length-1;return()=>{this.queue[re]=()=>Promise.resolve()}}runMiddleware(_){var b=this;return(0,i.A)(function*(){if(b.auth.currentUser===_)return;const O=[];try{for(const re of b.queue)yield re(_),re.onAbort&&O.push(re.onAbort)}catch(re){O.reverse();for(const we of O)try{we()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:re?.message})}})()}}function Yi(){return(Yi=(0,i.A)(function*(A,_={}){return Ke(A,"GET","/v2/passwordPolicy",Ie(A,_))})).apply(this,arguments)}class wi{constructor(_){var b,O,re,we;const at=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(b=at.minPasswordLength)&&void 0!==b?b:6,at.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=at.maxPasswordLength),void 0!==at.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=at.containsLowercaseCharacter),void 0!==at.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=at.containsUppercaseCharacter),void 0!==at.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=at.containsNumericCharacter),void 0!==at.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=at.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(re=null===(O=_.allowedNonAlphanumericCharacters)||void 0===O?void 0:O.join(""))&&void 0!==re?re:"",this.forceUpgradeOnSignin=null!==(we=_.forceUpgradeOnSignin)&&void 0!==we&&we,this.schemaVersion=_.schemaVersion}validatePassword(_){var b,O,re,we,at,xt;const vn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,vn),this.validatePasswordCharacterOptions(_,vn),vn.isValid&&(vn.isValid=null===(b=vn.meetsMinPasswordLength)||void 0===b||b),vn.isValid&&(vn.isValid=null===(O=vn.meetsMaxPasswordLength)||void 0===O||O),vn.isValid&&(vn.isValid=null===(re=vn.containsLowercaseLetter)||void 0===re||re),vn.isValid&&(vn.isValid=null===(we=vn.containsUppercaseLetter)||void 0===we||we),vn.isValid&&(vn.isValid=null===(at=vn.containsNumericCharacter)||void 0===at||at),vn.isValid&&(vn.isValid=null===(xt=vn.containsNonAlphanumericCharacter)||void 0===xt||xt),vn}validatePasswordLengthOptions(_,b){const O=this.customStrengthOptions.minPasswordLength,re=this.customStrengthOptions.maxPasswordLength;O&&(b.meetsMinPasswordLength=_.length>=O),re&&(b.meetsMaxPasswordLength=_.length<=re)}validatePasswordCharacterOptions(_,b){let O;this.updatePasswordCharacterOptionsStatuses(b,!1,!1,!1,!1);for(let re=0;re<_.length;re++)O=_.charAt(re),this.updatePasswordCharacterOptionsStatuses(b,O>="a"&&O<="z",O>="A"&&O<="Z",O>="0"&&O<="9",this.allowedNonAlphanumericCharacters.includes(O))}updatePasswordCharacterOptionsStatuses(_,b,O,re,we){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=b)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=O)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=re)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=we))}}class as{constructor(_,b,O,re){this.app=_,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=O,this.config=re,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ts(this),this.idTokenSubscription=new ts(this),this.beforeStateQueue=new Mi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=re.sdkClientVersion}_initializeWithPersistence(_,b){var O=this;return b&&(this._popupRedirectResolver=rt(b)),this._initializationPromise=this.queue((0,i.A)(function*(){var re,we;if(!O._deleted&&(O.persistenceManager=yield li.create(O,_),!O._deleted)){if(null!==(re=O._popupRedirectResolver)&&void 0!==re&&re._shouldInitProactively)try{yield O._popupRedirectResolver._initialize(O)}catch{}yield O.initializeCurrentUser(b),O.lastNotifiedUid=(null===(we=O.currentUser)||void 0===we?void 0:we.uid)||null,!O._deleted&&(O._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,i.A)(function*(){if(_._deleted)return;const b=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||b){if(_.currentUser&&b&&_.currentUser.uid===b.uid)return _._currentUser._assign(b),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(b,!0)}})()}initializeCurrentUserFromIdToken(_){var b=this;return(0,i.A)(function*(){try{const O=yield ur(b,{idToken:_}),re=yield Nt._fromGetAccountInfoResponse(b,O,_);yield b.directlySetCurrentUser(re)}catch(O){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",O),yield b.directlySetCurrentUser(null)}})()}initializeCurrentUser(_){var b=this;return(0,i.A)(function*(){var O;if((0,_e._isFirebaseServerApp)(b.app)){const xt=b.app.settings.authIdToken;return xt?new Promise(vn=>{setTimeout(()=>b.initializeCurrentUserFromIdToken(xt).then(vn,vn))}):b.directlySetCurrentUser(null)}const re=yield b.assertedPersistence.getCurrentUser();let we=re,at=!1;if(_&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const xt=null===(O=b.redirectUser)||void 0===O?void 0:O._redirectEventId,vn=we?._redirectEventId,Yn=yield b.tryRedirectSignIn(_);(!xt||xt===vn)&&Yn?.user&&(we=Yn.user,at=!0)}if(!we)return b.directlySetCurrentUser(null);if(!we._redirectEventId){if(at)try{yield b.beforeStateQueue.runMiddleware(we)}catch(xt){we=re,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(xt))}return we?b.reloadAndSetCurrentUserOrClear(we):b.directlySetCurrentUser(null)}return Se(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===we._redirectEventId?b.directlySetCurrentUser(we):b.reloadAndSetCurrentUserOrClear(we)})()}tryRedirectSignIn(_){var b=this;return(0,i.A)(function*(){let O=null;try{O=yield b._popupRedirectResolver._completeRedirectFn(b,_,!0)}catch{yield b._setRedirectUser(null)}return O})()}reloadAndSetCurrentUserOrClear(_){var b=this;return(0,i.A)(function*(){try{yield Es(_)}catch(O){if("auth/network-request-failed"!==O?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Zn(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var _=this;return(0,i.A)(function*(){_._deleted=!0})()}updateCurrentUser(_){var b=this;return(0,i.A)(function*(){if((0,_e._isFirebaseServerApp)(b.app))return Promise.reject(qt(b));const O=_?(0,le.Ku)(_):null;return O&&Se(O.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(O&&O._clone(b))})()}_updateCurrentUser(_,b=!1){var O=this;return(0,i.A)(function*(){if(!O._deleted)return _&&Se(O.tenantId===_.tenantId,O,"tenant-id-mismatch"),b||(yield O.beforeStateQueue.runMiddleware(_)),O.queue((0,i.A)(function*(){yield O.directlySetCurrentUser(_),O.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,i.A)(function*(){return(0,_e._isFirebaseServerApp)(_.app)?Promise.reject(qt(_)):(yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0))})()}setPersistence(_){var b=this;return(0,_e._isFirebaseServerApp)(this.app)?Promise.reject(qt(this)):this.queue((0,i.A)(function*(){yield b.assertedPersistence.setPersistence(rt(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var b=this;return(0,i.A)(function*(){b._getPasswordPolicyInternal()||(yield b._updatePasswordPolicy());const O=b._getPasswordPolicyInternal();return O.schemaVersion!==b.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(b._errorFactory.create("unsupported-password-policy-schema-version",{})):O.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,i.A)(function*(){const b=yield function gi(A){return Yi.apply(this,arguments)}(_),O=new wi(b);null===_.tenantId?_._projectPasswordPolicy=O:_._tenantPasswordPolicies[_.tenantId]=O})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new le.FA("auth","Firebase",_())}onAuthStateChanged(_,b,O){return this.registerStateListener(this.authStateSubscription,_,b,O)}beforeAuthStateChanged(_,b){return this.beforeStateQueue.pushCallback(_,b)}onIdTokenChanged(_,b,O){return this.registerStateListener(this.idTokenSubscription,_,b,O)}authStateReady(){return new Promise((_,b)=>{if(this.currentUser)_();else{const O=this.onAuthStateChanged(()=>{O(),_()},b)}})}revokeAccessToken(_){var b=this;return(0,i.A)(function*(){if(b.currentUser){const O=yield b.currentUser.getIdToken(),re={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:O};null!=b.tenantId&&(re.tenantId=b.tenantId),yield function Ge(A,_){return ze.apply(this,arguments)}(b,re)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,b){var O=this;return(0,i.A)(function*(){const re=yield O.getOrInitRedirectPersistenceManager(b);return null===_?re.removeCurrentUser():re.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var b=this;return(0,i.A)(function*(){if(!b.redirectPersistenceManager){const O=_&&rt(_)||b._popupRedirectResolver;Se(O,b,"argument-error"),b.redirectPersistenceManager=yield li.create(b,[rt(O._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(_){var b=this;return(0,i.A)(function*(){var O,re;return b._isInitialized&&(yield b.queue((0,i.A)(function*(){}))),(null===(O=b._currentUser)||void 0===O?void 0:O._redirectEventId)===_?b._currentUser:(null===(re=b.redirectUser)||void 0===re?void 0:re._redirectEventId)===_?b.redirectUser:null})()}_persistUserIfCurrent(_){var b=this;return(0,i.A)(function*(){if(_===b.currentUser)return b.queue((0,i.A)(function*(){return b.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const O=null!==(b=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==O&&(this.lastNotifiedUid=O,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,b,O,re){if(this._deleted)return()=>{};const we="function"==typeof b?b:b.next.bind(b);let at=!1;const xt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(xt,this,"internal-error"),xt.then(()=>{at||we(this.currentUser)}),"function"==typeof b){const vn=_.addObserver(b,O,re);return()=>{at=!0,vn()}}{const vn=_.addObserver(b);return()=>{at=!0,vn()}}}directlySetCurrentUser(_){var b=this;return(0,i.A)(function*(){b.currentUser&&b.currentUser!==_&&b._currentUser._stopProactiveRefresh(),_&&b.isProactiveRefreshEnabled&&_._startProactiveRefresh(),b.currentUser=_,_?yield b.assertedPersistence.setCurrentUser(_):yield b.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=qn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,i.A)(function*(){var b;const O={"X-Client-Version":_.clientVersion};_.app.options.appId&&(O["X-Firebase-gmpid"]=_.app.options.appId);const re=yield null===(b=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();re&&(O["X-Firebase-Client"]=re);const we=yield _._getAppCheckToken();return we&&(O["X-Firebase-AppCheck"]=we),O})()}_getAppCheckToken(){var _=this;return(0,i.A)(function*(){var b;const O=yield null===(b=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return O?.error&&function Mn(A,..._){Cn.logLevel<=Te.$b.WARN&&Cn.warn(`Auth (${_e.SDK_VERSION}): ${A}`,..._)}(`Error while retrieving App Check token: ${O.error}`),O?.token})()}}function Er(A){return(0,le.Ku)(A)}class ts{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,le.tD)(b=>this.observer=b)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cs={loadJS:()=>(0,i.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Io(A){return Cs.loadJS(A)}function la(A){return`__${A}${Math.floor(1e6*Math.random())}`}class qa{constructor(_){this.type="recaptcha-enterprise",this.auth=Er(_)}verify(_="verify",b=!1){var O=this;return(0,i.A)(function*(){function we(){return we=(0,i.A)(function*(xt){if(!b){if(null==xt.tenantId&&null!=xt._agentRecaptchaConfig)return xt._agentRecaptchaConfig.siteKey;if(null!=xt.tenantId&&void 0!==xt._tenantRecaptchaConfigs[xt.tenantId])return xt._tenantRecaptchaConfigs[xt.tenantId].siteKey}return new Promise(function(){var vn=(0,i.A)(function*(Yn,Ei){Ve(xt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ci=>{if(void 0!==Ci.recaptchaKey){const Fs=new Ft(Ci);return null==xt.tenantId?xt._agentRecaptchaConfig=Fs:xt._tenantRecaptchaConfigs[xt.tenantId]=Fs,Yn(Fs.siteKey)}Ei(new Error("recaptcha Enterprise site key undefined"))}).catch(Ci=>{Ei(Ci)})});return function(Yn,Ei){return vn.apply(this,arguments)}}())}),we.apply(this,arguments)}function at(xt,vn,Yn){const Ei=window.grecaptcha;xe(Ei)?Ei.enterprise.ready(()=>{Ei.enterprise.execute(xt,{action:_}).then(Ci=>{vn(Ci)}).catch(()=>{vn("NO_RECAPTCHA")})}):Yn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((xt,vn)=>{(function re(xt){return we.apply(this,arguments)})(O.auth).then(Yn=>{if(!b&&xe(window.grecaptcha))at(Yn,xt,vn);else{if(typeof window>"u")return void vn(new Error("RecaptchaVerifier is only supported in browser"));let Ei=function aa(){return Cs.recaptchaEnterpriseScript}();0!==Ei.length&&(Ei+=Yn),Io(Ei).then(()=>{at(Yn,xt,vn)}).catch(Ci=>{vn(Ci)})}}).catch(Yn=>{vn(Yn)})})})()}}function El(A,_,b){return vo.apply(this,arguments)}function vo(){return(vo=(0,i.A)(function*(A,_,b,O=!1){const re=new qa(A);let we;try{we=yield re.verify(b)}catch{we=yield re.verify(b,!0)}const at=Object.assign({},_);return Object.assign(at,O?{captchaResp:we}:{captchaResponse:we}),Object.assign(at,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(at,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),at})).apply(this,arguments)}function Ys(A,_,b,O){return Oo.apply(this,arguments)}function Oo(){return Oo=(0,i.A)(function*(A,_,b,O){var re;if(null!==(re=A._getRecaptchaConfig())&&void 0!==re&&re.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const we=yield El(A,_,b,"getOobCode"===b);return O(A,we)}return O(A,_).catch(function(){var we=(0,i.A)(function*(at){if("auth/missing-recaptcha-token"===at.code){console.log(`${b} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const xt=yield El(A,_,b,"getOobCode"===b);return O(A,xt)}return Promise.reject(at)});return function(at){return we.apply(this,arguments)}}())}),Oo.apply(this,arguments)}function ar(A){const _=A.indexOf(":");return _<0?"":A.substr(0,_+1)}function Cr(A){if(!A)return null;const _=Number(A);return isNaN(_)?null:_}class yo{constructor(_,b){this.providerId=_,this.signInMethod=b}toJSON(){return Le("not implemented")}_getIdTokenResponse(_){return Le("not implemented")}_linkToIdToken(_,b){return Le("not implemented")}_getReauthenticationResolver(_){return Le("not implemented")}}function So(A,_){return ki.apply(this,arguments)}function ki(){return(ki=(0,i.A)(function*(A,_){return Ke(A,"POST","/v1/accounts:resetPassword",Ie(A,_))})).apply(this,arguments)}function Ti(){return(Ti=(0,i.A)(function*(A,_){return Ke(A,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function rr(A,_){return xo.apply(this,arguments)}function xo(){return(xo=(0,i.A)(function*(A,_){return Ke(A,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function Tr(){return(Tr=(0,i.A)(function*(A,_){return Ke(A,"POST","/v1/accounts:update",Ie(A,_))})).apply(this,arguments)}function cl(A,_){return ua.apply(this,arguments)}function ua(){return(ua=(0,i.A)(function*(A,_){return ei(A,"POST","/v1/accounts:signInWithPassword",Ie(A,_))})).apply(this,arguments)}function Wr(A,_){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,i.A)(function*(A,_){return Ke(A,"POST","/v1/accounts:sendOobCode",Ie(A,_))})).apply(this,arguments)}function Vr(){return(Vr=(0,i.A)(function*(A,_){return Wr(A,_)})).apply(this,arguments)}function Yr(A,_){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,i.A)(function*(A,_){return Wr(A,_)})).apply(this,arguments)}function Ar(A,_){return qs.apply(this,arguments)}function qs(){return(qs=(0,i.A)(function*(A,_){return Wr(A,_)})).apply(this,arguments)}function Hs(){return(Hs=(0,i.A)(function*(A,_){return Wr(A,_)})).apply(this,arguments)}function eo(){return(eo=(0,i.A)(function*(A,_){return ei(A,"POST","/v1/accounts:signInWithEmailLink",Ie(A,_))})).apply(this,arguments)}function Gs(){return(Gs=(0,i.A)(function*(A,_){return ei(A,"POST","/v1/accounts:signInWithEmailLink",Ie(A,_))})).apply(this,arguments)}class so extends yo{constructor(_,b,O,re=null){super("password",O),this._email=_,this._password=b,this._tenantId=re}static _fromEmailAndPassword(_,b){return new so(_,b,"password")}static _fromEmailAndCode(_,b,O=null){return new so(_,b,"emailLink",O)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(_){var b=this;return(0,i.A)(function*(){switch(b.signInMethod){case"password":return Ys(_,{returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",cl);case"emailLink":return function ro(A,_){return eo.apply(this,arguments)}(_,{email:b._email,oobCode:b._password});default:wt(_,"internal-error")}})()}_linkToIdToken(_,b){var O=this;return(0,i.A)(function*(){switch(O.signInMethod){case"password":return Ys(_,{idToken:b,returnSecureToken:!0,email:O._email,password:O._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rr);case"emailLink":return function Gi(A,_){return Gs.apply(this,arguments)}(_,{idToken:b,email:O._email,oobCode:O._password});default:wt(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function ds(A,_){return hs.apply(this,arguments)}function hs(){return(hs=(0,i.A)(function*(A,_){return ei(A,"POST","/v1/accounts:signInWithIdp",Ie(A,_))})).apply(this,arguments)}class Br extends yo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const b=new Br(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(b.idToken=_.idToken),_.accessToken&&(b.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(b.nonce=_.nonce),_.pendingToken&&(b.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(b.accessToken=_.oauthToken,b.secret=_.oauthTokenSecret):wt("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:O,signInMethod:re}=b,we=(0,Ye.Tt)(b,["providerId","signInMethod"]);if(!O||!re)return null;const at=new Br(O,re);return at.idToken=we.idToken||void 0,at.accessToken=we.accessToken||void 0,at.secret=we.secret,at.nonce=we.nonce,at.pendingToken=we.pendingToken||null,at}_getIdTokenResponse(_){return ds(_,this.buildRequest())}_linkToIdToken(_,b){const O=this.buildRequest();return O.idToken=b,ds(_,O)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,ds(_,b)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),_.postBody=(0,le.Am)(b)}return _}}function Dr(){return(Dr=(0,i.A)(function*(A,_){return Ke(A,"POST","/v1/accounts:sendVerificationCode",Ie(A,_))})).apply(this,arguments)}function Os(){return(Os=(0,i.A)(function*(A,_){return ei(A,"POST","/v1/accounts:signInWithPhoneNumber",Ie(A,_))})).apply(this,arguments)}function ha(){return(ha=(0,i.A)(function*(A,_){const b=yield ei(A,"POST","/v1/accounts:signInWithPhoneNumber",Ie(A,_));if(b.temporaryProof)throw tn(A,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const Qa={USER_NOT_FOUND:"user-not-found"};function Ao(){return(Ao=(0,i.A)(function*(A,_){return ei(A,"POST","/v1/accounts:signInWithPhoneNumber",Ie(A,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Qa)})).apply(this,arguments)}class ms extends yo{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,b){return new ms({verificationId:_,verificationCode:b})}static _fromTokenResponse(_,b){return new ms({phoneNumber:_,temporaryProof:b})}_getIdTokenResponse(_){return function Po(A,_){return Os.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,b){return function oo(A,_){return ha.apply(this,arguments)}(_,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function bo(A,_){return Ao.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:b,verificationId:O,verificationCode:re}=this.params;return _&&b?{temporaryProof:_,phoneNumber:b}:{sessionInfo:O,code:re}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:b,verificationCode:O,phoneNumber:re,temporaryProof:we}=_;return O||b||re||we?new ms({verificationId:b,verificationCode:O,phoneNumber:re,temporaryProof:we}):null}}class _s{constructor(_){var b,O,re,we,at,xt;const vn=(0,le.I9)((0,le.hp)(_)),Yn=null!==(b=vn.apiKey)&&void 0!==b?b:null,Ei=null!==(O=vn.oobCode)&&void 0!==O?O:null,Ci=function Qs(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(re=vn.mode)&&void 0!==re?re:null);Se(Yn&&Ei&&Ci,"argument-error"),this.apiKey=Yn,this.operation=Ci,this.code=Ei,this.continueUrl=null!==(we=vn.continueUrl)&&void 0!==we?we:null,this.languageCode=null!==(at=vn.languageCode)&&void 0!==at?at:null,this.tenantId=null!==(xt=vn.tenantId)&&void 0!==xt?xt:null}static parseLink(_){const b=function Va(A){const _=(0,le.I9)((0,le.hp)(A)).link,b=_?(0,le.I9)((0,le.hp)(_)).deep_link_id:null,O=(0,le.I9)((0,le.hp)(A)).deep_link_id;return(O?(0,le.I9)((0,le.hp)(O)).link:null)||O||b||_||A}(_);try{return new _s(b)}catch{return null}}}let wo=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(b,O){return so._fromEmailAndPassword(b,O)}static credentialWithLink(b,O){const re=_s.parseLink(O);return Se(re,"argument-error"),so._fromEmailAndCode(b,re.code,re.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class kr{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Ts extends kr{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class fs extends Ts{static credentialFromJSON(_){const b="string"==typeof _?JSON.parse(_):_;return Se("providerId"in b&&"signInMethod"in b,"argument-error"),Br._fromParams(b)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Se(_.idToken||_.accessToken,"argument-error"),Br._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return fs.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return fs.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:b,oauthAccessToken:O,oauthTokenSecret:re,pendingToken:we,nonce:at,providerId:xt}=_;if(!O&&!re&&!b&&!we||!xt)return null;try{return new fs(xt)._credential({idToken:b,accessToken:O,nonce:at,pendingToken:we})}catch{return null}}}let bi=(()=>{class A extends Ts{constructor(){super("facebook.com")}static credential(b){return Br._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return A.credentialFromTaggedObject(b)}static credentialFromError(b){return A.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return A.credential(b.oauthAccessToken)}catch{return null}}}return A.FACEBOOK_SIGN_IN_METHOD="facebook.com",A.PROVIDER_ID="facebook.com",A})(),Js=(()=>{class A extends Ts{constructor(){super("google.com"),this.addScope("profile")}static credential(b,O){return Br._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:O})}static credentialFromResult(b){return A.credentialFromTaggedObject(b)}static credentialFromError(b){return A.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:O,oauthAccessToken:re}=b;if(!O&&!re)return null;try{return A.credential(O,re)}catch{return null}}}return A.GOOGLE_SIGN_IN_METHOD="google.com",A.PROVIDER_ID="google.com",A})(),Ro=(()=>{class A extends Ts{constructor(){super("github.com")}static credential(b){return Br._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return A.credentialFromTaggedObject(b)}static credentialFromError(b){return A.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return A.credential(b.oauthAccessToken)}catch{return null}}}return A.GITHUB_SIGN_IN_METHOD="github.com",A.PROVIDER_ID="github.com",A})();class $s extends yo{constructor(_,b){super(_,_),this.pendingToken=b}_getIdTokenResponse(_){return ds(_,this.buildRequest())}_linkToIdToken(_,b){const O=this.buildRequest();return O.idToken=b,ds(_,O)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,ds(_,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:O,signInMethod:re,pendingToken:we}=b;return O&&re&&we&&O===re?new $s(O,we):null}static _create(_,b){return new $s(_,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qr extends kr{constructor(_){Se(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return qr.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return qr.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const b=$s.fromJSON(_);return Se(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:b,providerId:O}=_;if(!b||!O)return null;try{return $s._create(O,b)}catch{return null}}}let xi=(()=>{class A extends Ts{constructor(){super("twitter.com")}static credential(b,O){return Br._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:O})}static credentialFromResult(b){return A.credentialFromTaggedObject(b)}static credentialFromError(b){return A.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:O,oauthTokenSecret:re}=b;if(!O||!re)return null;try{return A.credential(O,re)}catch{return null}}}return A.TWITTER_SIGN_IN_METHOD="twitter.com",A.PROVIDER_ID="twitter.com",A})();function wr(A,_){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,i.A)(function*(A,_){return ei(A,"POST","/v1/accounts:signUp",Ie(A,_))})).apply(this,arguments)}class ce{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,b,O,re=!1){return(0,i.A)(function*(){const we=yield Nt._fromIdTokenResponse(_,O,re),at=pe(O);return new ce({user:we,providerId:at,_tokenResponse:O,operationType:b})})()}static _forOperation(_,b,O){return(0,i.A)(function*(){yield _._updateTokensIfNecessary(O,!0);const re=pe(O);return new ce({user:_,providerId:re,_tokenResponse:O,operationType:b})})()}}function pe(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}function De(){return(De=(0,i.A)(function*(A){var _;if((0,_e._isFirebaseServerApp)(A.app))return Promise.reject(qt(A));const b=Er(A);if(yield b._initializationPromise,null!==(_=b.currentUser)&&void 0!==_&&_.isAnonymous)return new ce({user:b.currentUser,providerId:null,operationType:"signIn"});const O=yield wr(b,{returnSecureToken:!0}),re=yield ce._fromIdTokenResponse(b,"signIn",O,!0);return yield b._updateCurrentUser(re.user),re})).apply(this,arguments)}class lt extends le.g{constructor(_,b,O,re){var we;super(b.code,b.message),this.operationType=O,this.user=re,Object.setPrototypeOf(this,lt.prototype),this.customData={appName:_.name,tenantId:null!==(we=_.tenantId)&&void 0!==we?we:void 0,_serverResponse:b.customData._serverResponse,operationType:O}}static _fromErrorAndOperation(_,b,O,re){return new lt(_,b,O,re)}}function ii(A,_,b,O){return("reauthenticate"===_?b._getReauthenticationResolver(A):b._getIdTokenResponse(A)).catch(we=>{throw"auth/multi-factor-auth-required"===we.code?lt._fromErrorAndOperation(A,we,_,O):we})}function ji(A){return new Set(A.map(({providerId:_})=>_).filter(_=>!!_))}function fa(){return fa=(0,i.A)(function*(A,_){const b=(0,le.Ku)(A);yield La(!0,b,_);const{providerUserInfo:O}=yield function Dn(A,_){return jn.apply(this,arguments)}(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[_]}),re=ji(O||[]);return b.providerData=b.providerData.filter(we=>re.has(we.providerId)),re.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b}),fa.apply(this,arguments)}function As(A,_){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,i.A)(function*(A,_,b=!1){const O=yield Wn(A,_._linkToIdToken(A.auth,yield A.getIdToken()),b);return ce._forOperation(A,"link",O)})).apply(this,arguments)}function La(A,_,b){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,i.A)(function*(A,_,b){yield Es(_);const re=!1===A?"provider-already-linked":"no-such-provider";Se(ji(_.providerData).has(b)===A,_.auth,re)})).apply(this,arguments)}function Dl(A,_){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,i.A)(function*(A,_,b=!1){const{auth:O}=A;if((0,_e._isFirebaseServerApp)(O.app))return Promise.reject(qt(O));const re="reauthenticate";try{const we=yield Wn(A,ii(O,re,_,A),b);Se(we.idToken,O,"internal-error");const at=Pn(we.idToken);Se(at,O,"internal-error");const{sub:xt}=at;return Se(A.uid===xt,O,"user-mismatch"),ce._forOperation(A,re,we)}catch(we){throw"auth/user-not-found"===we?.code&&wt(O,"user-mismatch"),we}})).apply(this,arguments)}function Il(A,_){return ul.apply(this,arguments)}function ul(){return(ul=(0,i.A)(function*(A,_,b=!1){if((0,_e._isFirebaseServerApp)(A.app))return Promise.reject(qt(A));const O="signIn",re=yield ii(A,O,_),we=yield ce._fromIdTokenResponse(A,O,re);return b||(yield A._updateCurrentUser(we.user)),we})).apply(this,arguments)}function ta(A,_){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,i.A)(function*(A,_){return Il(Er(A),_)})).apply(this,arguments)}function na(A,_){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,i.A)(function*(A,_){const b=(0,le.Ku)(A);return yield La(!1,b,_.providerId),As(b,_)})).apply(this,arguments)}function ao(A,_){return Za.apply(this,arguments)}function Za(){return(Za=(0,i.A)(function*(A,_){return Dl((0,le.Ku)(A),_)})).apply(this,arguments)}function ga(){return(ga=(0,i.A)(function*(A,_){return ei(A,"POST","/v1/accounts:signInWithCustomToken",Ie(A,_))})).apply(this,arguments)}function Eo(){return Eo=(0,i.A)(function*(A,_){if((0,_e._isFirebaseServerApp)(A.app))return Promise.reject(qt(A));const b=Er(A),O=yield function pa(A,_){return ga.apply(this,arguments)}(b,{token:_,returnSecureToken:!0}),re=yield ce._fromIdTokenResponse(b,"signIn",O);return yield b._updateCurrentUser(re.user),re}),Eo.apply(this,arguments)}class Ji{constructor(_,b){this.factorId=_,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(_,b){return"phoneInfo"in b?ls._fromServerResponse(_,b):"totpInfo"in b?Ir._fromServerResponse(_,b):wt(_,"internal-error")}}class ls extends Ji{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,b){return new ls(b)}}class Ir extends Ji{constructor(_){super("totp",_)}static _fromServerResponse(_,b){return new Ir(b)}}function co(A,_,b){var O;Se((null===(O=b.url)||void 0===O?void 0:O.length)>0,A,"invalid-continue-uri"),Se(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),_.continueUrl=b.url,_.dynamicLinkDomain=b.dynamicLinkDomain,_.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(Se(b.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),_.iOSBundleId=b.iOS.bundleId),b.android&&(Se(b.android.packageName.length>0,A,"missing-android-pkg-name"),_.androidInstallApp=b.android.installApp,_.androidMinimumVersionCode=b.android.minimumVersion,_.androidPackageName=b.android.packageName)}function Bs(A){return ja.apply(this,arguments)}function ja(){return(ja=(0,i.A)(function*(A){const _=Er(A);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function Rs(){return(Rs=(0,i.A)(function*(A,_,b){const O=Er(A),re={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};b&&co(O,re,b),yield Ys(O,re,"getOobCode",Yr)})).apply(this,arguments)}function el(){return el=(0,i.A)(function*(A,_,b){yield So((0,le.Ku)(A),{oobCode:_,newPassword:b}).catch(function(){var O=(0,i.A)(function*(re){throw"auth/password-does-not-meet-requirements"===re.code&&Bs(A),re});return function(re){return O.apply(this,arguments)}}())}),el.apply(this,arguments)}function Vo(){return Vo=(0,i.A)(function*(A,_){yield function Xs(A,_){return Tr.apply(this,arguments)}((0,le.Ku)(A),{oobCode:_})}),Vo.apply(this,arguments)}function Aa(A,_){return ma.apply(this,arguments)}function ma(){return(ma=(0,i.A)(function*(A,_){const b=(0,le.Ku)(A),O=yield So(b,{oobCode:_}),re=O.requestType;switch(Se(re,b,"internal-error"),re){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(O.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(O.mfaInfo,b,"internal-error");default:Se(O.email,b,"internal-error")}let we=null;return O.mfaInfo&&(we=Ji._fromServerResponse(Er(b),O.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.newEmail:O.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.email:O.newEmail)||null,multiFactorInfo:we},operation:re}})).apply(this,arguments)}function Ha(){return(Ha=(0,i.A)(function*(A,_){const{data:b}=yield Aa((0,le.Ku)(A),_);return b.email})).apply(this,arguments)}function ic(){return(ic=(0,i.A)(function*(A,_,b){if((0,_e._isFirebaseServerApp)(A.app))return Promise.reject(qt(A));const O=Er(A),at=yield Ys(O,{returnSecureToken:!0,email:_,password:b,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wr).catch(vn=>{throw"auth/password-does-not-meet-requirements"===vn.code&&Bs(A),vn}),xt=yield ce._fromIdTokenResponse(O,"signIn",at);return yield O._updateCurrentUser(xt.user),xt})).apply(this,arguments)}function ia(){return(ia=(0,i.A)(function*(A,_,b){const O=Er(A),re={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};(function we(at,xt){Se(xt.handleCodeInApp,O,"argument-error"),xt&&co(O,at,xt)})(re,b),yield Ys(O,re,"getOobCode",Ar)})).apply(this,arguments)}function tl(){return(tl=(0,i.A)(function*(A,_,b){if((0,_e._isFirebaseServerApp)(A.app))return Promise.reject(qt(A));const O=(0,le.Ku)(A),re=wo.credentialWithLink(_,b||Rn());return Se(re._tenantId===(O.tenantId||null),O,"tenant-id-mismatch"),ta(O,re)})).apply(this,arguments)}function Ui(){return(Ui=(0,i.A)(function*(A,_){return Ke(A,"POST","/v1/accounts:createAuthUri",Ie(A,_))})).apply(this,arguments)}function Is(){return Is=(0,i.A)(function*(A,_){const O={identifier:_,continueUri:Xn()?Rn():"http://localhost"},{signinMethods:re}=yield function fo(A,_){return Ui.apply(this,arguments)}((0,le.Ku)(A),O);return re||[]}),Is.apply(this,arguments)}function V(){return V=(0,i.A)(function*(A,_){const b=(0,le.Ku)(A),re={requestType:"VERIFY_EMAIL",idToken:yield A.getIdToken()};_&&co(b.auth,re,_);const{email:we}=yield function ns(A,_){return Vr.apply(this,arguments)}(b.auth,re);we!==A.email&&(yield A.reload())}),V.apply(this,arguments)}function R(){return R=(0,i.A)(function*(A,_,b){const O=(0,le.Ku)(A),we={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield A.getIdToken(),newEmail:_};b&&co(O.auth,we,b);const{email:at}=yield function Li(A,_){return Hs.apply(this,arguments)}(O.auth,we);at!==A.email&&(yield A.reload())}),R.apply(this,arguments)}function ne(){return(ne=(0,i.A)(function*(A,_){return Ke(A,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function We(){return We=(0,i.A)(function*(A,{displayName:_,photoURL:b}){if(void 0===_&&void 0===b)return;const O=(0,le.Ku)(A),we={idToken:yield O.getIdToken(),displayName:_,photoUrl:b,returnSecureToken:!0},at=yield Wn(O,function $(A,_){return ne.apply(this,arguments)}(O.auth,we));O.displayName=at.displayName||null,O.photoURL=at.photoUrl||null;const xt=O.providerData.find(({providerId:vn})=>"password"===vn);xt&&(xt.displayName=O.displayName,xt.photoURL=O.photoURL),yield O._updateTokensIfNecessary(at)}),We.apply(this,arguments)}function Dt(A,_,b){return ln.apply(this,arguments)}function ln(){return ln=(0,i.A)(function*(A,_,b){const{auth:O}=A,we={idToken:yield A.getIdToken(),returnSecureToken:!0};_&&(we.email=_),b&&(we.password=b);const at=yield Wn(A,function Mr(A,_){return Ti.apply(this,arguments)}(O,we));yield A._updateTokensIfNecessary(at,!0)}),ln.apply(this,arguments)}class di{constructor(_,b,O={}){this.isNewUser=_,this.providerId=b,this.profile=O}}class x extends di{constructor(_,b,O,re){super(_,b,O),this.username=re}}class de extends di{constructor(_,b){super(_,"facebook.com",b)}}class X extends x{constructor(_,b){super(_,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class te extends di{constructor(_,b){super(_,"google.com",b)}}class Ae extends x{constructor(_,b,O){super(_,"twitter.com",b,O)}}function Ct(A){const{user:_,_tokenResponse:b}=A;return _.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function Gn(A){var _,b;if(!A)return null;const{providerId:O}=A,re=A.rawUserInfo?JSON.parse(A.rawUserInfo):{},we=A.isNewUser||"identitytoolkit#SignupNewUserResponse"===A.kind;if(!O&&A?.idToken){const at=null===(b=null===(_=Pn(A.idToken))||void 0===_?void 0:_.firebase)||void 0===b?void 0:b.sign_in_provider;if(at)return new di(we,"anonymous"!==at&&"custom"!==at?at:null)}if(!O)return null;switch(O){case"facebook.com":return new de(we,re);case"github.com":return new X(we,re);case"google.com":return new te(we,re);case"twitter.com":return new Ae(we,re,A.screenName||null);case"custom":case"anonymous":return new di(we,null);default:return new di(we,O,re)}}(b)}class is{constructor(_,b,O){this.type=_,this.credential=b,this.user=O}static _fromIdtoken(_,b){return new is("enroll",_,b)}static _fromMfaPendingCredential(_){return new is("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var b,O;if(_?.multiFactorSession){if(null!==(b=_.multiFactorSession)&&void 0!==b&&b.pendingCredential)return is._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(O=_.multiFactorSession)&&void 0!==O&&O.idToken)return is._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Gr{constructor(_,b,O){this.session=_,this.hints=b,this.signInResolver=O}static _fromError(_,b){const O=Er(_),re=b.customData._serverResponse,we=(re.mfaInfo||[]).map(xt=>Ji._fromServerResponse(O,xt));Se(re.mfaPendingCredential,O,"internal-error");const at=is._fromMfaPendingCredential(re.mfaPendingCredential);return new Gr(at,we,function(){var xt=(0,i.A)(function*(vn){const Yn=yield vn._process(O,at);delete re.mfaInfo,delete re.mfaPendingCredential;const Ei=Object.assign(Object.assign({},re),{idToken:Yn.idToken,refreshToken:Yn.refreshToken});switch(b.operationType){case"signIn":const Ci=yield ce._fromIdTokenResponse(O,b.operationType,Ei);return yield O._updateCurrentUser(Ci.user),Ci;case"reauthenticate":return Se(b.user,O,"internal-error"),ce._forOperation(b.user,b.operationType,Ei);default:wt(O,"internal-error")}});return function(vn){return xt.apply(this,arguments)}}())}resolveSignIn(_){var b=this;return(0,i.A)(function*(){return b.signInResolver(_)})()}}class Ma{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(O=>Ji._fromServerResponse(_.auth,O)))})}static _fromUser(_){return new Ma(_)}getSession(){var _=this;return(0,i.A)(function*(){return is._fromIdtoken(yield _.user.getIdToken(),_.user)})()}enroll(_,b){var O=this;return(0,i.A)(function*(){const re=_,we=yield O.getSession(),at=yield Wn(O.user,re._process(O.user.auth,we,b));return yield O.user._updateTokensIfNecessary(at),O.user.reload()})()}unenroll(_){var b=this;return(0,i.A)(function*(){const O="string"==typeof _?_:_.uid,re=yield b.user.getIdToken();try{const we=yield Wn(b.user,function Xi(A,_){return Ke(A,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(A,_))}(b.user.auth,{idToken:re,mfaEnrollmentId:O}));b.enrolledFactors=b.enrolledFactors.filter(({uid:at})=>at!==O),yield b.user._updateTokensIfNecessary(we),yield b.user.reload()}catch(we){throw we}})()}}const $l=new WeakMap,ps="__sak";class Ga{constructor(_,b){this.storageRetriever=_,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(ps,"1"),this.storage.removeItem(ps),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,b){return this.storage.setItem(_,JSON.stringify(b)),Promise.resolve()}_get(_){const b=this.storage.getItem(_);return Promise.resolve(b?JSON.parse(b):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Wa=(()=>{class A extends Ga{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,O)=>this.onStorageEvent(b,O),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zt(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const O of Object.keys(this.listeners)){const re=this.storage.getItem(O),we=this.localCache[O];re!==we&&b(O,we,re)}}onStorageEvent(b,O=!1){if(!b.key)return void this.forAllChangedKeys((xt,vn,Yn)=>{this.notifyListeners(xt,Yn)});const re=b.key;O?this.detachListener():this.stopPolling();const we=()=>{const xt=this.storage.getItem(re);!O&&this.localCache[re]===xt||this.notifyListeners(re,xt)},at=this.storage.getItem(re);!function St(){return(0,le.lT)()&&10===document.documentMode}()||at===b.newValue||b.newValue===b.oldValue?we():setTimeout(we,10)}notifyListeners(b,O){this.localCache[b]=O;const re=this.listeners[b];if(re)for(const we of Array.from(re))we(O&&JSON.parse(O))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,O,re)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:O,newValue:re}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,O){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(O)}_removeListener(b,O){this.listeners[b]&&(this.listeners[b].delete(O),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,O){var re=()=>super._set,we=this;return(0,i.A)(function*(){yield re().call(we,b,O),we.localCache[b]=JSON.stringify(O)})()}_get(b){var O=()=>super._get,re=this;return(0,i.A)(function*(){const we=yield O().call(re,b);return re.localCache[b]=JSON.stringify(we),we})()}_remove(b){var O=()=>super._remove,re=this;return(0,i.A)(function*(){yield O().call(re,b),delete re.localCache[b]})()}}return A.type="LOCAL",A})(),Jr=(()=>{class A extends Ga{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,O){}_removeListener(b,O){}}return A.type="SESSION",A})();let lr=(()=>{class A{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const O=this.receivers.find(we=>we.isListeningto(b));if(O)return O;const re=new A(b);return this.receivers.push(re),re}isListeningto(b){return this.eventTarget===b}handleEvent(b){var O=this;return(0,i.A)(function*(){const re=b,{eventId:we,eventType:at,data:xt}=re.data,vn=O.handlersMap[at];if(!vn?.size)return;re.ports[0].postMessage({status:"ack",eventId:we,eventType:at});const Yn=Array.from(vn).map(function(){var Ci=(0,i.A)(function*(Fs){return Fs(re.origin,xt)});return function(Fs){return Ci.apply(this,arguments)}}()),Ei=yield function Kl(A){return Promise.all(A.map(function(){var _=(0,i.A)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(O){return{fulfilled:!1,reason:O}}});return function(b){return _.apply(this,arguments)}}()))}(Yn);re.ports[0].postMessage({status:"done",eventId:we,eventType:at,response:Ei})})()}_subscribe(b,O){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(O)}_unsubscribe(b,O){this.handlersMap[b]&&O&&this.handlersMap[b].delete(O),(!O||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function yc(A="",_=10){let b="";for(let O=0;O<_;O++)b+=Math.floor(10*Math.random());return A+b}class Sl{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,b,O=50){var re=this;return(0,i.A)(function*(){const we=typeof MessageChannel<"u"?new MessageChannel:null;if(!we)throw new Error("connection_unavailable");let at,xt;return new Promise((vn,Yn)=>{const Ei=yc("",20);we.port1.start();const Ci=setTimeout(()=>{Yn(new Error("unsupported_event"))},O);xt={messageChannel:we,onMessage(Fs){const Vs=Fs;if(Vs.data.eventId===Ei)switch(Vs.data.status){case"ack":clearTimeout(Ci),at=setTimeout(()=>{Yn(new Error("timeout"))},3e3);break;case"done":clearTimeout(at),vn(Vs.data.response);break;default:clearTimeout(Ci),clearTimeout(at),Yn(new Error("invalid_response"))}}},re.handlers.add(xt),we.port1.addEventListener("message",xt.onMessage),re.target.postMessage({eventType:_,eventId:Ei,data:b},[we.port2])}).finally(()=>{xt&&re.removeMessageHandler(xt)})})()}}function cs(){return window}function nl(){return typeof cs().WorkerGlobalScope<"u"&&"function"==typeof cs().importScripts}function Gc(){return(Gc=(0,i.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Al="firebaseLocalStorageDb",rc="firebaseLocalStorage",Zr="fbase_key";class Rl{constructor(_){this.request=_}toPromise(){return new Promise((_,b)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function iu(A,_){return A.transaction([rc],_?"readwrite":"readonly").objectStore(rc)}function va(){const A=indexedDB.open(Al,1);return new Promise((_,b)=>{A.addEventListener("error",()=>{b(A.error)}),A.addEventListener("upgradeneeded",()=>{const O=A.result;try{O.createObjectStore(rc,{keyPath:Zr})}catch(re){b(re)}}),A.addEventListener("success",(0,i.A)(function*(){const O=A.result;O.objectStoreNames.contains(rc)?_(O):(O.close(),yield function ru(){const A=indexedDB.deleteDatabase(Al);return new Rl(A).toPromise()}(),_(yield va()))}))})}function pl(A,_,b){return su.apply(this,arguments)}function su(){return(su=(0,i.A)(function*(A,_,b){const O=iu(A,!0).put({[Zr]:_,value:b});return new Rl(O).toPromise()})).apply(this,arguments)}function P(){return(P=(0,i.A)(function*(A,_){const b=iu(A,!1).get(_),O=yield new Rl(b).toPromise();return void 0===O?null:O.value})).apply(this,arguments)}function K(A,_){const b=iu(A,!0).delete(_);return new Rl(b).toPromise()}const Ce=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,i.A)(function*(){return b.db||(b.db=yield va()),b.db})()}_withRetries(b){var O=this;return(0,i.A)(function*(){let re=0;for(;;)try{const we=yield O._openDb();return yield b(we)}catch(we){if(re++>3)throw we;O.db&&(O.db.close(),O.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,i.A)(function*(){return nl()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,i.A)(function*(){b.receiver=lr._getInstance(function To(){return nl()?self:null}()),b.receiver._subscribe("keyChanged",function(){var O=(0,i.A)(function*(re,we){return{keyProcessed:(yield b._poll()).includes(we.key)}});return function(re,we){return O.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var O=(0,i.A)(function*(re,we){return["keyChanged"]});return function(re,we){return O.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,i.A)(function*(){var O,re;if(b.activeServiceWorker=yield function go(){return Gc.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new Sl(b.activeServiceWorker);const we=yield b.sender._send("ping",{},800);we&&null!==(O=we[0])&&void 0!==O&&O.fulfilled&&null!==(re=we[0])&&void 0!==re&&re.value.includes("keyChanged")&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var O=this;return(0,i.A)(function*(){if(O.sender&&O.activeServiceWorker&&function Co(){var A;return(null===(A=navigator?.serviceWorker)||void 0===A?void 0:A.controller)||null}()===O.activeServiceWorker)try{yield O.sender._send("keyChanged",{key:b},O.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,i.A)(function*(){try{if(!indexedDB)return!1;const b=yield va();return yield pl(b,ps,"1"),yield K(b,ps),!0}catch{}return!1})()}_withPendingWrite(b){var O=this;return(0,i.A)(function*(){O.pendingWrites++;try{yield b()}finally{O.pendingWrites--}})()}_set(b,O){var re=this;return(0,i.A)(function*(){return re._withPendingWrite((0,i.A)(function*(){return yield re._withRetries(we=>pl(we,b,O)),re.localCache[b]=O,re.notifyServiceWorker(b)}))})()}_get(b){var O=this;return(0,i.A)(function*(){const re=yield O._withRetries(we=>function bc(A,_){return P.apply(this,arguments)}(we,b));return O.localCache[b]=re,re})()}_remove(b){var O=this;return(0,i.A)(function*(){return O._withPendingWrite((0,i.A)(function*(){return yield O._withRetries(re=>K(re,b)),delete O.localCache[b],O.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,i.A)(function*(){const O=yield b._withRetries(at=>{const xt=iu(at,!1).getAll();return new Rl(xt).toPromise()});if(!O)return[];if(0!==b.pendingWrites)return[];const re=[],we=new Set;if(0!==O.length)for(const{fbase_key:at,value:xt}of O)we.add(at),JSON.stringify(b.localCache[at])!==JSON.stringify(xt)&&(b.notifyListeners(at,xt),re.push(at));for(const at of Object.keys(b.localCache))b.localCache[at]&&!we.has(at)&&(b.notifyListeners(at,null),re.push(at));return re})()}notifyListeners(b,O){this.localCache[b]=O;const re=this.listeners[b];if(re)for(const we of Array.from(re))we(O)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,i.A)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,O){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(O)}_removeListener(b,O){this.listeners[b]&&(this.listeners[b].delete(O),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})(),yr=1e12;class ss{constructor(_){this.auth=_,this.counter=yr,this._widgets=new Map}render(_,b){const O=this.counter;return this._widgets.set(O,new $a(_,this.auth.name,b||{})),this.counter++,O}reset(_){var b;const O=_||yr;null===(b=this._widgets.get(O))||void 0===b||b.delete(),this._widgets.delete(O)}getResponse(_){var b;return(null===(b=this._widgets.get(_||yr))||void 0===b?void 0:b.getResponse())||""}execute(_){var b=this;return(0,i.A)(function*(){var O;return null===(O=b._widgets.get(_||yr))||void 0===O||O.execute(),""})()}}class $a{constructor(_,b,O){this.params=O,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const re="string"==typeof _?document.getElementById(_):_;Se(re,"argument-error",{appName:b}),this.container=re,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wc(A){const _=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<A;O++)_.push(b.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":b}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wc=la("rcb"),$c=new En(3e4,6e4);class Ml{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=cs().grecaptcha)||void 0===_||!_.render)}load(_,b=""){return Se(function kl(A){return A.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(A)}(b),_,"argument-error"),this.shouldResolveImmediately(b)&&bt(cs().grecaptcha)?Promise.resolve(cs().grecaptcha):new Promise((O,re)=>{const we=cs().setTimeout(()=>{re(ge(_,"network-request-failed"))},$c.get());cs()[Wc]=()=>{cs().clearTimeout(we),delete cs()[Wc];const xt=cs().grecaptcha;if(!xt||!bt(xt))return void re(ge(_,"internal-error"));const vn=xt.render;xt.render=(Yn,Ei)=>{const Ci=vn(Yn,Ei);return this.counter++,Ci},this.hostLanguage=b,O(xt)},Io(`${function Ls(){return Cs.recaptchaV2Script}()}?${(0,le.Am)({onload:Wc,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(we),re(ge(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var b;return!(null===(b=cs().grecaptcha)||void 0===b||!b.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ec{load(_){return(0,i.A)(function*(){return new ss(_)})()}clearedOneInstance(){}}const zc="recaptcha",_u={theme:"light",type:"image"};class Kd{constructor(_,b,O=Object.assign({},_u)){this.parameters=O,this.type=zc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Er(_),this.isInvisible="invisible"===this.parameters.size,Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const re="string"==typeof b?document.getElementById(b):b;Se(re,this.auth,"argument-error"),this.container=re,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ec:new Ml,this.validateStartingState()}verify(){var _=this;return(0,i.A)(function*(){_.assertNotDestroyed();const b=yield _.render(),O=_.getAssertedRecaptcha();return O.getResponse(b)||new Promise(we=>{const at=xt=>{xt&&(_.tokenChangeListeners.delete(at),we(xt))};_.tokenChangeListeners.add(at),_.isInvisible&&O.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return b=>{if(this.tokenChangeListeners.forEach(O=>O(b)),"function"==typeof _)_(b);else if("string"==typeof _){const O=cs()[_];"function"==typeof O&&O(b)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,i.A)(function*(){if(yield _.init(),!_.widgetId){let b=_.container;if(!_.isInvisible){const O=document.createElement("div");b.appendChild(O),b=O}_.widgetId=_.getAssertedRecaptcha().render(b,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,i.A)(function*(){Se(Xn()&&!nl(),_.auth,"internal-error"),yield function Na(){let A=null;return new Promise(_=>{"complete"!==document.readyState?(A=()=>_(),window.addEventListener("load",A)):_()}).catch(_=>{throw A&&window.removeEventListener("load",A),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const b=yield function ie(A){return Qe.apply(this,arguments)}(_.auth);Se(b,_.auth,"internal-error"),_.parameters.sitekey=b})()}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Kc{constructor(_,b){this.verificationId=_,this.onConfirmation=b}confirm(_){const b=ms._fromVerification(this.verificationId,_);return this.onConfirmation(b)}}function vu(){return(vu=(0,i.A)(function*(A,_,b){if((0,_e._isFirebaseServerApp)(A.app))return Promise.reject(qt(A));const O=Er(A),re=yield Nl(O,_,(0,le.Ku)(b));return new Kc(re,we=>ta(O,we))})).apply(this,arguments)}function gl(){return(gl=(0,i.A)(function*(A,_,b){const O=(0,le.Ku)(A);yield La(!1,O,"phone");const re=yield Nl(O.auth,_,(0,le.Ku)(b));return new Kc(re,we=>na(O,we))})).apply(this,arguments)}function il(){return(il=(0,i.A)(function*(A,_,b){const O=(0,le.Ku)(A);if((0,_e._isFirebaseServerApp)(O.auth.app))return Promise.reject(qt(O.auth));const re=yield Nl(O.auth,_,(0,le.Ku)(b));return new Kc(re,we=>ao(O,we))})).apply(this,arguments)}function Nl(A,_,b){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,i.A)(function*(A,_,b){var O;const re=yield b.verify();try{let we;if(Se("string"==typeof re,A,"argument-error"),Se(b.type===zc,A,"argument-error"),we="string"==typeof _?{phoneNumber:_}:_,"session"in we){const at=we.session;if("phoneNumber"in we)return Se("enroll"===at.type,A,"internal-error"),(yield function rs(A,_){return Ke(A,"POST","/v2/accounts/mfaEnrollment:start",Ie(A,_))}(A,{idToken:at.credential,phoneEnrollmentInfo:{phoneNumber:we.phoneNumber,recaptchaToken:re}})).phoneSessionInfo.sessionInfo;{Se("signin"===at.type,A,"internal-error");const xt=(null===(O=we.multiFactorHint)||void 0===O?void 0:O.uid)||we.multiFactorUid;return Se(xt,A,"missing-multi-factor-info"),(yield function tt(A,_){return Ke(A,"POST","/v2/accounts/mfaSignIn:start",Ie(A,_))}(A,{mfaPendingCredential:at.credential,mfaEnrollmentId:xt,phoneSignInInfo:{recaptchaToken:re}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:at}=yield function Cl(A,_){return Dr.apply(this,arguments)}(A,{phoneNumber:we.phoneNumber,recaptchaToken:re});return at}}finally{b._reset()}}),Cc.apply(this,arguments)}function ou(){return(ou=(0,i.A)(function*(A,_){const b=(0,le.Ku)(A);if((0,_e._isFirebaseServerApp)(b.auth.app))return Promise.reject(qt(b.auth));yield As(b,_)})).apply(this,arguments)}let us=(()=>{class A{constructor(b){this.providerId=A.PROVIDER_ID,this.auth=Er(b)}verifyPhoneNumber(b,O){return Nl(this.auth,b,(0,le.Ku)(O))}static credential(b,O){return ms._fromVerification(b,O)}static credentialFromResult(b){return A.credentialFromTaggedObject(b)}static credentialFromError(b){return A.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:O,temporaryProof:re}=b;return O&&re?ms._fromTokenResponse(O,re):null}}return A.PROVIDER_ID="phone",A.PHONE_SIGN_IN_METHOD="phone",A})();function Ol(A,_){return _?rt(_):(Se(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}class xl extends yo{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return ds(_,this._buildIdpRequest())}_linkToIdToken(_,b){return ds(_,this._buildIdpRequest(b))}_getReauthenticationResolver(_){return ds(_,this._buildIdpRequest())}_buildIdpRequest(_){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(b.idToken=_),b}}function zo(A){return Il(A.auth,new xl(A),A.bypassAuthState)}function yh(A){const{auth:_,user:b}=A;return Se(b,_,"internal-error"),Dl(b,new xl(A),A.bypassAuthState)}function Tc(A){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,i.A)(function*(A){const{auth:_,user:b}=A;return Se(b,_,"internal-error"),As(b,new xl(A),A.bypassAuthState)})).apply(this,arguments)}class rl{constructor(_,b,O,re,we=!1){this.auth=_,this.resolver=O,this.user=re,this.bypassAuthState=we,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var _=this;return new Promise(function(){var b=(0,i.A)(function*(O,re){_.pendingPromise={resolve:O,reject:re};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(we){_.reject(we)}});return function(O,re){return b.apply(this,arguments)}}())}onAuthEvent(_){var b=this;return(0,i.A)(function*(){const{urlResponse:O,sessionId:re,postBody:we,tenantId:at,error:xt,type:vn}=_;if(xt)return void b.reject(xt);const Yn={auth:b.auth,requestUri:O,sessionId:re,tenantId:at||void 0,postBody:we||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(vn)(Yn))}catch(Ei){b.reject(Ei)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return zo;case"linkViaPopup":case"linkViaRedirect":return Tc;case"reauthViaPopup":case"reauthViaRedirect":return yh;default:wt(this.auth,"internal-error")}}resolve(_){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const au=new En(2e3,1e4);function ju(){return(ju=(0,i.A)(function*(A,_,b){if((0,_e._isFirebaseServerApp)(A.app))return Promise.reject(ge(A,"operation-not-supported-in-this-environment"));const O=Er(A);Mt(A,_,kr);const re=Ol(O,b);return new Fl(O,"signInViaPopup",_,re).executeNotNull()})).apply(this,arguments)}function yu(){return(yu=(0,i.A)(function*(A,_,b){const O=(0,le.Ku)(A);if((0,_e._isFirebaseServerApp)(O.auth.app))return Promise.reject(ge(O.auth,"operation-not-supported-in-this-environment"));Mt(O.auth,_,kr);const re=Ol(O.auth,b);return new Fl(O.auth,"reauthViaPopup",_,re,O).executeNotNull()})).apply(this,arguments)}function Dc(){return(Dc=(0,i.A)(function*(A,_,b){const O=(0,le.Ku)(A);Mt(O.auth,_,kr);const re=Ol(O.auth,b);return new Fl(O.auth,"linkViaPopup",_,re,O).executeNotNull()})).apply(this,arguments)}let Fl=(()=>{class A extends rl{constructor(b,O,re,we,at){super(b,O,we,at),this.provider=re,this.authWindow=null,this.pollId=null,A.currentPopupAction&&A.currentPopupAction.cancel(),A.currentPopupAction=this}executeNotNull(){var b=this;return(0,i.A)(function*(){const O=yield b.execute();return Se(O,b.auth,"internal-error"),O})()}onExecution(){var b=this;return(0,i.A)(function*(){Qt(1===b.filter.length,"Popup operations only handle one event");const O=yc();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],O),b.authWindow.associatedEvent=O,b.resolver._originValidation(b.auth).catch(re=>{b.reject(re)}),b.resolver._isIframeWebStorageSupported(b.auth,re=>{re||b.reject(ge(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,A.currentPopupAction=null}pollUserCancellation(){const b=()=>{var O,re;this.pollId=null!==(re=null===(O=this.authWindow)||void 0===O?void 0:O.window)&&void 0!==re&&re.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(b,au.get())};b()}}return A.currentPopupAction=null,A})();const Ic="pendingRedirect",sl=new Map;class Uu extends rl{constructor(_,b,O=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,O),this.eventId=null}execute(){var _=()=>super.execute,b=this;return(0,i.A)(function*(){let O=sl.get(b.auth._key());if(!O){try{const we=(yield function od(A,_){return ml.apply(this,arguments)}(b.resolver,b.auth))?yield _().call(b):null;O=()=>Promise.resolve(we)}catch(re){O=()=>Promise.reject(re)}sl.set(b.auth._key(),O)}return b.bypassAuthState||sl.set(b.auth._key(),()=>Promise.resolve(null)),O()})()}onAuthEvent(_){var b=()=>super.onAuthEvent,O=this;return(0,i.A)(function*(){if("signInViaRedirect"===_.type)return b().call(O,_);if("unknown"!==_.type){if(_.eventId){const re=yield O.auth._redirectUserForId(_.eventId);if(re)return O.user=re,b().call(O,_);O.resolve(null)}}else O.resolve(null)})()}onExecution(){return(0,i.A)(function*(){})()}cleanUp(){}}function ml(){return(ml=(0,i.A)(function*(A,_){const b=ya(_),O=wu(A);if(!(yield O._isAvailable()))return!1;const re="true"===(yield O._get(b));return yield O._remove(b),re})).apply(this,arguments)}function tr(A,_){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,i.A)(function*(A,_){return wu(A)._set(ya(_),"true")})).apply(this,arguments)}function bu(A,_){sl.set(A._key(),_)}function wu(A){return rt(A._redirectPersistence)}function ya(A){return Ai(Ic,A.config.apiKey,A.name)}function Ms(A,_,b){return function Sc(A,_,b){return oc.apply(this,arguments)}(A,_,b)}function oc(){return(oc=(0,i.A)(function*(A,_,b){if((0,_e._isFirebaseServerApp)(A.app))return Promise.reject(qt(A));const O=Er(A);Mt(A,_,kr),yield O._initializationPromise;const re=Ol(O,b);return yield tr(re,O),re._openRedirect(O,_,"signInViaRedirect")})).apply(this,arguments)}function Ko(A,_,b){return function Gu(A,_,b){return Wu.apply(this,arguments)}(A,_,b)}function Wu(){return(Wu=(0,i.A)(function*(A,_,b){const O=(0,le.Ku)(A);if(Mt(O.auth,_,kr),(0,_e._isFirebaseServerApp)(O.auth.app))return Promise.reject(qt(O.auth));yield O.auth._initializationPromise;const re=Ol(O.auth,b);yield tr(re,O.auth);const we=yield ac(O);return re._openRedirect(O.auth,_,"reauthViaRedirect",we)})).apply(this,arguments)}function Ac(A,_,b){return function pn(A,_,b){return or.apply(this,arguments)}(A,_,b)}function or(){return(or=(0,i.A)(function*(A,_,b){const O=(0,le.Ku)(A);Mt(O.auth,_,kr),yield O.auth._initializationPromise;const re=Ol(O.auth,b);yield La(!1,O,_.providerId),yield tr(re,O.auth);const we=yield ac(O);return re._openRedirect(O.auth,_,"linkViaRedirect",we)})).apply(this,arguments)}function Eu(){return(Eu=(0,i.A)(function*(A,_){return yield Er(A)._initializationPromise,Wi(A,_,!1)})).apply(this,arguments)}function Wi(A,_){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,i.A)(function*(A,_,b=!1){if((0,_e._isFirebaseServerApp)(A.app))return Promise.reject(qt(A));const O=Er(A),re=Ol(O,_),at=yield new Uu(O,re,b).execute();return at&&!b&&(delete at.user._redirectEventId,yield O._persistUserIfCurrent(at.user),yield O._setRedirectUser(null,_)),at})).apply(this,arguments)}function ac(A){return oa.apply(this,arguments)}function oa(){return(oa=(0,i.A)(function*(A){const _=yc(`${A.uid}:::`);return A._redirectEventId=_,yield A.auth._setRedirectUser(A),yield A.auth._persistUserIfCurrent(A),_})).apply(this,arguments)}class ks{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let b=!1;return this.consumers.forEach(O=>{this.isEventForConsumer(_,O)&&(b=!0,this.sendToConsumer(_,O),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Ql(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $u(A);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=_,b=!0)),b}sendToConsumer(_,b){var O;if(_.error&&!$u(_)){const re=(null===(O=_.error.code)||void 0===O?void 0:O.split("auth/")[1])||"internal-error";b.onError(ge(this.auth,re))}else b.onAuthEvent(_)}isEventForConsumer(_,b){const O=null===b.eventId||!!_.eventId&&_.eventId===b.eventId;return b.filter.includes(_.type)&&O}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_l(_))}saveEventToCache(_){this.cachedEventUids.add(_l(_)),this.lastProcessedEventTime=Date.now()}}function _l(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(_=>_).join("-")}function $u({type:A,error:_}){return"unknown"===A&&"auth/no-auth-event"===_?.code}function Yo(A){return mo.apply(this,arguments)}function mo(){return(mo=(0,i.A)(function*(A,_={}){return Ke(A,"GET","/v1/projects",_)})).apply(this,arguments)}const ad=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xo=/^https?/;function ld(){return(ld=(0,i.A)(function*(A){if(A.config.emulator)return;const{authorizedDomains:_}=yield Yo(A);for(const b of _)try{if(cd(b))return}catch{}wt(A,"unauthorized-domain")})).apply(this,arguments)}function cd(A){const _=Rn(),{protocol:b,hostname:O}=new URL(_);if(A.startsWith("chrome-extension://")){const at=new URL(A);return""===at.hostname&&""===O?"chrome-extension:"===b&&A.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===b&&at.hostname===O}if(!Xo.test(b))return!1;if(ad.test(A))return O===A;const re=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+re+"|"+re+")$","i").test(O)}const bh=new En(3e4,6e4);function zu(){const A=cs().___jsl;if(A?.H)for(const _ of Object.keys(A.H))if(A.H[_].r=A.H[_].r||[],A.H[_].L=A.H[_].L||[],A.H[_].r=[...A.H[_].L],A.CP)for(let b=0;b<A.CP.length;b++)A.CP[b]=null}let Rc=null;const W=new En(5e3,15e3),S="__/auth/iframe",y="emulator/auth/iframe",F={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function he(A){const _=A.config;Se(_.authDomain,A,"auth-domain-config-required");const b=_.emulator?ri(_,y):`https://${A.config.authDomain}/${S}`,O={apiKey:_.apiKey,appName:A.name,v:_e.SDK_VERSION},re=U.get(A.config.apiHost);re&&(O.eid=re);const we=A._getFrameworks();return we.length&&(O.fw=we.join(",")),`${b}?${(0,le.Am)(O).slice(1)}`}function Je(){return Je=(0,i.A)(function*(A){const _=yield function Du(A){return Rc=Rc||function Tu(A){return new Promise((_,b)=>{var O,re,we;function at(){zu(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{zu(),b(ge(A,"network-request-failed"))},timeout:bh.get()})}if(null!==(re=null===(O=cs().gapi)||void 0===O?void 0:O.iframes)&&void 0!==re&&re.Iframe)_(gapi.iframes.getContext());else{if(null===(we=cs().gapi)||void 0===we||!we.load){const xt=la("iframefcb");return cs()[xt]=()=>{gapi.load?at():b(ge(A,"network-request-failed"))},Io(`${function nc(){return Cs.gapiScript}()}?onload=${xt}`).catch(vn=>b(vn))}at()}}).catch(_=>{throw Rc=null,_})}(A),Rc}(A),b=cs().gapi;return Se(b,A,"internal-error"),_.open({where:document.body,url:he(A),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F,dontclear:!0},O=>new Promise(function(){var re=(0,i.A)(function*(we,at){yield O.restyle({setHideOnLeave:!1});const xt=ge(A,"network-request-failed"),vn=cs().setTimeout(()=>{at(xt)},W.get());function Yn(){cs().clearTimeout(vn),we(O)}O.ping(Yn).then(Yn,()=>{at(xt)})});return function(we,at){return re.apply(this,arguments)}}()))}),Je.apply(this,arguments)}const Vt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cr{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ss="__/auth/handler",Lo="emulator/auth/handler",Bo=encodeURIComponent("fac");function no(A,_,b,O,re,we){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,i.A)(function*(A,_,b,O,re,we){Se(A.config.authDomain,A,"auth-domain-config-required"),Se(A.config.apiKey,A,"invalid-api-key");const at={apiKey:A.config.apiKey,appName:A.name,authType:b,redirectUrl:O,v:_e.SDK_VERSION,eventId:re};if(_ instanceof kr){_.setDefaultLanguage(A.languageCode),at.providerId=_.providerId||"",(0,le.Im)(_.getCustomParameters())||(at.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Ei,Ci]of Object.entries(we||{}))at[Ei]=Ci}if(_ instanceof Ts){const Ei=_.getScopes().filter(Ci=>""!==Ci);Ei.length>0&&(at.scopes=Ei.join(","))}A.tenantId&&(at.tid=A.tenantId);const xt=at;for(const Ei of Object.keys(xt))void 0===xt[Ei]&&delete xt[Ei];const vn=yield A._getAppCheckToken(),Yn=vn?`#${Bo}=${encodeURIComponent(vn)}`:"";return`${function Vl({config:A}){return A.emulator?ri(A,Lo):`https://${A.authDomain}/${Ss}`}(A)}?${(0,le.Am)(xt).slice(1)}${Yn}`})).apply(this,arguments)}const jo="webStorageSupport",Mo=class Uo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jr,this._completeRedirectFn=Wi,this._overrideRedirectResult=bu}_openPopup(_,b,O,re){var we=this;return(0,i.A)(function*(){var at;Qt(null===(at=we.eventManagers[_._key()])||void 0===at?void 0:at.manager,"_initialize() not called before _openPopup()");const xt=yield no(_,b,O,Rn(),re);return function _i(A,_,b,O=500,re=600){const we=Math.max((window.screen.availHeight-re)/2,0).toString(),at=Math.max((window.screen.availWidth-O)/2,0).toString();let xt="";const vn=Object.assign(Object.assign({},Vt),{width:O.toString(),height:re.toString(),top:we,left:at}),Yn=(0,le.ZQ)().toLowerCase();b&&(xt=Do(Yn)?"_blank":b),Ur(Yn)&&(_=_||"http://localhost",vn.scrollbars="yes");const Ei=Object.entries(vn).reduce((Fs,[Vs,wl])=>`${Fs}${Vs}=${wl},`,"");if(function Gt(A=(0,le.ZQ)()){var _;return es(A)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Yn)&&"_self"!==xt)return function br(A,_){const b=document.createElement("a");b.href=A,b.target=_;const O=document.createEvent("MouseEvent");O.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(O)}(_||"",xt),new cr(null);const Ci=window.open(_||"",xt,Ei);Se(Ci,A,"popup-blocked");try{Ci.focus()}catch{}return new cr(Ci)}(_,xt,yc())})()}_openRedirect(_,b,O,re){var we=this;return(0,i.A)(function*(){return yield we._originValidation(_),function hl(A){cs().location.href=A}(yield no(_,b,O,Rn(),re)),new Promise(()=>{})})()}_initialize(_){const b=_._key();if(this.eventManagers[b]){const{manager:re,promise:we}=this.eventManagers[b];return re?Promise.resolve(re):(Qt(we,"If manager is not set, promise should be"),we)}const O=this.initAndGetManager(_);return this.eventManagers[b]={promise:O},O.catch(()=>{delete this.eventManagers[b]}),O}initAndGetManager(_){var b=this;return(0,i.A)(function*(){const O=yield function Me(A){return Je.apply(this,arguments)}(_),re=new ks(_);return O.register("authEvent",we=>(Se(we?.authEvent,_,"invalid-auth-event"),{status:re.onEvent(we.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[_._key()]={manager:re},b.iframes[_._key()]=O,re})()}_isIframeWebStorageSupported(_,b){this.iframes[_._key()].send(jo,{type:jo},re=>{var we;const at=null===(we=re?.[0])||void 0===we?void 0:we[jo];void 0!==at&&b(!!at),wt(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const b=_._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function za(A){return ld.apply(this,arguments)}(_)),this.originValidationPromises[b]}get _shouldInitProactively(){return Zt()||Us()||es()}};class vl{constructor(_){this.factorId=_}_process(_,b,O){switch(b.type){case"enroll":return this._finalizeEnroll(_,b.credential,O);case"signin":return this._finalizeSignIn(_,b.credential);default:return Le("unexpected MultiFactorSessionType")}}}class ba extends vl{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new ba(_)}_finalizeEnroll(_,b,O){return function Xr(A,_){return Ke(A,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(A,_))}(_,{idToken:b,displayName:O,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,b){return function nn(A,_){return Ke(A,"POST","/v2/accounts/mfaSignIn:finalize",Ie(A,_))}(_,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Mc=(()=>{class A{constructor(){}static assertion(b){return ba._fromCredential(b)}}return A.FACTOR_ID="phone",A})();var Ii="@firebase/auth";class Ri{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var b=this;return(0,i.A)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const b=this.auth.onIdTokenChanged(O=>{_(O?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,b),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const b=this.internalListeners.get(_);b&&(this.internalListeners.delete(_),b(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gs(){return window}(0,le.XA)("authIdTokenMaxAge"),function Ks(A){Cs=A}({loadJS:A=>new Promise((_,b)=>{const O=document.createElement("script");O.setAttribute("src",A),O.onload=_,O.onerror=re=>{const we=ge("internal-error");we.customData=re,b(we)},O.type="text/javascript",O.charset="UTF-8",function Ka(){var A,_;return null!==(_=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==_?_:document}().appendChild(O)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function xs(A){(0,_e._registerComponent)(new Oe.uA("auth",(_,{options:b})=>{const O=_.getProvider("app").getImmediate(),re=_.getProvider("heartbeat"),we=_.getProvider("app-check-internal"),{apiKey:at,authDomain:xt}=O.options;Se(at&&!at.includes(":"),"invalid-api-key",{appName:O.name});const vn={apiKey:at,authDomain:xt,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qn(A)},Yn=new as(O,re,we,vn);return function ir(A,_){const b=_?.persistence||[],O=(Array.isArray(b)?b:[b]).map(rt);_?.errorMap&&A._updateErrorMap(_.errorMap),A._initializeWithPersistence(O,_?.popupRedirectResolver)}(Yn,b),Yn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,b,O)=>{_.getProvider("auth-internal").initialize()})),(0,_e._registerComponent)(new Oe.uA("auth-internal",_=>{const b=Er(_.getProvider("auth").getImmediate());return new Ri(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_e.registerVersion)(Ii,"1.7.9",function pr(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,_e.registerVersion)(Ii,"1.7.9","esm2017")}("Browser");function Bl(){return Bl=(0,i.A)(function*(A,_,b){var O;const{BuildInfo:re}=gs();Qt(_.sessionId,"AuthEvent did not contain a session ID");const we=yield function Jl(A){return Zl.apply(this,arguments)}(_.sessionId),at={};return es()?at.ibi=re.packageName:mr()?at.apn=re.packageName:wt(A,"operation-not-supported-in-this-environment"),re.displayName&&(at.appDisplayName=re.displayName),at.sessionId=we,no(A,b,_.type,void 0,null!==(O=_.eventId)&&void 0!==O?O:void 0,at)}),Bl.apply(this,arguments)}function jl(){return(jl=(0,i.A)(function*(A){const{BuildInfo:_}=gs(),b={};es()?b.iosBundleId=_.packageName:mr()?b.androidPackageName=_.packageName:wt(A,"operation-not-supported-in-this-environment"),yield Yo(A,b)})).apply(this,arguments)}function cc(){return(cc=(0,i.A)(function*(A,_,b){const{cordova:O}=gs();let re=()=>{};try{yield new Promise((we,at)=>{let xt=null;function vn(){var Ci;we();const Fs=null===(Ci=O.plugins.browsertab)||void 0===Ci?void 0:Ci.close;"function"==typeof Fs&&Fs(),"function"==typeof b?.close&&b.close()}function Yn(){xt||(xt=window.setTimeout(()=>{at(ge(A,"redirect-cancelled-by-user"))},2e3))}function Ei(){"visible"===document?.visibilityState&&Yn()}_.addPassiveListener(vn),document.addEventListener("resume",Yn,!1),mr()&&document.addEventListener("visibilitychange",Ei,!1),re=()=>{_.removePassiveListener(vn),document.removeEventListener("resume",Yn,!1),document.removeEventListener("visibilitychange",Ei,!1),xt&&window.clearTimeout(xt)}})}finally{re()}})).apply(this,arguments)}function Zl(){return(Zl=(0,i.A)(function*(A){const _=function uu(A){if(Qt(/[0-9a-zA-Z]+/.test(A),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(A);const _=new ArrayBuffer(A.length),b=new Uint8Array(_);for(let O=0;O<A.length;O++)b[O]=A.charCodeAt(O);return b}(A),b=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(b)).map(re=>re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class du extends ks{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInitialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInitialized(),this.passiveListeners.forEach(b=>b(_)),super.onEvent(_)}initialized(){var _=this;return(0,i.A)(function*(){yield _.initPromise})()}}function Ya(A){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,i.A)(function*(A){const _=yield dd()._get(qc(A));return _&&(yield dd()._remove(qc(A))),_})).apply(this,arguments)}function Eh(){const A=[];for(let b=0;b<20;b++){const O=Math.floor(62*Math.random());A.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(O))}return A.join("")}function dd(){return rt(Wa)}function qc(A){return Ai("authEvent",A.config.apiKey,A.name)}function _o(A){if(!A?.includes("?"))return{};const[_,...b]=A.split("?");return(0,le.I9)(b.join("?"))}const hd=class Sd{constructor(){this._redirectPersistence=Jr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wi,this._overrideRedirectResult=bu}_initialize(_){var b=this;return(0,i.A)(function*(){const O=_._key();let re=b.eventManagers.get(O);return re||(re=new du(_),b.eventManagers.set(O,re),b.attachCallbackListeners(_,re)),re})()}_openPopup(_){wt(_,"operation-not-supported-in-this-environment")}_openRedirect(_,b,O,re){var we=this;return(0,i.A)(function*(){!function cu(A){var _,b,O,re,we,at,xt,vn,Yn,Ei;const Ci=gs();Se("function"==typeof(null===(_=Ci?.universalLinks)||void 0===_?void 0:_.subscribe),A,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(typeof(null===(b=Ci?.BuildInfo)||void 0===b?void 0:b.packageName)<"u",A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se("function"==typeof(null===(we=null===(re=null===(O=Ci?.cordova)||void 0===O?void 0:O.plugins)||void 0===re?void 0:re.browsertab)||void 0===we?void 0:we.openUrl),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(vn=null===(xt=null===(at=Ci?.cordova)||void 0===at?void 0:at.plugins)||void 0===xt?void 0:xt.browsertab)||void 0===vn?void 0:vn.isAvailable),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(Ei=null===(Yn=Ci?.cordova)||void 0===Yn?void 0:Yn.InAppBrowser)||void 0===Ei?void 0:Ei.open),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const at=yield we._initialize(_);yield at.initialized(),at.resetRedirect(),function Yd(){sl.clear()}(),yield we._originValidation(_);const xt=function Yu(A,_,b=null){return{type:_,eventId:b,urlResponse:null,sessionId:Eh(),postBody:null,tenantId:A.tenantId,error:ge(A,"no-auth-event")}}(_,O,re);yield function ud(A,_){return dd()._set(qc(A),_)}(_,xt);const vn=yield function wa(A,_,b){return Bl.apply(this,arguments)}(_,xt,b),Yn=yield function wh(A){const{cordova:_}=gs();return new Promise(b=>{_.plugins.browsertab.isAvailable(O=>{let re=null;O?_.plugins.browsertab.openUrl(A):re=_.InAppBrowser.open(A,function io(A=(0,le.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(A)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(A)}()?"_blank":"_system","location=yes"),b(re)})})}(vn);return function Ku(A,_,b){return cc.apply(this,arguments)}(_,at,Yn)})()}_isIframeWebStorageSupported(_,b){throw new Error("Method not implemented.")}_originValidation(_){const b=_._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Iu(A){return jl.apply(this,arguments)}(_)),this.originValidationPromises[b]}attachCallbackListeners(_,b){const{universalLinks:O,handleOpenURL:re,BuildInfo:we}=gs(),at=setTimeout((0,i.A)(function*(){yield Ya(_),b.onEvent(Xu())}),500),xt=function(){var Ei=(0,i.A)(function*(Ci){clearTimeout(at);const Fs=yield Ya(_);let Vs=null;Fs&&Ci?.url&&(Vs=function Au(A,_){var b,O;const re=function Ru(A){const _=_o(A),b=_.link?decodeURIComponent(_.link):void 0,O=_o(b).link,re=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return _o(re).link||re||O||b||A}(_);if(re.includes("/__/auth/callback")){const we=_o(re),at=we.firebaseError?function Qc(A){try{return JSON.parse(A)}catch{return null}}(decodeURIComponent(we.firebaseError)):null,xt=null===(O=null===(b=at?.code)||void 0===b?void 0:b.split("auth/"))||void 0===O?void 0:O[1],vn=xt?ge(xt):null;return vn?{type:A.type,eventId:A.eventId,tenantId:A.tenantId,error:vn,urlResponse:null,sessionId:null,postBody:null}:{type:A.type,eventId:A.eventId,tenantId:A.tenantId,sessionId:A.sessionId,urlResponse:re,postBody:null}}return null}(Fs,Ci.url)),b.onEvent(Vs||Xu())});return function(Fs){return Ei.apply(this,arguments)}}();typeof O<"u"&&"function"==typeof O.subscribe&&O.subscribe(null,xt);const vn=re,Yn=`${we.packageName.toLowerCase()}://`;gs().handleOpenURL=function(){var Ei=(0,i.A)(function*(Ci){if(Ci.toLowerCase().startsWith(Yn)&&xt({url:Ci}),"function"==typeof vn)try{vn(Ci)}catch(Fs){console.error(Fs)}});return function(Ci){return Ei.apply(this,arguments)}}()}};function Xu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ge("no-auth-event")}}function fu(){var A;return(null===(A=self?.location)||void 0===A?void 0:A.protocol)||null}function Xd(A=(0,le.ZQ)()){return!("file:"!==fu()&&"ionic:"!==fu()&&"capacitor:"!==fu()||!A.toLowerCase().match(/iphone|ipad|ipod|android/))}function qd(){try{const A=self.localStorage,_=yc();if(A)return A.setItem(_,"1"),A.removeItem(_),!function Xa(A=(0,le.ZQ)()){return function pd(){return(0,le.lT)()&&11===document?.documentMode}()||function Rd(A=(0,le.ZQ)()){return/Edge\/\d+/.test(A)}(A)}()||(0,le.zW)()}catch{return pu()&&(0,le.zW)()}return!1}function pu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Oc(){return(function Ad(){return"http:"===fu()||"https:"===fu()}()||(0,le.sr)()||Xd())&&!function $h(){return(0,le.lV)()||(0,le.Ll)()}()&&qd()&&!pu()}function Md(){return Xd()&&typeof document<"u"}function Mu(){return(Mu=(0,i.A)(function*(){return!!Md()&&new Promise(A=>{const _=setTimeout(()=>{A(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),A(!0)})})})).apply(this,arguments)}const ys={LOCAL:"local",NONE:"none",SESSION:"session"},Nd=Se,Jd="persistence";function Od(A){return uc.apply(this,arguments)}function uc(){return(uc=(0,i.A)(function*(A){yield A._initializationPromise;const _=Jc(),b=Ai(Jd,A.config.apiKey,A.name);_&&_.setItem(b,A._getPersistence())})).apply(this,arguments)}function Jc(){var A;try{return(null===(A=function kd(){return typeof window<"u"?window:null}())||void 0===A?void 0:A.sessionStorage)||null}catch{return null}}const Tf=Se;class dc{constructor(){this.browserResolver=rt(Mo),this.cordovaResolver=rt(hd),this.underlyingResolver=null,this._redirectPersistence=Jr,this._completeRedirectFn=Wi,this._overrideRedirectResult=bu}_initialize(_){var b=this;return(0,i.A)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,b,O,re){var we=this;return(0,i.A)(function*(){return yield we.selectUnderlyingResolver(),we.assertedUnderlyingResolver._openPopup(_,b,O,re)})()}_openRedirect(_,b,O,re){var we=this;return(0,i.A)(function*(){return yield we.selectUnderlyingResolver(),we.assertedUnderlyingResolver._openRedirect(_,b,O,re)})()}_isIframeWebStorageSupported(_,b){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,b)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return Md()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Tf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,i.A)(function*(){if(_.underlyingResolver)return;const b=yield function Qd(){return Mu.apply(this,arguments)}();_.underlyingResolver=b?_.cordovaResolver:_.browserResolver})()}}function gd(A){return A.unwrap()}function Df(A){return Zd(A)}function Zd(A){const{_tokenResponse:_}=A instanceof le.g?A.customData:A;if(!_)return null;if(!(A instanceof le.g)&&"temporaryProof"in _&&"phoneNumber"in _)return us.credentialFromResult(A);const b=_.providerId;if(!b||b===et.PASSWORD)return null;let O;switch(b){case et.GOOGLE:O=Js;break;case et.FACEBOOK:O=bi;break;case et.GITHUB:O=Ro;break;case et.TWITTER:O=xi;break;default:const{oauthIdToken:re,oauthAccessToken:we,oauthTokenSecret:at,pendingToken:xt,nonce:vn}=_;return we||at||re||xt?xt?b.startsWith("saml.")?$s._create(b,xt):Br._fromParams({providerId:b,signInMethod:b,pendingToken:xt,idToken:re,accessToken:we}):new fs(b).credential({idToken:re,accessToken:we,rawNonce:vn}):null}return A instanceof le.g?O.credentialFromError(A):O.credentialFromResult(A)}function ec(A,_){return _.catch(b=>{throw b instanceof le.g&&function xd(A,_){var b;const O=null===(b=_.customData)||void 0===b?void 0:b._tokenResponse;if("auth/multi-factor-auth-required"===_?.code)_.resolver=new Pd(A,function vs(A,_){var b;const O=(0,le.Ku)(A),re=_;return Se(_.customData.operationType,O,"argument-error"),Se(null===(b=re.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,O,"argument-error"),Gr._fromError(O,re)}(A,_));else if(O){const re=Zd(_),we=_;re&&(we.credential=re,we.tenantId=O.tenantId||void 0,we.email=O.email||void 0,we.phoneNumber=O.phoneNumber||void 0)}}(A,b),b}).then(b=>{const re=b.user;return{operationType:b.operationType,credential:Df(b),additionalUserInfo:Ct(b),user:hc.getOrCreate(re)}})}function Yh(A,_){return ku.apply(this,arguments)}function ku(){return(ku=(0,i.A)(function*(A,_){const b=yield _;return{verificationId:b.verificationId,confirm:O=>ec(A,b.confirm(O))}})).apply(this,arguments)}class Pd{constructor(_,b){this.resolver=b,this.auth=function Kh(A){return A.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return ec(gd(this.auth),this.resolver.resolveSignIn(_))}}class hc{constructor(_){this._delegate=_,this.multiFactor=function zl(A){const _=(0,le.Ku)(A);return $l.has(_)||$l.set(_,Ma._fromUser(_)),$l.get(_)}(_)}static getOrCreate(_){return hc.USER_MAP.has(_)||hc.USER_MAP.set(_,new hc(_)),hc.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var b=this;return(0,i.A)(function*(){return ec(b.auth,na(b._delegate,_))})()}linkWithPhoneNumber(_,b){var O=this;return(0,i.A)(function*(){return Yh(O.auth,function sc(A,_,b){return gl.apply(this,arguments)}(O._delegate,_,b))})()}linkWithPopup(_){var b=this;return(0,i.A)(function*(){return ec(b.auth,function Xc(A,_,b){return Dc.apply(this,arguments)}(b._delegate,_,dc))})()}linkWithRedirect(_){var b=this;return(0,i.A)(function*(){return yield Od(Er(b.auth)),Ac(b._delegate,_,dc)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var b=this;return(0,i.A)(function*(){return ec(b.auth,ao(b._delegate,_))})()}reauthenticateWithPhoneNumber(_,b){return Yh(this.auth,function sa(A,_,b){return il.apply(this,arguments)}(this._delegate,_,b))}reauthenticateWithPopup(_){return ec(this.auth,function Pl(A,_,b){return yu.apply(this,arguments)}(this._delegate,_,dc))}reauthenticateWithRedirect(_){var b=this;return(0,i.A)(function*(){return yield Od(Er(b.auth)),Ko(b._delegate,_,dc)})()}sendEmailVerification(_){return function Sr(A,_){return V.apply(this,arguments)}(this._delegate,_)}unlink(_){var b=this;return(0,i.A)(function*(){return yield function ea(A,_){return fa.apply(this,arguments)}(b._delegate,_),b})()}updateEmail(_){return function dt(A,_){const b=(0,le.Ku)(A);return(0,_e._isFirebaseServerApp)(b.auth.app)?Promise.reject(qt(b.auth)):Dt(b,_,null)}(this._delegate,_)}updatePassword(_){return function an(A,_){return Dt((0,le.Ku)(A),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function Yc(A,_){return ou.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function ve(A,_){return We.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,b){return function J(A,_,b){return R.apply(this,arguments)}(this._delegate,_,b)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}hc.USER_MAP=new WeakMap;const Nu=Se;let Fd=(()=>{class A{constructor(b,O){if(this.app=b,O.isInitialized())return this._delegate=O.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:re}=b.options;Nu(re,"invalid-api-key",{appName:b.name}),Nu(re,"invalid-api-key",{appName:b.name});const we=typeof window<"u"?dc:void 0;this._delegate=O.initialize({options:{persistence:Ih(re,b.name),popupRedirectResolver:we}}),this._delegate._updateErrorMap(Bt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?hc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(b){this._delegate.languageCode=b}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(b){this._delegate.tenantId=b}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(b,O){!function vr(A,_,b){const O=Er(A);Se(O._canInitEmulator,O,"emulator-config-failed"),Se(/^https?:\/\//.test(_),O,"invalid-emulator-scheme");const re=!!b?.disableWarnings,we=ar(_),{host:at,port:xt}=function Hr(A){const _=ar(A),b=/(\/\/)?([^?#/]+)/.exec(A.substr(_.length));if(!b)return{host:"",port:null};const O=b[2].split("@").pop()||"",re=/^(\[[^\]]+\])(:|$)/.exec(O);if(re){const we=re[1];return{host:we,port:Cr(O.substr(we.length+1))}}{const[we,at]=O.split(":");return{host:we,port:Cr(at)}}}(_);O.config.emulator={url:`${we}//${at}${null===xt?"":`:${xt}`}/`},O.settings.appVerificationDisabledForTesting=!0,O.emulatorConfig=Object.freeze({host:at,port:xt,protocol:we.replace(":",""),options:Object.freeze({disableWarnings:re})}),re||function Qi(){function A(){const _=document.createElement("p"),b=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}(this._delegate,b,O)}applyActionCode(b){return function to(A,_){return Vo.apply(this,arguments)}(this._delegate,b)}checkActionCode(b){return Aa(this._delegate,b)}confirmPasswordReset(b,O){return function _c(A,_,b){return el.apply(this,arguments)}(this._delegate,b,O)}createUserWithEmailAndPassword(b,O){var re=this;return(0,i.A)(function*(){return ec(re._delegate,function ho(A,_,b){return ic.apply(this,arguments)}(re._delegate,b,O))})()}fetchProvidersForEmail(b){return this.fetchSignInMethodsForEmail(b)}fetchSignInMethodsForEmail(b){return function dl(A,_){return Is.apply(this,arguments)}(this._delegate,b)}isSignInWithEmailLink(b){return function Ds(A,_){const b=_s.parseLink(_);return"EMAIL_SIGNIN"===b?.operation}(0,b)}getRedirectResult(){var b=this;return(0,i.A)(function*(){Nu(Oc(),b._delegate,"operation-not-supported-in-this-environment");const O=yield function Xl(A,_){return Eu.apply(this,arguments)}(b._delegate,dc);return O?ec(b._delegate,Promise.resolve(O)):{credential:null,user:null}})()}addFrameworkForLogging(b){!function fd(A,_){Er(A)._logFramework(_)}(this._delegate,b)}onAuthStateChanged(b,O,re){const{next:we,error:at,complete:xt}=bl(b,O,re);return this._delegate.onAuthStateChanged(we,at,xt)}onIdTokenChanged(b,O,re){const{next:we,error:at,complete:xt}=bl(b,O,re);return this._delegate.onIdTokenChanged(we,at,xt)}sendSignInLinkToEmail(b,O){return function vc(A,_,b){return ia.apply(this,arguments)}(this._delegate,b,O)}sendPasswordResetEmail(b,O){return function Ua(A,_,b){return Rs.apply(this,arguments)}(this._delegate,b,O||void 0)}setPersistence(b){var O=this;return(0,i.A)(function*(){let re;switch(function zh(A,_){Nd(Object.values(ys).includes(_),A,"invalid-persistence-type"),(0,le.lV)()?Nd(_!==ys.SESSION,A,"unsupported-persistence-type"):(0,le.Ll)()?Nd(_===ys.NONE,A,"unsupported-persistence-type"):pu()?Nd(_===ys.NONE||_===ys.LOCAL&&(0,le.zW)(),A,"unsupported-persistence-type"):Nd(_===ys.NONE||qd(),A,"unsupported-persistence-type")}(O._delegate,b),b){case ys.SESSION:re=Jr;break;case ys.LOCAL:re=(yield rt(Ce)._isAvailable())?Ce:Wa;break;case ys.NONE:re=gr;break;default:return wt("argument-error",{appName:O._delegate.name})}return O._delegate.setPersistence(re)})()}signInAndRetrieveDataWithCredential(b){return this.signInWithCredential(b)}signInAnonymously(){return ec(this._delegate,function Q(A){return De.apply(this,arguments)}(this._delegate))}signInWithCredential(b){return ec(this._delegate,ta(this._delegate,b))}signInWithCustomToken(b){return ec(this._delegate,function lo(A,_){return Eo.apply(this,arguments)}(this._delegate,b))}signInWithEmailAndPassword(b,O){return ec(this._delegate,function Ra(A,_,b){return(0,_e._isFirebaseServerApp)(A.app)?Promise.reject(qt(A)):ta((0,le.Ku)(A),wo.credential(_,b)).catch(function(){var O=(0,i.A)(function*(re){throw"auth/password-does-not-meet-requirements"===re.code&&Bs(A),re});return function(re){return O.apply(this,arguments)}}())}(this._delegate,b,O))}signInWithEmailLink(b,O){return ec(this._delegate,function ra(A,_,b){return tl.apply(this,arguments)}(this._delegate,b,O))}signInWithPhoneNumber(b,O){return Yh(this._delegate,function Id(A,_,b){return vu.apply(this,arguments)}(this._delegate,b,O))}signInWithPopup(b){var O=this;return(0,i.A)(function*(){return Nu(Oc(),O._delegate,"operation-not-supported-in-this-environment"),ec(O._delegate,function Bu(A,_,b){return ju.apply(this,arguments)}(O._delegate,b,dc))})()}signInWithRedirect(b){var O=this;return(0,i.A)(function*(){return Nu(Oc(),O._delegate,"operation-not-supported-in-this-environment"),yield Od(O._delegate),Ms(O._delegate,b,dc)})()}updateCurrentUser(b){return this._delegate.updateCurrentUser(b)}verifyPasswordResetCode(b){return function uo(A,_){return Ha.apply(this,arguments)}(this._delegate,b)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return A.Persistence=ys,A})();function bl(A,_,b){let O=A;"function"!=typeof A&&({next:O,error:_,complete:b}=A);const re=O;return{next:at=>re(at&&hc.getOrCreate(at)),error:_,complete:b}}function Ih(A,_){const b=function Dh(A,_){const b=Jc();if(!b)return[];const O=Ai(Jd,A,_);switch(b.getItem(O)){case ys.NONE:return[gr];case ys.LOCAL:return[Ce,Jr];case ys.SESSION:return[Jr];default:return[]}}(A,_);if(typeof self<"u"&&!b.includes(Ce)&&b.push(Ce),typeof window<"u")for(const O of[Wa,Jr])b.includes(O)||b.push(O);return b.includes(gr)||b.push(gr),b}class gu{constructor(){this.providerId="phone",this._delegate=new us(gd(l.A.auth()))}static credential(_,b){return us.credential(_,b)}verifyPhoneNumber(_,b){return this._delegate.verifyPhoneNumber(_,b)}unwrap(){return this._delegate}}gu.PHONE_SIGN_IN_METHOD=us.PHONE_SIGN_IN_METHOD,gu.PROVIDER_ID=us.PROVIDER_ID;const qu=Se;class eh{constructor(_,b,O=l.A.app()){var re;qu(null===(re=O.options)||void 0===re?void 0:re.apiKey,"invalid-api-key",{appName:O.name}),this._delegate=new Kd(O.auth(),_,b),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function qo(A){A.INTERNAL.registerComponent(new Oe.uA("auth-compat",_=>{const b=_.getProvider("app-compat").getImmediate(),O=_.getProvider("auth");return new Fd(b,O)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:wo,FacebookAuthProvider:bi,GithubAuthProvider:Ro,GoogleAuthProvider:Js,OAuthProvider:fs,SAMLAuthProvider:qr,PhoneAuthProvider:gu,PhoneMultiFactorGenerator:Mc,RecaptchaVerifier:eh,TwitterAuthProvider:xi,Auth:Fd,AuthCredential:yo,Error:le.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),A.registerVersion("@firebase/auth-compat","0.5.14")}(l.A)},1562:(un,nt,B)=>{"use strict";B.d(nt,{BK:()=>Vn,YG:()=>bt,bk:()=>tn});var i=B(4438),l=B(177);const _e=["dialogPopup"],le=["hueSlider"],Te=["alphaSlider"];function Ye(xe,Ft){if(1&xe&&i.nrm(0,"div"),2&xe){const ie=i.XpG();i.ZvI("arrow arrow-",ie.cpUsePosition,""),i.xc7("left",ie.cpArrowPosition)("top",ie.arrowTop,"px")}}function Oe(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"div",28),i.bIt("newValue",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onColorChange(Ve))})("dragStart",function(){i.eBV(ie);const Ve=i.XpG();return i.Njj(Ve.onDragStart("saturation-lightness"))})("dragEnd",function(){i.eBV(ie);const Ve=i.XpG();return i.Njj(Ve.onDragEnd("saturation-lightness"))}),i.nrm(1,"div",16),i.k0s()}if(2&xe){const ie=i.XpG();i.xc7("background-color",ie.hueSliderColor),i.Y8G("rgX",1)("rgY",1),i.R7$(),i.xc7("top",null==ie.slider?null:ie.slider.v,"px")("left",null==ie.slider?null:ie.slider.s,"px")}}function Xe(xe,Ft){1&xe&&(i.qSk(),i.j41(0,"svg",29),i.nrm(1,"path",30)(2,"path",31),i.k0s())}function et(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"button",32),i.bIt("click",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onAddPresetColor(Ve,pt.selectedColor))}),i.EFF(1),i.k0s()}if(2&xe){const ie=i.XpG();i.HbH(ie.cpAddColorButtonClass),i.Y8G("disabled",ie.cpPresetColors&&ie.cpPresetColors.length>=ie.cpMaxPresetColorsLength),i.R7$(),i.SpI(" ",ie.cpAddColorButtonText," ")}}function Ne(xe,Ft){1&xe&&i.nrm(0,"div",33)}function Fe(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"input",39),i.bIt("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG(2);return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG(2);return i.Njj(pt.onAlphaInput(Ve))}),i.k0s()}if(2&xe){const ie=i.XpG(2);i.Y8G("rg",1)("value",null==ie.cmykText?null:ie.cmykText.a)}}function st(xe,Ft){1&xe&&(i.j41(0,"div"),i.EFF(1,"A"),i.k0s())}function It(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"div",34)(1,"div",35)(2,"input",36),i.bIt("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onCyanInput(Ve))}),i.k0s(),i.j41(3,"input",36),i.bIt("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onMagentaInput(Ve))}),i.k0s(),i.j41(4,"input",36),i.bIt("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onYellowInput(Ve))}),i.k0s(),i.j41(5,"input",36),i.bIt("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onBlackInput(Ve))}),i.k0s(),i.DNE(6,Fe,1,2,"input",37),i.k0s(),i.j41(7,"div",35)(8,"div"),i.EFF(9,"C"),i.k0s(),i.j41(10,"div"),i.EFF(11,"M"),i.k0s(),i.j41(12,"div"),i.EFF(13,"Y"),i.k0s(),i.j41(14,"div"),i.EFF(15,"K"),i.k0s(),i.DNE(16,st,2,0,"div",38),i.k0s()()}if(2&xe){const ie=i.XpG();i.xc7("display",3!==ie.format?"none":"block"),i.R7$(2),i.Y8G("rg",100)("value",null==ie.cmykText?null:ie.cmykText.c),i.R7$(),i.Y8G("rg",100)("value",null==ie.cmykText?null:ie.cmykText.m),i.R7$(),i.Y8G("rg",100)("value",null==ie.cmykText?null:ie.cmykText.y),i.R7$(),i.Y8G("rg",100)("value",null==ie.cmykText?null:ie.cmykText.k),i.R7$(),i.Y8G("ngIf","disabled"!==ie.cpAlphaChannel),i.R7$(10),i.Y8G("ngIf","disabled"!==ie.cpAlphaChannel)}}function Rt(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"input",39),i.bIt("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG(2);return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG(2);return i.Njj(pt.onAlphaInput(Ve))}),i.k0s()}if(2&xe){const ie=i.XpG(2);i.Y8G("rg",1)("value",null==ie.hslaText?null:ie.hslaText.a)}}function Bt(xe,Ft){1&xe&&(i.j41(0,"div"),i.EFF(1,"A"),i.k0s())}function fn(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"div",40)(1,"div",35)(2,"input",41),i.bIt("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onHueInput(Ve))}),i.k0s(),i.j41(3,"input",36),i.bIt("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onSaturationInput(Ve))}),i.k0s(),i.j41(4,"input",36),i.bIt("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onLightnessInput(Ve))}),i.k0s(),i.DNE(5,Rt,1,2,"input",37),i.k0s(),i.j41(6,"div",35)(7,"div"),i.EFF(8,"H"),i.k0s(),i.j41(9,"div"),i.EFF(10,"S"),i.k0s(),i.j41(11,"div"),i.EFF(12,"L"),i.k0s(),i.DNE(13,Bt,2,0,"div",38),i.k0s()()}if(2&xe){const ie=i.XpG();i.xc7("display",2!==ie.format?"none":"block"),i.R7$(2),i.Y8G("rg",360)("value",null==ie.hslaText?null:ie.hslaText.h),i.R7$(),i.Y8G("rg",100)("value",null==ie.hslaText?null:ie.hslaText.s),i.R7$(),i.Y8G("rg",100)("value",null==ie.hslaText?null:ie.hslaText.l),i.R7$(),i.Y8G("ngIf","disabled"!==ie.cpAlphaChannel),i.R7$(8),i.Y8G("ngIf","disabled"!==ie.cpAlphaChannel)}}function Wt(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"input",39),i.bIt("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG(2);return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG(2);return i.Njj(pt.onAlphaInput(Ve))}),i.k0s()}if(2&xe){const ie=i.XpG(2);i.Y8G("rg",1)("value",null==ie.rgbaText?null:ie.rgbaText.a)}}function je(xe,Ft){1&xe&&(i.j41(0,"div"),i.EFF(1,"A"),i.k0s())}function Cn(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"div",42)(1,"div",35)(2,"input",43),i.bIt("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onRedInput(Ve))}),i.k0s(),i.j41(3,"input",43),i.bIt("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onGreenInput(Ve))}),i.k0s(),i.j41(4,"input",43),i.bIt("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onBlueInput(Ve))}),i.k0s(),i.DNE(5,Wt,1,2,"input",37),i.k0s(),i.j41(6,"div",35)(7,"div"),i.EFF(8,"R"),i.k0s(),i.j41(9,"div"),i.EFF(10,"G"),i.k0s(),i.j41(11,"div"),i.EFF(12,"B"),i.k0s(),i.DNE(13,je,2,0,"div",38),i.k0s()()}if(2&xe){const ie=i.XpG();i.xc7("display",1!==ie.format?"none":"block"),i.R7$(2),i.Y8G("rg",255)("value",null==ie.rgbaText?null:ie.rgbaText.r),i.R7$(),i.Y8G("rg",255)("value",null==ie.rgbaText?null:ie.rgbaText.g),i.R7$(),i.Y8G("rg",255)("value",null==ie.rgbaText?null:ie.rgbaText.b),i.R7$(),i.Y8G("ngIf","disabled"!==ie.cpAlphaChannel),i.R7$(8),i.Y8G("ngIf","disabled"!==ie.cpAlphaChannel)}}function Mn(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"input",39),i.bIt("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG(2);return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG(2);return i.Njj(pt.onAlphaInput(Ve))}),i.k0s()}if(2&xe){const ie=i.XpG(2);i.Y8G("rg",1)("value",ie.hexAlpha)}}function jt(xe,Ft){1&xe&&(i.j41(0,"div"),i.EFF(1,"A"),i.k0s())}function wt(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"div",44)(1,"div",35)(2,"input",45),i.bIt("blur",function(){i.eBV(ie);const Ve=i.XpG();return i.Njj(Ve.onHexInput(null))})("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onHexInput(Ve))}),i.k0s(),i.DNE(3,Mn,1,2,"input",37),i.k0s(),i.j41(4,"div",35)(5,"div"),i.EFF(6,"Hex"),i.k0s(),i.DNE(7,jt,2,0,"div",38),i.k0s()()}if(2&xe){const ie=i.XpG();i.xc7("display",0!==ie.format?"none":"block"),i.AVh("hex-alpha","forced"===ie.cpAlphaChannel),i.R7$(2),i.Y8G("value",ie.hexText),i.R7$(),i.Y8G("ngIf","forced"===ie.cpAlphaChannel),i.R7$(4),i.Y8G("ngIf","forced"===ie.cpAlphaChannel)}}function ge(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"input",39),i.bIt("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG(2);return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG(2);return i.Njj(pt.onAlphaInput(Ve))}),i.k0s()}if(2&xe){const ie=i.XpG(2);i.Y8G("rg",1)("value",null==ie.hslaText?null:ie.hslaText.a)}}function Tn(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"div",46)(1,"div",35)(2,"input",36),i.bIt("keyup.enter",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onAcceptColor(Ve))})("newValue",function(Ve){i.eBV(ie);const pt=i.XpG();return i.Njj(pt.onValueInput(Ve))}),i.k0s(),i.DNE(3,ge,1,2,"input",37),i.k0s(),i.j41(4,"div",35)(5,"div"),i.EFF(6,"V"),i.k0s(),i.j41(7,"div"),i.EFF(8,"A"),i.k0s()()()}if(2&xe){const ie=i.XpG();i.R7$(2),i.Y8G("rg",100)("value",null==ie.hslaText?null:ie.hslaText.l),i.R7$(),i.Y8G("ngIf","disabled"!==ie.cpAlphaChannel)}}function qt(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"div",47)(1,"span",48),i.bIt("click",function(){i.eBV(ie);const Ve=i.XpG();return i.Njj(Ve.onFormatToggle(-1))}),i.k0s(),i.j41(2,"span",48),i.bIt("click",function(){i.eBV(ie);const Ve=i.XpG();return i.Njj(Ve.onFormatToggle(1))}),i.k0s()()}}function Mt(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"span",55),i.bIt("click",function(Ve){i.eBV(ie);const pt=i.XpG().$implicit,bn=i.XpG(3);return i.Njj(bn.onRemovePresetColor(Ve,pt))}),i.k0s()}if(2&xe){const ie=i.XpG(4);i.HbH(ie.cpRemoveColorButtonClass)}}function He(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"div",53),i.bIt("click",function(){const Ve=i.eBV(ie).$implicit,pt=i.XpG(3);return i.Njj(pt.setColorFromString(Ve))}),i.DNE(1,Mt,1,3,"span",54),i.k0s()}if(2&xe){const ie=Ft.$implicit,Qe=i.XpG(3);i.xc7("background-color",ie),i.R7$(),i.Y8G("ngIf",Qe.cpAddColorButton)}}function Se(xe,Ft){if(1&xe&&(i.j41(0,"div"),i.DNE(1,He,2,3,"div",52),i.k0s()),2&xe){const ie=i.XpG(2);i.HbH(ie.cpPresetColorsClass),i.R7$(),i.Y8G("ngForOf",ie.cpPresetColors)}}function Le(xe,Ft){if(1&xe&&(i.j41(0,"div"),i.EFF(1),i.k0s()),2&xe){const ie=i.XpG(2);i.HbH(ie.cpPresetEmptyMessageClass),i.R7$(),i.JRh(ie.cpPresetEmptyMessage)}}function Qt(xe,Ft){if(1&xe&&(i.j41(0,"div",49),i.nrm(1,"hr"),i.j41(2,"div",50),i.EFF(3),i.k0s(),i.DNE(4,Se,2,4,"div",51)(5,Le,2,4,"div",51),i.k0s()),2&xe){const ie=i.XpG();i.R7$(3),i.JRh(ie.cpPresetLabel),i.R7$(),i.Y8G("ngIf",null==ie.cpPresetColors?null:ie.cpPresetColors.length),i.R7$(),i.Y8G("ngIf",!(null!=ie.cpPresetColors&&ie.cpPresetColors.length)&&ie.cpAddColorButton)}}function Rn(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"button",58),i.bIt("click",function(Ve){i.eBV(ie);const pt=i.XpG(2);return i.Njj(pt.onCancelColor(Ve))}),i.EFF(1),i.k0s()}if(2&xe){const ie=i.XpG(2);i.HbH(ie.cpCancelButtonClass),i.R7$(),i.JRh(ie.cpCancelButtonText)}}function Xn(xe,Ft){if(1&xe){const ie=i.RV6();i.j41(0,"button",58),i.bIt("click",function(Ve){i.eBV(ie);const pt=i.XpG(2);return i.Njj(pt.onAcceptColor(Ve))}),i.EFF(1),i.k0s()}if(2&xe){const ie=i.XpG(2);i.HbH(ie.cpOKButtonClass),i.R7$(),i.JRh(ie.cpOKButtonText)}}function ai(xe,Ft){if(1&xe&&(i.j41(0,"div",56),i.DNE(1,Rn,2,4,"button",57)(2,Xn,2,4,"button",57),i.k0s()),2&xe){const ie=i.XpG();i.R7$(),i.Y8G("ngIf",ie.cpCancelButton),i.R7$(),i.Y8G("ngIf",ie.cpOKButton)}}function $n(xe,Ft){1&xe&&i.eu8(0)}function Zn(xe,Ft){if(1&xe&&(i.j41(0,"div",59),i.DNE(1,$n,1,0,"ng-container",60),i.k0s()),2&xe){const ie=i.XpG();i.R7$(),i.Y8G("ngTemplateOutlet",ie.cpExtraTemplate)}}var En=function(xe){return xe[xe.HEX=0]="HEX",xe[xe.RGBA=1]="RGBA",xe[xe.HSLA=2]="HSLA",xe[xe.CMYK=3]="CMYK",xe}(En||{});class ri{r;g;b;a;constructor(Ft,ie,Qe,Ve){this.r=Ft,this.g=ie,this.b=Qe,this.a=Ve}}class mt{h;s;v;a;constructor(Ft,ie,Qe,Ve){this.h=Ft,this.s=ie,this.v=Qe,this.a=Ve}}class Be{h;s;l;a;constructor(Ft,ie,Qe,Ve){this.h=Ft,this.s=ie,this.l=Qe,this.a=Ve}}class Ze{c;m;y;k;a;constructor(Ft,ie,Qe,Ve,pt=1){this.c=Ft,this.m=ie,this.y=Qe,this.k=Ve,this.a=pt}}let it=(()=>{class xe{rg;text;newValue=new i.bkB;inputChange(ie){const Qe=ie.target.value;if(void 0===this.rg)this.newValue.emit(Qe);else{const Ve=parseFloat(Qe);this.newValue.emit({v:Ve,rg:this.rg})}}static \u0275fac=function(Qe){return new(Qe||xe)};static \u0275dir=i.FsC({type:xe,selectors:[["","text",""]],hostBindings:function(Qe,Ve){1&Qe&&i.bIt("input",function(bn){return Ve.inputChange(bn)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}})}return xe})(),ot=(()=>{class xe{elRef;listenerMove;listenerStop;rgX;rgY;slider;dragEnd=new i.bkB;dragStart=new i.bkB;newValue=new i.bkB;mouseDown(ie){this.start(ie)}touchStart(ie){this.start(ie)}constructor(ie){this.elRef=ie,this.listenerMove=Qe=>this.move(Qe),this.listenerStop=()=>this.stop()}move(ie){ie.preventDefault(),this.setCursor(ie)}start(ie){this.setCursor(ie),ie.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(ie){const Qe=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==ie.pageX?ie.pageX:ie.touches[0].pageX)-Qe.left-window.pageXOffset}getY(ie){const Qe=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==ie.pageY?ie.pageY:ie.touches[0].pageY)-Qe.top-window.pageYOffset}setCursor(ie){const Qe=this.elRef.nativeElement.offsetWidth,Ve=this.elRef.nativeElement.offsetHeight,pt=Math.max(0,Math.min(this.getX(ie),Qe)),bn=Math.max(0,Math.min(this.getY(ie),Ve));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:pt/Qe,v:1-bn/Ve,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:bn/Ve,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:pt/Qe,rgX:this.rgX})}static \u0275fac=function(Qe){return new(Qe||xe)(i.rXU(i.aKT))};static \u0275dir=i.FsC({type:xe,selectors:[["","slider",""]],hostBindings:function(Qe,Ve){1&Qe&&i.bIt("mousedown",function(bn){return Ve.mouseDown(bn)})("touchstart",function(bn){return Ve.touchStart(bn)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}})}return xe})();class On{h;s;v;a;constructor(Ft,ie,Qe,Ve){this.h=Ft,this.s=ie,this.v=Qe,this.a=Ve}}class ei{h;s;v;a;constructor(Ft,ie,Qe,Ve){this.h=Ft,this.s=ie,this.v=Qe,this.a=Ve}}let Vn=(()=>{class xe{active=null;setActive(ie){this.active&&this.active!==ie&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=ie}hsva2hsla(ie){const Qe=ie.h,Ve=ie.s,pt=ie.v,bn=ie.a;if(0===pt)return new Be(Qe,0,0,bn);if(0===Ve&&1===pt)return new Be(Qe,1,1,bn);{const Nn=pt*(2-Ve)/2;return new Be(Qe,pt*Ve/(1-Math.abs(2*Nn-1)),Nn,bn)}}hsla2hsva(ie){const Qe=Math.min(ie.h,1),Ve=Math.min(ie.s,1),pt=Math.min(ie.l,1),bn=Math.min(ie.a,1);if(0===pt)return new mt(Qe,0,0,bn);{const Nn=pt+Ve*(1-Math.abs(2*pt-1))/2;return new mt(Qe,2*(Nn-pt)/Nn,Nn,bn)}}hsvaToRgba(ie){let Qe,Ve,pt;const bn=ie.h,Nn=ie.s,Dn=ie.v,jn=ie.a,ur=Math.floor(6*bn),Ki=6*bn-ur,Fi=Dn*(1-Nn),si=Dn*(1-Ki*Nn),nr=Dn*(1-(1-Ki)*Nn);switch(ur%6){case 0:Qe=Dn,Ve=nr,pt=Fi;break;case 1:Qe=si,Ve=Dn,pt=Fi;break;case 2:Qe=Fi,Ve=Dn,pt=nr;break;case 3:Qe=Fi,Ve=si,pt=Dn;break;case 4:Qe=nr,Ve=Fi,pt=Dn;break;case 5:Qe=Dn,Ve=Fi,pt=si;break;default:Qe=0,Ve=0,pt=0}return new ri(Qe,Ve,pt,jn)}cmykToRgb(ie){return new ri((1-ie.c)*(1-ie.k),(1-ie.m)*(1-ie.k),(1-ie.y)*(1-ie.k),ie.a)}rgbaToCmyk(ie){const Qe=1-Math.max(ie.r,ie.g,ie.b);return 1===Qe?new Ze(0,0,0,1,ie.a):new Ze((1-ie.r-Qe)/(1-Qe),(1-ie.g-Qe)/(1-Qe),(1-ie.b-Qe)/(1-Qe),Qe,ie.a)}rgbaToHsva(ie){let Qe,Ve;const pt=Math.min(ie.r,1),bn=Math.min(ie.g,1),Nn=Math.min(ie.b,1),Dn=Math.min(ie.a,1),jn=Math.max(pt,bn,Nn),ur=Math.min(pt,bn,Nn),Ki=jn,Fi=jn-ur;if(Ve=0===jn?0:Fi/jn,jn===ur)Qe=0;else{switch(jn){case pt:Qe=(bn-Nn)/Fi+(bn<Nn?6:0);break;case bn:Qe=(Nn-pt)/Fi+2;break;case Nn:Qe=(pt-bn)/Fi+4;break;default:Qe=0}Qe/=6}return new mt(Qe,Ve,Ki,Dn)}rgbaToHex(ie,Qe){let Ve="#"+(16777216|ie.r<<16|ie.g<<8|ie.b).toString(16).substr(1);return Qe&&(Ve+=(256|Math.round(255*ie.a)).toString(16).substr(1)),Ve}normalizeCMYK(ie){return new Ze(ie.c/100,ie.m/100,ie.y/100,ie.k/100,ie.a)}denormalizeCMYK(ie){return new Ze(Math.floor(100*ie.c),Math.floor(100*ie.m),Math.floor(100*ie.y),Math.floor(100*ie.k),ie.a)}denormalizeRGBA(ie){return new ri(Math.round(255*ie.r),Math.round(255*ie.g),Math.round(255*ie.b),ie.a)}stringToHsva(ie="",Qe=!1){let Ve=null;ie=(ie||"").toLowerCase();const pt=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(bn){return new ri(parseInt(bn[2],10)/255,parseInt(bn[3],10)/255,parseInt(bn[4],10)/255,isNaN(parseFloat(bn[5]))?1:parseFloat(bn[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(bn){return new Be(parseInt(bn[2],10)/360,parseInt(bn[3],10)/100,parseInt(bn[4],10)/100,isNaN(parseFloat(bn[5]))?1:parseFloat(bn[5]))}}];pt.push(Qe?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(bn){return new ri(parseInt(bn[1],16)/255,parseInt(bn[2],16)/255,parseInt(bn[3],16)/255,parseInt(bn[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(bn){return new ri(parseInt(bn[1],16)/255,parseInt(bn[2],16)/255,parseInt(bn[3],16)/255,1)}}),pt.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(bn){return new ri(parseInt(bn[1]+bn[1],16)/255,parseInt(bn[2]+bn[2],16)/255,parseInt(bn[3]+bn[3],16)/255,1)}});for(const bn in pt)if(pt.hasOwnProperty(bn)){const Nn=pt[bn],Dn=Nn.re.exec(ie),jn=Dn&&Nn.parse(Dn);if(jn)return jn instanceof ri?Ve=this.rgbaToHsva(jn):jn instanceof Be&&(Ve=this.hsla2hsva(jn)),Ve}return Ve}outputFormat(ie,Qe,Ve){switch("auto"===Qe&&(Qe=ie.a<1?"rgba":"hex"),Qe){case"hsla":const pt=this.hsva2hsla(ie),bn=new Be(Math.round(360*pt.h),Math.round(100*pt.s),Math.round(100*pt.l),Math.round(100*pt.a)/100);return ie.a<1||"always"===Ve?"hsla("+bn.h+","+bn.s+"%,"+bn.l+"%,"+bn.a+")":"hsl("+bn.h+","+bn.s+"%,"+bn.l+"%)";case"rgba":const Nn=this.denormalizeRGBA(this.hsvaToRgba(ie));return ie.a<1||"always"===Ve?"rgba("+Nn.r+","+Nn.g+","+Nn.b+","+Math.round(100*Nn.a)/100+")":"rgb("+Nn.r+","+Nn.g+","+Nn.b+")";default:const Dn="always"===Ve||"forced"===Ve;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(ie)),Dn)}}static \u0275fac=function(Qe){return new(Qe||xe)};static \u0275prov=i.jDH({token:xe,factory:xe.\u0275fac})}return xe})();const en=typeof window<"u"&&"ontouchstart"in window;let cn=(()=>{class xe{ngZone;elRef;cdRef;document;platformId;service;isIE10=!1;cmyk;hsva;width;height;cmykColor;outputColor;initialColor;fallbackColor;listenerResize;listenerMouseDown;directiveInstance;sliderH;sliderDimMax;directiveElementRef;dialogArrowSize=10;dialogArrowOffset=15;dialogInputFields=[En.HEX,En.RGBA,En.HSLA,En.CMYK];useRootViewContainer=!1;show;hidden;top;left;position;format;slider;hexText;hexAlpha;cmykText;hslaText;rgbaText;arrowTop;selectedColor;hueSliderColor;alphaSliderColor;cpWidth;cpHeight;cpColorMode;cpCmykEnabled;cpAlphaChannel;cpOutputFormat;cpDisableInput;cpDialogDisplay;cpIgnoredElements;cpSaveClickOutside;cpCloseClickOutside;cpPosition;cpUsePosition;cpPositionOffset;cpOKButton;cpOKButtonText;cpOKButtonClass;cpCancelButton;cpCancelButtonText;cpCancelButtonClass;cpEyeDropper;eyeDropperSupported;cpPresetLabel;cpPresetColors;cpPresetColorsClass;cpMaxPresetColorsLength;cpPresetEmptyMessage;cpPresetEmptyMessageClass;cpAddColorButton;cpAddColorButtonText;cpAddColorButtonClass;cpRemoveColorButtonClass;cpArrowPosition;cpTriggerElement;cpExtraTemplate;dialogElement;hueSlider;alphaSlider;handleEsc(ie){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(ie)}handleEnter(ie){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(ie)}constructor(ie,Qe,Ve,pt,bn,Nn){this.ngZone=ie,this.elRef=Qe,this.cdRef=Ve,this.document=pt,this.platformId=bn,this.service=Nn,this.eyeDropperSupported=(0,l.UE)(this.platformId)&&"EyeDropper"in this.document.defaultView}ngOnInit(){this.slider=new On(0,0,0,0),this.sliderDimMax=new ei(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?En.CMYK:"rgba"===this.cpOutputFormat?En.RGBA:"hsla"===this.cpOutputFormat?En.HSLA:En.HEX,this.listenerMouseDown=Ve=>{this.onMouseDown(Ve)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new ei(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(ie,Qe=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(ie),this.setColorFromString(ie,Qe),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(ie,Qe,Ve,pt,bn,Nn,Dn,jn,ur,Ki,Fi,si,nr,os,Kn,Pn,er,Wn,ws,ni,gn,Fr,Es,Rr,vt,Tt,$e,ht,yn,Un,Ge,ze,ut,zt,Nt,kn,rt,Oi){this.setInitialColor(Ve),this.setColorMode(jn),this.isIE10=10===function Ke(){let xe="";typeof navigator<"u"&&(xe=navigator.userAgent.toLowerCase());const Ft=xe.indexOf("msie ");return Ft>0&&parseInt(xe.substring(Ft+5,xe.indexOf(".",Ft)),10)}(),this.directiveInstance=ie,this.directiveElementRef=Qe,this.cpDisableInput=si,this.cpCmykEnabled=ur,this.cpAlphaChannel=Ki,this.cpOutputFormat=Fi,this.cpDialogDisplay=Nn,this.cpIgnoredElements=nr,this.cpSaveClickOutside=os,this.cpCloseClickOutside=Kn,this.useRootViewContainer=Pn,this.width=this.cpWidth=parseInt(pt,10),this.height=this.cpHeight=parseInt(bn,10),this.cpPosition=er,this.cpPositionOffset=parseInt(Wn,10),this.cpOKButton=Tt,this.cpOKButtonText=ht,this.cpOKButtonClass=$e,this.cpCancelButton=yn,this.cpCancelButtonText=Ge,this.cpCancelButtonClass=Un,this.cpEyeDropper=kn,this.fallbackColor=Dn||"#fff",this.setPresetConfig(ni,gn),this.cpPresetColorsClass=Fr,this.cpMaxPresetColorsLength=Es,this.cpPresetEmptyMessage=Rr,this.cpPresetEmptyMessageClass=vt,this.cpAddColorButton=ze,this.cpAddColorButtonText=zt,this.cpAddColorButtonClass=ut,this.cpRemoveColorButtonClass=Nt,this.cpTriggerElement=rt,this.cpExtraTemplate=Oi,ws||(this.dialogArrowOffset=0),"inline"===Nn&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===Fi&&"always"!==Ki&&"forced"!==Ki&&(this.cpAlphaChannel="disabled")}setColorMode(ie){switch(ie.toString().toUpperCase()){case"1":case"C":case"COLOR":default:this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3}}setInitialColor(ie){this.initialColor=ie}setPresetConfig(ie,Qe){this.cpPresetLabel=ie,this.cpPresetColors=Qe}setColorFromString(ie,Qe=!0,Ve=!0){let pt;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(pt=this.service.stringToHsva(ie,!0),!pt&&!this.hsva&&(pt=this.service.stringToHsva(ie,!1))):pt=this.service.stringToHsva(ie,!1),!pt&&!this.hsva&&(pt=this.service.stringToHsva(this.fallbackColor,!1)),pt&&(this.hsva=pt,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(Qe,Ve))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(ie){this.directiveInstance.sliderDragEnd({slider:ie,color:this.outputColor})}onDragStart(ie){this.directiveInstance.sliderDragStart({slider:ie,color:this.outputColor})}onMouseDown(ie){this.show&&!this.isIE10&&"popup"===this.cpDialogDisplay&&ie.target!==this.directiveElementRef.nativeElement&&!this.isDescendant(this.elRef.nativeElement,ie.target)&&!this.isDescendant(this.directiveElementRef.nativeElement,ie.target)&&0===this.cpIgnoredElements.filter(Qe=>Qe===ie.target).length&&this.ngZone.run(()=>{this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker()})}onAcceptColor(ie){ie.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(ie){this.hsva=null,ie.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onEyeDropper(){this.eyeDropperSupported&&(new window.EyeDropper).open().then(Qe=>{this.setColorFromString(Qe.sRGBHex,!0)})}onFormatToggle(ie){const Qe=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),Ve=((this.dialogInputFields.indexOf(this.format)+ie)%Qe+Qe)%Qe;this.format=this.dialogInputFields[Ve]}onColorChange(ie){this.hsva.s=ie.s/ie.rgX,this.hsva.v=ie.v/ie.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(ie){this.hsva.h=ie.v/ie.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(ie){this.hsva.v=ie.v/ie.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(ie){this.hsva.a=ie.v/ie.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(ie){if(null===ie)this.updateColorPicker();else{ie&&"#"!==ie[0]&&(ie="#"+ie);let Qe=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(Qe=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const Ve=Qe.test(ie);Ve&&(ie.length<5&&(ie="#"+ie.substring(1).split("").map(pt=>pt+pt).join("")),"forced"===this.cpAlphaChannel&&(ie+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(ie,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:Ve,value:ie,color:this.outputColor})}}onRedInput(ie){const Qe=this.service.hsvaToRgba(this.hsva),Ve=!isNaN(ie.v)&&ie.v>=0&&ie.v<=ie.rg;Ve&&(Qe.r=ie.v/ie.rg,this.hsva=this.service.rgbaToHsva(Qe),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:Ve,value:Qe.r,color:this.outputColor})}onBlueInput(ie){const Qe=this.service.hsvaToRgba(this.hsva),Ve=!isNaN(ie.v)&&ie.v>=0&&ie.v<=ie.rg;Ve&&(Qe.b=ie.v/ie.rg,this.hsva=this.service.rgbaToHsva(Qe),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:Ve,value:Qe.b,color:this.outputColor})}onGreenInput(ie){const Qe=this.service.hsvaToRgba(this.hsva),Ve=!isNaN(ie.v)&&ie.v>=0&&ie.v<=ie.rg;Ve&&(Qe.g=ie.v/ie.rg,this.hsva=this.service.rgbaToHsva(Qe),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:Ve,value:Qe.g,color:this.outputColor})}onHueInput(ie){const Qe=!isNaN(ie.v)&&ie.v>=0&&ie.v<=ie.rg;Qe&&(this.hsva.h=ie.v/ie.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:Qe,value:this.hsva.h,color:this.outputColor})}onValueInput(ie){const Qe=!isNaN(ie.v)&&ie.v>=0&&ie.v<=ie.rg;Qe&&(this.hsva.v=ie.v/ie.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:Qe,value:this.hsva.v,color:this.outputColor})}onAlphaInput(ie){const Qe=!isNaN(ie.v)&&ie.v>=0&&ie.v<=ie.rg;Qe&&(this.hsva.a=ie.v/ie.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:Qe,value:this.hsva.a,color:this.outputColor})}onLightnessInput(ie){const Qe=this.service.hsva2hsla(this.hsva),Ve=!isNaN(ie.v)&&ie.v>=0&&ie.v<=ie.rg;Ve&&(Qe.l=ie.v/ie.rg,this.hsva=this.service.hsla2hsva(Qe),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:Ve,value:Qe.l,color:this.outputColor})}onSaturationInput(ie){const Qe=this.service.hsva2hsla(this.hsva),Ve=!isNaN(ie.v)&&ie.v>=0&&ie.v<=ie.rg;Ve&&(Qe.s=ie.v/ie.rg,this.hsva=this.service.hsla2hsva(Qe),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:Ve,value:Qe.s,color:this.outputColor})}onCyanInput(ie){!isNaN(ie.v)&&ie.v>=0&&ie.v<=ie.rg&&(this.cmyk.c=ie.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(ie){!isNaN(ie.v)&&ie.v>=0&&ie.v<=ie.rg&&(this.cmyk.m=ie.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(ie){!isNaN(ie.v)&&ie.v>=0&&ie.v<=ie.rg&&(this.cmyk.y=ie.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(ie){!isNaN(ie.v)&&ie.v>=0&&ie.v<=ie.rg&&(this.cmyk.k=ie.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(ie,Qe){ie.stopPropagation(),this.cpPresetColors.filter(Ve=>Ve===Qe).length||(this.cpPresetColors=this.cpPresetColors.concat(Qe),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(ie,Qe){ie.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(Ve=>Ve!==Qe),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||this.ngZone.runOutsideAngular(()=>{en?document.addEventListener("touchstart",this.listenerMouseDown):document.addEventListener("mousedown",this.listenerMouseDown)}),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(en?document.removeEventListener("touchstart",this.listenerMouseDown):document.removeEventListener("mousedown",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(ie=!0,Qe=!0,Ve=!1){if(this.sliderDimMax){let pt,bn,Nn;2===this.cpColorMode&&(this.hsva.s=0);const Dn=this.outputColor;if(bn=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(Ve?(Nn=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(Nn)):(Nn=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(Nn))),Nn=this.service.denormalizeRGBA(Nn),this.sliderH=this.hsva.h):Nn=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),pt=this.service.denormalizeRGBA(this.service.hsvaToRgba(new mt(this.sliderH||this.hsva.h,1,1,1))),Qe&&(this.hslaText=new Be(Math.round(360*bn.h),Math.round(100*bn.s),Math.round(100*bn.l),Math.round(100*bn.a)/100),this.rgbaText=new ri(Nn.r,Nn.g,Nn.b,Math.round(100*Nn.a)/100),this.cpCmykEnabled&&(this.cmykText=new Ze(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(Nn,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==En.RGBA&&this.format!==En.CMYK&&this.format!==En.HSLA&&this.hsva.a<1&&(this.format=this.hsva.a<1?En.RGBA:En.HEX),this.hueSliderColor="rgb("+pt.r+","+pt.g+","+pt.b+")",this.alphaSliderColor="rgb("+Nn.r+","+Nn.g+","+Nn.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==En.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const jn=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${jn})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new On((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),ie&&Dn!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let Ve,ie="static",Qe="",pt=null,bn=null,Nn=this.directiveElementRef.nativeElement.parentNode;const Dn=this.dialogElement.nativeElement.offsetHeight;for(;null!==Nn&&"HTML"!==Nn.tagName;){if(Ve=window.getComputedStyle(Nn),ie=Ve.getPropertyValue("position"),Qe=Ve.getPropertyValue("transform"),"static"!==ie&&null===pt&&(pt=Nn),Qe&&"none"!==Qe&&null===bn&&(bn=Nn),"fixed"===ie){pt=bn;break}Nn=Nn.parentNode}const jn=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==ie);if(this.useRootViewContainer||"fixed"===ie&&(!pt||pt instanceof HTMLUnknownElement))this.top=jn.top,this.left=jn.left;else{null===pt&&(pt=Nn);const Pn=this.createDialogBox(pt,"fixed"!==ie);this.top=jn.top-Pn.top,this.left=jn.left-Pn.left}"fixed"===ie&&(this.position="fixed");let ur=this.cpPosition;const Ki=this.dialogElement.nativeElement.getBoundingClientRect();switch("auto"===this.cpPosition&&(ur=function Ie(xe,Ft){let ie="right",Qe="bottom";const{height:Ve,width:pt}=xe,{top:bn,left:Nn}=Ft,Dn=bn+Ft.height,jn=Nn+Ft.width,ur=bn-Ve<0,Ki=Dn+Ve>(window.innerHeight||document.documentElement.clientHeight),Fi=Nn-pt<0,si=jn+pt>(window.innerWidth||document.documentElement.clientWidth);return Ki&&(Qe="top"),ur&&(Qe="bottom"),Fi&&(ie="right"),si&&(ie="left"),ur&&Ki&&Fi&&si?["left","right","top","bottom"].reduce((Kn,Pn)=>xe[Kn]>xe[Pn]?Kn:Pn):Fi&&si?ur?"bottom":Ki||bn>Dn?"top":"bottom":ur&&Ki?Fi?"right":si||Nn>jn?"left":"right":`${Qe}-${ie}`}(Ki,this.cpTriggerElement.nativeElement.getBoundingClientRect())),this.arrowTop="top"===ur?Dn-1:void 0,this.cpArrowPosition=void 0,ur){case"top":this.top-=Dn+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*jn.width-this.dialogArrowOffset;break;case"bottom":this.top+=jn.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*jn.width-this.dialogArrowOffset;break;case"top-left":case"left-top":this.top-=Dn-jn.height+jn.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset;break;case"top-right":case"right-top":this.top-=Dn-jn.height+jn.height*this.cpPositionOffset/100,this.left+=jn.width+this.dialogArrowSize-2-this.dialogArrowOffset;break;case"left":case"bottom-left":case"left-bottom":this.top+=jn.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2;break;default:this.top+=jn.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=jn.width+this.dialogArrowSize-2}const Fi=window.innerHeight,si=window.innerWidth,nr=this.elRef.nativeElement.getBoundingClientRect();this.top+Ki.height>Fi&&(this.top=Fi-Ki.height,this.cpArrowPosition=nr.x/2-20),this.left+Ki.width>si&&(this.left=si-Ki.width,this.cpArrowPosition=nr.x/2-20),this.cpUsePosition=ur}}isDescendant(ie,Qe){let Ve=Qe.parentNode;for(;null!==Ve;){if(Ve===ie)return!0;Ve=Ve.parentNode}return!1}createDialogBox(ie,Qe){const{top:Ve,left:pt}=ie.getBoundingClientRect();return{top:Ve+(Qe?window.pageYOffset:0),left:pt+(Qe?window.pageXOffset:0),width:ie.offsetWidth,height:ie.offsetHeight}}static \u0275fac=function(Qe){return new(Qe||xe)(i.rXU(i.SKi),i.rXU(i.aKT),i.rXU(i.gRc),i.rXU(l.qQ),i.rXU(i.Agw),i.rXU(Vn))};static \u0275cmp=i.VBU({type:xe,selectors:[["color-picker"]],viewQuery:function(Qe,Ve){if(1&Qe&&(i.GBs(_e,7),i.GBs(le,7),i.GBs(Te,7)),2&Qe){let pt;i.mGM(pt=i.lsd())&&(Ve.dialogElement=pt.first),i.mGM(pt=i.lsd())&&(Ve.hueSlider=pt.first),i.mGM(pt=i.lsd())&&(Ve.alphaSlider=pt.first)}},hostBindings:function(Qe,Ve){1&Qe&&i.bIt("keyup.esc",function(bn){return Ve.handleEsc(bn)},!1,i.EBC)("keyup.enter",function(bn){return Ve.handleEnter(bn)},!1,i.EBC)},decls:30,vars:51,consts:[["dialogPopup",""],["hueSlider",""],["valueSlider",""],["alphaSlider",""],[1,"color-picker",3,"click"],[3,"left","class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color",3,"click"],["class","eyedropper-icon","xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",4,"ngIf"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"newValue","dragStart","dragEnd","slider","rgX"],[1,"cursor"],[1,"value",3,"newValue","dragStart","dragEnd","slider","rgX"],[1,"alpha",3,"newValue","dragStart","dragEnd","slider","rgX"],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],["class","extra-template",4,"ngIf"],[1,"saturation-lightness",3,"newValue","dragStart","dragEnd","slider","rgX","rgY"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"eyedropper-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"],["type","button",3,"click","disabled"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"keyup.enter","newValue","text","rg","value"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"keyup.enter","newValue","text","rg","value"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"keyup.enter","newValue","text","rg","value"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"keyup.enter","newValue","text","rg","value"],[1,"hex-text"],[3,"blur","keyup.enter","newValue","text","value"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[1,"extra-template"],[4,"ngTemplateOutlet"]],template:function(Qe,Ve){if(1&Qe){const pt=i.RV6();i.j41(0,"div",4,0),i.bIt("click",function(Nn){return i.eBV(pt),i.Njj(Nn.stopPropagation())}),i.DNE(2,Ye,1,7,"div",5)(3,Oe,2,8,"div",6),i.j41(4,"div",7)(5,"div",8),i.nrm(6,"div",9),i.j41(7,"div",10),i.bIt("click",function(){return i.eBV(pt),i.Njj(Ve.eyeDropperSupported&&Ve.cpEyeDropper&&Ve.onEyeDropper())}),i.DNE(8,Xe,3,0,"svg",11),i.k0s(),i.DNE(9,et,2,5,"button",12),i.k0s(),i.j41(10,"div",13),i.DNE(11,Ne,1,0,"div",14),i.j41(12,"div",15,1),i.bIt("newValue",function(Nn){return i.eBV(pt),i.Njj(Ve.onHueChange(Nn))})("dragStart",function(){return i.eBV(pt),i.Njj(Ve.onDragStart("hue"))})("dragEnd",function(){return i.eBV(pt),i.Njj(Ve.onDragEnd("hue"))}),i.nrm(14,"div",16),i.k0s(),i.j41(15,"div",17,2),i.bIt("newValue",function(Nn){return i.eBV(pt),i.Njj(Ve.onValueChange(Nn))})("dragStart",function(){return i.eBV(pt),i.Njj(Ve.onDragStart("value"))})("dragEnd",function(){return i.eBV(pt),i.Njj(Ve.onDragEnd("value"))}),i.nrm(17,"div",16),i.k0s(),i.j41(18,"div",18,3),i.bIt("newValue",function(Nn){return i.eBV(pt),i.Njj(Ve.onAlphaChange(Nn))})("dragStart",function(){return i.eBV(pt),i.Njj(Ve.onDragStart("alpha"))})("dragEnd",function(){return i.eBV(pt),i.Njj(Ve.onDragEnd("alpha"))}),i.nrm(20,"div",16),i.k0s()()(),i.DNE(21,It,17,12,"div",19)(22,fn,14,10,"div",20)(23,Cn,14,10,"div",21)(24,wt,8,7,"div",22)(25,Tn,9,3,"div",23)(26,qt,3,0,"div",24)(27,Qt,6,3,"div",25)(28,ai,3,2,"div",26)(29,Zn,2,1,"div",27),i.k0s()}2&Qe&&(i.xc7("display",Ve.show?"block":"none")("visibility",Ve.hidden?"hidden":"visible")("top",Ve.top,"px")("left",Ve.left,"px")("position",Ve.position)("height",Ve.cpHeight,"px")("width",Ve.cpWidth,"px"),i.AVh("open",Ve.show),i.R7$(2),i.Y8G("ngIf","popup"===Ve.cpDialogDisplay),i.R7$(),i.Y8G("ngIf",1===(Ve.cpColorMode||1)),i.R7$(4),i.xc7("background-color",Ve.selectedColor)("cursor",Ve.eyeDropperSupported&&Ve.cpEyeDropper?"pointer":null),i.R7$(),i.Y8G("ngIf",Ve.eyeDropperSupported&&Ve.cpEyeDropper),i.R7$(),i.Y8G("ngIf",Ve.cpAddColorButton),i.R7$(2),i.Y8G("ngIf","disabled"===Ve.cpAlphaChannel),i.R7$(),i.xc7("display",1===(Ve.cpColorMode||1)?"block":"none"),i.Y8G("rgX",1),i.R7$(2),i.xc7("left",null==Ve.slider?null:Ve.slider.h,"px"),i.R7$(),i.xc7("display",2===(Ve.cpColorMode||1)?"block":"none"),i.Y8G("rgX",1),i.R7$(2),i.xc7("right",null==Ve.slider?null:Ve.slider.v,"px"),i.R7$(),i.xc7("display","disabled"===Ve.cpAlphaChannel?"none":"block")("background-color",Ve.alphaSliderColor),i.Y8G("rgX",1),i.R7$(2),i.xc7("left",null==Ve.slider?null:Ve.slider.a,"px"),i.R7$(),i.Y8G("ngIf",!Ve.cpDisableInput&&1===(Ve.cpColorMode||1)),i.R7$(),i.Y8G("ngIf",!Ve.cpDisableInput&&1===(Ve.cpColorMode||1)),i.R7$(),i.Y8G("ngIf",!Ve.cpDisableInput&&1===(Ve.cpColorMode||1)),i.R7$(),i.Y8G("ngIf",!Ve.cpDisableInput&&1===(Ve.cpColorMode||1)),i.R7$(),i.Y8G("ngIf",!Ve.cpDisableInput&&2===(Ve.cpColorMode||1)),i.R7$(),i.Y8G("ngIf",!Ve.cpDisableInput&&1===(Ve.cpColorMode||1)),i.R7$(),i.Y8G("ngIf",(null==Ve.cpPresetColors?null:Ve.cpPresetColors.length)||Ve.cpAddColorButton),i.R7$(),i.Y8G("ngIf",Ve.cpOKButton||Ve.cpCancelButton),i.R7$(),i.Y8G("ngIf",Ve.cpExtraTemplate))},dependencies:[l.Sq,l.bT,l.T3,it,ot],styles:['.color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:"x";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\n'],encapsulation:2})}return xe})(),tn=(()=>{class xe{injector;cfr;appRef;vcRef;elRef;_service;dialog;dialogCreated=!1;ignoreChanges=!1;cmpRef;viewAttachedToAppRef=!1;colorPicker;cpWidth="230px";cpHeight="auto";cpToggle=!1;cpDisabled=!1;cpIgnoredElements=[];cpFallbackColor="";cpColorMode="color";cpCmykEnabled=!1;cpOutputFormat="auto";cpAlphaChannel="enabled";cpDisableInput=!1;cpDialogDisplay="popup";cpSaveClickOutside=!0;cpCloseClickOutside=!0;cpUseRootViewContainer=!1;cpPosition="auto";cpPositionOffset="0%";cpPositionRelativeToArrow=!1;cpOKButton=!1;cpOKButtonText="OK";cpOKButtonClass="cp-ok-button-class";cpCancelButton=!1;cpCancelButtonText="Cancel";cpCancelButtonClass="cp-cancel-button-class";cpEyeDropper=!1;cpPresetLabel="Preset colors";cpPresetColors;cpPresetColorsClass="cp-preset-colors-class";cpMaxPresetColorsLength=6;cpPresetEmptyMessage="No colors added";cpPresetEmptyMessageClass="preset-empty-message";cpAddColorButton=!1;cpAddColorButtonText="Add color";cpAddColorButtonClass="cp-add-color-button-class";cpRemoveColorButtonClass="cp-remove-color-button-class";cpArrowPosition=0;cpExtraTemplate;cpInputChange=new i.bkB(!0);cpToggleChange=new i.bkB(!0);cpSliderChange=new i.bkB(!0);cpSliderDragEnd=new i.bkB(!0);cpSliderDragStart=new i.bkB(!0);colorPickerOpen=new i.bkB(!0);colorPickerClose=new i.bkB(!0);colorPickerCancel=new i.bkB(!0);colorPickerSelect=new i.bkB(!0);colorPickerChange=new i.bkB(!1);cpCmykColorChange=new i.bkB(!0);cpPresetColorsChange=new i.bkB(!0);handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(ie){this.inputChange(ie)}constructor(ie,Qe,Ve,pt,bn,Nn){this.injector=ie,this.cfr=Qe,this.appRef=Ve,this.vcRef=pt,this.elRef=bn,this._service=Nn}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(ie){ie.cpToggle&&!this.cpDisabled&&(ie.cpToggle.currentValue?this.openDialog():ie.cpToggle.currentValue||this.closeDialog()),ie.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(ie.colorPicker.currentValue),this.dialog.setColorFromString(ie.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(ie.cpPresetLabel||ie.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{let ie=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const pt=this.injector.get(this.appRef.componentTypes[0],i.zZn.NULL);pt!==i.zZn.NULL?ie=pt.vcRef||pt.viewContainerRef||this.vcRef:this.viewAttachedToAppRef=!0}const Qe=this.cfr.resolveComponentFactory(cn);if(this.viewAttachedToAppRef)this.cmpRef=Qe.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const Ve=i.zZn.create({providers:[],parent:ie.injector});this.cmpRef=ie.createComponent(Qe,0,Ve,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.cpEyeDropper,this.elRef,this.cpExtraTemplate),this.dialog=this.cmpRef.instance,this.vcRef!==ie&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(ie){this.cpCmykColorChange.emit(ie)}stateChanged(ie){this.cpToggleChange.emit(ie),ie?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(ie,Qe=!0){this.ignoreChanges=Qe,this.colorPickerChange.emit(ie)}colorSelected(ie){this.colorPickerSelect.emit(ie)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const ie=this.elRef.nativeElement,Qe=this.cpIgnoredElements.filter(Ve=>Ve===ie);!this.cpDisabled&&!Qe.length&&(typeof document<"u"&&ie===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(ie){this.dialog?this.dialog.setColorFromString(ie.target.value,!0):(this.colorPicker=ie.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(ie){this.cpInputChange.emit(ie)}sliderChanged(ie){this.cpSliderChange.emit(ie)}sliderDragEnd(ie){this.cpSliderDragEnd.emit(ie)}sliderDragStart(ie){this.cpSliderDragStart.emit(ie)}presetColorsChanged(ie){this.cpPresetColorsChange.emit(ie)}static \u0275fac=function(Qe){return new(Qe||xe)(i.rXU(i.zZn),i.rXU(i.OM3),i.rXU(i.o8S),i.rXU(i.c1b),i.rXU(i.aKT),i.rXU(Vn))};static \u0275dir=i.FsC({type:xe,selectors:[["","colorPicker",""]],hostBindings:function(Qe,Ve){1&Qe&&i.bIt("click",function(){return Ve.handleClick()})("focus",function(){return Ve.handleFocus()})("input",function(bn){return Ve.handleInput(bn)})},inputs:{colorPicker:"colorPicker",cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpEyeDropper:"cpEyeDropper",cpPresetLabel:"cpPresetLabel",cpPresetColors:"cpPresetColors",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",cpArrowPosition:"cpArrowPosition",cpExtraTemplate:"cpExtraTemplate"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[i.OA$]})}return xe})(),bt=(()=>{class xe{static \u0275fac=function(Qe){return new(Qe||xe)};static \u0275mod=i.$C({type:xe});static \u0275inj=i.G2t({providers:[Vn],imports:[l.MD]})}return xe})()},5794:(un,nt,B)=>{"use strict";B.d(nt,{_B:()=>$n,tw:()=>Qt});var i=B(4438),l=B(9969),_e=B(177),le=B(1413),Te=B(345);const Ye=["toast-component",""];function Oe(Be,Ze){if(1&Be){const Ie=i.RV6();i.j41(0,"button",5),i.bIt("click",function(){i.eBV(Ie);const it=i.XpG();return i.Njj(it.remove())}),i.j41(1,"span",6),i.EFF(2,"\xd7"),i.k0s()()}}function Xe(Be,Ze){if(1&Be&&(i.qex(0),i.EFF(1),i.bVm()),2&Be){const Ie=i.XpG(2);i.R7$(),i.SpI("[",Ie.duplicatesCount+1,"]")}}function et(Be,Ze){if(1&Be&&(i.j41(0,"div"),i.EFF(1),i.DNE(2,Xe,2,1,"ng-container",4),i.k0s()),2&Be){const Ie=i.XpG();i.HbH(Ie.options.titleClass),i.BMQ("aria-label",Ie.title),i.R7$(),i.SpI(" ",Ie.title," "),i.R7$(),i.Y8G("ngIf",Ie.duplicatesCount)}}function Ne(Be,Ze){if(1&Be&&i.nrm(0,"div",7),2&Be){const Ie=i.XpG();i.HbH(Ie.options.messageClass),i.Y8G("innerHTML",Ie.message,i.npT)}}function Fe(Be,Ze){if(1&Be&&(i.j41(0,"div",8),i.EFF(1),i.k0s()),2&Be){const Ie=i.XpG();i.HbH(Ie.options.messageClass),i.BMQ("aria-label",Ie.message),i.R7$(),i.SpI(" ",Ie.message," ")}}function st(Be,Ze){if(1&Be&&(i.j41(0,"div"),i.nrm(1,"div",9),i.k0s()),2&Be){const Ie=i.XpG();i.R7$(),i.xc7("width",Ie.width+"%")}}class Mn{_attachedHost;component;viewContainerRef;injector;constructor(Ze,Ie){this.component=Ze,this.injector=Ie}attach(Ze,Ie){return this._attachedHost=Ze,Ze.attach(this,Ie)}detach(){const Ze=this._attachedHost;if(Ze)return this._attachedHost=void 0,Ze.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ze){this._attachedHost=Ze}}class jt{_attachedPortal;_disposeFn;attach(Ze,Ie){return this._attachedPortal=Ze,this.attachComponentPortal(Ze,Ie)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Ze){this._disposeFn=Ze}}class wt{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new le.B;_activate=new le.B;_manualClose=new le.B;_resetTimeout=new le.B;_countDuplicate=new le.B;constructor(Ze){this._overlayRef=Ze}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Ze,Ie){Ze&&this._resetTimeout.next(),Ie&&this._countDuplicate.next(++this.duplicatesCount)}}class ge{toastId;config;message;title;toastType;toastRef;_onTap=new le.B;_onAction=new le.B;constructor(Ze,Ie,Ke,it,ot,On){this.toastId=Ze,this.config=Ie,this.message=Ke,this.title=it,this.toastType=ot,this.toastRef=On,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Ze){this._onAction.next(Ze)}onAction(){return this._onAction.asObservable()}}const qt=new i.nKC("ToastConfig");class Mt extends jt{_hostDomElement;_componentFactoryResolver;_appRef;constructor(Ze,Ie,Ke){super(),this._hostDomElement=Ze,this._componentFactoryResolver=Ie,this._appRef=Ke}attachComponentPortal(Ze,Ie){const Ke=this._componentFactoryResolver.resolveComponentFactory(Ze.component);let it;return it=Ke.create(Ze.injector),this._appRef.attachView(it.hostView),this.setDisposeFn(()=>{this._appRef.detachView(it.hostView),it.destroy()}),Ie?this._hostDomElement.insertBefore(this._getComponentRootNode(it),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(it)),it}_getComponentRootNode(Ze){return Ze.hostView.rootNodes[0]}}let He=(()=>{class Be{_document=(0,i.WQX)(_e.qQ);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ie=this._document.createElement("div");Ie.classList.add("overlay-container"),Ie.setAttribute("aria-live","polite"),this._document.body.appendChild(Ie),this._containerElement=Ie}static \u0275fac=function(Ke){return new(Ke||Be)};static \u0275prov=i.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();class Se{_portalHost;constructor(Ze){this._portalHost=Ze}attach(Ze,Ie=!0){return this._portalHost.attach(Ze,Ie)}detach(){return this._portalHost.detach()}}let Le=(()=>{class Be{_overlayContainer=(0,i.WQX)(He);_componentFactoryResolver=(0,i.WQX)(i.OM3);_appRef=(0,i.WQX)(i.o8S);_document=(0,i.WQX)(_e.qQ);_paneElements=new Map;create(Ie,Ke){return this._createOverlayRef(this.getPaneElement(Ie,Ke))}getPaneElement(Ie="",Ke){return this._paneElements.get(Ke)||this._paneElements.set(Ke,{}),this._paneElements.get(Ke)[Ie]||(this._paneElements.get(Ke)[Ie]=this._createPaneElement(Ie,Ke)),this._paneElements.get(Ke)[Ie]}_createPaneElement(Ie,Ke){const it=this._document.createElement("div");return it.id="toast-container",it.classList.add(Ie),it.classList.add("toast-container"),Ke?Ke.getContainerElement().appendChild(it):this._overlayContainer.getContainerElement().appendChild(it),it}_createPortalHost(Ie){return new Mt(Ie,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ie){return new Se(this._createPortalHost(Ie))}static \u0275fac=function(Ke){return new(Ke||Be)};static \u0275prov=i.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})(),Qt=(()=>{class Be{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(Ie,Ke,it,ot,On){this.overlay=Ke,this._injector=it,this.sanitizer=ot,this.ngZone=On,this.toastrConfig={...Ie.default,...Ie.config},Ie.config.iconClasses&&(this.toastrConfig.iconClasses={...Ie.default.iconClasses,...Ie.config.iconClasses})}show(Ie,Ke,it={},ot=""){return this._preBuildNotification(ot,Ie,Ke,this.applyConfig(it))}success(Ie,Ke,it={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ie,Ke,this.applyConfig(it))}error(Ie,Ke,it={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ie,Ke,this.applyConfig(it))}info(Ie,Ke,it={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ie,Ke,this.applyConfig(it))}warning(Ie,Ke,it={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ie,Ke,this.applyConfig(it))}clear(Ie){for(const Ke of this.toasts)if(void 0!==Ie){if(Ke.toastId===Ie)return void Ke.toastRef.manualClose()}else Ke.toastRef.manualClose()}remove(Ie){const Ke=this._findToast(Ie);if(!Ke||(Ke.activeToast.toastRef.close(),this.toasts.splice(Ke.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const it=this.toasts[this.currentlyActive].toastRef;it.isInactive()||(this.currentlyActive=this.currentlyActive+1,it.activate())}return!0}findDuplicate(Ie="",Ke="",it,ot){const{includeTitleDuplicates:On}=this.toastrConfig;for(const ei of this.toasts)if((!On||On&&ei.title===Ie)&&ei.message===Ke)return ei.toastRef.onDuplicate(it,ot),ei;return null}applyConfig(Ie={}){return{...this.toastrConfig,...Ie}}_findToast(Ie){for(let Ke=0;Ke<this.toasts.length;Ke++)if(this.toasts[Ke].toastId===Ie)return{index:Ke,activeToast:this.toasts[Ke]};return null}_preBuildNotification(Ie,Ke,it,ot){return ot.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ie,Ke,it,ot)):this._buildNotification(Ie,Ke,it,ot)}_buildNotification(Ie,Ke,it,ot){if(!ot.toastComponent)throw new Error("toastComponent required");const On=this.findDuplicate(it,Ke,this.toastrConfig.resetTimeoutOnDuplicate&&ot.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&it||Ke)&&this.toastrConfig.preventDuplicates&&null!==On)return On;this.previousToastMessage=Ke;let ei=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(ei=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Vn=this.overlay.create(ot.positionClass,this.overlayContainer);this.index=this.index+1;let en=Ke;Ke&&ot.enableHtml&&(en=this.sanitizer.sanitize(i.WPN.HTML,Ke));const cn=new wt(Vn),hi=new ge(this.index,ot,en,it,Ie,cn),bt=i.zZn.create({providers:[{provide:ge,useValue:hi}],parent:this._injector}),xe=new Mn(ot.toastComponent,bt),Ft=Vn.attach(xe,ot.newestOnTop);cn.componentInstance=Ft.instance;const ie={toastId:this.index,title:it||"",message:Ke||"",toastRef:cn,onShown:cn.afterActivate(),onHidden:cn.afterClosed(),onTap:hi.onTap(),onAction:hi.onAction(),portal:Ft};return ei||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ie.toastRef.activate()})),this.toasts.push(ie),ie}static \u0275fac=function(Ke){return new(Ke||Be)(i.KVO(qt),i.KVO(Le),i.KVO(i.zZn),i.KVO(Te.up),i.KVO(i.SKi))};static \u0275prov=i.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();const Xn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class Be{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(Ie,Ke,it){this.toastrService=Ie,this.toastPackage=Ke,this.ngZone=it,this.message=Ke.message,this.title=Ke.title,this.options=Ke.config,this.originalTimeout=Ke.config.timeOut,this.toastClasses=`${Ke.toastType} ${Ke.config.toastClass}`,this.sub=Ke.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ke.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ke.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ke.toastRef.countDuplicate().subscribe(ot=>{this.duplicatesCount=ot}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ie=(new Date).getTime();this.width=(this.hideTime-Ie)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ie,Ke){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ie),Ke)):this.timeout=setTimeout(()=>Ie(),Ke)}outsideInterval(Ie,Ke){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ie),Ke)):this.intervalId=setInterval(()=>Ie(),Ke)}runInsideAngular(Ie){this.ngZone?this.ngZone.run(()=>Ie()):Ie()}static \u0275fac=function(Ke){return new(Ke||Be)(i.rXU(Qt),i.rXU(ge),i.rXU(i.SKi))};static \u0275cmp=i.VBU({type:Be,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ke,it){1&Ke&&i.bIt("click",function(){return it.tapToast()})("mouseenter",function(){return it.stickAround()})("mouseleave",function(){return it.delayedHideToast()}),2&Ke&&(i.zvX("@flyInOut",it.state),i.HbH(it.toastClasses),i.xc7("display",it.displayStyle))},standalone:!0,features:[i.aNF],attrs:Ye,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ke,it){1&Ke&&i.DNE(0,Oe,3,0,"button",0)(1,et,3,5,"div",1)(2,Ne,1,3,"div",2)(3,Fe,2,4,"div",3)(4,st,2,2,"div",4),2&Ke&&(i.Y8G("ngIf",it.options.closeButton),i.R7$(),i.Y8G("ngIf",it.title),i.R7$(),i.Y8G("ngIf",it.message&&it.options.enableHtml),i.R7$(),i.Y8G("ngIf",it.message&&!it.options.enableHtml),i.R7$(),i.Y8G("ngIf",it.options.progressBar))},dependencies:[_e.bT],encapsulation:2,data:{animation:[(0,l.hZ)("flyInOut",[(0,l.wk)("inactive",(0,l.iF)({opacity:0})),(0,l.wk)("active",(0,l.iF)({opacity:1})),(0,l.wk)("removed",(0,l.iF)({opacity:0})),(0,l.kY)("inactive => active",(0,l.i0)("{{ easeTime }}ms {{ easing }}")),(0,l.kY)("active => removed",(0,l.i0)("{{ easeTime }}ms {{ easing }}"))])]}})}return Be})()},ai=(Be={})=>(0,i.EmA)([{provide:qt,useValue:{default:Xn,config:Be}}]);let $n=(()=>{class Be{static forRoot(Ie={}){return{ngModule:Be,providers:[ai(Ie)]}}static \u0275fac=function(Ke){return new(Ke||Be)};static \u0275mod=i.$C({type:Be});static \u0275inj=i.G2t({})}return Be})()},9844:(un,nt,B)=>{"use strict";B.d(nt,{H:()=>Tn,A:()=>qt});var i=B(4438),l=B(4270),_e=B(7569),le=function(){return le=Object.assign||function(He){for(var Se,Le=1,Qt=arguments.length;Le<Qt;Le++)for(var Rn in Se=arguments[Le])Object.prototype.hasOwnProperty.call(Se,Rn)&&(He[Rn]=Se[Rn]);return He},le.apply(this,arguments)};function Te(Mt){return Mt&&Mt.ownerDocument&&Mt.ownerDocument.defaultView?Mt.ownerDocument.defaultView:window}function Ye(Mt){return Mt&&Mt.ownerDocument?Mt.ownerDocument:document}var Oe=function(Mt){return Array.prototype.reduce.call(Mt,function(Le,Qt){var Rn=Qt.name.match(/data-simplebar-(.+)/);if(Rn){var Xn=Rn[1].replace(/\W+(.)/g,function(ai,$n){return $n.toUpperCase()});switch(Qt.value){case"true":Le[Xn]=!0;break;case"false":Le[Xn]=!1;break;case void 0:Le[Xn]=!0;break;default:Le[Xn]=Qt.value}}return Le},{})};function Xe(Mt,He){var Se;Mt&&(Se=Mt.classList).add.apply(Se,He.split(" "))}function et(Mt,He){Mt&&He.split(" ").forEach(function(Se){Mt.classList.remove(Se)})}function Ne(Mt){return".".concat(Mt.split(" ").join("."))}var Fe=!!(typeof window<"u"&&window.document&&window.document.createElement),st=Object.freeze({__proto__:null,addClasses:Xe,canUseDOM:Fe,classNamesToQuery:Ne,getElementDocument:Ye,getElementWindow:Te,getOptions:Oe,removeClasses:et}),It=null,Rt=null;function Bt(){if(null===It){if(typeof document>"u")return It=0;var Mt=document.body,He=document.createElement("div");He.classList.add("simplebar-hide-scrollbar"),Mt.appendChild(He);var Se=He.getBoundingClientRect().right;Mt.removeChild(He),It=Se}return It}Fe&&window.addEventListener("resize",function(){Rt!==window.devicePixelRatio&&(Rt=window.devicePixelRatio,It=null)});var fn=Te,Wt=Ye,je=Oe,Cn=Xe,Mn=et,jt=Ne,wt=function(){function Mt(He,Se){void 0===Se&&(Se={});var Le=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.isDragging=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var Qt=fn(Le.el);Le.scrollXTicking||(Qt.requestAnimationFrame(Le.scrollX),Le.scrollXTicking=!0),Le.scrollYTicking||(Qt.requestAnimationFrame(Le.scrollY),Le.scrollYTicking=!0),Le.isScrolling||(Le.isScrolling=!0,Cn(Le.el,Le.classNames.scrolling)),Le.showScrollbar("x"),Le.showScrollbar("y"),Le.onStopScrolling()},this.scrollX=function(){Le.axis.x.isOverflowing&&Le.positionScrollbar("x"),Le.scrollXTicking=!1},this.scrollY=function(){Le.axis.y.isOverflowing&&Le.positionScrollbar("y"),Le.scrollYTicking=!1},this._onStopScrolling=function(){Mn(Le.el,Le.classNames.scrolling),Le.options.autoHide&&(Le.hideScrollbar("x"),Le.hideScrollbar("y")),Le.isScrolling=!1},this.onMouseEnter=function(){Le.isMouseEntering||(Cn(Le.el,Le.classNames.mouseEntered),Le.showScrollbar("x"),Le.showScrollbar("y"),Le.isMouseEntering=!0),Le.onMouseEntered()},this._onMouseEntered=function(){Mn(Le.el,Le.classNames.mouseEntered),Le.options.autoHide&&(Le.hideScrollbar("x"),Le.hideScrollbar("y")),Le.isMouseEntering=!1},this._onMouseMove=function(Qt){Le.mouseX=Qt.clientX,Le.mouseY=Qt.clientY,(Le.axis.x.isOverflowing||Le.axis.x.forceVisible)&&Le.onMouseMoveForAxis("x"),(Le.axis.y.isOverflowing||Le.axis.y.forceVisible)&&Le.onMouseMoveForAxis("y")},this.onMouseLeave=function(){Le.onMouseMove.cancel(),(Le.axis.x.isOverflowing||Le.axis.x.forceVisible)&&Le.onMouseLeaveForAxis("x"),(Le.axis.y.isOverflowing||Le.axis.y.forceVisible)&&Le.onMouseLeaveForAxis("y"),Le.mouseX=-1,Le.mouseY=-1},this._onWindowResize=function(){Le.scrollbarWidth=Le.getScrollbarWidth(),Le.hideNativeScrollbar()},this.onPointerEvent=function(Qt){var Rn,Xn;Le.axis.x.track.el&&Le.axis.y.track.el&&Le.axis.x.scrollbar.el&&Le.axis.y.scrollbar.el&&(Le.axis.x.track.rect=Le.axis.x.track.el.getBoundingClientRect(),Le.axis.y.track.rect=Le.axis.y.track.el.getBoundingClientRect(),(Le.axis.x.isOverflowing||Le.axis.x.forceVisible)&&(Rn=Le.isWithinBounds(Le.axis.x.track.rect)),(Le.axis.y.isOverflowing||Le.axis.y.forceVisible)&&(Xn=Le.isWithinBounds(Le.axis.y.track.rect)),(Rn||Xn)&&(Qt.stopPropagation(),"pointerdown"===Qt.type&&"touch"!==Qt.pointerType&&(Rn&&(Le.axis.x.scrollbar.rect=Le.axis.x.scrollbar.el.getBoundingClientRect(),Le.isWithinBounds(Le.axis.x.scrollbar.rect)?Le.onDragStart(Qt,"x"):Le.onTrackClick(Qt,"x")),Xn&&(Le.axis.y.scrollbar.rect=Le.axis.y.scrollbar.el.getBoundingClientRect(),Le.isWithinBounds(Le.axis.y.scrollbar.rect)?Le.onDragStart(Qt,"y"):Le.onTrackClick(Qt,"y")))))},this.drag=function(Qt){var Rn,Xn,ai,$n,Zn,En,ri,mt,Be,Ze,Ie;if(Le.draggedAxis&&Le.contentWrapperEl){var it=Le.axis[Le.draggedAxis].track,ot=null!==(Xn=null===(Rn=it.rect)||void 0===Rn?void 0:Rn[Le.axis[Le.draggedAxis].sizeAttr])&&void 0!==Xn?Xn:0,On=Le.axis[Le.draggedAxis].scrollbar,ei=null!==($n=null===(ai=Le.contentWrapperEl)||void 0===ai?void 0:ai[Le.axis[Le.draggedAxis].scrollSizeAttr])&&void 0!==$n?$n:0,Vn=parseInt(null!==(En=null===(Zn=Le.elStyles)||void 0===Zn?void 0:Zn[Le.axis[Le.draggedAxis].sizeAttr])&&void 0!==En?En:"0px",10);Qt.preventDefault(),Qt.stopPropagation();var en=("y"===Le.draggedAxis?Qt.pageY:Qt.pageX)-(null!==(mt=null===(ri=it.rect)||void 0===ri?void 0:ri[Le.axis[Le.draggedAxis].offsetAttr])&&void 0!==mt?mt:0)-Le.axis[Le.draggedAxis].dragOffset,hi=(en="x"===Le.draggedAxis&&Le.isRtl?(null!==(Ze=null===(Be=it.rect)||void 0===Be?void 0:Be[Le.axis[Le.draggedAxis].sizeAttr])&&void 0!==Ze?Ze:0)-On.size-en:en)/(ot-On.size)*(ei-Vn);"x"===Le.draggedAxis&&Le.isRtl&&(hi=null!==(Ie=Mt.getRtlHelpers())&&void 0!==Ie&&Ie.isScrollingToNegative?-hi:hi),Le.contentWrapperEl[Le.axis[Le.draggedAxis].scrollOffsetAttr]=hi}},this.onEndDrag=function(Qt){Le.isDragging=!1;var Rn=Wt(Le.el),Xn=fn(Le.el);Qt.preventDefault(),Qt.stopPropagation(),Mn(Le.el,Le.classNames.dragging),Le.onStopScrolling(),Rn.removeEventListener("mousemove",Le.drag,!0),Rn.removeEventListener("mouseup",Le.onEndDrag,!0),Le.removePreventClickId=Xn.setTimeout(function(){Rn.removeEventListener("click",Le.preventClick,!0),Rn.removeEventListener("dblclick",Le.preventClick,!0),Le.removePreventClickId=null})},this.preventClick=function(Qt){Qt.preventDefault(),Qt.stopPropagation()},this.el=He,this.options=le(le({},Mt.defaultOptions),Se),this.classNames=le(le({},Mt.defaultOptions.classNames),Se.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},"object"!=typeof this.el||!this.el.nodeName)throw new Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=_e(this._onMouseMove,64),this.onWindowResize=l(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=l(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=l(this._onMouseEntered,this.stopScrollDelay),this.init()}return Mt.getRtlHelpers=function(){if(Mt.rtlHelpers)return Mt.rtlHelpers;var He=document.createElement("div");He.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var Se=He.firstElementChild,Le=Se?.firstElementChild;if(!Le)return null;document.body.appendChild(Se),Se.scrollLeft=0;var Qt=Mt.getOffset(Se),Rn=Mt.getOffset(Le);Se.scrollLeft=-999;var Xn=Mt.getOffset(Le);return document.body.removeChild(Se),Mt.rtlHelpers={isScrollOriginAtZero:Qt.left!==Rn.left,isScrollingToNegative:Rn.left!==Xn.left}},Mt.prototype.getScrollbarWidth=function(){try{return this.contentWrapperEl&&"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:Bt()}catch{return Bt()}},Mt.getOffset=function(He){var Se=He.getBoundingClientRect(),Le=Wt(He),Qt=fn(He);return{top:Se.top+(Qt.pageYOffset||Le.documentElement.scrollTop),left:Se.left+(Qt.pageXOffset||Le.documentElement.scrollLeft)}},Mt.prototype.init=function(){Fe&&(this.initDOM(),this.rtlHelpers=Mt.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},Mt.prototype.initDOM=function(){var He,Se;this.wrapperEl=this.el.querySelector(jt(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(jt(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(jt(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(jt(this.classNames.offset)),this.maskEl=this.el.querySelector(jt(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,jt(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(jt(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(jt(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(jt(this.classNames.track)).concat(jt(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(jt(this.classNames.track)).concat(jt(this.classNames.vertical))),this.axis.x.scrollbar.el=(null===(He=this.axis.x.track.el)||void 0===He?void 0:He.querySelector(jt(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=(null===(Se=this.axis.y.track.el)||void 0===Se?void 0:Se.querySelector(jt(this.classNames.scrollbar)))||null,this.options.autoHide||(Cn(this.axis.x.scrollbar.el,this.classNames.visible),Cn(this.axis.y.scrollbar.el,this.classNames.visible))},Mt.prototype.initListeners=function(){var Se,He=this,Le=fn(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),null===(Se=this.contentWrapperEl)||void 0===Se||Se.addEventListener("scroll",this.onScroll),Le.addEventListener("resize",this.onWindowResize),this.contentEl){if(window.ResizeObserver){var Qt=!1,Rn=Le.ResizeObserver||ResizeObserver;this.resizeObserver=new Rn(function(){Qt&&Le.requestAnimationFrame(function(){He.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),Le.requestAnimationFrame(function(){Qt=!0})}this.mutationObserver=new Le.MutationObserver(function(){Le.requestAnimationFrame(function(){He.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},Mt.prototype.recalculate=function(){if(this.heightAutoObserverEl&&this.contentEl&&this.contentWrapperEl&&this.wrapperEl&&this.placeholderEl){var He=fn(this.el);this.elStyles=He.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var Se=this.contentEl.offsetWidth,Le=this.heightAutoObserverEl.offsetHeight<=1,Qt=this.heightAutoObserverEl.offsetWidth<=1||Se>0,Rn=this.contentWrapperEl.offsetWidth,Xn=this.elStyles.overflowX,ai=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var $n=this.contentEl.scrollHeight,Zn=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=Le?"auto":"100%",this.placeholderEl.style.width=Qt?"".concat(Se||Zn,"px"):"auto",this.placeholderEl.style.height="".concat($n,"px");var En=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=0!==Se&&Zn>Se,this.axis.y.isOverflowing=$n>En,this.axis.x.isOverflowing="hidden"!==Xn&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==ai&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var ri=this.axis.x.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&Zn>Rn-(this.axis.y.isOverflowing?this.scrollbarWidth:0),this.axis.y.isOverflowing=this.axis.y.isOverflowing&&$n>En-ri,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},Mt.prototype.getScrollbarSize=function(He){var Se,Le;if(void 0===He&&(He="y"),!this.axis[He].isOverflowing||!this.contentEl)return 0;var ai,Rn=null!==(Le=null===(Se=this.axis[He].track.el)||void 0===Se?void 0:Se[this.axis[He].offsetSizeAttr])&&void 0!==Le?Le:0;return ai=Math.max(~~(Rn/this.contentEl[this.axis[He].scrollSizeAttr]*Rn),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(ai=Math.min(ai,this.options.scrollbarMaxSize)),ai},Mt.prototype.positionScrollbar=function(He){var Se,Le,Qt;void 0===He&&(He="y");var Rn=this.axis[He].scrollbar;if(this.axis[He].isOverflowing&&this.contentWrapperEl&&Rn.el&&this.elStyles){var Xn=this.contentWrapperEl[this.axis[He].scrollSizeAttr],ai=(null===(Se=this.axis[He].track.el)||void 0===Se?void 0:Se[this.axis[He].offsetSizeAttr])||0,$n=parseInt(this.elStyles[this.axis[He].sizeAttr],10),Zn=this.contentWrapperEl[this.axis[He].scrollOffsetAttr];Zn="x"===He&&this.isRtl&&null!==(Le=Mt.getRtlHelpers())&&void 0!==Le&&Le.isScrollOriginAtZero?-Zn:Zn,"x"===He&&this.isRtl&&(Zn=null!==(Qt=Mt.getRtlHelpers())&&void 0!==Qt&&Qt.isScrollingToNegative?Zn:-Zn);var ri=~~(Zn/(Xn-$n)*(ai-Rn.size));ri="x"===He&&this.isRtl?ai-Rn.size-ri:ri,Rn.el.style.transform="x"===He?"translate3d(".concat(ri,"px, 0, 0)"):"translate3d(0, ".concat(ri,"px, 0)")}},Mt.prototype.toggleTrackVisibility=function(He){void 0===He&&(He="y");var Se=this.axis[He].track.el,Le=this.axis[He].scrollbar.el;!Se||!Le||!this.contentWrapperEl||(this.axis[He].isOverflowing||this.axis[He].forceVisible?(Se.style.visibility="visible",this.contentWrapperEl.style[this.axis[He].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(He))):(Se.style.visibility="hidden",this.contentWrapperEl.style[this.axis[He].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(He))),Le.style.display=this.axis[He].isOverflowing?"block":"none")},Mt.prototype.showScrollbar=function(He){void 0===He&&(He="y"),this.axis[He].isOverflowing&&!this.axis[He].scrollbar.isVisible&&(Cn(this.axis[He].scrollbar.el,this.classNames.visible),this.axis[He].scrollbar.isVisible=!0)},Mt.prototype.hideScrollbar=function(He){void 0===He&&(He="y"),!this.isDragging&&this.axis[He].isOverflowing&&this.axis[He].scrollbar.isVisible&&(Mn(this.axis[He].scrollbar.el,this.classNames.visible),this.axis[He].scrollbar.isVisible=!1)},Mt.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},Mt.prototype.onMouseMoveForAxis=function(He){void 0===He&&(He="y");var Se=this.axis[He];!Se.track.el||!Se.scrollbar.el||(Se.track.rect=Se.track.el.getBoundingClientRect(),Se.scrollbar.rect=Se.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(Se.track.rect)?(this.showScrollbar(He),Cn(Se.track.el,this.classNames.hover),this.isWithinBounds(Se.scrollbar.rect)?Cn(Se.scrollbar.el,this.classNames.hover):Mn(Se.scrollbar.el,this.classNames.hover)):(Mn(Se.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(He)))},Mt.prototype.onMouseLeaveForAxis=function(He){void 0===He&&(He="y"),Mn(this.axis[He].track.el,this.classNames.hover),Mn(this.axis[He].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(He)},Mt.prototype.onDragStart=function(He,Se){var Le;void 0===Se&&(Se="y"),this.isDragging=!0;var Qt=Wt(this.el),Rn=fn(this.el);this.axis[Se].dragOffset=("y"===Se?He.pageY:He.pageX)-((null===(Le=this.axis[Se].scrollbar.rect)||void 0===Le?void 0:Le[this.axis[Se].offsetAttr])||0),this.draggedAxis=Se,Cn(this.el,this.classNames.dragging),Qt.addEventListener("mousemove",this.drag,!0),Qt.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(Qt.addEventListener("click",this.preventClick,!0),Qt.addEventListener("dblclick",this.preventClick,!0)):(Rn.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},Mt.prototype.onTrackClick=function(He,Se){var Qt,Rn,Xn,ai,Le=this;void 0===Se&&(Se="y");var $n=this.axis[Se];if(this.options.clickOnTrack&&$n.scrollbar.el&&this.contentWrapperEl){He.preventDefault();var Zn=fn(this.el);this.axis[Se].scrollbar.rect=$n.scrollbar.el.getBoundingClientRect();var ri=null!==(Rn=null===(Qt=this.axis[Se].scrollbar.rect)||void 0===Qt?void 0:Qt[this.axis[Se].offsetAttr])&&void 0!==Rn?Rn:0,mt=parseInt(null!==(ai=null===(Xn=this.elStyles)||void 0===Xn?void 0:Xn[this.axis[Se].sizeAttr])&&void 0!==ai?ai:"0px",10),Be=this.contentWrapperEl[this.axis[Se].scrollOffsetAttr],Ie=("y"===Se?this.mouseY-ri:this.mouseX-ri)<0?-1:1,Ke=-1===Ie?Be-mt:Be+mt,ot=function(){Le.contentWrapperEl&&(-1===Ie?Be>Ke&&(Le.contentWrapperEl[Le.axis[Se].scrollOffsetAttr]=Be-=40,Zn.requestAnimationFrame(ot)):Be<Ke&&(Le.contentWrapperEl[Le.axis[Se].scrollOffsetAttr]=Be+=40,Zn.requestAnimationFrame(ot)))};ot()}},Mt.prototype.getContentElement=function(){return this.contentEl},Mt.prototype.getScrollElement=function(){return this.contentWrapperEl},Mt.prototype.removeListeners=function(){var He=fn(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),He.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},Mt.prototype.unMount=function(){this.removeListeners()},Mt.prototype.isWithinBounds=function(He){return this.mouseX>=He.left&&this.mouseX<=He.left+He.width&&this.mouseY>=He.top&&this.mouseY<=He.top+He.height},Mt.prototype.findChild=function(He,Se){var Le=He.matches||He.webkitMatchesSelector||He.mozMatchesSelector||He.msMatchesSelector;return Array.prototype.filter.call(He.children,function(Qt){return Le.call(Qt,Se)})[0]},Mt.rtlHelpers=null,Mt.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",tabIndex:0,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},Mt.getOptions=je,Mt.helpers=st,Mt}();const ge=["*"];let Tn=(()=>{class Mt{constructor(Se,Le){this.zone=Le,this.options={},this.elRef=Se}ngOnInit(){this.ariaLabel=this.options.ariaLabel||wt.defaultOptions.ariaLabel,this.tabIndex=(this.options.tabIndex||wt.defaultOptions.tabIndex).toString()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.SimpleBar=new wt(this.elRef.nativeElement,this.options||{})})}ngOnDestroy(){this.SimpleBar?.unMount(),this.SimpleBar=null}static{this.\u0275fac=function(Le){return new(Le||Mt)(i.rXU(i.aKT),i.rXU(i.SKi))}}static{this.\u0275cmp=i.VBU({type:Mt,selectors:[["ngx-simplebar"]],hostAttrs:["data-simplebar","init"],inputs:{options:"options"},ngContentSelectors:ge,decls:13,vars:2,consts:[[1,"simplebar-wrapper"],[1,"simplebar-height-auto-observer-wrapper"],[1,"simplebar-height-auto-observer"],[1,"simplebar-mask"],[1,"simplebar-offset"],["role","region",1,"simplebar-content-wrapper"],[1,"simplebar-content"],[1,"simplebar-placeholder"],[1,"simplebar-track","simplebar-horizontal"],[1,"simplebar-scrollbar"],[1,"simplebar-track","simplebar-vertical"]],template:function(Le,Qt){1&Le&&(i.NAR(),i.j41(0,"div",0)(1,"div",1),i.nrm(2,"div",2),i.k0s(),i.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),i.SdG(7),i.k0s()()()(),i.nrm(8,"div",7),i.k0s(),i.j41(9,"div",8),i.nrm(10,"div",9),i.k0s(),i.j41(11,"div",10),i.nrm(12,"div",9),i.k0s()),2&Le&&(i.R7$(5),i.BMQ("tabIndex",Qt.tabIndex)("aria-label",Qt.ariaLabel))},styles:['[data-simplebar]{position:relative;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;align-content:flex-start;align-items:flex-start}.simplebar-wrapper{overflow:hidden;width:inherit;height:inherit;max-width:inherit;max-height:inherit}.simplebar-mask{direction:inherit;position:absolute;overflow:hidden;padding:0;margin:0;inset:0;width:auto!important;height:auto!important;z-index:0}.simplebar-offset{direction:inherit!important;box-sizing:inherit!important;resize:none!important;position:absolute;inset:0;padding:0;margin:0;-webkit-overflow-scrolling:touch}.simplebar-content-wrapper{direction:inherit;box-sizing:border-box!important;position:relative;display:block;height:100%;width:auto;max-width:100%;max-height:100%;overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.simplebar-content-wrapper::-webkit-scrollbar,.simplebar-hide-scrollbar::-webkit-scrollbar{display:none;width:0;height:0}.simplebar-content:before,.simplebar-content:after{content:" ";display:table}.simplebar-placeholder{max-height:100%;max-width:100%;width:100%;pointer-events:none}.simplebar-height-auto-observer-wrapper{box-sizing:inherit!important;height:100%;width:100%;max-width:1px;position:relative;float:left;max-height:1px;overflow:hidden;z-index:-1;padding:0;margin:0;pointer-events:none;flex-grow:inherit;flex-shrink:0;flex-basis:0}.simplebar-height-auto-observer{box-sizing:inherit;display:block;opacity:0;position:absolute;top:0;left:0;height:1000%;width:1000%;min-height:1px;min-width:1px;overflow:hidden;pointer-events:none;z-index:-1}.simplebar-track{z-index:1;position:absolute;right:0;bottom:0;pointer-events:none;overflow:hidden}[data-simplebar].simplebar-dragging,[data-simplebar].simplebar-dragging .simplebar-content{pointer-events:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[data-simplebar].simplebar-dragging .simplebar-track{pointer-events:all}.simplebar-scrollbar{position:absolute;left:0;right:0;min-height:10px}.simplebar-scrollbar:before{position:absolute;content:"";background:#000;border-radius:7px;left:2px;right:2px;opacity:0;transition:opacity .2s .5s linear}.simplebar-scrollbar.simplebar-visible:before{opacity:.5;transition-delay:0s;transition-duration:0s}.simplebar-track.simplebar-vertical{top:0;width:11px}.simplebar-scrollbar:before{inset:2px}.simplebar-track.simplebar-horizontal{left:0;height:11px}.simplebar-track.simplebar-horizontal .simplebar-scrollbar{inset:0 auto 0 0;min-height:0;min-width:10px;width:auto}[data-simplebar-direction=rtl] .simplebar-track.simplebar-vertical{right:auto;left:0}.simplebar-dummy-scrollbar-size{direction:rtl;position:fixed;opacity:0;visibility:hidden;height:500px;width:500px;overflow-y:hidden;overflow-x:scroll;-ms-overflow-style:scrollbar!important}.simplebar-dummy-scrollbar-size>div{width:200%;height:200%;margin:10px 0}.simplebar-hide-scrollbar{position:fixed;left:0;visibility:hidden;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}\n',"ngx-simplebar{display:block}\n"],encapsulation:2})}}return Mt})(),qt=(()=>{class Mt{static{this.\u0275fac=function(Le){return new(Le||Mt)}}static{this.\u0275mod=i.$C({type:Mt})}static{this.\u0275inj=i.G2t({})}}return Mt})()},467:(un,nt,B)=>{"use strict";function i(_e,le,Te,Ye,Oe,Xe,et){try{var Ne=_e[Xe](et),Fe=Ne.value}catch(st){return void Te(st)}Ne.done?le(Fe):Promise.resolve(Fe).then(Ye,Oe)}function l(_e){return function(){var le=this,Te=arguments;return new Promise(function(Ye,Oe){var Xe=_e.apply(le,Te);function et(Fe){i(Xe,Ye,Oe,et,Ne,"next",Fe)}function Ne(Fe){i(Xe,Ye,Oe,et,Ne,"throw",Fe)}et(void 0)})}}B.d(nt,{A:()=>l})},1635:(un,nt,B)=>{"use strict";B.d(nt,{AQ:()=>wt,Cl:()=>_e,N3:()=>jt,Tt:()=>le,sH:()=>st,xN:()=>Tn});var _e=function(){return _e=Object.assign||function(Be){for(var Ze,Ie=1,Ke=arguments.length;Ie<Ke;Ie++)for(var it in Ze=arguments[Ie])Object.prototype.hasOwnProperty.call(Ze,it)&&(Be[it]=Ze[it]);return Be},_e.apply(this,arguments)};function le(mt,Be){var Ze={};for(var Ie in mt)Object.prototype.hasOwnProperty.call(mt,Ie)&&Be.indexOf(Ie)<0&&(Ze[Ie]=mt[Ie]);if(null!=mt&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(Ie=Object.getOwnPropertySymbols(mt);Ke<Ie.length;Ke++)Be.indexOf(Ie[Ke])<0&&Object.prototype.propertyIsEnumerable.call(mt,Ie[Ke])&&(Ze[Ie[Ke]]=mt[Ie[Ke]])}return Ze}function st(mt,Be,Ze,Ie){return new(Ze||(Ze=Promise))(function(it,ot){function On(en){try{Vn(Ie.next(en))}catch(cn){ot(cn)}}function ei(en){try{Vn(Ie.throw(en))}catch(cn){ot(cn)}}function Vn(en){en.done?it(en.value):function Ke(it){return it instanceof Ze?it:new Ze(function(ot){ot(it)})}(en.value).then(On,ei)}Vn((Ie=Ie.apply(mt,Be||[])).next())})}function jt(mt){return this instanceof jt?(this.v=mt,this):new jt(mt)}function wt(mt,Be,Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Ie=Ze.apply(mt,Be||[]),it=[];return Ke=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),On("next"),On("throw"),On("return",function ot(tn){return function(bt){return Promise.resolve(bt).then(tn,cn)}}),Ke[Symbol.asyncIterator]=function(){return this},Ke;function On(tn,bt){Ie[tn]&&(Ke[tn]=function(xe){return new Promise(function(Ft,ie){it.push([tn,xe,Ft,ie])>1||ei(tn,xe)})},bt&&(Ke[tn]=bt(Ke[tn])))}function ei(tn,bt){try{!function Vn(tn){tn.value instanceof jt?Promise.resolve(tn.value.v).then(en,cn):hi(it[0][2],tn)}(Ie[tn](bt))}catch(xe){hi(it[0][3],xe)}}function en(tn){ei("next",tn)}function cn(tn){ei("throw",tn)}function hi(tn,bt){tn(bt),it.shift(),it.length&&ei(it[0][0],it[0][1])}}function Tn(mt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,Be=mt[Symbol.asyncIterator];return Be?Be.call(mt):(mt=function fn(mt){var Be="function"==typeof Symbol&&Symbol.iterator,Ze=Be&&mt[Be],Ie=0;if(Ze)return Ze.call(mt);if(mt&&"number"==typeof mt.length)return{next:function(){return mt&&Ie>=mt.length&&(mt=void 0),{value:mt&&mt[Ie++],done:!mt}}};throw new TypeError(Be?"Object is not iterable.":"Symbol.iterator is not defined.")}(mt),Ze={},Ie("next"),Ie("throw"),Ie("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze);function Ie(it){Ze[it]=mt[it]&&function(ot){return new Promise(function(On,ei){!function Ke(it,ot,On,ei){Promise.resolve(ei).then(function(Vn){it({value:Vn,done:On})},ot)}(On,ei,(ot=mt[it](ot)).done,ot.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},un=>{un(un.s=9431)}]);