import{A as F,B as X,C as B,D as W,E as z,F as $,G as V,H as _,I as q,f as b,g as T,k as j,z as A}from"./chunk-FXS3T34Y.js";import"./chunk-BXZAO7R6.js";import"./chunk-HX3ESI56.js";import{a as H,b as k}from"./chunk-CY36DEN4.js";import"./chunk-W3VHLAMX.js";import"./chunk-V6UXLLXS.js";import{A as y,Ab as R,Db as D,Mb as L,Wb as h,Xa as s,Ya as v,Yb as x,cc as I,e as c,ia as p,kb as N,lb as S,mb as M,ob as O,r as w,ra as E,rb as P,yb as l,zb as d}from"./chunk-BMO5MZ57.js";import"./chunk-2EBTC7QX.js";import"./chunk-SIAVTO45.js";var U="LOAD_MORE",g=class{get children(){return this.childrenChange.value}constructor(n,e=!1,a=null){this.item=n,this.hasChildren=e,this.loadMoreParentItem=a,this.childrenChange=new c([])}},u=class{constructor(n,e=1,a=!1,t=null){this.item=n,this.level=e,this.expandable2=a,this.loadMoreParentItem=t}},J=(()=>{class i{constructor(){this.batchNumber=5,this.dataChange=new c([]),this.nodeMap=new Map,this.rootLevelNodes=["TECH","XRP"],this.dataMap=new Map([["XRP",["Company Maintenance","Details","Reports"]],["TECH",["Company Maintenance","Employees","Reports"]],["Employees",["Info","Status","Work","Section","Salary","Projects","performance Leve"]]])}initialize(){let e=this.rootLevelNodes.map(a=>this._generateNode(a));this.dataChange.next(e)}loadMore(e,a=!1){if(!this.nodeMap.has(e)||!this.dataMap.has(e))return;let t=this.nodeMap.get(e),r=this.dataMap.get(e);if(a&&t.children.length>0)return;let o=t.children.length+this.batchNumber,m=r.slice(0,o).map(Q=>this._generateNode(Q));o<r.length&&m.push(new g(U,!1,e)),t.childrenChange.next(m),this.dataChange.next(this.dataChange.value)}_generateNode(e){if(this.nodeMap.has(e))return this.nodeMap.get(e);let a=new g(e,this.dataMap.has(e));return this.nodeMap.set(e,a),a}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var f=class{constructor(n,e=1,a=!1,t=!1){this.item=n,this.level=e,this.expandable=a,this.isLoading=t}},K=(()=>{class i{constructor(){this.dataMap=new Map([["TECH",["Company Maintenance","Employees","Human Resources"]],["XRP",["Company Maintenance","Employees","Human Resources"]],["Employees",["Reports"]]]),this.rootLevelNodes=["TECH","XRP"]}initialData(){return this.rootLevelNodes.map(e=>new f(e,0,!0))}getChildren(e){return this.dataMap.get(e)}isExpandable(e){return this.dataMap.has(e)}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),C=class{get data(){return this.dataChange.value}set data(n){this._treeControl.dataNodes=n,this.dataChange.next(n)}constructor(n,e){this._treeControl=n,this._database=e,this.dataChange=new c([])}connect(n){return this._treeControl.expansionModel.changed.subscribe(e=>{(e.added||e.removed)&&this.handleTreeControl(e)}),y(n.viewChange,this.dataChange).pipe(w(()=>this.data))}disconnect(n){}handleTreeControl(n){n.added&&n.added.forEach(e=>this.toggleNode(e,!0)),n.removed&&n.removed.slice().reverse().forEach(e=>this.toggleNode(e,!1))}toggleNode(n,e){let a=this._database.getChildren(n.item),t=this.data.indexOf(n);!a||t<0||(n.isLoading=!0,setTimeout(()=>{if(e){let r=a.map(o=>new f(o,n.level+1,this._database.isExpandable(o)));this.data.splice(t+1,0,...r)}else{let r=0;for(let o=t+1;o<this.data.length&&this.data[o].level>n.level;o++,r++)this.data.splice(t+1,r)}this.dataChange.next(this.data),n.isLoading=!1},1e3))}};function ee(i,n){if(i&1&&(l(0,"mat-tree-node",14),h(1),d()),i&2){let e=n.$implicit;s(),x(" ",e.name," ")}}function te(i,n){if(i&1&&(l(0,"mat-nested-tree-node")(1,"div",15)(2,"button",16)(3,"span"),h(4,"+"),d()(),h(5),d(),l(6,"div",17),D(7,18),d()()),i&2){let e=n.$implicit,a=L();s(2),S("aria-label","Toggle "+e.name),s(),P(" ",a.treeControl.isExpanded(e)?"tree-expando ":"tree-expando",""),s(2),x(" ",e.name," "),s(),O("example-tree-invisible",!a.treeControl.isExpanded(e))}}var ae="LOAD_MORE",ne=[{name:"TECH",children:[{name:"Company Maintenance"},{name:"Employees",children:[{name:"Reports"}]},{name:"Human Resources"}]},{name:"XRP",children:[{name:"Company Maintenance"},{name:"Employees",children:[{name:"Reports"}]},{name:"Human Resources"}]}],ie=[{name:"TECH",children:[{name:"Company Maintenance"},{name:"Employees"},{name:"Human Resources"}]},{name:"XRP",children:[{name:"Company Maintenance"},{name:"Employees",children:[{name:"Company Maintainance-1"}]},{name:"Human Resources"}]}],Ce=(()=>{class i{constructor(e,a){this._database=a,this.nodeMap=new Map,this.getLevel=t=>t.level,this.isExpandable=t=>t.expandable,this.hasChild1=(t,r)=>r.expandable,this.treeControl=new T(t=>t.children),this.dataSource=new _,this.treeControlStatic1=new T(t=>t.children),this.dataSourceStatic1=new _,this.hasChild=(t,r)=>!!r.children&&r.children.length>0,this.hasChildStatic1=(t,r)=>!!r.children&&r.children.length>0,this.getChildren=t=>t.childrenChange,this.transformer=(t,r)=>{let o=this.nodeMap.get(t.item);if(o)return o;let m=new u(t.item,r,t.hasChildren,t.loadMoreParentItem);return this.nodeMap.set(t.item,m),m},this.getLevel2=t=>t.level,this.isExpandable2=t=>t.expandable2,this.hasChild2=(t,r)=>r.expandable2,this.isLoadMore=(t,r,o)=>r.item===ae,this.dataSource.data=ne,this.dataSourceStatic1.data=ie,this.treeControl1=new b(this.getLevel,this.isExpandable),this.dataSource1=new C(this.treeControl1,e),this.dataSource1.data=e.initialData(),this.treeFlattener2=new $(this.transformer,this.getLevel2,this.isExpandable2,this.getChildren),this.treeControl2=new b(this.getLevel2,this.isExpandable2),this.dataSource2=new V(this.treeControl2,this.treeFlattener2),a.dataChange.subscribe(t=>{this.dataSource2.data=t}),a.initialize()}ngOnInit(){}loadMore(e){this._database.loadMore(e)}loadChildren(e){this._database.loadMore(e.item,!0)}static{this.\u0275fac=function(a){return new(a||i)(v(K),v(J))}}static{this.\u0275cmp=E({type:i,selectors:[["app-treeview"]],standalone:!0,features:[I],decls:17,vars:3,consts:[["title","Treeview","title1","Adminui","activeitem","Treeview"],[1,"main-container","container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card","mg-b-20"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"card-content"],[1,"col-lg-4"],["id","tree",1,"text-base","font-semibold","text-gray-600","dark:text-white/70"],[1,"example-tree",3,"dataSource","treeControl"],["matTreeNodeToggle","",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle",""],[1,"mat-tree-node"],["mat-icon-button","","matTreeNodeToggle",""],["role","group"],["matTreeNodeOutlet",""]],template:function(a,t){a&1&&(R(0,"app-page-header",0),l(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h3",6),h(8,"Treeview"),d()()(),l(9,"div",7)(10,"div",8)(11,"div",2)(12,"div",9)(13,"div",10)(14,"mat-tree",11),N(15,ee,2,1,"mat-tree-node",12)(16,te,8,7,"mat-nested-tree-node",13),d()()()()()()()()()()),a&2&&(s(14),M("dataSource",t.dataSource)("treeControl",t.treeControl),s(2),M("matTreeNodeDefWhen",t.hasChild))},dependencies:[k,H,q,j,X,F,z,W,A,B],styles:['.treeview-container{width:500px}@media (max-width: 360px){  .treeview-container{width:100%}}  .form-inline.row-item .form-check .form-check-input{display:none}  .mat-h6,   .mat-typography h6{margin:0!important}.example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.example-tree[_ngcontent-%COMP%]   .mat-nested-tree-node[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%]{padding-left:40px}.example-tree[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%] > .mat-tree-node[_ngcontent-%COMP%]{padding-left:0}.mat-tree[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--primary-bg-color);background:transparent;display:flex;align-items:center;justify-content:center;margin:10px 10px 10px 0;border:none}.mat-tree-node[_ngcontent-%COMP%], .mat-nested-tree-node[_ngcontent-%COMP%]{min-height:26px!important}.example-tree-progress-bar[_ngcontent-%COMP%]{margin-left:30px}  .dark .mat-tree{background:transparent!important}  .dark .mat-tree-node,   .dark .mat-nested-tree-node{color:#fff!important}  .transparent-mode .mat-tree{background:transparent!important}  .transparent-mode .mat-tree-node,   .transparent-mode .mat-nested-tree-node{color:#fff!important}  .rtl div[role=group]{padding-left:initial!important;padding-right:40px}  .rtl div[role=group]>.mat-tree-node{padding-right:40px;padding-left:initial!important}  .rtl .mat-tree-node[aria-level="2"]{padding-right:40px;padding-left:initial!important}  .rtl .mat-tree-node[aria-level="3"]{padding-right:80px;padding-left:initial!important}button[disabled][_ngcontent-%COMP%]{display:none!important}']})}}return i})();export{Ce as TreeviewComponent};
