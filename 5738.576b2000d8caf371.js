"use strict";(self.webpackChunkvexel=self.webpackChunkvexel||[]).push([[5738],{5738:(R,g,n)=>{n.r(g),n.d(g,{LoginComponent:()=>M});var a=n(9417),m=n(7787),h=n(1152),p=n(9253),f=n(4203),v=n(8607),j=n(5312),t=n(4438);let b=(()=>{class i{constructor(){p.bf.initializeApp(j.c.firebase)}getFirestore(){return f.cM}getDatabase(){return v.wd}getAuth(){return h.X8}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var u=n(5794),l=n(7771),w=n(177),k=n(345);let E=(()=>{class i{constructor(e,r,s){this.afu=e,this.router=r,this.ngZone=s,this.showLoader=!1,this.afu.authState.subscribe(o=>{this.authState=o})}get isUserAnonymousLoggedIn(){return null!==this.authState&&this.authState.isAnonymous}get currentUserId(){return null!==this.authState?this.authState.uid:""}get currentUserName(){return this.authState.email}get currentUser(){return null!==this.authState?this.authState:null}get isUserEmailLoggedIn(){return null!==this.authState&&!this.isUserAnonymousLoggedIn}registerWithEmail(e,r){return this.afu.createUserWithEmailAndPassword(e,r).then(s=>{this.authState=s}).catch(s=>{throw console.log(s),s})}loginWithEmail(e,r){return this.afu.signInWithEmailAndPassword(e,r).then(s=>{this.authState=s}).catch(s=>{throw console.log(s),s})}singout(){this.afu.signOut(),this.router.navigate(["/login"])}SignUp(e,r){return this.afAuth.createUserWithEmailAndPassword(e,r).then(s=>{this.SendVerificationMail(),this.SetUserData(s.user)}).catch(s=>{window.alert(s.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(e=>e.sendEmailVerification()).then(()=>{this.router.navigate(["/dashboard"])})}SetUserData(e){const r=this.afs.doc(`users/${e.uid}`),s={email:e.email,displayName:e.displayName,uid:e.uid,photoURL:e.photoURL||"src/favicon.ico",emailVerified:e.emailVerified};return r.delete().then(function(){}).catch(function(o){}),r.set(s,{merge:!0})}SignIn(e,r){return this.afAuth.signInWithEmailAndPassword(e,r).then(s=>{!0!==s.user.emailVerified?(this.SetUserData(s.user),this.SendVerificationMail(),this.showLoader=!0):(this.showLoader=!1,this.ngZone.run(()=>{this.router.navigate(["/auth/login"])}))}).catch(s=>{throw s})}ForgotPassword(e){return this.afAuth.sendPasswordResetEmail(e).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(r=>{window.alert(r)})}static{this.\u0275fac=function(r){return new(r||i)(t.KVO(h.DS),t.KVO(m.Ix),t.KVO(t.SKi))}}static{this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function x(i,c){if(1&i&&(t.j41(0,"p",20),t.EFF(1),t.k0s()),2&i){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.errorMessage,"")}}function y(i,c){if(1&i&&(t.j41(0,"p",20),t.EFF(1),t.k0s()),2&i){const e=t.XpG(2);t.R7$(),t.SpI(" ",e._error.message," ")}}function S(i,c){if(1&i){const e=t.RV6();t.j41(0,"form",19),t.bIt("ngSubmit",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.login())}),t.DNE(1,x,2,1,"p",20)(2,y,2,1,"p",20),t.j41(3,"div",21)(4,"h4",22),t.EFF(5,"Sign In"),t.k0s(),t.j41(6,"p"),t.EFF(7,"Sign in to your account to continue."),t.k0s()(),t.j41(8,"div",23)(9,"div",24)(10,"div",25)(11,"label",26),t.EFF(12,"Email"),t.j41(13,"span",27),t.EFF(14,"*"),t.k0s()(),t.nrm(15,"input",28),t.k0s()(),t.j41(16,"div",24)(17,"div",25)(18,"label",26),t.EFF(19,"Password"),t.j41(20,"span",27),t.EFF(21,"*"),t.k0s()(),t.j41(22,"div"),t.nrm(23,"input",29),t.k0s()()(),t.j41(24,"div",30)(25,"div",31)(26,"div",32),t.nrm(27,"input",33),t.j41(28,"label",34),t.EFF(29," Remember me "),t.k0s()(),t.j41(30,"div",35)(31,"a",36),t.EFF(32,"Forgot Password?"),t.k0s()()(),t.j41(33,"div",37)(34,"button",38),t.EFF(35," Login"),t.k0s()(),t.j41(36,"div",39)(37,"p",40),t.EFF(38,"Don't have an account yet? "),t.j41(39,"a",41),t.EFF(40,"Sign Up"),t.k0s()()()()(),t.j41(41,"p",42),t.EFF(42,"Signin with"),t.k0s(),t.j41(43,"div",43)(44,"div",44)(45,"button",45)(46,"span",46),t.nrm(47,"i",47),t.k0s()(),t.j41(48,"button",45)(49,"span",46),t.nrm(50,"i",48),t.k0s()(),t.j41(51,"button",45)(52,"span",46),t.nrm(53,"i",49),t.k0s()(),t.j41(54,"button",45)(55,"span",46),t.nrm(56,"i",50),t.k0s()()()()()}if(2&i){const e=t.XpG();t.Y8G("formGroup",e.loginForm),t.R7$(),t.vxM(1,e.errorMessage.length>0?1:-1),t.R7$(),t.vxM(2,e._error.message.length>0?2:-1),t.R7$(13),t.Y8G("ngModel",e.email),t.R7$(8),t.Y8G("ngModel",e.password),t.R7$(11),t.ZvI("btn btn-primary",e.disabled,""),t.AVh("loader--text",e.authservice.showLoader),t.Y8G("disabled",!e.loginForm.valid||e.authservice.showLoader)}}function C(i,c){if(1&i){const e=t.RV6();t.j41(0,"form",19),t.bIt("ngSubmit",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.Submit())}),t.j41(1,"div",21)(2,"h4",22),t.EFF(3," Sign In"),t.k0s(),t.j41(4,"p"),t.EFF(5,"Sign in to your account to continue."),t.k0s()(),t.j41(6,"div",23)(7,"div",24)(8,"div",25)(9,"label",26),t.EFF(10,"Email"),t.j41(11,"span",27),t.EFF(12,"*"),t.k0s()(),t.j41(13,"input",51),t.mxI("ngModelChange",function(s){t.eBV(e);const o=t.XpG();return t.DH7(o.email,s)||(o.email=s),t.Njj(s)}),t.k0s()()(),t.j41(14,"div",24)(15,"div",25)(16,"label",26),t.EFF(17,"Password"),t.j41(18,"span",27),t.EFF(19,"*"),t.k0s()(),t.j41(20,"div")(21,"input",52),t.mxI("ngModelChange",function(s){t.eBV(e);const o=t.XpG();return t.DH7(o.password,s)||(o.password=s),t.Njj(s)}),t.k0s()()()(),t.j41(22,"div",30)(23,"div",31)(24,"div",32),t.nrm(25,"input",33),t.j41(26,"label",34),t.EFF(27," Remember me "),t.k0s()(),t.j41(28,"div",35)(29,"a",36),t.EFF(30,"Forgot Password?"),t.k0s()()(),t.j41(31,"div",37)(32,"button",38),t.EFF(33," Login"),t.k0s()(),t.j41(34,"div",39)(35,"p",40),t.EFF(36,"Don't have an account yet? "),t.j41(37,"a",41),t.EFF(38,"Sign Up"),t.k0s()()()()(),t.j41(39,"p",42),t.EFF(40,"Signin with"),t.k0s(),t.j41(41,"div",43)(42,"div",44)(43,"button",45)(44,"span",46),t.nrm(45,"i",47),t.k0s()(),t.j41(46,"button",45)(47,"span",46),t.nrm(48,"i",48),t.k0s()(),t.j41(49,"button",45)(50,"span",46),t.nrm(51,"i",49),t.k0s()(),t.j41(52,"button",45)(53,"span",46),t.nrm(54,"i",50),t.k0s()()()()()}if(2&i){const e=t.XpG();t.Y8G("formGroup",e.loginForm),t.R7$(13),t.R50("ngModel",e.email),t.R7$(8),t.R50("ngModel",e.password),t.R7$(11),t.ZvI("btn btn-primary",e.disabled,""),t.AVh("loader--text",e.authservice.showLoader),t.Y8G("disabled",!e.loginForm.valid||e.authservice.showLoader)}}let M=(()=>{class i{constructor(e,r,s,o,F,d,I,L,U){this.document=e,this.elementRef=r,this.sanitizer=s,this.authservice=o,this.router=F,this.formBuilder=d,this.renderer=I,this.firebaseService=L,this.toastr=U,this.disabled="",this.active="Angular",this.firestoreModule=this.firebaseService.getFirestore(),this.databaseModule=this.firebaseService.getDatabase(),this.authModule=this.firebaseService.getAuth(),this.email="spruko@admin.com",this.password="sprukoadmin",this.errorMessage="",this._error={name:"",message:""},this.error="",this.showPassword=!1,this.toggleClass="off-line",this.renderer.selectRootElement("body",!0)}ngOnInit(){this.renderer.addClass(this.document.body,"login-img"),this.renderer.addClass(this.document.body,"ltr"),this.loginForm=this.formBuilder.group({username:["spruko@admin.com",[a.k0.required,a.k0.email]],password:["sprukoadmin",a.k0.required]})}clearErrorMessage(){this.errorMessage="",this._error={name:"",message:""}}login(){console.log(this.loginForm),this.clearErrorMessage(),this.validateForm(this.email,this.password)?this.authservice.loginWithEmail(this.email,this.password).then(()=>{this.router.navigate(["/dashboard"]),console.clear(),this.toastr.success("log in successful","vexel",{timeOut:3e3,positionClass:"toast-top-right"})}).catch(e=>{this._error=e,this.router.navigate(["/"])}):this.toastr.error("Invalid details","vexel",{timeOut:3e3,positionClass:"toast-top-right"})}validateForm(e,r){return 0===e.length?(this.errorMessage="please enter email id",!1):0===r.length?(this.errorMessage="please enter password",!1):r.length<6?(this.errorMessage="password should be at least 6 char",!1):(this.errorMessage="",!0)}get form(){return this.loginForm.controls}Submit(){console.log(this.loginForm),"spruko@admin.com"===this.loginForm.controls.username.value&&"sprukoadmin"===this.loginForm.controls.password.value?(this.router.navigate(["/dashboard"]),this.toastr.success("log in successful","vexel",{timeOut:3e3,positionClass:"toast-top-right"})):this.toastr.error("Invalid details","vexel",{timeOut:3e3,positionClass:"toast-top-right"})}ngOnDestroy(){const e=this.renderer.selectRootElement("body",!0);this.renderer.removeAttribute(e,"class")}toggleVisibility(){this.showPassword=!this.showPassword,this.toggleClass="off-line"===this.toggleClass?"line":"off-line"}static{this.\u0275fac=function(r){return new(r||i)(t.rXU(w.qQ),t.rXU(t.aKT),t.rXU(k.up),t.rXU(E),t.rXU(m.Ix),t.rXU(a.ok),t.rXU(t.sFG),t.rXU(b),t.rXU(u.tw))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-login"]],standalone:!0,features:[t.Jv_([b,{provide:u.tw,useClass:u.tw}]),t.aNF],decls:21,vars:2,consts:[["nav","ngbNav"],[1,"page"],[1,"container-lg","my-auto"],[1,""],[1,"text-center","my-3"],["routerLink","/dashboard"],["src","./assets/images/brand/desktop-dark.png","alt","",1,"header-brand-img"],["ngbNav","",1,"nav-tabs","rounded-2","justify-content-center",3,"activeIdChange","activeId"],["ngbNavItem","Firebase"],["ngbNavLink","",1,"firebase-img"],["src","./assets/images/firebase.svg","alt","",1,"firebase"],["ngbNavContent",""],["ngbNavItem","Angular"],["src","./assets/images/favicon.svg","alt","",1,"firebase"],[1,"row","justify-content-center","mt-4","mx-0"],[1,"col-xl-4","col-lg-6"],[1,"card","shadow-none"],[1,"card-body","p-sm-6"],[1,"ml-4",3,"ngbNavOutlet"],[3,"ngSubmit","formGroup"],[1,"text-danger"],[1,"text-center","mb-4"],[1,"mb-1"],[1,"row"],[1,"col-sm-12"],[1,"mb-3"],[1,"mb-2","fw-500"],[1,"text-danger","ms-1"],["type","email","placeholder","Enter your Email","autocomplete","","formControlName","username","required","",1,"form-control","ms-0",3,"ngModel"],["type","password","id","input-password","autocomplete","","placeholder","Password","formControlName","password","required","",1,"form-control",3,"ngModel"],[1,"col-xl-12"],[1,"d-flex","mb-3"],[1,"form-check","d-flex","align-items-center"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label","tx-15"],[1,"ms-auto"],["routerLink","/authentication/forgot-password",1,"tx-primary","ms-1","tx-13"],[1,"d-grid","mb-3"],["type","submit","autofocus","",3,"disabled"],[1,"text-center"],[1,"mb-0","tx-14"],["routerLink","/authentication/register",1,"tx-primary","ms-1","text-decoration-underline"],[1,"text-center","mt-3","mb-2"],[1,"d-flex","justify-content-center"],[1,"btn-list"],["type","button",1,"btn","btn-icon","bg-primary-transparent","rounded-pill","border-0"],[1,"btn-inner--icon"],[1,"fa","fa-facebook-f"],[1,"fa","fa-google"],[1,"fa","fa-twitter"],[1,"fa","fa-linkedin"],["type","email","autocomplete","","placeholder","Enter your Email","formControlName","username","required","",1,"form-control","ms-0",3,"ngModelChange","ngModel"],["type","password","autocomplete","","id","input-password","placeholder","Password","formControlName","password","required","",1,"form-control",3,"ngModelChange","ngModel"]],template:function(r,s){if(1&r){const o=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"a",5),t.nrm(5,"img",6),t.k0s()()(),t.j41(6,"ul",7,0),t.mxI("activeIdChange",function(d){return t.eBV(o),t.DH7(s.active,d)||(s.active=d),t.Njj(d)}),t.j41(8,"li",8)(9,"a",9),t.nrm(10,"img",10),t.k0s(),t.DNE(11,S,57,11,"ng-template",11),t.k0s(),t.j41(12,"li",12)(13,"a",9),t.nrm(14,"img",13),t.k0s(),t.DNE(15,C,55,9,"ng-template",11),t.k0s()(),t.j41(16,"div",14)(17,"div",15)(18,"div",16)(19,"div",17),t.nrm(20,"div",18),t.k0s()()()()()()}if(2&r){const o=t.sdS(7);t.R7$(6),t.R50("activeId",s.active),t.R7$(14),t.Y8G("ngbNavOutlet",o)}},dependencies:[m.iI,m.Wk,l.UN,l.Um,l.X9,l.sy,l.Gx,l.Ri,l.WA,l.m_,h.X8,a.YN,a.qT,a.me,a.BC,a.cb,a.YS,a.X1,a.j4,a.JD,p.bf,v.wd,f.cM,u._B],styles:[".firebase{width:30px;height:30px}  .nav-tabs{border-color:none!important}"]})}}return i})()}}]);