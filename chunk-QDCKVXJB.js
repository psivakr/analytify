import{a as M,b as he,c as I,d as F,e as N,f as pe}from"./chunk-TEFPEM5X.js";import"./chunk-PFTXRQBJ.js";import{a as f,b as ge}from"./chunk-4BKQ5RPC.js";import"./chunk-HX3ESI56.js";import{A as ne,R as oe,S as ae,T as se,U as le,V as me,X as de,Y as ue,d as K,f as C,h as Q,i as X,ja as ce,o as Y,s as $,t as ee,w as te,y as ie,z as re}from"./chunk-V6UXLLXS.js";import{$b as _,Aa as g,Ab as s,Ba as h,Eb as x,Gc as z,Ja as W,Kb as j,Mb as u,Vb as q,Wb as a,Xa as m,Ya as d,Yb as D,_b as w,ac as y,bc as B,bd as Z,cb as T,cc as G,eb as O,fd as E,gd as H,ia as v,jd as J,kb as S,la as b,mb as c,ob as k,ra as U,rb as V,tb as P,yb as t,zb as r}from"./chunk-BMO5MZ57.js";import"./chunk-2EBTC7QX.js";import"./chunk-SIAVTO45.js";var L=(()=>{class o{constructor(){M.initializeApp(pe.firebase)}getFirestore(){return F}getDatabase(){return N}getAuth(){return I}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275prov=v({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var ve=(()=>{class o{constructor(e,n,i){this.afu=e,this.router=n,this.ngZone=i,this.showLoader=!1,this.afu.authState.subscribe(l=>{this.authState=l})}get isUserAnonymousLoggedIn(){return this.authState!==null?this.authState.isAnonymous:!1}get currentUserId(){return this.authState!==null?this.authState.uid:""}get currentUserName(){return this.authState.email}get currentUser(){return this.authState!==null?this.authState:null}get isUserEmailLoggedIn(){return this.authState!==null&&!this.isUserAnonymousLoggedIn}registerWithEmail(e,n){return this.afu.createUserWithEmailAndPassword(e,n).then(i=>{this.authState=i}).catch(i=>{throw console.log(i),i})}loginWithEmail(e,n){return this.afu.signInWithEmailAndPassword(e,n).then(i=>{this.authState=i}).catch(i=>{throw console.log(i),i})}singout(){this.afu.signOut(),this.router.navigate(["/login"])}SignUp(e,n){return this.afAuth.createUserWithEmailAndPassword(e,n).then(i=>{this.SendVerificationMail(),this.SetUserData(i.user)}).catch(i=>{window.alert(i.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(e=>e.sendEmailVerification()).then(()=>{this.router.navigate(["/dashboard"])})}SetUserData(e){let n=this.afs.doc(`users/${e.uid}`),i={email:e.email,displayName:e.displayName,uid:e.uid,photoURL:e.photoURL||"src/favicon.ico",emailVerified:e.emailVerified};return n.delete().then(function(){}).catch(function(l){}),n.set(i,{merge:!0})}SignIn(e,n){return this.afAuth.signInWithEmailAndPassword(e,n).then(i=>{i.user.emailVerified!==!0?(this.SetUserData(i.user),this.SendVerificationMail(),this.showLoader=!0):(this.showLoader=!1,this.ngZone.run(()=>{this.router.navigate(["/auth/login"])}))}).catch(i=>{throw i})}ForgotPassword(e){return this.afAuth.sendPasswordResetEmail(e).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(n=>{window.alert(n)})}static{this.\u0275fac=function(n){return new(n||o)(b(he),b(E),b(O))}}static{this.\u0275prov=v({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function Ee(o,A){if(o&1&&(t(0,"p",20),a(1),r()),o&2){let e=u(2);m(),D(" ",e.errorMessage,"")}}function Ce(o,A){if(o&1&&(t(0,"p",20),a(1),r()),o&2){let e=u(2);m(),D(" ",e._error.message," ")}}function Me(o,A){if(o&1){let e=x();t(0,"form",19),j("ngSubmit",function(){g(e);let i=u();return h(i.login())}),S(1,Ee,2,1,"p",20)(2,Ce,2,1,"p",20),t(3,"div",21)(4,"h4",22),a(5,"Sign In"),r(),t(6,"p"),a(7,"Sign in to your account to continue."),r()(),t(8,"div",23)(9,"div",24)(10,"div",25)(11,"label",26),a(12,"Email"),t(13,"span",27),a(14,"*"),r()(),s(15,"input",28),r()(),t(16,"div",24)(17,"div",25)(18,"label",26),a(19,"Password"),t(20,"span",27),a(21,"*"),r()(),t(22,"div"),s(23,"input",29),r()()(),t(24,"div",30)(25,"div",31)(26,"div",32),s(27,"input",33),t(28,"label",34),a(29," Remember me "),r()(),t(30,"div",35)(31,"a",36),a(32,"Forgot Password?"),r()()(),t(33,"div",37)(34,"button",38),a(35," Login"),r()(),t(36,"div",39)(37,"p",40),a(38,"Don't have an account yet? "),t(39,"a",41),a(40,"Sign Up"),r()()()()(),t(41,"p",42),a(42,"Signin with"),r(),t(43,"div",43)(44,"div",44)(45,"button",45)(46,"span",46),s(47,"i",47),r()(),t(48,"button",45)(49,"span",46),s(50,"i",48),r()(),t(51,"button",45)(52,"span",46),s(53,"i",49),r()(),t(54,"button",45)(55,"span",46),s(56,"i",50),r()()()()()}if(o&2){let e=u();c("formGroup",e.loginForm),m(),P(1,e.errorMessage.length>0?1:-1),m(),P(2,e._error.message.length>0?2:-1),m(13),c("ngModel",e.email),m(8),c("ngModel",e.password),m(11),V("btn btn-primary",e.disabled,""),k("loader--text",e.authservice.showLoader),c("disabled",!e.loginForm.valid||e.authservice.showLoader)}}function Ie(o,A){if(o&1){let e=x();t(0,"form",19),j("ngSubmit",function(){g(e);let i=u();return h(i.Submit())}),t(1,"div",21)(2,"h4",22),a(3," Sign In"),r(),t(4,"p"),a(5,"Sign in to your account to continue."),r()(),t(6,"div",23)(7,"div",24)(8,"div",25)(9,"label",26),a(10,"Email"),t(11,"span",27),a(12,"*"),r()(),t(13,"input",51),y("ngModelChange",function(i){g(e);let l=u();return _(l.email,i)||(l.email=i),h(i)}),r()()(),t(14,"div",24)(15,"div",25)(16,"label",26),a(17,"Password"),t(18,"span",27),a(19,"*"),r()(),t(20,"div")(21,"input",52),y("ngModelChange",function(i){g(e);let l=u();return _(l.password,i)||(l.password=i),h(i)}),r()()()(),t(22,"div",30)(23,"div",31)(24,"div",32),s(25,"input",33),t(26,"label",34),a(27," Remember me "),r()(),t(28,"div",35)(29,"a",36),a(30,"Forgot Password?"),r()()(),t(31,"div",37)(32,"button",38),a(33," Login"),r()(),t(34,"div",39)(35,"p",40),a(36,"Don't have an account yet? "),t(37,"a",41),a(38,"Sign Up"),r()()()()(),t(39,"p",42),a(40,"Signin with"),r(),t(41,"div",43)(42,"div",44)(43,"button",45)(44,"span",46),s(45,"i",47),r()(),t(46,"button",45)(47,"span",46),s(48,"i",48),r()(),t(49,"button",45)(50,"span",46),s(51,"i",49),r()(),t(52,"button",45)(53,"span",46),s(54,"i",50),r()()()()()}if(o&2){let e=u();c("formGroup",e.loginForm),m(13),w("ngModel",e.email),m(8),w("ngModel",e.password),m(11),V("btn btn-primary",e.disabled,""),k("loader--text",e.authservice.showLoader),c("disabled",!e.loginForm.valid||e.authservice.showLoader)}}var Qe=(()=>{class o{constructor(e,n,i,l,R,p,be,Se,xe){this.document=e,this.elementRef=n,this.sanitizer=i,this.authservice=l,this.router=R,this.formBuilder=p,this.renderer=be,this.firebaseService=Se,this.toastr=xe,this.disabled="",this.active="Angular",this.firestoreModule=this.firebaseService.getFirestore(),this.databaseModule=this.firebaseService.getDatabase(),this.authModule=this.firebaseService.getAuth(),this.email="spruko@admin.com",this.password="sprukoadmin",this.errorMessage="",this._error={name:"",message:""},this.error="",this.showPassword=!1,this.toggleClass="off-line";let Fe=this.renderer.selectRootElement("body",!0)}ngOnInit(){this.renderer.addClass(this.document.body,"login-img"),this.renderer.addClass(this.document.body,"ltr"),this.loginForm=this.formBuilder.group({username:["spruko@admin.com",[C.required,C.email]],password:["sprukoadmin",C.required]})}clearErrorMessage(){this.errorMessage="",this._error={name:"",message:""}}login(){console.log(this.loginForm),this.clearErrorMessage(),this.validateForm(this.email,this.password)?this.authservice.loginWithEmail(this.email,this.password).then(()=>{this.router.navigate(["/dashboard"]),console.clear(),this.toastr.success("log in successful","vexel",{timeOut:3e3,positionClass:"toast-top-right"})}).catch(e=>{this._error=e,this.router.navigate(["/"])}):this.toastr.error("Invalid details","vexel",{timeOut:3e3,positionClass:"toast-top-right"})}validateForm(e,n){return e.length===0?(this.errorMessage="please enter email id",!1):n.length===0?(this.errorMessage="please enter password",!1):n.length<6?(this.errorMessage="password should be at least 6 char",!1):(this.errorMessage="",!0)}get form(){return this.loginForm.controls}Submit(){console.log(this.loginForm),this.loginForm.controls.username.value==="spruko@admin.com"&&this.loginForm.controls.password.value==="sprukoadmin"?(this.router.navigate(["/dashboard"]),this.toastr.success("log in successful","vexel",{timeOut:3e3,positionClass:"toast-top-right"})):this.toastr.error("Invalid details","vexel",{timeOut:3e3,positionClass:"toast-top-right"})}ngOnDestroy(){let e=this.renderer.selectRootElement("body",!0);this.renderer.removeAttribute(e,"class")}toggleVisibility(){this.showPassword=!this.showPassword,this.toggleClass==="off-line"?this.toggleClass="line":this.toggleClass="off-line"}static{this.\u0275fac=function(n){return new(n||o)(d(z),d(W),d(Z),d(ve),d(E),d(ie),d(T),d(L),d(f))}}static{this.\u0275cmp=U({type:o,selectors:[["app-login"]],standalone:!0,features:[B([L,{provide:f,useClass:f}]),G],decls:21,vars:2,consts:[["nav","ngbNav"],[1,"page"],[1,"container-lg","my-auto"],[1,""],[1,"text-center","my-3"],["routerLink","/dashboard"],["src","./assets/images/brand/desktop-dark.png","alt","",1,"header-brand-img"],["ngbNav","",1,"nav-tabs","rounded-2","justify-content-center",3,"activeIdChange","activeId"],["ngbNavItem","Firebase"],["ngbNavLink","",1,"firebase-img"],["src","./assets/images/firebase.svg","alt","",1,"firebase"],["ngbNavContent",""],["ngbNavItem","Angular"],["src","./assets/images/favicon.svg","alt","",1,"firebase"],[1,"row","justify-content-center","mt-4","mx-0"],[1,"col-xl-4","col-lg-6"],[1,"card","shadow-none"],[1,"card-body","p-sm-6"],[1,"ml-4",3,"ngbNavOutlet"],[3,"ngSubmit","formGroup"],[1,"text-danger"],[1,"text-center","mb-4"],[1,"mb-1"],[1,"row"],[1,"col-sm-12"],[1,"mb-3"],[1,"mb-2","fw-500"],[1,"text-danger","ms-1"],["type","email","placeholder","Enter your Email","autocomplete","","formControlName","username","required","",1,"form-control","ms-0",3,"ngModel"],["type","password","id","input-password","autocomplete","","placeholder","Password","formControlName","password","required","",1,"form-control",3,"ngModel"],[1,"col-xl-12"],[1,"d-flex","mb-3"],[1,"form-check","d-flex","align-items-center"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label","tx-15"],[1,"ms-auto"],["routerLink","/authentication/forgot-password",1,"tx-primary","ms-1","tx-13"],[1,"d-grid","mb-3"],["type","submit","autofocus","",3,"disabled"],[1,"text-center"],[1,"mb-0","tx-14"],["routerLink","/authentication/register",1,"tx-primary","ms-1","text-decoration-underline"],[1,"text-center","mt-3","mb-2"],[1,"d-flex","justify-content-center"],[1,"btn-list"],["type","button",1,"btn","btn-icon","bg-primary-transparent","rounded-pill","border-0"],[1,"btn-inner--icon"],[1,"fa","fa-facebook-f"],[1,"fa","fa-google"],[1,"fa","fa-twitter"],[1,"fa","fa-linkedin"],["type","email","autocomplete","","placeholder","Enter your Email","formControlName","username","required","",1,"form-control","ms-0",3,"ngModelChange","ngModel"],["type","password","autocomplete","","id","input-password","placeholder","Password","formControlName","password","required","",1,"form-control",3,"ngModelChange","ngModel"]],template:function(n,i){if(n&1){let l=x();t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"a",5),s(5,"img",6),r()()(),t(6,"ul",7,0),y("activeIdChange",function(p){return g(l),_(i.active,p)||(i.active=p),h(p)}),t(8,"li",8)(9,"a",9),s(10,"img",10),r(),S(11,Me,57,11,"ng-template",11),r(),t(12,"li",12)(13,"a",9),s(14,"img",13),r(),S(15,Ie,55,9,"ng-template",11),r()(),t(16,"div",14)(17,"div",15)(18,"div",16)(19,"div",17),s(20,"div",18),r()()()()()()}if(n&2){let l=q(7);m(6),w("activeId",i.active),m(14),c("ngbNavOutlet",l)}},dependencies:[J,H,ce,oe,le,se,ae,de,me,ue,I,re,Y,K,Q,X,te,ne,$,ee,M,N,F,ge],styles:[".firebase{width:30px;height:30px}  .nav-tabs{border-color:none!important}"]})}}return o})();export{Qe as LoginComponent};
